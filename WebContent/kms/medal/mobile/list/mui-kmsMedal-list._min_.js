require({cache:{"kms/medal/mobile/list/item/kmsMedalListItem":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dijit/_WidgetBase","mui/util","mui/dialog/Tip","dojo/html","dojo/text!./medal.jsp","dojo/query","dojo/_base/lang","dojo/dom","dojo/_base/array","dojo/request","dojo/topic","dijit/registry","dojo/window","mui/i18n/_i18n!kms/medal/mobile/list/mui-kmsMedal-list","dojox/mobile/_ItemBase"],function(s,g,l,o,r,k,a,n,m,j,f,t,q,h,c,p,i,d,e,b){return s("kms.medal.list.item",[b],{fdName:"",fdId:"",detailUrl:"/kms/medal/kms_medal_main/kmsMedalMain.do?method=getPicPath&fdKey=bigMedalPic&fdId=!{fdId}",fdIntroduction:"",cateName:"",docCreateTime:"",docHonoursTime:"",isValide:"",buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"mui_medal_list_content");this.buildContentNode()},buildContentNode:function(){var x=g.create("div",{className:"muiMedalImg"},this.domNode);if(this.isValide.indexOf("false")>-1){l.add(x,"status_abate")}this.detailUrl=a.urlResolver(a.formatUrl(this.detailUrl),{fdId:this.fdId});var u=g.create("span",{className:"muiMedalImgItem",style:{background:"url("+this.detailUrl+") center center no-repeat",backgroundSize:"cover",height:"80px",width:"80px",display:"inline-block"}},x);var v=g.create("div",{className:"muiPortalInfoBox"},this.domNode);var w=g.create("p",{className:"muiPortalSubjectName",href:"javascript:;",innerHTML:(this.isValide.indexOf("false")>-1?"<em class='status_abate_span'>"+e["kmsMedalMobile.medal.disable"]+"</em>":"")+this.fdName},v);this.connect(this.domNode,"onclick","medalClick")},medalClick:function(u){this.defer(this.showMask,350)},bindHideMask:function(){this.hideMaskNode.on("click",t.hitch(this,this.hideMask))},buildMask:function(){if(this.container){this._showMask();return}var v=this;var u=new m._ContentSetter({parseContent:true,onBegin:function(){this.content=this.content.replace("!{fdId}",v.fdId).replace("!{fdName}",v.fdName).replace("!{fdIntroduction}",v.fdIntroduction).replace("!{cateName}",v.cateName).replace("!{docCreateTime}",v.docCreateTime.substring(0,10)).replace("!{docHonoursTime}",v.docHonoursTime.substring(0,10)).replace("!{isValide}",v.isValide.indexOf("false")>-1?"status_abate":"").replace("!{imgUrl}",v.detailUrl).replace("!{valideName}",v.isValide.indexOf("false")>-1?"<em class='status_abate_span'>"+e["kmsMedalMobile.medal.disable"]+"</em>":"");this.inherited("onBegin",arguments)}});this.container=g.create("div",{className:"muiMedalMask"},document.body,"last");u.node=this.container;u.set(j);u.tearDown();var v=this;setTimeout(function(){v.ulContainer=f(".mui_medal_detail_pop",v.container);v._showMask()},1);this.hideMaskNode=f(".mui_medal_close",this.container);this.connect(this.container,"onclick",this.hideNode);this.bindHideMask()},hideNode:function(u){if("muiMedalMask"==u.target.className){this.hideMask()}},_showMask:function(){o.set(this.container,{display:"block",opacity:1});this.defer(function(){o.set(this.domNode,{});this.ulContainer.style({"-webkit-transform":"translate3d(0px, 0px, 0px)",opacity:1})},200)},_hideMask:function(u){this.ulContainer.style({"-webkit-transform":" perspective(1200px) rotateY(180deg) scale(0.01)",opacity:0});this.defer(function(){o.set(this.container,{opacity:0});o.set(this.domNode,{display:"block"});if(!u){p.publish(this.SELECTED_EVENT,{value:this.value});i.byId("eval_star_opt").set("value",this.value)}},500);this.defer(function(){o.set(this.container,{display:"none"})},700)},destroyMask:function(u){if(!this.ulContainer){return}this._hideMask(u)},showMask:function(){if(this.lock==true){return}this.set("lock",true);this.defer(function(){this.buildMask()},350)},hideMask:function(u){this.defer(function(){this.destroyMask(u);this.set("lock",false)},350)},_setLabelAttr:function(u){if(u){this._set("label",u)}}})})},"kms/medal/mobile/list/kmsMedalListMixin":function(){define(["dojo/_base/declare","./item/kmsMedalListItem","dojo/_base/array"],function(a,b,c){return a("kms.medal.list.mixin",null,{lazy:false,itemRenderer:b,url:"/kms/medal/kms_medal_main/kmsMedalMain.do?method=medals&personId=!{personId}",detailUrl:"",resolveItems:function(d){return d}})})},"kms/medal/mobile/list/kmsMedalListTitle":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dijit/_Container"],function(c,b,d,a){return c("kms.medal.list.title",[d,a],{title:null,fdMedalNum:null,zone_TA_text:null,buildRendering:function(){this.inherited(arguments);if(!this.title){return}var e=Number(this.fdMedalNum);if(e>0){var f=b.create("div",{className:"mui_medal_list_wrap"},this.domNode,"first");b.create("div",{className:"mui_medal_banner",innerHTML:('<div class="mui_medal_list_title"><p class="mui_medal_tips">'+this.zone_TA_text+"已获得<em>"+this.fdMedalNum+'</em>枚勋章</p><p class="mui_mdeal_emotion_tips">不错呦!</p></div>')},f)}else{var f=b.create("div",{className:"mui_medal_list_wrap mui_medal_list_default"},this.domNode,"first");b.create("div",{className:"mui_medal_banner mui_medal_banner_default",innerHTML:('<div class="mui_medal_list_title mui_medal_banner_default"><p class="mui_medal_tips">'+this.zone_TA_text+'还没有勋章哦</p><p class="mui_mdeal_emotion_tips">加油!</p></div>')},f)}this.subscribe("/mui/list/loaded","onLoad")},onLoad:function(f,e){if(!f||!e){return}if(this.getIndexOfChild(f)<0){return}if(e.length==0){this.destroy()}}})})}}});