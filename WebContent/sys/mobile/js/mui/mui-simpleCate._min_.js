require({cache:{"sys/mobile/js/mui/category/CategoryNavInfo":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style"],function(e,f,a,d){var b=e("mui.category.CategoryNavInfo",[f],{baseClass:"muiCateNavInfo",key:null,top:null,buildRendering:function(){this.inherited(arguments);this.cateContainer=a.create("div",{className:"muiCateContainer"},this.domNode);this.titleNode=a.create("div",{className:"muiCateName muiCateTitle"},this.cateContainer);d.set(this.domNode,{display:"none"})},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/navChange","_changeNavInfo");this.subscribe("/mui/search/submit",function(){d.set(this.domNode,{top:"0px"})});this.subscribe("/mui/search/cancel",function(){d.set(this.domNode,{top:this.top})})},startup:function(){if(this._started){return}this.inherited(arguments);if(!this.top){var g=this.getPrevNode(this.domNode);if(g){this.top=g.offsetHeight+"px"}else{this.top="0px"}}d.set(this.domNode,{top:this.top})},getPrevNode:function(h){var j=h.parentNode.firstChild;if(h==j){return null}var g=h.previousSibling;while(g.nodeType!=1&&g.previousSibling!=null){g=g.previousSibling}return g.nodeType==1?g:null},_changeNavInfo:function(h,g){if(h.key==this.key){if(g){this.titleNode.innerHTML=g.label;d.set(this.domNode,{display:"block"})}else{this.titleNode.innerHTML="";d.set(this.domNode,{display:"none"})}}}});return b})},"sys/mobile/js/mui/category/CategoryAllSelectItem":function(){define(["dojo/_base/declare","mui/category/CategoryItemMixin","dojo/dom-style","dojo/dom-class","dojo/_base/array","dojo/topic","dojo/dom-construct"],function(e,g,d,f,h,b,a){return e("mui.category.CategoryAllSelectItem",[g],{buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"muiCateAllSelectItem")},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/unselected","unselected");this.subscribe("/mui/category/selected","selected")},show:function(){d.set(this.domNode,{display:"block"})},hide:function(){d.set(this.domNode,{display:"none"})},startup:function(){this.inherited(arguments);this.hide();this.defer(function(){this.initALlSelecte()})},buildIcon:function(){d.set(this.iconNode,{display:"none"})},buildCount:function(){this.countNode=a.create("div",{innerHTML:this.getCount(),className:"muiCateSelect"},this.cateContainer)},setCount:function(){if(this.countNode){this.countNode.innerHTML=this.getCount()}},getCount:function(){var k=this.getParent().getChildren();var l=0;var j=0;h.forEach(k,function(n,m){if(m==0){return}if(n.showSelect&&n.showSelect()){l++}if(n.isSelected&&n.isSelected()){j++}});if(l==0){this.hide()}else{this.show()}return j+"/"+l},samParent:function(j){return j.getParent()==this.getParent()},initALlSelecte:function(){this.selected(this);this.buildCount()},unselected:function(j){if(this.samParent(j)){this.setCount();this._cancelSelected(this,{fdId:this.fdId,trigger:true})}},selected:function(j){if(this.samParent(j)){this.setCount();if(this.isAllSelected()){this._setSelected(this,{fdId:this.fdId,trigger:true})}else{this._cancelSelected(this,{fdId:this.fdId,trigger:true})}}},topicEvt:function(j){var l="/mui/category/cancelSelected";if(j){l="/mui/category/setSelected"}var m=this.getParent(),k=m.getChildren();h.forEach(k,function(o,n){if(n==0){return}b.publish(l,this,{fdId:o.fdId})},this)},isAllSelected:function(){var k=this.getParent().getChildren();var l=true;for(var j=0;j<k.length;j++){if(j==0){continue}var m=k[j];if(m.showSelect&&m.showSelect()&&!m.isSelected()){l=false;break}}return l},_cancelSelectedTrigger:function(j){if(j.trigger){return}this.topicEvt(false)},_setSelectedTrigger:function(j){if(j.trigger){return}this.topicEvt(true)},showMore:function(){return false},isSelected:function(){return false}})})},"sys/mobile/js/mui/simplecategory/SimpleCommonCategoryItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/simplecategory/SimpleCommonCategoryItemMixin"],function(d,b,a){return d("mui.simplecategory.SimpleCommonCategoryItemListMixin",[b],{itemRenderer:a})})},"sys/mobile/js/mui/simplecategory/SimpleCategoryHeader":function(){define(["dojo/_base/declare","mui/category/CategoryHeader","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){var e=b("mui.simplecategory.SimpleCategoryHeader",[a],{modelName:null,title:d["mui.category.title"],detailUrl:"/sys/category/mobile/sysSimpleCategory.do?method=detailList&cateId=!{curId}&modelName=!{modelName}"});return e})},"sys/mobile/js/mui/simplecategory/simplecategory_mul":function(){define(["mui/simplecategory/simplecategory_common"],function(b){function a(f,e){var d=b.html(f);d+="<div data-dojo-type=\"mui/simplecategory/SimpleCategorySelection\" data-dojo-props=\"key:'{categroy.key}',curIds:'{categroy.curIds}',curNames:'{categroy.curNames}',modelName:'{categroy.modelName}',beforeSelectCateHistoryId:'{categroy.beforeSelectCateHistoryId}'\" fixed=\"bottom\"></div>";e(d)}return{load:function(f,d,e){a(f,e)}}})},"sys/mobile/js/mui/simplecategory/SimpleCategoryUtil":function(){define(["mui/tabbar/CreateButton","mui/simplecategory/SimpleCategoryMixin"],function(a,b){return{create:function(e){var d=a.createSubclass([b]);new d(e)._selectCate()}}})},"sys/mobile/js/mui/simplecategory/SimpleCategoryItemMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-class","dojo/dom-style","mui/iconUtils","mui/category/CategoryItemMixin"],function(b,h,g,a,d,f){var e=b("mui.simplecategory.SimpleCategoryItemMixin",[f],{buildRendering:function(){this.fdId=this.value;this.label=this.text;this.icon="";this.type=window.SIMPLE_CATEGORY_TYPE_CATEGORY;this.inherited(arguments);this.subscribe("/mui/category/path","_pathChange");if(window.pathItem){this._pathChange(this,window.pathItem)}},_pathChange:function(k,j){if(k.key!=this.key){return}if(j.indexOf(this.fdId)>=0){this.set("entered",true)}else{this.set("entered",false)}},_cateChange:function(k,j){},_setEnteredAttr:function(j){if(j){g.add(this.domNode,"muiCategoryEntered")}else{g.remove(this.domNode,"muiCategoryEntered")}},showMore:function(){if(!this.child||this.child.length<=0){return false}var j=false;var k=this.getParent();if(k.authCateIds){if(k.authCateIds.indexOf(this.fdId)>-1){j=true}}else{j=true}if(this.type==window.SIMPLE_CATEGORY_TYPE_CATEGORY&&j){return true}return false},showSelect:function(){var j=this.getParent();if(j.authType=="03"){if(j&&j.selType==this.type){return true}}else{if(j&&j.selType==this.type&&this.isShowCheckBox!="0"){return true}}return false},isSelected:function(){var k=this.getParent();if(k&&k.curIds){var j=k.curIds.split(";");if(h.indexOf(j,this.fdId)>-1){return true}}return false},buildIcon:function(j){if(this.icon){d.setIcon(this.icon,null,this._headerIcon,null,j)}else{a.set(j,{display:"none"})}}});return e})},"sys/mobile/js/mui/category/FavoriteCateMixin":function(){define(["dojo/_base/declare","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,b){return a("mui.category.FavoriteCateMixin",null,{memory:[{moveTo:"favoriteCateView",text:b["mui.mobile.favoriteCateView"],selected:true},{moveTo:"allCateView",text:b["mui.mobile.allCateView"]}]})})},"sys/mobile/js/mui/simplecategory/SimpleCategoryPath":function(){define(["dojo/_base/declare","mui/category/ScrollableCategoryPath"],function(b,a){var d=b("mui.simplecategory.SimpleCategoryPath",[a],{modelName:null,detailUrl:"/sys/category/mobile/sysSimpleCategory.do?method=pathList&cateId=!{curId}&modelName=!{modelName}"});return d})},"sys/mobile/js/mui/simplecategory/SimpleCategorySearchListMixin":function(){define(["dojo/_base/declare","mui/category/CategorySearchListMixin"],function(b,a){return b("sys.syscategory.SimpleCategorySearchListMixin",[a],{dataUrl:"/sys/category/mobile/sysSimpleCategory.do?method=searchList&keyword=!{keyword}&getTemplate=!{selType}&modelName=!{modelName}&authType=!{authType}"})})},"sys/mobile/js/mui/category/BCategoryListMixin":function(){define(["dojo/_base/declare","mui/util","dojo/dom-style","dojo/topic","mui/category/AppBarsMixin"],function(e,a,d,b,f){return e("mui.category.BSwapCategoryList",[f],{SWAP_EVENT:"mui/category/swap",_cateChange:function(h,g){this.bChange(h,g)},_reload:function(){this.buildLoading();this.reload();this.getParent().slideTo({y:0},0,"linear")},bChange:function(h,g){if(h.key!=this.key){return}if(this.parentId==g.fdId){return}this.parentId=g.fdId;if(!this.parentId){d.set(this.domNode,{display:"none"});return}d.set(this.domNode,{display:"block"});this.url=a.urlResolver(a.formatUrl(this.dataUrl),this);this._reload()}})})},"sys/mobile/js/mui/category/CategoryPath":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/dom-construct","./PathItem","dojo/dom-style","dojo/request","dojo/topic","dojo/_base/array","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(h,f,b,l,e,a,m,g,k,n,j,d){var o=h("mui.category.CategoryPath",[b,l,f],{itemRenderer:a,key:null,curId:null,curName:null,height:"inherit",baseClass:"muiCatePath",titleNode:d["mui.all.category"],detailUrl:null,buildRendering:function(){this.inherited(arguments);window.pathItem=null;this.containerNode=e.create("ul",{className:"muiCatePathContent"},this.domNode)},getPathContainer:function(){return this.containerNode},_createTitleNode:function(){var q=e.create("div",{className:"muiCatePathTitleItem"},this.containerNode);var r=e.create("div",{className:""},q);var p=e.create("span",{className:""},r);p.innerHTML=this.titleNode;this.connect(q,"onclick",function(){if(this.isEco&&this.isEcoPath){k.publish("/mui/category/cancel",{key:null});var s=new Object();s.isShow=false;s.fdId=null;k.publish("/sys/org/eco/card/reload",s)}this._chgHeaderInfo(this,{});k.publish("/mui/category/changed",this,{parentId:""})});return q},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/changed","_chgHeaderInfo")},startup:function(){if(this._started){return}this.inherited(arguments);this._initPath()},_showHeader:function(p){if(p.key==this.key){m.set(this.domNode,{display:"block"})}},_hideHeader:function(p){if(p.key==this.key){m.set(this.domNode,{display:"none"})}},_refreshHeader:function(){},createListItem:function(p){var p=new this.itemRenderer(this._createItemProperties(p));return p},_createItemProperties:function(p){return p},_initPath:function(){if(this.domNode.parentNode){var p;if(this.height==="inherit"){if(this.domNode.parentNode){p=this.domNode.parentNode.offsetHeight+"px"}}else{if(this.height){p=this.height}}m.set(this.domNode,{height:p,"line-height":p})}this._chgHeaderInfo(this,{fdId:this.curId});k.publish("/mui/category/changed",this,{fdId:this.curId})},_createPath:function(r){var q=[];var p=this;p.getPathContainer().innerHTML="";p._createTitleNode();if(r.length==0){return}n.forEach(r,function(s){p._createPathItem(s,s.label)},this);window.pathItem=q;k.publish("/mui/category/path",this,q)},_createPathItem:function(t,r,p){p=p||this.getPathContainer();var s=e.create("div",{className:"muiCatePathItem",value:t.fdId},p);var u=e.create("div",{className:""},s);if(r){var q=e.create("span",{className:""},u);q.innerHTML=r}this.connect(s,"onclick",function(){var z=t.fdId;if(z!=this.curId){this._chgHeaderInfo(this,{fdId:z});var w=-1;n.forEach(this.items,function(B,A){if(B.fdId==z){w=A;return false}},this);var y={fdId:z,parentId:""};if(w>=1){y.parentId=this.items[w-1].fdId}k.publish("/mui/category/changed",this,y);if(this.isEco&&this.isEcoPath){var x=new Object();if(t.fdOrgType==1){x.isShow=false;x.fdId=z}else{x.isShow=true;x.fdId=z;x.label=t.label;x.fdNo=t.fdNo;x.fdAdmin=t.admin}k.publish("/sys/org/eco/card/reload",x);var v=new Object();v.fdId=t.fdId;v.fdOrgType=t.fdOrgType;v.fdInviteUrl=t.fdInviteUrl;k.publish("/sys/org/eco/btn/change",v);k.publish("/sys/org/eco/btn/setId",t.fdId)}}});return s},_chgUrlInfo:function(q,p){return q},_chgHeaderInfo:function(r,q){if(r.key==this.key){if(q){if(q.fdId){m.set(this.domNode,{display:"block"});if(this.curId!=q.fdId||this.containerNode.innerHTML==""){this.curId=q.fdId;var s=j.urlResolver(this.detailUrl,this);s=j.formatUrl(s);s=this._chgUrlInfo(s,q);var t=g.post(s,{handleAs:"json"});var p=this;t.then(function(u){p.items=u;p._createPath(u)},function(u){})}}else{this.curId=null;this._createPath([])}}}}});return o})},"sys/mobile/js/mui/simplecategory/SimpleCategoryMixin":function(){define(["dojo/_base/declare"],function(b){window.SIMPLE_CATEGORY_TYPE_CATEGORY=0;var a=b("mui.simplecategory.SimpleCategoryMixin",null,{type:window.SIMPLE_CATEGORY_TYPE_CATEGORY,parentId:"",confirm:!this.isMul,modelName:null,isMul:false,___urlParam:"",detailUrl:"/sys/category/mobile/sysSimpleCategory.do?method=detailList&cateId=!{currentId}&modelName=!{modelName}",jsURL:"/sys/mobile/js/mui/simplecategory/simplecategory_sgl.js!modelName=!{modelName}&extendPara=key:!{key}&showFavoriteCate=!{showFavoriteCate}&authType=!{authType}&confirm=!{confirm}&required=!{required}",_setIsMulAttr:function(d){this._set("isMul",d);if(this.isMul){this.jsURL="/sys/mobile/js/mui/simplecategory/simplecategory_mul.js!modelName=!{modelName}&extendPara=key:!{key}&showFavoriteCate=!{showFavoriteCate}&authType=!{authType}"}else{this.jsURL="/sys/mobile/js/mui/simplecategory/simplecategory_sgl.js!modelName=!{modelName}&extendPara=key:!{key}&showFavoriteCate=!{showFavoriteCate}&authType=!{authType}&confirm=!{confirm}&required=!{required}"}},_set___urlParamAttr:function(d){if(d){d=d.replace(/\'/g,"\\'").replace(/\"/g,'\\"')}this._set("___urlParam",d)},postCreate:function(){this.inherited(arguments);this.type=window.SIMPLE_CATEGORY_TYPE_CATEGORY}});return a})},"sys/mobile/js/mui/category/ScrollableCategoryPath":function(){define(["dojo/_base/declare","mui/category/CategoryPath","dojox/mobile/ScrollableView","dojo/_base/array","dojo/topic","dojo/dom-class"],function(d,a,f,h,b,e){var g=d("mui.category.ScrollableCategoryPath",[a],{buildRendering:function(){this.inherited(arguments);e.add(this.containerNode,"muiCateScrollablePathContent");this.titleNode=this._createTitleNode();this._createScrollNode()},_createScrollNode:function(){this.scroll=new f({scrollBar:false,scrollDir:"h",height:"4rem"});this.addChild(this.scroll)},getPathContainer:function(){return this.scroll.containerNode},_createPath:function(k){this.getPathContainer().innerHTML="";var j=[];if(k.length==0){e.add(this.titleNode,"selected")}else{e.remove(this.titleNode,"selected")}h.forEach(k,function(l){j.push(l.fdId);this._createPathItem(l,l.label)},this);window.pathItem=j;b.publish("/mui/category/path",this,j)}});return g})},"sys/mobile/js/mui/syscategory/FavoriteCategoryList":function(){define(["dojo/_base/declare","mui/category/CommonCategoryList"],function(b,a){return b("mui.syscategory.FavoriteCategoryList",[a],{modelName:null,dataUrl:"/sys/person/sys_person_favorite_category/sysPersonFavoriteCategory.do?method=favorite&modelName=!{modelName}"})})},"sys/mobile/js/mui/simplecategory/SimpleCategoryDialogMixin":function(){define(["dojo/_base/declare","mui/query/_CategoryQueryDialogMixin","mui/simplecategory/SimpleCategoryMixin"],function(d,e,b){var a=d("mui.simplecategory.SimpleCategoryDialogMixin",[e,b],{key:"_sys_simple_cate_dialog",authType:"03"});return a})},"sys/mobile/js/mui/simplecategory/SimpleCategoryItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/simplecategory/SimpleCategoryItemMixin"],function(b,a,d){return b("mui.simplecategory.SimpleCategoryItemListMixin",[a],{itemRenderer:d})})},"sys/mobile/js/mui/simplecategory/SimpleCategorySelection":function(){define(["dojo/_base/declare","mui/category/CategorySelection","dojo/dom-construct","dojo/dom-class","dojo/request","mui/util","dojo/_base/lang","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(g,j,e,k,f,h,a,d,b){var l=g("mui.simplecategory.SimpleCategorySelection",[j],{modelName:null,max:3,required:false,pathUrl:"/sys/category/mobile/sysSimpleCategory.do?method=pathList&cateId=!{curId}&modelName=!{modelName}&fdTmepKey=!{fdTmepKey}",detailUrl:"/sys/category/mobile/sysSimpleCategory.do?method=detailList&cateId=!{curIds}&modelName=!{modelName}&fdTmepKey=!{fdTmepKey}",buildIcon:function(){return null},_buildSelItem:function(){var m=this.inherited(arguments);k.add(m,"muiCategorySItem");return m},startup:function(){this.inherited(arguments);if(!this.isMul){k.add(this.leftArea,"muiCateSecBtnDis");if(!this.required){this.clearButtonNode.innerHTML=d["mui.button.reset"]}}},_resizeSelection:function(){if(!this.isMul){var m=this.cateSelArr;var n="";if(m.length>0){k.remove(this.buttonNode,"muiCateSecBtnDis");if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}n=m[0].label;this.clearButtonNode.className="muiCateClearBtn";if(this.clearHandle==null){this.clearHandle=this.connect(this.clearButtonNode,"click",a.hitch(this,function(){this._clearSelItem(this);this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}}))}}else{this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}if(this.required){k.add(this.buttonNode,"muiCateSecBtnDis");if(this.subHandle){this.disconnect(this.subHandle);this.subHandle=null}}else{if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}}}if(n){n=b["mui.mobile.sysMobile.simpleCategory.selected"]+"ï¼š"+n}this.leftArea.innerHTML=n;return}this.inherited(arguments)},buildDesc:function(o,n){var m=h.urlResolver(this.pathUrl,{modelName:this.modelName,curId:n.fdId});m=h.formatUrl(m);var p=f.post(m,{handleAs:"json"});p.then(a.hitch(this,function(r){var u=e.create("div",{className:"muiCateSecItemDesc"},o);var q=r.length;var s=0;for(var t=q-1;t>=0;t--){if(s>=this.max){break}e.create("div",{innerHTML:r[t].label},u,"first");s++}}))}});return l})},"sys/mobile/js/mui/category/CategorySearchListMixin":function(){define(["dojo/_base/declare","mui/util","dojo/_base/array","dojo/topic"],function(d,a,e,b){return d("sys.syscategory.CategorySearchListMixin",null,{_cateChange:function(g,f){b.publish("/mui/searchbar/cancel")},buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/search/submit","_onRelod");this.subscribe("/mui/search/cancel","_onCancel")},_onCancel:function(f){if(f.key==this.key){e.forEach(this.getChildren(),function(g){g.destroyRecursive()})}},_onRelod:function(g,f){if(g.key==this.key){this.keyword=f.keyword;this.url=a.urlResolver(a.formatUrl(this.dataUrl),this);this.buildLoading();this.reload()}}})})},"sys/mobile/js/mui/category/CommonCategoryItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/topic","dojox/mobile/_ItemBase","mui/util","mui/iconUtils"],function(d,b,h,g,e,j,f,a){var k=d("mui.category.CategoryItemMixin",[j],{fdId:"",label:"",icon:"",type:null,header:"false",tag:"li",key:null,_enterClass:"mblListItemSelected",buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||b.create(this.tag,{className:"muiCateItem fadeIn animated"});var l="muiCateInfoItem";if(this.header=="true"){l=" muiGroupItem"}this.contentNode=b.create("div",{className:l},this.domNode)}this.inherited(arguments);if(!this._templated){this._buildItemBase()}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/cancelSelected","_cancelSelected");this.subscribe("/mui/category/setSelected","_setSelected")},_buildItemBase:function(){this.cateContainer=b.create("div",{className:"muiCateContainer"},this.contentNode);if(this.header!="true"){this.iconNode=b.create("div",{className:"muiCateIcon"},this.cateContainer);this.buildIcon(this.iconNode);this.infoNode=b.create("div",{className:"muiCateInfo"},this.cateContainer);this.titleNode=b.create("div",{className:"muiCateName",innerHTML:f.formatText(this.label)},this.infoNode);this.connect(this.iconNode,"click","_selectCate");this.connect(this.infoNode,"click","_selectCate")}else{this.titleNode=b.create("div",{className:"muiCateName muiCateTitle",innerHTML:this.getTitle()},this.cateContainer)}this.moreArea=b.create("div",{className:"muiCateMore"},this.cateContainer)},startup:function(){if(this._started){return}this.inherited(arguments);var l=this.getParent();this.key=l.key;if(this.header!="true"){if(l.showMore&&this.showMore()){b.create("i",{className:"mui mui-forward"},this.moreArea);this.connect(this.moreArea,"click","_openCate")}else{b.destroy(this.moreArea)}if(l.selType!=null){this.selectArea=b.create("div",{className:"muiCateSelArea"},this.cateContainer,"first");if(this.showSelect()){this.selectNode=b.create("div",{className:"muiCateSel"},this.selectArea);var m=this.getParent();if(m.isMul){h.add(this.selectNode,"muiCateSelMul")}if(this.isSelected()){this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);h.add(this.selectNode,"muiCateSeled")}this.connect(this.selectArea,"click","_selectCate")}}}else{e.publish("/mui/category/addNav",this,{label:this.label})}},_openCate:function(l){e.publish("/mui/category/changed",this,{fdId:this.fdId,label:this.label});return},_cancelSelected:function(m,l){if(m.key==this.key){if(l&&l.fdId){if(l.fdId.indexOf(this.fdId)>-1){if(this.checkedIcon){h.remove(this.selectNode,"muiCateSeled");b.destroy(this.checkedIcon);this.checkedIcon=null;e.publish("/mui/category/unselected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})}}}}},_setSelected:function(m,l){if(m.key==this.key){if(l&&l.fdId){if(l.fdId==this.fdId){h.add(this.selectNode,"muiCateSeled");this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);e.publish("/mui/category/selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})}}}},startTime:0,_selectCate:function(l){if(this.startTime!=0){var m=new Date().getMilliseconds();if(m-this.startTime<350){this.startTime=0;return}this.startTime=0}else{this.startTime=new Date().getMilliseconds();this.defer(function(){this.startTime=0},360)}if(l){if(l.stopPropagation){l.stopPropagation()}if(l.cancelBubble){l.cancelBubble=true}if(l.preventDefault){l.preventDefault()}if(l.returnValue){l.returnValue=false}}var n=l.target;if((this.selectArea&&!this.showMore())||(this.selectNode&&n==this.selectNode)||(this.iconNode&&(n==this.iconNode||n.parentNode==this.iconNode))){if(this.selectNode){if(this.checkedIcon!=null){this._cancelSelected(this,this)}else{this._setSelected(this,this)}return}}if(this.showMore()){this._openCate()}else{this.showItemDetail()}return},getTitle:function(){return this.label},showMore:function(){return true},showSelect:function(){return true},isSelected:function(){return true},showItemDetail:function(){},buildIcon:function(l){if(this.icon){a.setIcon(this.icon,null,this._headerIcon,null,l)}},_setLabelAttr:function(l){if(l){this._set("label",l)}}});return k})},"sys/mobile/js/mui/simplecategory/simplecategory_sgl":function(){define(["mui/simplecategory/simplecategory_common"],function(b){function a(f,e){var d=b.html(f);d+="<div data-dojo-type=\"mui/simplecategory/SimpleCategorySelection\" data-dojo-props=\"required:{categroy.required},key:'{categroy.key}',curIds:'{categroy.curIds}',curNames:'{categroy.curNames}',modelName:'{categroy.modelName}',isMul:false,beforeSelectCateHistoryId:'{categroy.beforeSelectCateHistoryId}'\" fixed=\"bottom\"></div>";e(d)}return{load:function(f,d,e){a(f,e)}}})},"sys/mobile/js/mui/simplecategory/SimpleCommonCategoryItemMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/topic","mui/iconUtils","mui/category/CommonCategoryItemMixin"],function(d,g,b,j,f,e,a,h){var k=d("mui.simplecategory.SimpleCommonCategoryItemMixin",[h],{buildRendering:function(){this.fdId=this.value;this.label=this.text;this.icon="";this.type=window.SIMPLE_CATEGORY_TYPE_CATEGORY;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/cate_selected","selected");this.subscribe("/mui/category/cate_unselected","unselected")},selected:function(m,l){if(m.key==this.key){if(l&&l.fdId){if(l.fdId==this.fdId){j.add(this.selectNode,"muiCateSeled");if(!this.checkedIcon){this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode)}}}}},unselected:function(m,l){if(m.key==this.key){if(l&&l.fdId){if(l.fdId.indexOf(this.fdId)>-1){if(this.checkedIcon){j.remove(this.selectNode,"muiCateSeled");b.destroy(this.checkedIcon);this.checkedIcon=null}}}}},_setSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){j.add(this.selectNode,"muiCateSeled");if(!this.checkedIcon){this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode)}var l=this.getEvts();e.publish("/mui/category/selected",this,l);e.publish("/mui/category/commonSelected",this,l)}}}},getEvts:function(){return{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type}},_cancelSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){if(this.checkedIcon){j.remove(this.selectNode,"muiCateSeled");b.destroy(this.checkedIcon);this.checkedIcon=null;var l=this.getEvts();e.publish("/mui/category/unselected",this,l);e.publish("/mui/category/commonUnSelected",this,l)}}}}},showMore:function(){return false},showSelect:function(){var l=this.getParent();if(l.authType=="03"){if(l&&l.selType==this.type){return true}}else{if(l&&l.selType==this.type&&this.isShowCheckBox!="0"){return true}}return false},isSelected:function(){var m=this.getParent();if(m&&m.curIds){var l=m.curIds.split(";");if(g.indexOf(l,this.fdId)>-1){return true}}return false},buildIcon:function(l){if(this.icon){a.setIcon(this.icon,null,this._headerIcon,null,l)}else{f.set(l,{display:"none"})}}});return k})},"sys/mobile/js/mui/category/CommonCateMixin":function(){define(["dojo/_base/declare","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,b){return a("mui.category.CommonCateMixin",null,{memory:[{moveTo:"commonCateView",text:b["mui.mobile.favoriteCateView"],selected:true,channelName:"category"},{moveTo:"allCateView",text:b["mui.mobile.allCateView"]}]})})},"sys/mobile/js/mui/category/AppBarsMixin":function(){define(["dojo/_base/declare"],function(a){return a("mui.category.AppBarsMixin",null,{findAppBars:function(){if(!this.appBars){return}var d=this.getParent();while(d){var b=d.domNode;if(b.parentNode){for(i=0,len=b.parentNode.childNodes.length;i<len;i++){c=b.parentNode.childNodes[i];if(this.checkFixedBar(c,false)){break}}}d=d.getParent()}return this.inherited(arguments)}})})},"sys/mobile/js/mui/simplecategory/simplecategory_common":function(){define(["mui/util"],function(a){function b(f){var d=a.getUrlParameter(f,"showFavoriteCate");var e="<div data-dojo-type=\"mui/header/Header\"><div data-dojo-type=\"mui/category/CategorySearchBar\" data-dojo-props=\"modelName:'{categroy.modelName}',getTemplate:'{categroy.getTemplate}',authType:' {categroy.authType}',needPrompt:false,height:'5rem',key:'{categroy.key}'\"> </div></div>";e+='<div id="defaultView_{categroy.key}" data-dojo-type="dojox/mobile/View" >';if("true"==d){e+='<div data-dojo-type="mui/header/Header" class="muiHeaderNav"><div data-dojo-type="mui/nav/StaticNavBar" data-dojo-mixins="mui/category/FavoriteCateMixin" data-dojo-props="key:\'{categroy.key}\'"> </div></div><div id="favoriteCateView_{categroy.key}" data-dojo-type="dojox/mobile/ScrollableView" data-dojo-mixins="mui/category/AppBarsMixin" data-dojo-props="scrollBar:false,threshold:100,key:\'{categroy.key}\'"> <ul data-dojo-type="mui/syscategory/FavoriteCategoryList" class="muiFavoriteContainer" data-dojo-mixins="mui/simplecategory/SimpleCommonCategoryItemListMixin" data-dojo-props="lazy:false,isMul:{categroy.isMul},key:\'{categroy.key}\',curIds:\'{categroy.curIds}\',selType:{categroy.type},modelName:\'{categroy.modelName}\',mainModelName:\'{categroy.mainModelName}\'"></ul></div>'}e+="<div data-dojo-type=\"mui/category/SwapCategoryList\" id=\"allCateView_{categroy.key}\" data-dojo-props=\"isMul:{categroy.isMul},key:'{categroy.key}',curIds:'{categroy.curIds}',selType:{categroy.type},___urlParam:'{categroy.___urlParam}',modelName:'{categroy.modelName}',authType:'{categroy.authType}',confirm:{categroy.confirm}\" ><div data-dojo-type=\"mui/simplecategory/SimpleCategoryPath\" data-dojo-props=\"key:'{categroy.key}',height:'4rem',modelName:'{categroy.modelName}'\"></div></div>";e+="</div>";e+='<div id="searchView_{categroy.key}" class="muiCateSearchPanel" data-dojo-type="dojox/mobile/ScrollableView" data-dojo-props="scrollBar:false,threshold:100,key:\'{categroy.key}\'"><ul data-dojo-type="mui/simplecategory/SimpleCategoryList" data-dojo-mixins="mui/simplecategory/SimpleCategoryItemListMixin,mui/simplecategory/SimpleCategorySearchListMixin" data-dojo-props="lazy:true,isMul:{categroy.isMul},key:\'{categroy.key}\',selType:{categroy.type},modelName:\'{categroy.modelName}\',authType:\'{categroy.authType}\',confirm:{categroy.confirm}" ></ul></div>';return e}return{html:b}})},"sys/mobile/js/mui/category/ACategoryListMixin":function(){define(["dojo/_base/declare","mui/util","mui/category/AppBarsMixin"],function(b,a,d){return b("mui.category.ASwapCategoryList",[d],{SWAP_EVENT:"mui/category/swap",buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/category/path","aChange");if(window.pathItem){this.aChange(this,[])}},_reload:function(){this.buildLoading();this.reload();this.getParent().slideTo({y:0},0,"linear")},_cateChange:function(f,e){},aChange:function(f,e){if(f.key!=this.key){return}var g;if(e&&e.length>1){g=e[e.length-2]}if(this.parentId==g){return}this.parentId=g;if(this._dataUrl&&this._dataUrl!="undefined"){this.dataUrl=this._dataUrl}this.url=a.urlResolver(a.formatUrl(this.dataUrl),this);this._reload()}})})},"sys/mobile/js/mui/category/_ViewScrollResizeMixin":function(){define(["dojo/_base/declare","dojo/topic"],function(b,a){return b("mui.list._ViewScrollResizeMixin",null,{startup:function(){if(this._started){return}this.inherited(arguments);this.subscribe("/mui/list/loaded","_scrollResize");this.subscribe("/mui/view/scrollTo","_scrollTo")},_scrollTo:function(e,d){this.defer(function(){if(e.key==this.key&&this.slideTo){if(d){if(d.y&&d.y!=0){var g=this.domNode.offsetHeight;var j=this.containerNode.offsetHeight;var f=j+d.y;var h=0;if(f<g){if(j<g){h=0}else{h=0-(j-g)}d.y=h}this.slideTo(d,0.5,"linear");return}}this.slideTo({y:0},0.5,"linear");return}},1)},_runSlideAnimation:function(j,h,f,g,e,d){a.publish("/mui/view/afterScroll",this,{from:j,to:h});this.inherited(arguments)},_scrollResize:function(d){if(d.key==this.key){if(this.resize){this.resize();a.publish("/mui/view/resized",this)}this._scrollTo(d)}}})})},"sys/mobile/js/mui/category/CategoryAllSelectMixin":function(){define(["dojo/_base/declare","mui/category/CategoryAllSelectItem","dojo/_base/array","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,d,e,b){return a("mui.category.CategoryAllSelectMixin",null,{generateList:function(f){if(this.isMul){this.addChild(new d({label:b["mui.catefilter.selectAll"],fdId:"all"}))}e.forEach(f,function(g){this.addChild(this.createListItem(g));if(g[this.childrenProperty]){e.forEach(g[this.childrenProperty],function(h){this.addChild(this.createListItem(h))},this)}},this)}})})},"sys/mobile/js/mui/simplecategory/SimpleCategoryList":function(){define(["dojo/_base/declare","mui/category/CategoryList","dojo/_base/lang","dojo/_base/json","mui/category/CategoryAllSelectMixin"],function(d,a,f,b,e){return d("mui.simplecategory.SimpleCategoryList",[a,e],{modelName:null,authCateIds:null,___urlParam:"",dataUrl:"/sys/category/mobile/sysSimpleCategory.do?method=cateList&categoryId=!{parentId}&getTemplate=!{selType}&modelName=!{modelName}&authType=!{authType}&extProps=!{___urlParam}",buildRendering:function(){this.inherited(arguments);if(this.getParent().getParent()){this.authCateIds=this.getParent().getParent().authCateIds}},buildQuery:function(){var h=null;if(this.___urlParam){try{h=b.fromJson(this.___urlParam)}catch(g){}}var j=this.inherited(arguments);return f.mixin(j,{authCateIds:this.authCateIds},h)}})})},"sys/mobile/js/mui/category/CategoryList":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-construct","dojo/_base/array","dojo/_base/lang","mui/util","mui/list/JsonStoreList"],function(e,d,b,h,g,a,f){return e("mui.category.CategoryList",[f],{dataUrl:"",parentId:null,selType:null,curIds:null,curNames:null,isMul:false,baseClass:"muiCateLists",key:null,showMore:true,buildRendering:function(){this.url=a.urlResolver(this.dataUrl,this);this.inherited(arguments);this.domNode.className=this.baseClass},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/changed","_cateChange");this.subscribe("/mui/search/cancel/back","_cateReback");this.subscribe("/mui/category/selected","_cateSelected");this.subscribe("/mui/cate/navTo","_scrollToCate");this.subscribe("/mui/category/selChanged","_setCurSel");this.subscribe("/mui/view/afterScroll","_setNavInfo")},reload:function(){this.buildLoading();this.inherited(arguments)},startup:function(){this.inherited(arguments)},buildLoading:function(){if(this.tmpLoading==null){h.forEach(this.getChildren(),function(j){j.destroyRecursive()});this.tmpLoading=b.create("li",{className:"muiCateLoading",innerHTML:'<i class="mui mui-loading mui-spin"></i>'},this.domNode)}},onComplete:function(){if(this.tmpLoading){b.destroy(this.tmpLoading);this.tmpLoading=null}this.inherited(arguments);if(window.cateFilterSetSelc&&window.cateFilterSetSelc.openCount<=1){var j=document.getElementsByClassName("muiCateClearBtn");if(j&&j.length>0&&!j[0].className.contains("muiModelingCancelBtn")){j[0].click()}}},_setCurSel:function(k,j){if(k.key==this.key){if(j){this.curIds=j.curIds;this.curNames=j.curNames}}},_setNavInfo:function(k,j){if(k.key==this.key){var m=this.getChildren();var n=null;if(j.to.y<0){var o=false;for(var l=0;l<m.length;l++){if(m[l].header=="true"&&0-j.to.y>m[l].domNode.offsetTop-m[l].domNode.offsetHeight){d.publish("/mui/category/navChange",this,{label:m[l].getTitle()});o=true}}if(!o){d.publish("/mui/category/navChange",this,null)}}else{d.publish("/mui/category/navChange",this,null)}}},_scrollToCate:function(k,j){if(k.key==this.key){if(j){var m=this.getChildren();var n=null;for(var l=0;l<m.length;l++){if(m[l].header=="true"&&m[l].label==j.label){n=m[l];break}}if(n){d.publish("/mui/view/scrollTo",this,{y:0-n.domNode.offsetTop})}}}},_cateReback:function(k,j){if(k.key==this.key){if(this._addressUrl){this.url=this._addressUrl}d.publish("/mui/category/clearNav",this);this.showMore=true;this.buildLoading();this.reload()}},_cateChange:function(k,j){if(k.key==this.key){if(j&&j.url){if(!this._addressUrl){this._addressUrl=this.url}this.showMore=false;this.url=j.url}else{this.showMore=true;this.parentId=j.fdId;this.url=a.urlResolver(a.formatUrl(this.dataUrl),this)}d.publish("/mui/category/clearNav",this);this.buildLoading();this.reload()}},_cateSelected:function(k,j){if(k.key==this.key){if(!this.isMul){this.curIds=j.fdId;this.curNames=j.label;d.publish("/mui/category/clearSelected",this,{fdId:j.fdId});if(!this.confirm){d.publish("/mui/category/submit",this,{key:this.key,curIds:j.fdId,curNames:j.label})}}}}})})},"sys/mobile/js/mui/category/CategoryItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/topic","dojox/mobile/_ItemBase","mui/util","mui/history/listener","mui/iconUtils"],function(e,d,h,f,j,g,a,b){var k=e("mui.category.CategoryItemMixin",[j],{fdId:"",label:"",icon:"",type:null,header:"false",tag:"li",key:null,buildRendering:function(){this._templated=!!this.templateString;var m=this.domNode==null&&this.containerNode==null&&this.srcNodeRef==null;if(!this._templated&&m){this.domNode=this.containerNode=this.srcNodeRef||d.create(this.tag,{className:"muiCateItem fadeIn animated"});var l="muiCateInfoItem";if(this.header=="true"){l=" muiGroupItem"}this.contentNode=d.create("div",{className:l},this.domNode)}this.inherited(arguments);if(!this._templated){this._buildItemBase()}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/cancelSelected","_cancelSelected");this.subscribe("/mui/category/setSelected","_setSelected");this.subscribe("/mui/category/commonSelected","commonSelected");this.subscribe("/mui/category/commonUnSelected","commonUnSelected")},_buildItemBase:function(){this.cateContainer=d.create("div",{className:"muiCateContainer"},this.contentNode);if(this.header!="true"){this.iconNode=d.create("div",{className:"muiCateIcon"},this.cateContainer);this.buildIcon(this.iconNode);if(this.fdIsAvailable===false){this.availableNode=d.create("div",{className:"muiAddressIsAvailableFalse"},this.iconNode)}this.infoNode=d.create("div",{className:"muiCateInfo"},this.cateContainer);this.titleNode=d.create("div",{className:"muiCateName",innerHTML:g.formatText(this.label)},this.infoNode);this.connect(this.iconNode,"click","_selectCate");this.connect(this.infoNode,"click","_selectCate")}else{this.titleNode=d.create("div",{className:"muiCateName muiCateTitle",innerHTML:this.getTitle()},this.cateContainer)}this.moreArea=d.create("div",{className:"muiCateMore"},this.cateContainer)},startup:function(){if(this._started){return}this.inherited(arguments);var l=this.getParent();this.key=l.key;if(this.header!="true"){if(l.showMore&&this.showMore()){if(this.moreArea.childElementCount==0){d.create("i",{className:"mui mui-forward"},this.moreArea)}this.connect(this.moreArea,"click","_openCate")}else{d.destroy(this.moreArea)}if(l.selType!=null){if(this.showSelect()){this.selectArea=d.create("div",{className:"muiCateSelArea"},this.cateContainer,"first");this.selectNode=d.create("div",{className:"muiCateSel"},this.selectArea);var m=this.getParent();if(m.isMul){h.add(this.selectNode,"muiCateSelMul")}if(this.isSelected()){this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);h.add(this.selectNode,"muiCateSeled")}h.add(this.domNode,"muiCateHasSel");this.connect(this.selectArea,"click","_selectCate")}}}else{f.publish("/mui/category/addNav",this,{label:this.label})}},_openCate:function(l){l&&l.stopPropagation();f.publish("/mui/category/changed",this,{fdId:this.fdId,label:this.label});return},_cancelSelectedTrigger:function(l){f.publish("/mui/category/unselected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type});f.publish("/mui/category/cate_unselected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})},_cancelSelected:function(m,l){if(m.key==this.key){if(l&&l.fdId){if(l.fdId.indexOf(this.fdId)>-1){window._curIds="-";if(this.checkedIcon){h.remove(this.selectNode,"muiCateSeled");d.destroy(this.checkedIcon);this.checkedIcon=null;this._cancelSelectedTrigger(l)}}}}},commonUnSelected:function(m,l){if(m.key==this.key){if(l&&l.fdId){if(l.fdId.indexOf(this.fdId)>-1){if(this.checkedIcon){h.remove(this.selectNode,"muiCateSeled");d.destroy(this.checkedIcon);this.checkedIcon=null}}}}},commonSelected:function(m,l){if(m.key==this.key){if(l&&l.fdId){if(l.fdId==this.fdId){h.add(this.selectNode,"muiCateSeled");if(!this.checkedIcon){this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode)}}}}},_setSelectedTrigger:function(){f.publish("/mui/category/selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type});f.publish("/mui/category/cate_selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})},_setSelected:function(m,l){if(m.key==this.key){if(l&&l.fdId){if(l.fdId==this.fdId){window._curIds=this.fdId;if(this.checkedIcon){d.destroy(this.checkedIcon);this.checkedIcon=null}if(!this.selectNode){return}if(!h.contains(this.selectNode,"muiCateSeled")){h.add(this.selectNode,"muiCateSeled")}this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);this._setSelectedTrigger(l)}}}},startTime:0,_toggleSelect:function(l){if(l){this._setSelected(this,this)}else{this._cancelSelected(this,this)}},_selectCate:function(l){if(l){if(l.stopPropagation){l.stopPropagation()}if(l.cancelBubble){l.cancelBubble=true}if(l.preventDefault){l.preventDefault()}if(l.returnValue){l.returnValue=false}}var n=new Date().getTime();var o=this.ctime;if((o!="undefined"&&(n-o<500))||this.selectCateCalling){return false}else{this.ctime=new Date().getTime();this.selectCateCalling=true;if(this.selectNode){if(this.checkedIcon!=null){this._toggleSelect(false)}else{this._toggleSelect(true)}}else{var m=this.getParent();if(this.showMore()&&m.showMore){this._openCate()}else{this.showItemDetail()}}this.ctime=new Date().getTime();this.selectCateCalling=false;return true}},getTitle:function(){return this.label},showMore:function(){return true},showSelect:function(){return true},isSelected:function(){return true},showItemDetail:function(){},buildIcon:function(l){if(this.icon){b.setIcon(this.icon,null,this._headerIcon,null,l)}},_setLabelAttr:function(l){if(l){this._set("label",l)}}});return k})},"sys/mobile/js/mui/category/CategorySearchBar":function(){define(["dojo/_base/declare","mui/search/SearchBar","dojox/mobile/TransitionEvent","mui/history/listener","dojo/_base/lang"],function(a,f,d,b,e){return a("sys.category.CategorySearchBar",[f],{jumpToSearchUrl:false,needPrompt:false,showLayer:false,getViewId:function(g){return g+"_"+this.key},_onfocus$:function(){this._onfocusCommon();new d(document.body,{moveTo:this.getViewId("searchView")}).dispatch()},_onCancel$:function(){this.inherited(arguments);new d(document.body,{moveTo:this.getViewId("defaultView")}).dispatch()},_onfocus:function(){if(this.show){return}this.show=true;var j=e.hitch(this,function(){this._onfocus$()});var h=e.hitch(this,function(){this._onCancel$()});var g=b.push({forwardCallback:j,backCallback:h});this.beforeSelectCateHistoryId=g.previousId}})})},"sys/mobile/js/mui/category/PathItem":function(){define(["dojo/_base/declare","dojox/mobile/_ItemBase","dojo/dom-construct","dojo/topic"],function(e,b,a,d){var f=e("mui.category.PathItem",b,{tag:"li",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||a.create("li",{className:""});this.textNode=a.create("div",{className:""},this.domNode);this.inherited(arguments);if(this.label){this.labelNode=a.create("span",{className:""},this.textNode);this.labelNode.innerHTML=this.label}},startup:function(){if(this._started){return}this.connect(this.textNode,"onclick","_onClick");this.inherited(arguments)},_onClick:function(g){d.publish("/mui/category/changed",this,{value:this.fdId})}});return f})},"sys/mobile/js/mui/category/CategoryHeader":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style","dojo/request","dojo/topic","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,d,b,k,e,h,j,a){var g=f("mui.category.CategoryHeader",[d],{key:null,_parentId:null,curId:null,curName:null,height:"inherit",title:a["mui.category.pselect"],baseClass:"muiCateHeader",detailUrl:null,buildRendering:function(){this.inherited(arguments);this.contentNode=b.create("div",{className:"muiCateHeaderContent"},this.domNode);if(this.scope=="22"||this.scope=="33"||this.scope=="44"){this.titleDom=b.create("div",{className:"muiCateHeaderTitle",innerHTML:this.title},this.contentNode)}else{this.returnDom=b.create("div",{className:"muiCateHeaderReturn"},this.contentNode);this.titleDom=b.create("div",{className:"muiCateHeaderTitle",innerHTML:this.curName},this.contentNode)}this.cancelNode=b.create("div",{className:"muiCateHeaderCancel",innerHTML:a["mui.category.button.cancel"]},this.contentNode)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/changed","_chgHeaderInfo");this.subscribe("/mui/search/submit","_hideHeader");this.subscribe("/mui/search/cancel","_showHeader");this.connect(this.returnDom,"click",function(){this.defer(function(){this._gotoParent()},350)});this.connect(this.cancelNode,"click",function(){this.defer(function(){this._goBack()},350)})},startup:function(){if(this._started){return}this.inherited(arguments);if(this.domNode.parentNode){var l;if(this.height==="inherit"){if(this.domNode.parentNode){l=this.domNode.parentNode.offsetHeight+"px"}}else{if(this.height){l=this.height}}k.set(this.domNode,{height:l,"line-height":l})}this._chgHeaderInfo(this,{fdId:this.curId});h.publish("/mui/category/changed",this,{fdId:this.curId})},_showHeader:function(l){if(l.key==this.key){k.set(this.domNode,{display:"block"})}},_hideHeader:function(l){if(l.key==this.key){k.set(this.domNode,{display:"none"})}},_refreshHeader:function(){this._buildReturn();if(this.scope=="22"||this.scope=="33"||this.scope=="44"){this.titleDom.innerHTML=this.title}else{this.titleDom.innerHTML=this.curName}},_buildReturn:function(){if(this.scope=="22"||this.scope=="33"||this.scope=="44"){}else{if(this.curId){if(!this.returnIcon){this.returnIcon=b.create("i",{className:"mui mui-back"},this.returnDom);this.returnText=b.create("span",{className:"muiCateHeaderReturnTxt",innerHTML:" "+a["mui.category.button.up"]},this.returnDom)}}else{b.empty(this.returnDom);this.returnIcon=null;this.returnText=null}}},_gotoParent:function(){var l={};if(this._parentId){l.fdId=this._parentId}h.publish("/mui/category/changed",this,l)},_goBack:function(){h.publish("/mui/category/cancel",this)},resolveCateData:function(l){return l},_chgHeaderInfo:function(n,m){if(n.key==this.key){if(m){if(m.fdId&&this.titleDom){this.curId=m.fdId;var o=j.urlResolver(this.detailUrl,this);o=j.formatUrl(o);var p=e.post(o,{handleAs:"json"});var l=this;p.then(function(q){if(q.length>0){var r=l.resolveCateData(q[0]);l.curId=r.fdId;l.curName=r.label;l._parentId=r.parentId;l._refreshHeader()}else{}},function(q){})}else{this.curId=null;this.curName=this.title;this._parentId=null;this._refreshHeader()}}}}});return g})},"sys/mobile/js/mui/category/CategoryScrollNav":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/topic","mui/dialog/Tip"],function(f,e,j,d,b,h,g,k){var a=f("mui.category.CategoryScrollNav",[e],{refrenceDom:null,absoluteDom:null,baseClass:"muiCateNav",navDatas:[],navItems:[],key:null,buildRendering:function(){this.inherited(arguments);if(typeof(this.refrenceDom)=="string"){this.refrenceDom=d.byId(this.refrenceDom)}if(typeof(this.absoluteDom)=="string"){this.absoluteDom=d.byId(this.absoluteDom)}this.navDatas=[];this.navItems=[]},postCreate:function(){if(!this.scope||this.scope=="11"){return}this.inherited(arguments);this.subscribe("/mui/view/resized","_resizeNav");this.subscribe("/mui/category/addNav","_addNavItem");this.subscribe("/mui/category/clearNav","_clearNav")},_clearNav:function(m,l){if(m.key==this.key){this.navDatas=[];this.navItems=[];b.empty(this.domNode)}},_resizeNav:function(p){if(p.key==this.key){b.empty(this.domNode);var m=this.refrenceDom.offsetHeight;var n=0;if(this.absoluteDom){n=this.absoluteDom.offsetHeight}var l=this;j.forEach(this.navDatas,function(t,s){if(t!="2"&&t!="4"){var u=b.create("span",{className:"muiCateNavItem",innerHTML:t},l.domNode);l.connect(u,"click",function(){l._ItemClick({label:t,refHeight:m})});l.navItems.push(u)}});if(this.navItems.length>0){h.set(this.domNode,{display:"block",top:(this.refrenceDom.offsetTop+n)+"px",height:(m-n)+"px"});var q=b.create("span",{className:"muiCateNavItem"},this.domNode,"first");var o=b.create("i",{className:"mui mui-search"},q);this.connect(q,"click","_toTop");this.navItems.push(q);var r=18;if(this.navItems.length>20){r=Math.floor((m-n)/this.navItems.length)}h.set(o,{"font-size":"12px"});h.set(o,{height:r+"px"});h.set(o,{"line-height":r+"px"});j.forEach(this.navItems,function(s){h.set(s,{height:r+"px","line-height":r+"px","font-size":"12px"})})}else{h.set(this.domNode,{display:"none"})}}},_ItemClick:function(l){this.defer(function(){g.publish("/mui/cate/navTo",this,l)},200)},_toTop:function(l){this.defer(function(){g.publish("/mui/view/scrollTo",this)},200)},_addNavItem:function(m,l){if(m.key==this.key){if(l&&l.label){this.navDatas.push(l.label)}}},startup:function(){if(this._started){return}this.inherited(arguments)}});return a})},"sys/mobile/js/mui/category/SwapCategoryList":function(){define(["dojo/_base/declare","dojo/dom-construct","dojox/mobile/View","dojo/parser","dojo/_base/lang","mui/util","dojo/request","dojo/Deferred"],function(e,b,h,j,g,a,f,d){return e("mui.simplecategory.SwapCategoryList",[h],{mixins:["mui/category/ACategoryListMixin","mui/category/BCategoryListMixin"],index:0,tmpl:"<div data-dojo-type=\"dojox/mobile/ScrollableView\" data-dojo-mixins=\"mui/category/AppBarsMixin\"data-dojo-props=\"scrollBar:false,threshold:100,key:'{key}'\"><ul data-dojo-type=\"mui/simplecategory/SimpleCategoryList\" data-dojo-mixins=\"mui/simplecategory/SimpleCategoryItemListMixin,!{mixin}\" data-dojo-props=\"___urlParam:'{___urlParam}',lazy:false,isMul:{isMul},key:'{key}',parentId:'!{fdId}',selType:{selType},modelName:'{modelName}',authType:'{authType}',curIds:'{curIds}',confirm:{confirm},index:{index}\" ></ul></div>",buildRendering:function(){this.inherited(arguments);this.containerNode=b.create("div",{className:"muiSimpleCateContainer"},this.domNode);this.subscribe("/mui/category/changed","_cateChange")},authed:false,_cateChange:function(l,k){if(l.key==this.key){this.authRequest(k)}},authUrl:"/sys/category/mobile/sysSimpleCategory.do?method=authData",authRequest:function(k){var l=new d();if(this.authed){l.resolve()}else{this.authed=true;f.post(a.formatUrl(this.authUrl),{handleAs:"json",data:{modelName:this.modelName,authType:this.authType}}).then(g.hitch(this,function(m){this.authCateIds=m.authIds;l.resolve()}))}l.promise.then(g.hitch(this,function(){this.generateList(k)}))},generateList:function(l){if(this.index>=this.mixins.length){return}l.mixin=this.mixins[this.index];var m=this.tmpl;m=a.urlResolver(m,l);m=g.replace(m,this);this.index++;var k=b.create("div",{innerHTML:m,className:"muiSimpleCateContent"},this.containerNode);j.parse(k).then(function(n){n[0].resize()})}})})},"sys/mobile/js/mui/category/CommonCategoryList":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/util","mui/list/JsonStoreList","mui/category/CategoryAllSelectMixin"],function(d,b,a,f,e){return d("mui.category.CommonCategoryList",[f,e],{dataUrl:"",parentId:null,selType:null,curIds:null,curNames:null,isMul:false,baseClass:"muiCateLists",key:null,buildRendering:function(){this.url=a.urlResolver(this.dataUrl,this);this.inherited(arguments);this.domNode.className=this.baseClass;this.subscribe("/mui/category/selChanged","_setCurSel");this.buildLoading()},_setCurSel:function(h,g){if(h.key==this.key){if(g){this.curIds=g.curIds;this.curNames=g.curNames}}},startup:function(){this.inherited(arguments)},buildLoading:function(){if(this.tmpLoading==null){b.empty(this.domNode);this.tmpLoading=b.create("li",{className:"muiCateLoading",innerHTML:'<i class="mui mui-loading mui-spin"></i>'},this.domNode)}},onComplete:function(){if(this.tmpLoading){b.destroy(this.tmpLoading);this.tmpLoading=null}this.inherited(arguments)}})})},"sys/mobile/js/mui/category/CategorySelection":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/request","dojo/topic","mui/util","mui/dialog/Dialog","mui/dialog/Tip","mui/iconUtils","mui/history/listener","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(k,a,h,n,g,f,j,m,l,o,q,e,b,d){var p=k("mui.category.CategorySelection",[h],{curIds:null,curNames:null,beforeSelectCateHistoryId:null,detailUrl:"",isMul:true,baseClass:"muiCateSec muiCateSecBottom",cateSelArr:[],itemPrefix:"_CateSecItem_",key:null,buildRendering:function(){this.inherited(arguments);this.cateSelArr=[];this.containerNode=f.create("div",{className:"muiCateSecContainer"},this.domNode);this.leftArea=f.create("div",{className:"muiCateSecLeft"},this.containerNode);this.rightArea=f.create("div",{className:"muiCateSecRight"},this.containerNode);this.clearButtonNode=f.create("span",{className:"muiCateClearBtn",innerHTML:d["mui.button.clear"]},this.rightArea);this.buttonNode=f.create("span",{className:"muiCateSecBtn ",innerHTML:d["mui.button.ok"]},this.rightArea)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/selected","_addSelItme");this.subscribe("/mui/category/unselected","_delSelItem");this.subscribe("/mui/category/clearSelected","_clearSelItem")},startup:function(){if(this._started){return}this.inherited(arguments);this._initSelection()},destroy:function(){this.inherited(arguments)},_subSelItem:function(){m.publish("/mui/category/submit",this,this._calcCurSel())},_clearSelItem:function(u,r){if(u.key!=this.key){return}var v;if(r){v=r.fdId}var s=0;while(this.cateSelArr.length>s){var t=this.cateSelArr[0];if(t.fdId==v){s++;continue}this._delSelItem(this,t);m.publish("/mui/category/cancelSelected",this,t)}},_popSelItem:function(){var t;var s;var v=a.hitch(this,function(){var w=f.create("div",{className:"muiCateSecItems"});n.forEach(this.cateSelArr,function(x){var y=this._buildSelItem(x);w.appendChild(y)},this);s=o.element({canClose:false,element:w,position:"bottom",scrollable:true,parseable:true,showClass:"muiCateSecPop",callback:a.hitch(this,function(){if(t){b.go({historyId:t,callback:function(){}})}s=null;t=null})})});var u=a.hitch(this,function(){if(s){s.hide();s=null;t=null}});var r=b.push({forwardCallback:v,backCallback:u});t=r.previousId},_initSelection:function(){var w=this;if(this.curIds){var t=l.urlResolver(this.detailUrl,this);t=l.formatUrl(t);if(t){var B;if(t.length>2048&&t.indexOf(".jsp?")>-1){var s=t.split("?");var x=s[1].split("&");var z=[];var y={};for(var u=0;u<x.length;u++){if(x[u].length>0){var A=x[u].split("=");if(A[1].length>500){y[A[0]]=A[1]}else{z.push(x[u])}}}t=s[0]+"?"+z.join("&");B=j.post(t,{handleAs:"json",data:y})}else{B=j.post(t,{handleAs:"json"})}B.then(function(C){if(C.length>0){n.forEach(C,function(D){w._addSelItme(w,D)})}})}else{var r=this.curIds.split(";");var v=this.curNames.split(";");n.forEach(r,function(D,C){w._addSelItme(w,{fdId:D,label:v[C],labelLevel:v[C]})})}}else{this._resizeSelection()}},buildDesc:function(){},_buildSelItem:function(r){var u=f.create("div",{id:this.itemPrefix+r.fdId,className:"muiCateSecItem"});this.buildIcon(u,r);var s=f.create("div",{className:"muiCateSecItemLabel"},u);f.create("div",{innerHTML:r.label},s);this.buildDesc(s,r);var t=f.create("div",{className:"muiCateSecItemDelArea"},u);f.create("div",{className:"muiCateSecItemDel"},t);this.connect(t,"click",function(v){this._delSelItem(this,r);f.destroy(g.byId(this.itemPrefix+r.fdId));m.publish("/mui/category/cancelSelected",this,r)});return u},buildIcon:function(r,s){if(s.icon){e.setIcon(s.icon,null,null,null,r)}else{e.setIcon("mui mui-file-text",null,null,null,r)}},_checkInSelArr:function(t){var r=false;for(var s=0;s<this.cateSelArr.length;s++){if(this.cateSelArr[s].fdId==t){r=true;break}}return r},_addSelItme:function(s,r){if(s.key==this.key){if(r){if(typeof r.labelLevel=="undefined"){r.labelLevel=typeof s.labelLevel!="undefined"?s.labelLevel:s.label}if(!this._checkInSelArr(r.fdId)){this.cateSelArr.push(r)}}this._resizeSelection()}},_delSelItem:function(s,r){if(s.key==this.key){if(r&&r.fdId){for(var t=0;t<this.cateSelArr.length;t++){if(this.cateSelArr[t].fdId==r.fdId){this.cateSelArr.splice(t,1);break}}this._resizeSelection()}}},_resizeSelection:function(){var s=0;var r=this.cateSelArr.length;if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}if(r>0){this.leftArea.className="muiCateSecLeft";this.clearButtonNode.className="muiCateClearBtn";if(this.clearHandle==null){this.clearHandle=this.connect(this.clearButtonNode,"click",a.hitch(this,function(){this._clearSelItem(this);this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}}))}if(this.popHandle==null){this.popHandle=this.connect(this.leftArea,"click","_popSelItem")}}else{this.leftArea.className="muiCateSecLeft muiCateSecBtnDis";this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.popHandle){this.disconnect(this.popHandle);this.popHandle=null}if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}}this.leftArea.innerHTML=d["mui.button.count"].replace("%count%",r);m.publish("/mui/category/selChanged",this,this._calcCurSel())},_calcCurSel:function(){var r={curIds:"",curNames:"",key:this.key};if(this.cateSelArr.length>0){var s="";var t="";n.forEach(this.cateSelArr,function(u){s+=";"+u.fdId;t+=";"+u.label});if(s!=""){s=s.substring(1);t=t.substring(1);r.curIds=s;r.curNames=t}}if(r.curNames==""){r.curNames=window.SEL_CATEGORY_DEFAULT_TITLE}return r}});return p})}}});require({cache:{"sys/mobile/js/mui/mui-simpleCate_zh-cn._min_":function(){define("",{})}}});