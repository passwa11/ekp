require({cache:{"sys/mobile/js/mui/top/_TopViewMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/_base/lang"],function(b,a,d){return b("mui.list._TopViewMixin",null,{adjustDestination:"/mui/list/adjustDestination",listTop:"/mui/list/toTop",toTop:function(e){a.publish(this.listTop,this)},connectToggle:function(){this.subscribe(this.adjustDestination,d.hitch(function(f,k,h,g){var e=k.y<-5&&((g!=null&&g.c.h>=g.d.h)||g==null);if(e&&!this._show){a.publish("mui/view/addBottomTip")}this.show();if(!e&&this._show){this.hide()}}));this.subscribe("mui/view/showTop","show");this.subscribe("mui/view/hideTop","hide")}})})},"sys/mobile/js/mui/device/kk5/dojo.custom":function(){require(["dojo/_base/lang","mui/device/kk5/xhr","mui/device/kk5/kkHttpRequest","lib/kk5/kk5"],function(g,a,d,f){window.dojo4OfflineKK=true;window.FormData=null;window.CustomHttpRequest=d;var e=dojoConfig.cacheBust;function h(k){k+="";return k+(e?((/\?/.test(k)?"&":"?")+e):"")}function b(k,l){return g.mixin(new Error(k),{src:"dojoLoader",info:l})}require.getText=function(k,m,l){try{var o=require.getXhr();o.open("GET",h(k),false);o.send(null);if(o.status==200||(!location.host&&!o.status)){if(l){l(o.responseText,m)}}else{throw b("xhrFailed",o.status)}}catch(n){o=a._create();o.open("GET",h(k),false);o.__startTime=new Date().getTime();o.send(null);o.addEventListener("load",function(){if(o.status==200||(!location.host&&!o.status)){if(l){l(o.responseText,m)}}else{throw b("xhrFailed",o.status)}},false);o.addEventListener("error",function(){throw b("xhrFailed",o.status)},false)}return o.responseText}})},"sys/mobile/js/mui/address/AddressDeptMemberListMixin":function(){define(["dojo/_base/declare","./AddressItemListMixin"],function(b,a){return b("mui.address.AddressDeptMemberListMixin",[a],{dataUrl:"/sys/organization/mobile/address.do?method=deptMemberList",searchUrl:"/sys/organization/mobile/address.do?method=deptMemberList&keyword=!{keyword}"})})},"sys/mobile/js/mui/dialog/BarTip":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","mui/dialog/_DialogBase","dojo/_base/window","dojo/_base/fx","mui/util"],function(f,a,m,e,k,b,h,d,g){var l=f("mui.dialog.BarTip",[b],{baseClass:"muiDialogBarTip mblIn",icon:"mui mui-label",text:null,time:-1,buildRendering:function(){this.inherited(arguments);this.textNode=e.create("span",{innerHTML:this.text});this.iconNode=e.toDom("<div class='iconNode'></div>");e.place(e.create("i",{className:this.icon}),this.iconNode,"last");this.closeNode=e.toDom("<div class='closeNode'><i class='mui mui-close'></i></div>");var n=e.toDom("<div class='containerNode'></div>");var o=e.toDom("<div class='containerNodeWrap'></div>");e.place(this.iconNode,n,"last");e.place(this.textNode,n,"last");e.place(this.closeNode,n,"last");e.place(n,o,"last");e.place(o,this.domNode,"last")},postCreate:function(){e.place(this.domNode,h.body(),"last");this.connect(this.closeNode,"click",function(){this.hide()})},show:function(){k.set(this.domNode,"opacity","0");d.fadeIn({node:this.domNode,duration:1000}).play(300);return this.inherited(arguments)},hide:function(){var n=this.domNode;d.fadeOut({node:this.domNode,duration:1000,end:function(){k.set(n,"display","none")}}).play();return this.inherited(arguments)}});return{tip:function(n){return new l(n).show()},BarTip:l}})},"sys/mobile/js/mui/commondialog/template/InnerItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/commondialog/template/InnerItemMixin"],function(b,a,d){return b("mui.commondialog.template.InnerItemListMixin",[a],{itemRenderer:d})})},"sys/mobile/js/mui/device/kk5/_attachment":function(){define(["dojo/_base/declare","dojo/request","mui/device/attachment/_attachmentProxy","lib/kk5/kk5","mui/util"],function(b,d,f,e,a){return b("mui.device.kk5._attachment",[f],{_uploadFile:function(l,k){var g=this;var h=g.uploadurl;if(this.uploadType==2){h=this.rtfUploadUrl}var m=(k&&k.header)?k.header.userkey:"";e.proxy.uploadView({token:m,userkey:m,url:h,fullPath:l.fileUri},function(n){l.filekey=n.filekey;l.status=2;l.href=l.fileUri;g.uploadSuccess(l,n)},function(n){if(window.console){window.console.log("KK.proxy.uploadView fail:"+n)}l.status=0;g.uploadError(l,{rtn:fileInfo})})}})})},"sys/mobile/js/mui/syscategory/SysCategorySelection":function(){define(["dojo/_base/declare","mui/simplecategory/SimpleCategorySelection"],function(b,a){var d=b("mui.syscategory.SysCategorySelection",[a],{modelName:null,pathUrl:"/sys/category/mobile/sysCategory.do?method=pathList&cateId=!{curId}&modelName=!{modelName}&template=true&fdTempKey=!{tempKey}",detailUrl:"/sys/category/mobile/sysCategory.do?method=detailList&cateId=!{curIds}&modelName=!{modelName}&fdTempKey=!{tempKey}"});return d})},"sys/mobile/js/mui/property/PropertyDialogMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/html","dojox/mobile/_css3","dojo/dom-style","dojo/_base/lang","dojo/_base/array","dijit/registry","dojo/topic","dojo/dom-class","mui/history/listener","mui/ChannelMixin","./PropertyFilterValuesMixin"],function(f,e,k,q,m,b,o,a,h,p,d,l,g){var n=f("mui.property.PropertyDialogMixin",[l,g],{modelName:null,fdCategoryId:null,filterURL:"",key:"__default__",buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/property/filter/submit","submit");this.subscribe("/mui/property/filter/reset","reset");this.subscribe("/mui/property/filter/hide","hide");this.subscribe("/mui/catefilter/confirm","setFdCategoryId")},setFdCategoryId:function(t,s){if(!this.isSameChannel(t.key)){return}this.fdCategoryId=s.value.value},startup:function(){this.inherited(arguments)},reset:function(){this.values=this.resetValue(this.values);this._values=this.resetValue(this._values);h.publish("/mui/form/datetime/change",null,true);h.publish("/mui/property/filter/input/change",true);this.publishValues()},submit:function(){var s=this;this.defer(function(){h.publish("/mui/property/filter",this,this.ensureValues(this.values));s.hide()},1);p.toggle(this.domNode,"selected",this.hasValue());this.inherited(arguments)},show:function(s){this.removeFilter();this.openFilter()},removeFilter:function(){if(this.parseResults){var s=this.parseResults;for(var t=0;t<s.length;t++){s[t].destroy()}}this.dialogDiv&&e.destroy(this.dialogDiv);this.dialogDiv=null},hide:function(){var s=this;if(!s.dialogDiv){return}p.remove(s.dialogDiv,"muiShow");setTimeout(function(){s.removeFilter()},300);if(this.previousHistoryId){d.go({historyId:this.previousHistoryId,callback:function(){}});this.previousHistoryId=null}},showFilter:function(){this.dialogDiv&&p.add(this.dialogDiv,"muiShow")},openFilter:function(){var s=this;var t="mui/property/filter.jsp?modelName="+this.modelName+"&fdCategoryId="+this.fdCategoryId;if(this.filterURL){t=this.filterURL}var u=this.key;require(["dojo/text!"+t],function(A){s.dialogDiv=e.create("div",{className:"filterlayer_dialog"},document.body,"last");var x=e.create("div",{className:"filterlayer_mask"},s.dialogDiv);s.connect(x,"onclick","hide");var B=e.create("div",{className:"filterlayer_content"},s.dialogDiv);var z=s.buildDialogButton();s.dialogDiv.appendChild(z);var w=s.getStaticFilters();A=A.replace("{!staticFilters}",w);var y=A.indexOf("mui/property/filter")>-1;if(w==""&&!y){A=s.buildNoDataTmpl()}if(y){A=A.replace(/!{key}/g,u)}var v=new k._ContentSetter({node:B,parseContent:true,cleanContent:true});v.set(A);v.parseDeferred.then(function(C){s.parseResults=C;setTimeout(function(){s.showFilter()},50)});v.tearDown()})},buildNoDataTmpl:function(){var s='<li class="muiListNoData" style="height: 550px; line-height: 550px;">';s+='<div class="muiListNoDataArea">';s+='<div class="muiListNoDataInnerArea">';s+='<div class="muiListNoDataContainer muiListNoDataIcon">';s+='<i class="mui mui-message"></i>';s+="</div></div>";s+='<div class="muiListNoDataTxt">暂无内容</div>';s+="</div></li>";return s},ensureValues:function(t){var u=b.clone(t);var w=function(z){if(this.filters&&this.filters.length>0){for(var y=0;y<this.filters.length;y++){var A=this.filters[y];if(A.name===z&&typeof(A.prefix)!=="undefined"){return A.prefix}if(A.name===z){break}}}return"q"};for(var v in u){var x=w(v);if(x!=="q"){var s=b.isObject(u[v])&&!b.isArray(u[v]);u[v]=s?b.mixin({prefix:x},u[v]):{prefix:x,value:u[v]}}}return u},resetValue:function(s){var t=b.clone(s);for(var u in t){if(b.isArray(t[u])){t[u]=[]}else{if(b.isObject(t[u])){t[u].value=[]}else{t[u]=""}}}return t}});return n})},"sys/mobile/js/mui/list/item/_TemplateItemMixin":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin"],function(d,b,e,a){return d("mui.list.item._TemplateItemMixin",[b,e,a],{})})},"sys/mobile/js/mui/list/item/TemplateItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dojox/mobile/_ItemBase","mui/util","mui/openProxyMixin"],function(d,a,h,f,g,k,e,b){var l=d("mui.list.item.TemplateItemMixin",[k,b],{tag:"div",baseClass:"muiTemplateCard",label:"",fdDesc:"",optTxt:"",href:"",buildRendering:function(){this.inherited(arguments);this.domNode=a.create(this.tag,{className:this.baseClass});this.buildInternalRender()},buildInternalRender:function(){this.contentNode=a.create("div",{className:""},this.domNode);this.titleNode=a.create("p",{className:"",innerHTML:this.label},this.contentNode);if(this.fdDesc){a.create("span",{className:"",innerHTML:this.fdDesc},this.contentNode)}if(this.href){this.optNode=a.create("div",{className:"btn",innerHTML:this.optTxt},this.domNode);this.proxyClick(this.optNode,this.href,"_blank")}},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(m){if(m){this._set("label",m)}}});return l})},"sys/mobile/js/mui/device/ereb/attachment":function(){define(["dojo/_base/declare","dojo/query","dojo/topic","dojo/request","dojo/_base/lang","mui/device/_attachment","mui/device/kk5/attachment","lib/kk5/kk5"],function(b,e,a,d,h,g,k,f){return b("mui.device.ereb.attachment",[g,k],{constructor:function(l){this.inherited(arguments);a.subscribe("attachmentObject_delete_ereb",h.hitch(this,function(){this.rawFilePath=""}))},uploadSuccess:function(m,l){m.filekey=l.filekey;a.publish(this.eventPrefix+"success_ereb",this,h.mixin(l,{file:m}))}})})},"sys/mobile/js/mui/device/_attachment":function(){define(["mui/device/attachment/_attachmentDirect","mui/device/attachment/_attachmentProxy"],function(b,a){if(window.attachmentConfig&&window.attachmentConfig.isSupportDirect){return b}return a})},"sys/mobile/js/mui/form/editor/EditorPluginMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-construct","dojo/_base/lang"],function(b,e,a,d){return b("mui.form.editor.plugins.EditorPluginMixin",null,{plugins:["face","image","lingling","dnyling"],holdTime:250,lastTime:null,fireClick:function(f){if(!this.lastTime){this.lastTime=new Date().getTime();return true}var g=this.lastTime;this.lastTime=new Date().getTime();if(g&&this.lastTime-g<=this.holdTime){return false}return true},formatPlugin:function(){this.plugins=e.map(this.plugins,function(g){var f=g;if(g.indexOf("/")<0){f="mui/form/editor/plugins/"+g+"/Plugin"}return f},this)},buildEdit:function(){this.inherited(arguments);this.formatPlugin();this.editorDeferred.then(d.hitch(this,function(){var f=this;require(this.plugins,function(){e.forEach(arguments,function(g){var k=new g({editor:this});var h;if(k.iconImg){h=a.create("a",{style:{lineHeight:"4.5rem"},className:k.icon+" mui",innerHTML:'<img src="'+k.iconImg+'" width="24" height="24"/>',href:"javascript:;"},this.pluginNode)}else{h=a.create("a",{className:k.icon+" mui",href:"javascript:;"},this.pluginNode)}if(k.event){this.connect(h,"click",function(l){if(!this.fireClick(l)){return}this.defer(function(){this.__textNode.blur();k.event.call(k,l)},1)})}k.startup()},f)})}))}})})},"sys/mobile/js/mui/sharetop/ShareTop":function(){define(["dojo/_base/declare","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/_base/array"],function(f,l,b,e,a,k,d,g,h){return f("mui.top.Top",[e,b,l],{bottom:"60px",right:"5px",fdModelId:"",fdModelName:"",fdTemplateId:"",fdAllPath:"",buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode}k.replace(this.containerNode,"muiShareTop");g.set(this.domNode,{bottom:!this.bottom?"60px":this.bottom,right:!this.right?"60px":this.right});g.set(this.domNode,{display:"block"})},startup:function(){if(this._started){return}this.inherited(arguments)},postCreate:function(){this.connect(this.domNode,"onclick","_onClick");this.connectToggle()},_onClick:function(m){this.toCreate(m)},toCreate:function(m){},connectToggle:function(){}})})},"sys/mobile/js/mui/form/_SelectBase":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/form/_FormBase","dojo/dom-class","mui/util","mui/form/_PlaceholderMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-attr"],function(e,d,h,k,f,b,a,g){var l=e("mui.form._SelectBase",[h,b],{baseClass:"muiFormEleWrap popup",optClass:"muis-to-right",tipMsg:a["mui.form.please.select"],_buildValue:function(){this.inherited(arguments);var n="build"+f.capitalize(this.showStatus);this[n]?this[n]():"";var m=this.showStatus+"ValueSet";this.showStatusSet=this[m]?this[m]:new Function()},buildRendering:function(){this.inherited(arguments);this.inputContent=d.create("div",{className:"muiSelInput"},this.domNode);if(this.buildXFormStyle()){$(this.inputContent).attr("style",this.buildXFormStyle())}var m=this.buildXFormStyle();if(m){g.set(this.inputContent,"style",m)}this.contentNode=this.inputContent;this._buildValue()},_readOnlyAction:function(m){this.inherited(arguments)},_setValueAttr:function(m){this.showStatusSet(m);this.inherited(arguments);if(this.domNode){if(!m&&this.edit&&this.showPleaseSelect){k.remove(this.domNode,"showTitle")}else{k.add(this.domNode,"showTitle")}}}});return l})},"sys/mobile/js/mui/form/validate/Validator":function(){define(["dojo/_base/declare"],function(b){var a=b("mui.form.validate.Validator",null,{type:"",error:"",owner:this,options:{},params:[],testFun:function(e,d){return true},constructor:function(f,e,g,d){this.inherited(arguments);if(f){this.type=f}if(e){this.error=e}if(g){this.testFun=g}if(d){this.params=d}},test:function(e,d){return this.testFun.call(this.owner,e,d,this.options)},setOption:function(e,d){this.options[e]=d},setOwner:function(d){this.owner=d||this},setParams:function(d){this.params=d},setParamValues:function(d){for(var e=0,f=this.params.length;e<f;e++){if(e==d.length){break}this.setOption(this.params[e],d[e])}}});return a})},"sys/mobile/js/mui/device/attachment/_md5FileMixin":function(){define(["dojo/_base/declare","dojo/topic"],function(b,a){return b("mui.device.attachment._md5FileMixin",null,{MD5_CACULATE_DONE:"MD5.CACULATE.DONE",loadFromBlob:function(d){var f=this;if(!(d instanceof File)){f.md5Next(d,f.getResult());return}var h=2*1024*1024;var g=Math.ceil(d.size/h);var e=0;require(["lib/spark-md5"],function(m){var o=new m.ArrayBuffer();var l=d.mozSlice||d.webkitSlice||d.slice,n;var k=new FileReader();n=function(){var q,p;q=e*h;p=Math.min(q+h,d.size);k.onload=function(s){o.append(s.target.result)};k.onloadend=function(){k.onloadend=k.onload=null;if(++e<g){setTimeout(n,1)}else{setTimeout(function(){f.result=o.end();n=o=null;f.md5Next(d,f.getResult())},50)}};k.readAsArrayBuffer(l.call(d,q,p))};n()})},md5Next:function(){},getResult:function(){return this.result||""}})})},"sys/mobile/js/mui/search/SwapSearchMixin":function(){define(["dojo/_base/declare","mui/util","dojo/_base/array","dojo/query","dijit/registry","dojo/topic"],function(e,a,g,f,b,d){return e("mui.search.SwapSearchMixin",null,{searchKey:null,searchValue:null,buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/search/submit","searchConfirm");this.subscribe("/mui/search/cancel","cancelSearch")},generateSwapList:function(h,k){this.propertyUrls=[];if(this.searchValue){g.forEach(h,function(l){l.url=a.setUrlParameter(l.url,this.searchKey,this.searchValue)},this)}this.inherited(arguments)},cancelSearch:function(){this.searchValue=null;this._searchChangeUrl()},searchConfirm:function(k,h){if(!h){return}this.searchValue=h.keyword;this._searchChangeUrl()},_searchChangeUrl:function(){var h=this.getChildren();if(h.length==0){return}d.publish("/mui/list/toTop",this);g.forEach(h,function(k){k.reloadTime=0;var m=k.getChildren()[0];var l=b.getEnclosingWidget(f(".mblEdgeToEdgeList",k.domNode)[0]);m.rel.url=a.setUrlParameter(m.rel.url,this.searchKey,this.searchValue);l.url=a.formatUrl(m.rel.url);if(this.currView==k){l.reload()}},this)}})})},"sys/mobile/js/mui/swiper/Swiper":function(){define(["dojo/parser","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/topic","dojo/request","dojo/on","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dijit/_WidgetBase","dijit/_Container","dijit/_Contained"],function(a,k,b,n,l,h,o,g,s,m,p,f,e,q){function d(F,x){var y=function(){};var N=function(V){setTimeout(V||y,0)};var U={addEventListener:!!window.addEventListener,touch:("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch,transitions:(function(V){var X=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var W in X){if(V.style[X[W]]!==undefined){return true}}return false})(document.createElement("swipe"))};if(!F){return}var v=F.children[0];var L,w,K,z;x=x||{};var D=parseInt(x.startSlide,10)||0;var O=x.speed||300;x.continuous=x.continuous!==undefined?x.continuous:true;function G(){L=v.children;z=L.length;if(L.length<2){x.continuous=false}if(U.transitions&&x.continuous&&L.length<3){v.appendChild(L[0].cloneNode(true));v.appendChild(v.children[1].cloneNode(true));L=v.children}w=new Array(L.length);K=F.getBoundingClientRect().width||F.offsetWidth;v.style.width=(L.length*K)+"px";var W=L.length;while(W--){var V=L[W];V.style.width=K+"px";V.setAttribute("data-index",W);if(U.transitions){V.style.left=(W*-K)+"px";J(W,D>W?-K:(D<W?K:0),0)}}if(x.continuous&&U.transitions){J(B(D-1),-K,0);J(B(D+1),K,0)}if(!U.transitions){v.style.left=(D*-K)+"px"}F.style.visibility="visible"}function H(){if(x.continuous){t(D-1)}else{if(D){t(D-1)}}}function I(){if(x.continuous){t(D+1)}else{if(D<L.length-1){t(D+1)}}}function B(V){return(L.length+(V%L.length))%L.length}function t(Z,W){if(D==Z){return}if(U.transitions){var Y=Math.abs(D-Z)/(D-Z);if(x.continuous){var V=Y;Y=-w[B(Z)]/K;if(Y!==V){Z=-Y*L.length+Z}}var X=Math.abs(D-Z)-1;while(X--){J(B((Z>D?Z:D)-X-1),K*Y,0)}Z=B(Z);J(D,K*Y,W||O);J(Z,0,W||O);if(x.continuous){J(B(Z-Y),-(K*Y),0)}}else{Z=B(Z);C(D*-K,Z*-K,W||O)}D=Z;N(x.callback&&x.callback(D,L[D]))}function J(V,X,W){E(V,X,W);w[V]=X}function E(W,Z,Y){var V=L[W];var X=V&&V.style;if(!X){return}X.webkitTransitionDuration=X.MozTransitionDuration=X.msTransitionDuration=X.OTransitionDuration=X.transitionDuration=Y+"ms";X.webkitTransform="translate("+Z+"px,0)translateZ(0)";X.msTransform=X.MozTransform=X.OTransform="translateX("+Z+"px)"}function C(Z,Y,V){if(!V){v.style.left=Y+"px";return}var X=+new Date;var W=setInterval(function(){var aa=+new Date-X;if(aa>V){v.style.left=Y+"px";if(T){Q()}x.transitionEnd&&x.transitionEnd.call(event,D,L[D]);clearInterval(W);return}v.style.left=(((Y-Z)*(Math.floor((aa/V)*100)/100))+Z)+"px"},4)}var T=x.auto||0;var P;function Q(){P=setTimeout(I,T)}function M(){T=0;clearTimeout(P)}var A={};var R={};var S;var u={handleEvent:function(V){switch(V.type){case"touchstart":this.start(V);break;case"touchmove":this.move(V);break;case"touchend":N(this.end(V));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":N(this.transitionEnd(V));break;case"resize":N(G);break}if(x.stopPropagation){V.stopPropagation()}},start:function(V){var W=V.touches[0];A={x:W.pageX,y:W.pageY,time:+new Date};S=undefined;R={};v.addEventListener("touchmove",this,false);v.addEventListener("touchend",this,false)},move:function(V){if(V.touches.length>1||V.scale&&V.scale!==1){return}if(x.disableScroll){V.preventDefault()}var W=V.touches[0];R={x:W.pageX-A.x,y:W.pageY-A.y};if(typeof S=="undefined"){S=!!(S||Math.abs(R.x)<Math.abs(R.y))}if(!S){V.preventDefault();M();if(x.continuous){E(B(D-1),R.x+w[B(D-1)],0);E(D,R.x+w[D],0);E(B(D+1),R.x+w[B(D+1)],0)}else{R.x=R.x/((!D&&R.x>0||D==L.length-1&&R.x<0)?(Math.abs(R.x)/K+1):1);E(D-1,R.x+w[D-1],0);E(D,R.x+w[D],0);E(D+1,R.x+w[D+1],0)}}},end:function(X){var Z=+new Date-A.time;var W=Number(Z)<250&&Math.abs(R.x)>20||Math.abs(R.x)>K/2;var V=!D&&R.x>0||D==L.length-1&&R.x<0;if(x.continuous){V=false}var Y=R.x<0;if(!S){if(W&&!V){if(Y){if(x.continuous){J(B(D-1),-K,0);J(B(D+2),K,0)}else{J(D-1,-K,0)}J(D,w[D]-K,O);J(B(D+1),w[B(D+1)]-K,O);D=B(D+1)}else{if(x.continuous){J(B(D+1),K,0);J(B(D-2),-K,0)}else{J(D+1,K,0)}J(D,w[D]+K,O);J(B(D-1),w[B(D-1)]+K,O);D=B(D-1)}x.callback&&x.callback(D,L[D])}else{if(x.continuous){J(B(D-1),-K,O);J(D,0,O);J(B(D+1),K,O)}else{J(D-1,-K,O);J(D,0,O);J(D+1,K,O)}}}v.removeEventListener("touchmove",u,false);v.removeEventListener("touchend",u,false)},transitionEnd:function(V){if(parseInt(V.target.getAttribute("data-index"),10)==D){if(T){Q()}x.transitionEnd&&x.transitionEnd.call(V,D,L[D])}}};G();if(T){Q()}if(U.addEventListener){if(U.touch){v.addEventListener("touchstart",u,false)}if(U.transitions){v.addEventListener("webkitTransitionEnd",u,false);v.addEventListener("msTransitionEnd",u,false);v.addEventListener("oTransitionEnd",u,false);v.addEventListener("otransitionend",u,false);v.addEventListener("transitionend",u,false)}window.addEventListener("resize",u,false)}else{window.onresize=function(){G()}}return{setup:function(){G()},slide:function(W,V){M();t(W,V)},prev:function(){M();H()},next:function(){M();I()},stop:function(){M()},getPos:function(){return D},getNumSlides:function(){return z},kill:function(){M();v.style.width="";v.style.left="";var W=L.length;while(W--){var V=L[W];V.style.width="";V.style.left="";if(U.transitions){E(W,0,0)}}if(U.addEventListener){v.removeEventListener("touchstart",u,false);v.removeEventListener("webkitTransitionEnd",u,false);v.removeEventListener("msTransitionEnd",u,false);v.removeEventListener("oTransitionEnd",u,false);v.removeEventListener("otransitionend",u,false);v.removeEventListener("transitionend",u,false);window.removeEventListener("resize",u,false)}else{window.onresize=null}}}}return k("mui.swiper.Swiper",[f,e,q],{options:{},postCreate:function(){this.initStyle()},buildRendering:function(){var t=this;t.inherited(arguments);p.add(t.domNode,"muiSwiper");t.innerHTML=t.domNode.innerHTML;t.domNode.innerHTML="";var u=s.create("div",{className:"muiSwiperWrap",innerHTML:t.innerHTML},t.domNode);try{a.parse(u).then(function(){d(t.domNode,b.mixin({},t.options))})}catch(v){}},initStyle:function(){var t=s.create("style",{innerHTML:" 							.muiSwiper { 								overflow: hidden; 								visibility: hidden; 								position: relative; 							} 							.muiSwiperWrap { 								overflow: hidden; 								position: relative; 							} 							.muiSwiperWrap > .muiSwiperItem { 								float:left; 								width:100%; 								position: relative; 							} 						"},document.head)}})})},"sys/mobile/js/mui/chart/Chart2":function(){!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.echarts={})}(this,function(YY){function ZZ(f){var h={},l={},d=f.match(/Firefox\/([\d.]+)/),k=f.match(/MSIE\s([\d.]+)/)||f.match(/Trident\/.+?rv:(([\d.]+))/),b=f.match(/Edge\/([\d.]+)/),g=/micromessenger/i.test(f);return d&&(l.firefox=!0,l.version=d[1]),k&&(l.ie=!0,l.version=k[1]),b&&(l.edge=!0,l.version=b[1]),g&&(l.weChat=!0),{browser:l,os:h,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart" in window&&!l.ie&&!l.edge,pointerEventsSupported:"onpointerdown" in window&&(l.edge||l.ie&&l.version>=11)}}function Zj(a,b){h3[a]=b}function ZQ(d){if(null==d||"object"!=typeof d){return d}var h=d,l=OU.call(d);if("[object Array]"===l){h=[];for(var k=0,b=d.length;b>k;k++){h[k]=ZQ(d[k])}}else{if(LU[l]){var g=d.constructor;if(d.constructor.from){h=g.from(d)}else{h=new g(d.length);for(var k=0,b=d.length;b>k;k++){h[k]=ZQ(d[k])}}}else{if(!UN[l]&&!aaA(d)&&!aaF(d)){h={};for(var f in d){d.hasOwnProperty(f)&&(h[f]=ZQ(d[f]))}}}}return h}function Y9(d,h,k){if(!YQ(h)||!YQ(d)){return k?ZQ(h):d}for(var b in h){if(h.hasOwnProperty(b)){var g=d[b],f=h[b];!YQ(f)||!YQ(g)||YO(f)||YO(g)||aaF(f)||aaF(g)||aas(f)||aas(g)||aaA(f)||aaA(g)?!k&&b in d||(d[b]=ZQ(h[b],!0)):Y9(g,f,k)}}return d}function Z8(f,g){for(var h=f[0],d=1,b=f.length;b>d;d++){h=Y9(h,f[d],g)}return h}function Y2(a,b){for(var d in b){b.hasOwnProperty(d)&&(a[d]=b[d])}return a}function Y0(b,d,f){for(var a in d){d.hasOwnProperty(a)&&(f?null!=d[a]:null==b[a])&&(b[a]=d[a])}return b}function ZB(){return r0||(r0=n1().getContext("2d")),r0}function YX(b,d){if(b){if(b.indexOf){return b.indexOf(d)}for(var f=0,a=b.length;a>f;f++){if(b[f]===d){return f}}}return -1}function ZR(b,d){function g(){}var a=b.prototype;g.prototype=d.prototype,b.prototype=new g;for(var f in a){b.prototype[f]=a[f]}b.prototype.constructor=b,b.superClass=d}function Z3(a,b,d){a="prototype" in a?a.prototype:a,b="prototype" in b?b.prototype:b,Y0(a,b,d)}function Z1(a){return a?"string"==typeof a?!1:"number"==typeof a.length:void 0}function ZX(f,g,k){if(f&&g){if(f.forEach&&f.forEach===CW){f.forEach(g,k)}else{if(f.length===+f.length){for(var d=0,h=f.length;h>d;d++){g.call(k,f[d],d,f)}}else{for(var b in f){f.hasOwnProperty(b)&&g.call(k,f[b],b,f)}}}}}function ZU(f,g,k){if(f&&g){if(f.map&&f.map===aaj){return f.map(g,k)}for(var d=[],h=0,b=f.length;b>h;h++){d.push(g.call(k,f[h],h,f))}return d}}function Y7(f,g,k,d){if(f&&g){if(f.reduce&&f.reduce===EW){return f.reduce(g,k,d)}for(var h=0,b=f.length;b>h;h++){k=g.call(d,k,f[h],h,f)}return k}}function Zt(f,g,k){if(f&&g){if(f.filter&&f.filter===DW){return f.filter(g,k)}for(var d=[],h=0,b=f.length;b>h;h++){g.call(k,f[h],h,f)&&d.push(f[h])}return d}}function YU(a,b){var d=aj.call(arguments,2);return function(){return a.apply(b,d.concat(aj.call(arguments)))}}function YN(a){var b=aj.call(arguments,1);return function(){return a.apply(this,b.concat(aj.call(arguments)))}}function YO(a){return"[object Array]"===OU.call(a)}function aac(a){return"function"==typeof a}function Z5(a){return"[object String]"===OU.call(a)}function YQ(a){var b=typeof a;return"function"===b||!!a&&"object"==b}function aas(a){return !!UN[OU.call(a)]}function aaF(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function aaO(a){return a!==a}function aaq(){for(var a=0,b=arguments.length;b>a;a++){if(null!=arguments[a]){return arguments[a]}}}function aa7(a,b){return null!=a?a:b}function aaY(a,b,d){return null!=a?a:null!=b?b:d}function aa0(){return Function.call.apply(aj,arguments)}function aaH(a){if("number"==typeof a){return[a,a,a,a]}var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function aaz(a,b){if(!a){throw new Error(b)}}function ZF(a){a[g3]=!0}function aaA(a){return a[g3]}function YK(a){a&&ZX(a,function(b,d){this.set(d,b)},this)}function aaD(a){return new YK(a)}function aaW(){}function aau(a,b){var d=new x0(2);return null==a&&(a=0),null==b&&(b=0),d[0]=a,d[1]=b,d}function aa3(a,b){return a[0]=b[0],a[1]=b[1],a}function aan(a){var b=new x0(2);return b[0]=a[0],b[1]=a[1],b}function aaS(a,b,d){return a[0]=b,a[1]=d,a}function aak(a,b,d){return a[0]=b[0]+d[0],a[1]=b[1]+d[1],a}function aaP(b,d,f,a){return b[0]=d[0]+f[0]*a,b[1]=d[1]+f[1]*a,b}function aaU(a,b,d){return a[0]=b[0]-d[0],a[1]=b[1]-d[1],a}function aag(a){return Math.sqrt(aai(a))}function aai(a){return a[0]*a[0]+a[1]*a[1]}function aah(a,b,d){return a[0]=b[0]*d,a[1]=b[1]*d,a}function aao(a,b){var d=aag(b);return 0===d?(a[0]=0,a[1]=0):(a[0]=b[0]/d,a[1]=b[1]/d),a}function Y4(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}function ZJ(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}function abz(b,d,f,a){return b[0]=d[0]+a*(f[0]-d[0]),b[1]=d[1]+a*(f[1]-d[1]),b}function aaK(b,d,g){var a=d[0],f=d[1];return b[0]=g[0]*a+g[2]*f+g[4],b[1]=g[1]*a+g[3]*f+g[5],b}function aaN(a,b,d){return a[0]=Math.min(b[0],d[0]),a[1]=Math.min(b[1],d[1]),a}function aax(a,b,d){return a[0]=Math.max(b[0],d[0]),a[1]=Math.max(b[1],d[1]),a}function IG(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function Xt(a,b){return{target:a,topTarget:b&&b.topTarget}}function OF(a,b,d){return{type:a,event:d,target:b.target,topTarget:b.topTarget,cancelBubble:!1,offsetX:d.zrX,offsetY:d.zrY,gestureEvent:d.gestureEvent,pinchX:d.pinchX,pinchY:d.pinchY,pinchScale:d.pinchScale,wheelDelta:d.zrDelta,zrByTouch:d.zrByTouch,which:d.which}}function Tt(){}function NF(b,d,g){if(b[b.rectHover?"rectContain":"contain"](d,g)){for(var a,f=b;f;){if(f.clipPath&&!f.clipPath.contain(d,g)){return !1}f.silent&&(a=!0),f=f.parent}return a?B6:!0}return !1}function aby(){var a=new i3(6);return KG(a),a}function KG(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function JG(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function QF(p,k,f){var h=k[0]*f[0]+k[2]*f[1],d=k[1]*f[0]+k[3]*f[1],m=k[0]*f[2]+k[2]*f[3],b=k[1]*f[2]+k[3]*f[3],q=k[0]*f[4]+k[2]*f[5]+k[4],g=k[1]*f[4]+k[3]*f[5]+k[5];return p[0]=h,p[1]=d,p[2]=m,p[3]=b,p[4]=q,p[5]=g,p}function HG(a,b,d){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+d[0],a[5]=b[5]+d[1],a}function Ut(w,p,f){var k=p[0],d=p[2],q=p[4],b=p[1],x=p[3],g=p[5],v=Math.sin(f),m=Math.cos(f);return w[0]=k*m+b*v,w[1]=-k*v+b*m,w[2]=d*m+x*v,w[3]=-d*v+m*x,w[4]=m*q+v*g,w[5]=m*g-v*q,w}function Z4(b,d,g){var a=g[0],f=g[1];return b[0]=d[0]*a,b[1]=d[1]*f,b[2]=d[2]*a,b[3]=d[3]*f,b[4]=d[4]*a,b[5]=d[5]*f,b}function Yq(p,k){var f=k[0],h=k[2],d=k[4],m=k[1],b=k[3],q=k[5],g=f*b-m*h;return g?(g=1/g,p[0]=b*g,p[1]=-m*g,p[2]=-h*g,p[3]=f*g,p[4]=(h*q-b*d)*g,p[5]=(m*d-f*q)*g,p):null}function Wt(a){return a>e3||-e3>a}function Vt(a){this._target=a.target,this._life=a.life||1000,this._delay=a.delay||0,this._initialized=!1,this.loop=null==a.loop?!1:a.loop,this.gap=a.gap||0,this.easing=a.easing||"Linear",this.onframe=a.onframe,this.ondestroy=a.ondestroy,this.onrestart=a.onrestart,this._pausedTime=0,this._paused=!1}function MF(a){return a=Math.round(a),0>a?0:a>255?255:a}function PF(a){return a=Math.round(a),0>a?0:a>360?360:a}function GG(a){return 0>a?0:a>1?1:a}function DH(a){return MF(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100*255:parseInt(a,10))}function EH(a){return GG(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100:parseFloat(a))}function aV(a,b,d){return 0>d?d+=1:d>1&&(d-=1),1>6*d?a+(b-a)*d*6:1>2*d?b:2>3*d?a+(b-a)*(2/3-d)*6:a}function aaZ(a,b,d){return a+(b-a)*d}function FG(b,d,g,a,f){return b[0]=d,b[1]=g,b[2]=a,b[3]=f,b}function iU(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function oQ(a,b){p1&&iU(p1,b),p1=A7.put(a,p1||b.slice())}function sO(q,k){if(q){k=k||[];var f=A7.get(q);if(f){return iU(k,f)}q+="";var h=q.replace(/ /g,"").toLowerCase();if(h in RR){return iU(k,RR[h]),oQ(q,k),k}if("#"!==h.charAt(0)){var d=h.indexOf("("),m=h.indexOf(")");if(-1!==d&&m+1===h.length){var b=h.substr(0,d),v=h.substr(d+1,m-(d+1)).split(","),g=1;switch(b){case"rgba":if(4!==v.length){return void FG(k,0,0,0,1)}g=EH(v.pop());case"rgb":return 3!==v.length?void FG(k,0,0,0,1):(FG(k,DH(v[0]),DH(v[1]),DH(v[2]),g),oQ(q,k),k);case"hsla":return 4!==v.length?void FG(k,0,0,0,1):(v[3]=EH(v[3]),hU(v,k),oQ(q,k),k);case"hsl":return 3!==v.length?void FG(k,0,0,0,1):(hU(v,k),oQ(q,k),k);default:return}}FG(k,0,0,0,1)}else{if(4===h.length){var p=parseInt(h.substr(1),16);return p>=0&&4095>=p?(FG(k,(3840&p)>>4|(3840&p)>>8,240&p|(240&p)>>4,15&p|(15&p)<<4,1),oQ(q,k),k):void FG(k,0,0,0,1)}if(7===h.length){var p=parseInt(h.substr(1),16);return p>=0&&16777215>=p?(FG(k,(16711680&p)>>16,(65280&p)>>8,255&p,1),oQ(q,k),k):void FG(k,0,0,0,1)}}}}function hU(f,h){var l=(parseFloat(f[0])%360+360)%360/360,d=EH(f[1]),k=EH(f[2]),b=0.5>=k?k*(d+1):k+d-k*d,g=2*k-b;return h=h||[],FG(h,MF(255*aV(g,b,l+1/3)),MF(255*aV(g,b,l)),MF(255*aV(g,b,l-1/3)),1),4===f.length&&(h[3]=f[3]),h}function AK(B){if(B){var w,k,p=B[0]/255,g=B[1]/255,z=B[2]/255,b=Math.min(p,g,z),C=Math.max(p,g,z),m=C-b,A=(C+b)/2;if(0===m){w=0,k=0}else{k=0.5>A?m/(C+b):m/(2-C-b);var q=((C-p)/6+m/2)/m,y=((C-g)/6+m/2)/m,x=((C-z)/6+m/2)/m;p===C?w=x-y:g===C?w=1/3+q-x:z===C&&(w=2/3+y-q),0>w&&(w+=1),w>1&&(w-=1)}var v=[360*w,k,A];return null!=B[3]&&v.push(B[3]),v}}function xO(b,d){var f=sO(b);if(f){for(var a=0;3>a;a++){f[a]=0>d?f[a]*(1-d)|0:(255-f[a])*d+f[a]|0}return mQ(f,4===f.length?"rgba":"rgb")}}function yO(a){var b=sO(a);return b?((1<<24)+(b[0]<<16)+(b[1]<<8)+ +b[2]).toString(16).slice(1):void 0}function pQ(p,k,f){if(k&&k.length&&p>=0&&1>=p){f=f||[];var h=p*(k.length-1),d=Math.floor(h),m=Math.ceil(h),b=k[d],q=k[m],g=h-d;return f[0]=MF(aaZ(b[0],q[0],g)),f[1]=MF(aaZ(b[1],q[1],g)),f[2]=MF(aaZ(b[2],q[2],g)),f[3]=GG(aaZ(b[3],q[3],g)),f}}function lQ(b,d,f,a){return b=sO(b),b?(b=AK(b),null!=d&&(b[0]=PF(d)),null!=f&&(b[1]=EH(f)),null!=a&&(b[2]=EH(a)),mQ(hU(b),"rgba")):void 0}function RE(a,b){return a=sO(a),a&&null!=b?(a[3]=GG(b),mQ(a,"rgba")):void 0}function mQ(a,b){if(a&&a.length){var d=a[0]+","+a[1]+","+a[2];return("rgba"===b||"hsva"===b||"hsla"===b)&&(d+=","+a[3]),b+"("+d+")"}}function CN(a,b){return a[b]}function nQ(a,b,d){a[b]=d}function wO(a,b,d){return(b-a)*d+a}function jR(a,b,d){return d>0.5?b:a}function zN(p,k,f,h,d){var m=p.length;if(1==d){for(var b=0;m>b;b++){h[b]=wO(p[b],k[b],f)}}else{for(var q=m&&p[0].length,b=0;m>b;b++){for(var g=0;q>g;g++){h[b][g]=wO(p[b][g],k[b][g],f)}}}}function fU(p,k,f){var h=p.length,d=k.length;if(h!==d){var m=h>d;if(m){p.length=d}else{for(var b=h;d>b;b++){p.push(1===f?k[b]:q0.call(k[b]))}}}for(var q=p[0]&&p[0].length,b=0;b<p.length;b++){if(1===f){isNaN(p[b])&&(p[b]=k[b])}else{for(var g=0;q>g;g++){isNaN(p[b][g])&&(p[b][g]=k[b][g])}}}}function uO(f,h,l){if(f===h){return !0}var d=f.length;if(d!==h.length){return !1}if(1===l){for(var k=0;d>k;k++){if(f[k]!==h[k]){return !1}}}else{for(var b=f[0].length,k=0;d>k;k++){for(var g=0;b>g;g++){if(f[k][g]!==h[k][g]){return !1}}}}return !0}function eU(z,q,g,m,f,x,b,A,k){var y=z.length;if(1==k){for(var p=0;y>p;p++){A[p]=tO(z[p],q[p],g[p],m[p],f,x,b)}}else{for(var w=z[0].length,p=0;y>p;p++){for(var v=0;w>v;v++){A[p][v]=tO(z[p][v],q[p][v],g[p][v],m[p][v],f,x,b)}}}}function tO(p,k,f,h,d,m,b){var q=0.5*(f-p),g=0.5*(h-k);return(2*(k-f)+q+g)*b+(-3*(k-f)-2*q-g)*m+q*d+k}function vO(b){if(Z1(b)){var d=b.length;if(Z1(b[0])){for(var f=[],a=0;d>a;a++){f.push(q0.call(b[a]))}return f}return q0.call(b)}return b}function bU(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}function dU(a){var b=a[a.length-1].value;return Z1(b&&b[0])?2:1}function cO(X,ao,af,ak,ae,au){var ab=X._getter,Z=X._setter,ah="spline"===ao,W=ak.length;if(W){var al,ap=ak[0].value,an=Z1(ap),am=!1,ad=!1,ag=an?dU(ak):0;ak.sort(function(a,b){return a.time-b.time}),al=ak[W-1].time;for(var V=[],K=[],R=ak[0].value,av=!0,ar=0;W>ar;ar++){V.push(ak[ar].time/al);var U=ak[ar].value;if(an&&uO(U,R,ag)||!an&&U===R||(av=!1),R=U,"string"==typeof U){var q=sO(U);q?(U=q,am=!0):ad=!0}K.push(U)}if(au||!av){for(var G=K[W-1],ar=0;W-1>ar;ar++){an?fU(K[ar],G,ag):!isNaN(K[ar])||isNaN(G)||ad||am||(K[ar]=G)}an&&fU(ab(X._target,ae),G,ag);var Q,d,ac,Y,aa,H,B=0,ai=0;if(am){var E=[0,0,0,0]}var J=function(g,h){var k;if(0>h){k=0}else{if(ai>h){for(Q=Math.min(B+1,W-1),k=Q;k>=0&&!(V[k]<=h);k--){}k=Math.min(k,W-2)}else{for(k=B;W>k&&!(V[k]>h);k++){}k=Math.min(k-1,W-2)}}B=k,ai=h;var f=V[k+1]-V[k];if(0!==f){if(d=(h-V[k])/f,ah){if(Y=K[k],ac=K[0===k?k:k-1],aa=K[k>W-2?W-1:k+1],H=K[k>W-3?W-1:k+2],an){eU(ac,Y,aa,H,d,d*d,d*d*d,ab(g,ae),ag)}else{var b;if(am){b=eU(ac,Y,aa,H,d,d*d,d*d*d,E,1),b=bU(E)}else{if(ad){return jR(Y,aa,d)}b=tO(ac,Y,aa,H,d,d*d,d*d*d)}Z(g,ae,b)}}else{if(an){zN(K[k],K[k+1],d,ab(g,ae),ag)}else{var b;if(am){zN(K[k],K[k+1],d,E,1),b=bU(E)}else{if(ad){return jR(K[k],K[k+1],d)}b=wO(K[k],K[k+1],d)}Z(g,ae,b)}}}},F=new Vt({target:X._target,life:al,loop:X._loop,delay:X._delay,onframe:J,ondestroy:af});return ao&&"spline"!==ao&&(F.easing=ao),F}}}function gU(b,d,f,a){0>f&&(b+=f,f=-f),0>a&&(d+=a,a=-a),this.x=b,this.y=d,this.width=f,this.height=a}function LF(a){for(var b=0;a>=YV;){b|=1&a,a>>=1}return a+b}function SB(b,d,g,a){var f=d+1;if(f===g){return 1}if(a(b[f++],b[d])<0){for(;g>f&&a(b[f],b[f-1])<0;){f++}BO(b,d,f)}else{for(;g>f&&a(b[f],b[f-1])>=0;){f++}}return f-d}function BO(b,d,f){for(f--;f>d;){var a=b[d];b[d++]=b[f],b[f--]=a}}function qO(q,k,f,h,d){for(h===k&&h++;f>h;h++){for(var m,b=q[h],v=k,g=h;g>v;){m=v+g>>>1,d(b,q[m])<0?g=m:v=m+1}var p=h-v;switch(p){case 3:q[v+3]=q[v+2];case 2:q[v+2]=q[v+1];case 1:q[v+1]=q[v];break;default:for(;p>0;){q[v+p]=q[v+p-1],p--}}q[v]=b}}function rO(w,p,f,k,d,q){var b=0,x=0,g=1;if(q(w,p[f+d])>0){for(x=k-d;x>g&&q(w,p[f+d+g])>0;){b=g,g=(g<<1)+1,0>=g&&(g=x)}g>x&&(g=x),b+=d,g+=d}else{for(x=d+1;x>g&&q(w,p[f+d-g])<=0;){b=g,g=(g<<1)+1,0>=g&&(g=x)}g>x&&(g=x);var v=b;b=d-g,g=d-v}for(b++;g>b;){var m=b+(g-b>>>1);q(w,p[f+m])>0?b=m+1:g=m}return g}function kQ(w,p,f,k,d,q){var b=0,x=0,g=1;if(q(w,p[f+d])<0){for(x=d+1;x>g&&q(w,p[f+d-g])<0;){b=g,g=(g<<1)+1,0>=g&&(g=x)}g>x&&(g=x);var v=b;b=d-g,g=d-v}else{for(x=k-d;x>g&&q(w,p[f+d+g])>=0;){b=g,g=(g<<1)+1,0>=g&&(g=x)}g>x&&(g=x),b+=d,g+=d}for(b++;g>b;){var m=b+(g-b>>>1);q(w,p[f+m])<0?g=m:b=m+1}return g}function H7(z,q){function g(a,d){k[w]=a,y[w]=d,w+=1}function m(){for(;w>1;){var a=w-2;if(a>=1&&y[a-1]<=y[a]+y[a+1]||a>=2&&y[a-2]<=y[a]+y[a-1]){y[a-1]<y[a+1]&&a--}else{if(y[a]>y[a+1]){break}}x(a)}}function f(){for(;w>1;){var a=w-2;a>0&&y[a-1]<y[a+1]&&a--,x(a)}}function x(B){var l=k[B],u=y[B],e=k[B+1],s=y[B+1];y[B]=u+s,B===w-3&&(k[B+1]=k[B+2],y[B+1]=y[B+2]),w--;var t=kQ(z[e],z,l,u,0,q);l+=t,u-=t,0!==u&&(s=rO(z[l+u-1],z,e,s,s-1,q),0!==s&&(s>=u?b(l,u,e,s):A(l,u,e,s)))}function b(t,C,h,G){var d=0;for(d=0;C>d;d++){v[d]=z[t+d]}var I=0,B=h,H=t;if(z[H++]=z[B++],0!==--G){if(1===C){for(d=0;G>d;d++){z[H+d]=z[B+d]}return void (z[H+G]=v[I])}for(var F,E,D,e=p;;){F=0,E=0,D=!1;do{if(q(z[B],v[I])<0){if(z[H++]=z[B++],E++,F=0,0===--G){D=!0;break}}else{if(z[H++]=v[I++],F++,E=0,1===--C){D=!0;break}}}while(e>(F|E));if(D){break}do{if(F=kQ(z[B],v,I,C,0,q),0!==F){for(d=0;F>d;d++){z[H+d]=v[I+d]}if(H+=F,I+=F,C-=F,1>=C){D=!0;break}}if(z[H++]=z[B++],0===--G){D=!0;break}if(E=rO(v[I],z,B,G,0,q),0!==E){for(d=0;E>d;d++){z[H+d]=z[B+d]}if(H+=E,B+=E,G-=E,0===G){D=!0;break}}if(z[H++]=v[I++],1===--C){D=!0;break}e--}while(F>=XO||E>=XO);if(D){break}0>e&&(e=0),e+=2}if(p=e,1>p&&(p=1),1===C){for(d=0;G>d;d++){z[H+d]=z[B+d]}z[H+G]=v[I]}else{if(0===C){throw new Error}for(d=0;C>d;d++){z[H+d]=v[I+d]}}}else{for(d=0;C>d;d++){z[H+d]=v[I+d]}}}function A(t,D,h,H){var d=0;for(d=0;H>d;d++){v[d]=z[h+d]}var K=t+D-1,C=H-1,J=h+H-1,G=0,F=0;if(z[J--]=z[K--],0!==--D){if(1===H){for(J-=D,K-=D,F=J+1,G=K+1,d=D-1;d>=0;d--){z[F+d]=z[G+d]}return void (z[J]=v[C])}for(var E=p;;){var e=0,B=0,I=!1;do{if(q(v[C],z[K])<0){if(z[J--]=z[K--],e++,B=0,0===--D){I=!0;break}}else{if(z[J--]=v[C--],B++,e=0,1===--H){I=!0;break}}}while(E>(e|B));if(I){break}do{if(e=D-kQ(v[C],z,t,D,D-1,q),0!==e){for(J-=e,K-=e,D-=e,F=J+1,G=K+1,d=e-1;d>=0;d--){z[F+d]=z[G+d]}if(0===D){I=!0;break}}if(z[J--]=v[C--],1===--H){I=!0;break}if(B=H-rO(z[K],v,0,H,H-1,q),0!==B){for(J-=B,C-=B,H-=B,F=J+1,G=C+1,d=0;B>d;d++){z[F+d]=v[G+d]}if(1>=H){I=!0;break}}if(z[J--]=z[K--],0===--D){I=!0;break}E--}while(e>=XO||B>=XO);if(I){break}0>E&&(E=0),E+=2}if(p=E,1>p&&(p=1),1===H){for(J-=D,K-=D,F=J+1,G=K+1,d=D-1;d>=0;d--){z[F+d]=z[G+d]}z[J]=v[C]}else{if(0===H){throw new Error}for(G=J-(H-1),d=0;H>d;d++){z[G+d]=v[d]}}}else{for(G=J-(H-1),d=0;H>d;d++){z[G+d]=v[d]}}}var k,y,p=XO,w=0,v=[];k=[],y=[],this.mergeRuns=m,this.forceMergeRuns=f,this.pushRun=g}function W2(p,k,f,h){f||(f=0),h||(h=p.length);var d=h-f;if(!(2>d)){var m=0;if(YV>d){return m=SB(p,f,h,k),void qO(p,f,h,f+m,k)}var b=new H7(p,k),q=LF(d);do{if(m=SB(p,f,h,k),q>m){var g=d;g>q&&(g=q),qO(p,f,f+g,f+m,k),m=g}b.pushRun(f,m),b.mergeRuns(),d-=m,f+=m}while(0!==d);b.forceMergeRuns()}}function N6(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}function M6(f,k,m){var d=null==k.x?0:k.x,l=null==k.x2?1:k.x2,b=null==k.y?0:k.y,h=null==k.y2?0:k.y2;k.global||(d=d*m.width+m.x,l=l*m.width+m.x,b=b*m.height+m.y,h=h*m.height+m.y);var g=f.createLinearGradient(d,b,l,h);return g}function abn(q,k,f){var h=f.width,d=f.height,m=Math.min(h,d),b=null==k.x?0.5:k.x,v=null==k.y?0.5:k.y,g=null==k.r?0.5:k.r;k.global||(b=b*h+f.x,v=v*d+f.y,g*=m);var p=q.createRadialGradient(b,v,0,b,v,g);return p}function J7(){return !1}function I7(f,h,l){var d=n1(),k=h.getWidth(),b=h.getHeight(),g=d.style;return g.position="absolute",g.left=0,g.top=0,g.width=k+"px",g.height=b+"px",d.width=k*l,d.height=b*l,d.setAttribute("data-zr-dom-id",f),d}function P6(a){if("string"==typeof a){var b=EX.get(a);return b&&b.image}return a}function G7(f,h,l,d,k){if(f){if("string"==typeof f){if(h&&h.__zrImageSrc===f||!l){return h}var b=EX.get(f),g={hostEl:l,cb:d,cbPayload:k};return b?(h=b.image,!ZE(h)&&b.pending.push(g)):(!h&&(h=new Image),h.onload=T2,EX.put(f,h.__cachedImgObj={image:h,pending:[g]}),h.src=h.__zrImageSrc=f),h}return f}return h}function T2(){var b=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var d=0;d<b.pending.length;d++){var f=b.pending[d],a=f.cb;a&&a(this,f.cbPayload),f.hostEl.dirty()}b.pending.length=0}function ZE(a){return a&&a.width&&a.height}function X1(f,h){h=h||z0;var l=f+":"+h;if(h4[l]){return h4[l]}for(var d=(f+"").split("\n"),k=0,b=0,g=d.length;g>b;b++){k=Math.max(oz(d[b],h).width,k)}return n2>r1&&(n2=0,h4={}),n2++,h4[l]=k,k}function V2(f,h,l,d,k,b,g){return b?L6(f,h,l,d,k,b,g):U2(f,h,l,d,k,g)}function U2(x,p,f,k,d,v){var b=st(x,p,d,v),y=X1(x,p);d&&(y+=d[1]+d[3]);var g=b.outerHeight,w=O6(0,y,f),m=F7(0,g,k),q=new gU(w,m,y,g);return q.lineHeight=b.lineHeight,q}function L6(x,p,f,k,d,v,b){var y=hE(x,{rich:v,truncate:b,font:p,textAlign:f,textPadding:d}),g=y.outerWidth,w=y.outerHeight,m=O6(0,g,f),q=F7(0,w,k);return new gU(m,q,g,w)}function O6(a,b,d){return"right"===d?a-=b:"center"===d&&(a-=b/2),a}function F7(a,b,d){return"middle"===d?a-=b/2:"bottom"===d&&(a-=b),a}function C8(q,k,f){var h=k.x,d=k.y,m=k.height,b=k.width,v=m/2,g="left",p="top";switch(q){case"left":h-=f,d+=v,g="right",p="middle";break;case"right":h+=f+b,d+=v,p="middle";break;case"top":h+=b/2,d-=f,g="center",p="bottom";break;case"bottom":h+=b/2,d+=m+f,g="center";break;case"inside":h+=b/2,d+=v,g="center",p="middle";break;case"insideLeft":h+=f,d+=v,p="middle";break;case"insideRight":h+=b-f,d+=v,g="right",p="middle";break;case"insideTop":h+=b/2,d+=f,g="center";break;case"insideBottom":h+=b/2,d+=m-f,g="center",p="bottom";break;case"insideTopLeft":h+=f,d+=f;break;case"insideTopRight":h+=b-f,d+=f,g="right";break;case"insideBottomLeft":h+=f,d+=m-f,p="bottom";break;case"insideBottomRight":h+=b-f,d+=m-f,g="right",p="bottom"}return{x:h,y:d,textAlign:g,textVerticalAlign:p}}function D8(f,k,m,d,l){if(!k){return""}var b=(f+"").split("\n");l=aJ(k,m,d,l);for(var h=0,g=b.length;g>h;h++){b[h]=aaG(b[h],l)}return b.join("\n")}function aJ(p,h,d,g){g=Y2({},g),g.font=h;var d=aa7(d,"...");g.maxIterations=aa7(g.maxIterations,2);var b=g.minChar=aa7(g.minChar,0);g.cnCharWidth=X1("国",h);var k=g.ascCharWidth=X1("a",h);g.placeholder=aa7(g.placeholder,"");for(var q=p=Math.max(0,p-1),f=0;b>f&&q>=k;f++){q-=k}var m=X1(d);return m>q&&(d="",m=0),q=p-m,g.ellipsis=d,g.ellipsisWidth=m,g.contentWidth=q,g.containerWidth=p,g}function aaG(f,k){var m=k.containerWidth,d=k.font,l=k.contentWidth;if(!m){return""}var b=X1(f,d);if(m>=b){return f}for(var h=0;;h++){if(l>=b||h>=k.maxIterations){f+=k.ellipsis;break}var g=0===h?E8(f,l,k.ascCharWidth,k.cnCharWidth):b>0?Math.floor(f.length*l/b):0;f=f.substr(0,g),b=X1(f,d)}return""===f&&(f=k.placeholder),f}function E8(f,k,m,d){for(var l=0,b=0,h=f.length;h>b&&k>l;b++){var g=f.charCodeAt(b);l+=g>=0&&127>=g?m:d}return b}function iE(a){return X1("国",a)}function oz(a,b){return w1.measureText(a,b)}function st(z,q,g,m){null!=z&&(z+="");var f=iE(q),x=z?z.split("\n"):[],b=x.length*f,A=b;if(g&&(A+=g[0]+g[2]),z&&m){var k=m.outerHeight,y=m.outerWidth;if(null!=k&&A>k){z="",x=[]}else{if(null!=y){for(var p=aJ(y-(g?g[1]+g[3]:0),q,m.ellipsis,{minChar:m.minChar,placeholder:m.placeholder}),w=0,v=x.length;v>w;w++){x[w]=aaG(x[w],p)}}}}return{lines:x,height:b,outerHeight:A,lineHeight:f}}function hE(N,ae){var W={lines:[],width:0,height:0};if(null!=N&&(N+=""),!N){return W}for(var aa,V=g4.lastIndex=0;null!=(aa=g4.exec(N));){var ai=aa.index;ai>V&&Ak(W,N.substring(V,ai)),Ak(W,aa[2],aa[1]),V=g4.lastIndex}V<N.length&&Ak(W,N.substring(V,N.length));var R=W.lines,O=0,Y=0,K=[],ab=ae.textPadding,ag=ae.truncate,af=ag&&ag.outerWidth,ad=ag&&ag.outerHeight;ab&&(null!=af&&(af-=ab[1]+ab[3]),null!=ad&&(ad-=ab[0]+ab[2]));for(var ac=0;ac<R.length;ac++){for(var U=R[ac],X=0,J=0,E=0;E<U.tokens.length;E++){var G=U.tokens[E],ak=G.styleName&&ae.rich[G.styleName]||{},ah=G.textPadding=ak.textPadding,H=G.font=ak.font||ae.font,z=G.textHeight=aa7(ak.textHeight,iE(H));if(ah&&(z+=ah[0]+ah[2]),G.height=z,G.lineHeight=aaY(ak.textLineHeight,ae.textLineHeight,z),G.textAlign=ak&&ak.textAlign||ae.textAlign,G.textVerticalAlign=ak&&ak.textVerticalAlign||"middle",null!=ad&&O+G.lineHeight>ad){return{lines:[],width:0,height:0}}G.textWidth=X1(G.text,H);var B=ak.textWidth,F=null==B||"auto"===B;if("string"==typeof B&&"%"===B.charAt(B.length-1)){G.percentWidth=B,K.push(G),B=0}else{if(F){B=G.textWidth;var q=ak.textBackgroundColor,Q=q&&q.image;Q&&(Q=P6(Q),ZE(Q)&&(B=Math.max(B,Q.width*z/Q.height)))}var D=ah?ah[1]+ah[3]:0;B+=D;var A=null!=af?af-J:null;null!=A&&B>A&&(!F||D>A?(G.text="",G.textWidth=B=0):(G.text=D8(G.text,A-D,H,ag.ellipsis,{minChar:ag.minChar}),G.textWidth=X1(G.text,H),B=G.textWidth+D))}J+=G.width=B,ak&&(X=Math.max(X,G.lineHeight))}U.width=J,U.lineHeight=X,O+=X,Y=Math.max(Y,J)}W.outerWidth=W.width=aa7(ae.textWidth,Y),W.outerHeight=W.height=aa7(ae.textHeight,O),ab&&(W.outerWidth+=ab[1]+ab[3],W.outerHeight+=ab[0]+ab[2]);for(var ac=0;ac<K.length;ac++){var G=K[ac],Z=G.percentWidth;G.width=parseInt(Z,10)/100*Y}return W}function Ak(w,p,f){for(var k=""===p,d=p.split("\n"),q=w.lines,b=0;b<d.length;b++){var x=d[b],g={styleName:f,text:x,isLineHolder:!x&&!k};if(b){q.push({tokens:[g]})}else{var v=(q[q.length-1]||(q[0]={tokens:[]})).tokens,m=v.length;1===m&&v[0].isLineHolder?v[0]=g:(x||!m||k)&&v.push(g)}}}function xt(a){return(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ")||a.textFont||a.font}function yt(x,p){var f,k,d,v,b=p.x,y=p.y,g=p.width,w=p.height,m=p.r;0>g&&(b+=g,g=-g),0>w&&(y+=w,w=-w),"number"==typeof m?f=k=d=v=m:m instanceof Array?1===m.length?f=k=d=v=m[0]:2===m.length?(f=d=m[0],k=v=m[1]):3===m.length?(f=m[0],k=v=m[1],d=m[2]):(f=m[0],k=m[1],d=m[2],v=m[3]):f=k=d=v=0;var q;f+k>g&&(q=f+k,f*=g/q,k*=g/q),d+v>g&&(q=d+v,d*=g/q,v*=g/q),k+d>w&&(q=k+d,k*=w/q,d*=w/q),f+v>w&&(q=f+v,f*=w/q,v*=w/q),x.moveTo(b+f,y),x.lineTo(b+g-k,y),0!==k&&x.quadraticCurveTo(b+g,y,b+g,y+k),x.lineTo(b+g,y+w-d),0!==d&&x.quadraticCurveTo(b+g,y+w,b+g-d,y+w),x.lineTo(b+v,y+w),0!==v&&x.quadraticCurveTo(b,y+w,b,y+w-v),x.lineTo(b,y+f),0!==f&&x.quadraticCurveTo(b,y,b+f,y)}function pz(a){return lz(a),ZX(a.rich,lz),a}function lz(b){if(b){b.font=xt(b);var d=b.textAlign;"middle"===d&&(d="center"),b.textAlign=null==d||x1[d]?d:"left";var f=b.textVerticalAlign||b.textBaseline;"center"===f&&(f="middle"),b.textVerticalAlign=null==f||o2[f]?f:"top";var a=b.textPadding;a&&(b.textPadding=aaH(b.textPadding))}}function Q6(b,d,g,a,f){a.rich?CB(b,d,g,a,f):mz(b,d,g,a,f)}function mz(G,W,N,Q,L){var aa=tt(W,"font",Q.font||z0),J=Q.textPadding,H=G.__textCotentBlock;(!H||G.__dirty)&&(H=G.__textCotentBlock=st(N,aa,J,Q.truncate));var P=H.outerHeight,F=H.lines,R=H.lineHeight,Y=eE(P,Q,L),X=Y.baseX,V=Y.baseY,U=Y.textAlign,K=Y.textVerticalAlign;wt(W,Q,L,X,V);var O=F7(V,P,K),E=X,A=O,C=zq(Q);if(C||J){var ab=X1(N,aa),Z=ab;J&&(Z+=J[1]+J[3]);var D=O6(X,Z,U);C&&fE(G,W,Q,D,O,Z,P),J&&(E=ct(X,U,J),A+=J[0])}tt(W,"textAlign",U||"left"),tt(W,"textBaseline","middle"),tt(W,"shadowBlur",Q.textShadowBlur||0),tt(W,"shadowColor",Q.textShadowColor||"transparent"),tt(W,"shadowOffsetX",Q.textShadowOffsetX||0),tt(W,"shadowOffsetY",Q.textShadowOffsetY||0),A+=R/2;var q=Q.textStrokeWidth,z=vt(Q.textStroke,q),B=bH(Q.textFill);z&&(tt(W,"lineWidth",q),tt(W,"strokeStyle",z)),B&&tt(W,"fillStyle",B);for(var k=0;k<F.length;k++){z&&W.strokeText(F[k],E,A),B&&W.fillText(F[k],E,A),A+=R}}function CB(f,g,k,d,h){var b=f.__textCotentBlock;(!b||f.__dirty)&&(b=f.__textCotentBlock=hE(k,d)),nz(f,g,b,d,h)}function nz(K,ac,V,Y,U){var ag=V.width,P=V.outerWidth,N=V.outerHeight,X=Y.textPadding,J=eE(N,Y,U),Z=J.baseX,ae=J.baseY,ad=J.textAlign,ab=J.textVerticalAlign;wt(ac,Y,U,Z,ae);var aa=O6(Z,P,ad),R=F7(ae,N,ab),W=aa,H=R;X&&(W+=X[3],H+=X[0]);var B=W+ag;zq(Y)&&fE(K,ac,Y,aa,R,P,N);for(var F=0;F<V.lines.length;F++){for(var ah,af=V.lines[F],G=af.tokens,q=G.length,z=af.lineHeight,E=af.width,k=0,Q=W,L=B,O=q-1;q>k&&(ah=G[k],!ah.textAlign||"left"===ah.textAlign);){jB(K,ac,ah,Y,z,H,Q,"left"),E-=ah.width,Q+=ah.width,k++}for(;O>=0&&(ah=G[O],"right"===ah.textAlign);){jB(K,ac,ah,Y,z,H,L,"right"),E-=ah.width,L-=ah.width,O--}for(Q+=(ag-(Q-W)-(B-L)-E)/2;O>=k;){ah=G[k],jB(K,ac,ah,Y,z,H,Q+ah.width/2,"center"),Q+=ah.width,k++}H+=z}}function wt(f,g,k,d,h){if(k&&g.textRotation){var b=g.textOrigin;"center"===b?(d=k.width/2+k.x,h=k.height/2+k.y):b&&(d=b[0]+k.x,h=b[1]+k.y),f.translate(d,h),f.rotate(-g.textRotation),f.translate(-d,-h)}}function jB(D,y,m,q,k,B,b,E){var p=q.rich[m.styleName]||{},C=m.textVerticalAlign,v=B+k/2;"top"===C?v=B+m.height/2:"bottom"===C&&(v=B+k-m.height/2),!m.isLineHolder&&zq(p)&&fE(D,y,p,"right"===E?b-m.width:"center"===E?b-m.width/2:b,v-m.height/2,m.width,m.height);var A=m.textPadding;A&&(b=ct(b,E,A),v-=m.height/2-A[2]-m.textHeight/2),tt(y,"shadowBlur",aaY(p.textShadowBlur,q.textShadowBlur,0)),tt(y,"shadowColor",p.textShadowColor||q.textShadowColor||"transparent"),tt(y,"shadowOffsetX",aaY(p.textShadowOffsetX,q.textShadowOffsetX,0)),tt(y,"shadowOffsetY",aaY(p.textShadowOffsetY,q.textShadowOffsetY,0)),tt(y,"textAlign",E),tt(y,"textBaseline","middle"),tt(y,"font",m.font||z0);var z=vt(p.textStroke||q.textStroke,w),x=bH(p.textFill||q.textFill),w=aa7(p.textStrokeWidth,q.textStrokeWidth);z&&(tt(y,"lineWidth",w),tt(y,"strokeStyle",z),y.strokeText(m.text,b,v)),x&&(tt(y,"fillStyle",x),y.fillText(m.text,b,v))}function zq(a){return a.textBackgroundColor||a.textBorderWidth&&a.textBorderColor}function fE(z,q,g,m,f,x,b){var A=g.textBackgroundColor,k=g.textBorderWidth,y=g.textBorderColor,p=Z5(A);if(tt(q,"shadowBlur",g.textBoxShadowBlur||0),tt(q,"shadowColor",g.textBoxShadowColor||"transparent"),tt(q,"shadowOffsetX",g.textBoxShadowOffsetX||0),tt(q,"shadowOffsetY",g.textBoxShadowOffsetY||0),p||k&&y){q.beginPath();var w=g.textBorderRadius;w?yt(q,{x:m,y:f,width:x,height:b,r:w}):q.rect(m,f,x,b),q.closePath()}if(p){tt(q,"fillStyle",A),q.fill()}else{if(YQ(A)){var v=A.image;v=G7(v,null,z,ut,A),v&&ZE(v)&&q.drawImage(v,m,f,x,b)}}k&&y&&(tt(q,"lineWidth",k),tt(q,"strokeStyle",y),q.stroke())}function ut(a,b){b.image=a}function eE(q,k,f){var h=k.x||0,d=k.y||0,m=k.textAlign,b=k.textVerticalAlign;if(f){var v=k.textPosition;if(v instanceof Array){h=f.x+dE(v[0],f.width),d=f.y+dE(v[1],f.height)}else{var g=C8(v,f,k.textDistance);h=g.x,d=g.y,m=m||g.textAlign,b=b||g.textVerticalAlign}var p=k.textOffset;p&&(h+=p[0],d+=p[1])}return{baseX:h,baseY:d,textAlign:m,textVerticalAlign:b}}function tt(a,b,d){return a[b]=d,a[b]}function vt(a,b){return null==a||0>=b||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function bH(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function dE(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}function ct(a,b,d){return"right"===b?a-d[1]:"center"===b?a+d[3]/2-d[1]/2:a+d[3]}function gE(a,b){return null!=a&&(a||b.textBackgroundColor||b.textBorderWidth&&b.textBorderColor||b.textPadding)}function K7(a){a=a||{},JW.call(this,a);for(var b in a){a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b])}this.style=new LV(a.style,this),this._rect=null,this.__clipPaths=[]}function R5(a){K7.call(this,a)}function BE(a){return parseInt(a,10)}function qt(a){return a?a.__builtin__?!0:"function"!=typeof a.resize||"function"!=typeof a.refresh?!1:!0:!1}function rt(a){a.__unusedCount++}function kz(a){1==a.__unusedCount&&a.clear()}function It(a,b,d){return B7.copy(a.getBoundingRect()),a.transform&&B7.applyTransform(a.transform),m2.width=b,m2.height=d,!B7.intersect(m2)}function W8(a,b){if(a==b){return !1}if(!a||!b||a.length!==b.length){return !0}for(var d=0;d<a.length;d++){if(a[d]!==b[d]){return !0}}}function Oq(b,d){for(var f=0;f<b.length;f++){var a=b[f];a.setTransform(d),d.beginPath(),a.buildPath(d,a.shape),d.clip(),a.restoreTransform(d)}}function S9(a,b){var d=document.createElement("div");return d.style.cssText=["position:relative","overflow:hidden","width:"+a+"px","height:"+b+"px","padding:0","margin:0","border-width:0"].join(";")+";",d}function Nq(a){return a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0}}function abt(b,d,f,a){return f=f||{},a||!VN.canvasSupported?Kt(b,d,f):VN.browser.firefox&&null!=d.layerX&&d.layerX!==d.offsetX?(f.zrX=d.layerX,f.zrY=d.layerY):null!=d.offsetX?(f.zrX=d.offsetX,f.zrY=d.offsetY):Kt(b,d,f),f}function Kt(b,d,f){var a=Nq(b);f.zrX=d.clientX-a.left,f.zrY=d.clientY-a.top}function Jt(f,h,l){if(h=h||window.event,null!=h.zrX){return h}var d=h.type,k=d&&d.indexOf("touch")>=0;if(k){var b="touchend"!=d?h.targetTouches[0]:h.changedTouches[0];b&&abt(f,b,h,l)}else{abt(f,h,h,l),h.zrDelta=h.wheelDelta?h.wheelDelta/120:-(h.detail||0)/3}var g=h.button;return null==h.which&&void 0!==g&&y1.test(h.type)&&(h.which=1&g?1:2&g?3:4&g?2:0),h}function Qq(a,b,d){i4?a.addEventListener(b,d):a.attachEvent("on"+b,d)}function Ht(a,b,d){i4?a.removeEventListener(b,d):a.detachEvent("on"+b,d)}function T8(a){return a.which>1}function ZV(a){var b=a[1][0]-a[0][0],d=a[1][1]-a[0][1];return Math.sqrt(b*b+d*d)}function X7(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}function V8(a){return"mousewheel"===a&&VN.browser.firefox?"DOMMouseScroll":a}function U8(f,g,k){var d=f._gestureMgr;"start"===k&&d.clear();var h=d.recognize(g,f.handler.findHover(g.zrX,g.zrY,null).target,f.dom);if("end"===k&&d.clear(),h){var b=h.type;g.gestureEvent=b,f.handler.dispatchToElement({target:h.target},b,h.event)}}function Mq(a){a._touching=!0,clearTimeout(a._touchTimer),a._touchTimer=setTimeout(function(){a._touching=!1},700)}function Pq(a){var b=a.pointerType;return"pen"===b||"touch"===b}function Gt(a){function b(d,f){return function(){return f._touching?void 0:d.apply(f,arguments)}}ZX(c4,function(d){a._handlers[d]=YU(KW[d],a)}),ZX(f4,function(d){a._handlers[d]=YU(KW[d],a)}),ZX(bk,function(d){a._handlers[d]=b(KW[d],a)})}function Dz(a){function b(d,f){ZX(d,function(g){Qq(a,V8(g),f._handlers[g])},f)}l1.call(this),this.dom=a,this._touching=!1,this._touchTimer,this._gestureMgr=new d4,this._handlers={},Gt(this),VN.pointerEventsSupported?b(f4,this):(VN.touchEventsSupported&&b(c4,this),b(bk,this))}function Ez(a,b){var d=new q1(YR(),a,b);return d}function aO(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function aaQ(f,g,k,d){var h=g[1]-g[0],b=k[1]-k[0];if(0===h){return 0===b?k[0]:(k[0]+k[1])/2}if(d){if(h>0){if(f<=g[0]){return k[0]}if(f>=g[1]){return k[1]}}else{if(f>=g[0]){return k[0]}if(f<=g[1]){return k[1]}}}else{if(f===g[0]){return k[0]}if(f===g[1]){return k[1]}}return(f-g[0])/h*b+k[0]}function Ft(a,b){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}return"string"==typeof a?aO(a).match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?0/0:+a}function iK(a,b,d){return null==b&&(b=10),b=Math.min(Math.max(0,b),20),a=(+a).toFixed(b),d?a:+a}function oH(a){return a.sort(function(b,d){return b-d}),a}function sG(a){if(a=+a,isNaN(a)){return 0}for(var b=1,d=0;Math.round(a*b)/b!==a;){b*=10,d++}return d}function hK(b){var d=b.toString(),g=d.indexOf("e");if(g>0){var a=+d.slice(g+1);return 0>a?-a:0}var f=d.indexOf(".");return 0>f?0:d.length-1-f}function AE(f,h){var l=Math.log,d=Math.LN10,k=Math.floor(l(f[1]-f[0])/d),b=Math.round(l(Math.abs(h[1]-h[0]))/d),g=Math.min(Math.max(-k+b,0),20);return isFinite(g)?g:20}function xG(B,w,k){if(!B[w]){return 0}var p=Y7(B,function(a,d){return a+(isNaN(d)?0:d)},0);if(0===p){return 0}for(var g=Math.pow(10,k),z=ZU(B,function(a){return(isNaN(a)?0:a)/p*g*100}),b=100*g,C=ZU(z,function(a){return Math.floor(a)}),m=Y7(C,function(a,d){return a+d},0),A=ZU(z,function(a,d){return a-C[d]});b>m;){for(var q=Number.NEGATIVE_INFINITY,y=null,x=0,v=A.length;v>x;++x){A[x]>q&&(q=A[x],y=x)}++C[y],A[y]=0,++m}return C[w]/g}function yG(a){var b=2*Math.PI;return(a%b+b)%b}function pH(a){return a>-j3&&j3>a}function lH(a){if(a instanceof Date){return a}if("string"==typeof a){var b=XK.exec(a);if(!b){return new Date(0/0)}if(b[8]){var d=+b[4]||0;return"Z"!==b[8].toUpperCase()&&(d-=b[8].slice(0,3)),new Date(Date.UTC(+b[1],+(b[2]||1)-1,+b[3]||1,d,+(b[5]||0),+b[6]||0,+b[7]||0))}return new Date(+b[1],+(b[2]||1)-1,+b[3]||1,+b[4]||0,+(b[5]||0),+b[6]||0,+b[7]||0)}return new Date(null==a?0/0:Math.round(a))}function Rk(a){return Math.pow(10,mH(a))}function mH(a){return Math.floor(Math.log(a)/Math.LN10)}function CG(f,g){var k,d=mH(f),h=Math.pow(10,d),b=f/h;return k=g?1.5>b?1:2.5>b?2:4>b?3:7>b?5:10:1>b?1:2>b?2:3>b?3:5>b?5:10,f=k*h,d>=-20?+f.toFixed(0>d?-d:0):f}function nH(f){function k(e,o,a){return e.interval[a]<o.interval[a]||e.interval[a]===o.interval[a]&&(e.close[a]-o.close[a]===(a?-1:1)||!a&&k(e,o,1))}f.sort(function(a,e){return k(a,e,0)?-1:1});for(var m=-1/0,d=1,l=0;l<f.length;){for(var b=f[l].interval,h=f[l].close,g=0;2>g;g++){b[g]<=m&&(b[g]=m,h[g]=g?1:1-d),m=b[g],d=h[g]}b[0]===b[1]&&h[0]*h[1]!==1?f.splice(l,1):l++}return f}function wG(a){return a-parseFloat(a)>=0}function jJ(a){return isNaN(a)?"-":(a=(a+"").split("."),a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:""))}function zF(a,b){return a=(a||"").toLowerCase().replace(/-(.)/g,function(d,f){return f.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}function fK(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function uG(q,k,f){YO(k)||(k=[k]);var h=k.length;if(!h){return""}for(var d=k[0].$vars||[],m=0;m<d.length;m++){var b=TK[m],v=NR(b,0);q=q.replace(NR(b),f?fK(v):v)}for(var g=0;h>g;g++){for(var p=0;p<d.length;p++){var v=k[g][d[p]];q=q.replace(NR(TK[p],g),f?fK(v):v)}}return q}function eK(a,b,d){return ZX(b,function(g,f){a=a.replace("{"+f+"}",d?fK(g):g)}),a}function tG(a,b){return a?'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+fK(a)+";"+(b||"")+'"></span>':""}function vG(w,p,f){("week"===w||"month"===w||"quarter"===w||"half-year"===w||"year"===w)&&(w="MM-dd\nyyyy");var k=lH(p),d=f?"UTC":"",q=k["get"+d+"FullYear"](),b=k["get"+d+"Month"]()+1,x=k["get"+d+"Date"](),g=k["get"+d+"Hours"](),v=k["get"+d+"Minutes"](),m=k["get"+d+"Seconds"]();return w=w.replace("MM",abH(b)).replace("M",b).replace("yyyy",q).replace("yy",q%100).replace("dd",abH(x)).replace("d",x).replace("hh",abH(g)).replace("h",g).replace("mm",abH(v)).replace("m",v).replace("ss",abH(m)).replace("s",m)}function bN(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function dK(a,b,d){return a[HU+b]=d}function cG(a,b){return a[HU+b]}function gK(a,b){return a.hasOwnProperty(HU+b)}function Lq(a){var b={main:"",sub:""};return a&&(a=a.split(JU),b.main=a[0]||"",b.sub=a[1]||""),b}function Sj(a){aaz(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function BH(a){a.$constructor=a,a.extend=function(b){var d=this,f=function(){b.$constructor?b.$constructor.apply(this,arguments):d.apply(this,arguments)};return Y2(f.prototype,b),f.extend=this.extend,f.superCall=qG,f.superApply=rG,ZR(f,this),f.superClass=d,f}}function qG(a,b){var d=aa0(arguments,2);return this.superClass.prototype[b].apply(a,d)}function rG(a,b,d){return this.superClass.prototype[b].apply(a,d)}function kH(b,d){function g(h){var k=a[h.main];return k&&k[QR]||(k=a[h.main]={},k[QR]=!0),k}d=d||{};var a={};if(b.registerClass=function(h,k){if(k){if(Sj(k),k=Lq(k),k.sub){if(k.sub!==QR){var l=g(k);l[k.sub]=h}}else{a[k.main]=h}}return h},b.getClass=function(h,k,m){var l=a[h];if(l&&l[QR]&&(l=k?l[k]:null),m&&!l){throw new Error(k?"Component "+h+"."+(k||"")+" not exists. Load it first.":h+".type should be specified.")}return l},b.getClassesByMainType=function(h){h=Lq(h);var k=[],l=a[h.main];return l&&l[QR]?ZX(l,function(e,m){m!==QR&&k.push(e)}):k.push(l),k},b.hasClass=function(e){return e=Lq(e),!!a[e.main]},b.getAllClassMainTypes=function(){var e=[];return ZX(a,function(h,k){e.push(k)}),e},b.hasSubTypes=function(h){h=Lq(h);var k=a[h.main];return k&&k[QR]},b.parseClassType=Lq,d.registerWhenExtend){var f=b.extend;f&&(b.extend=function(h){var k=f.call(this,h);return b.registerClass(k,h.type)})}return b}function H6(a){return a>-GU&&GU>a}function W1(a){return a>GU||-GU>a}function N5(f,g,k,d,h){var b=1-h;return b*b*(b*f+3*h*g)+h*h*(h*d+3*b*k)}function S3(f,g,k,d,h){var b=1-h;return 3*(((g-f)*b+2*(k-g)*h)*b+(d-k)*h*h)}function M5(F,U,L,P,K,Y){var H=P+3*(U-L)-F,G=3*(L-2*U+F),O=3*(U-F),E=F-K,Q=G*G-3*H*O,W=G*O-9*H*E,V=O*O-3*G*E,T=0;if(H6(Q)&&H6(W)){if(H6(G)){Y[0]=0}else{var R=-O/G;R>=0&&1>=R&&(Y[T++]=R)}}else{var J=W*W-4*Q*V;if(H6(J)){var N=W/Q,R=-G/H+N,D=-N/2;R>=0&&1>=R&&(Y[T++]=R),D>=0&&1>=D&&(Y[T++]=D)}else{if(J>0){var z=PR(J),B=Q*G+1.5*H*(-W+z),Z=Q*G+1.5*H*(-W-z);B=0>B?-MR(-B,a0):MR(B,a0),Z=0>Z?-MR(-Z,a0):MR(Z,a0);var R=(-G-(B+Z))/(3*H);R>=0&&1>=R&&(Y[T++]=R)}else{var X=(2*Q*G-3*H*W)/(2*PR(Q*Q*Q)),C=Math.acos(X)/3,k=PR(Q),q=Math.cos(C),R=(-G-2*k*q)/(3*H),D=(-G+k*(q+EV*Math.sin(C)))/(3*H),A=(-G+k*(q-EV*Math.sin(C)))/(3*H);R>=0&&1>=R&&(Y[T++]=R),D>=0&&1>=D&&(Y[T++]=D),A>=0&&1>=A&&(Y[T++]=A)}}}return T}function abm(z,q,g,m,f){var x=6*g-12*q+6*z,b=9*q+3*m-3*z-9*g,A=3*q-3*z,k=0;if(H6(b)){if(W1(x)){var y=-A/x;y>=0&&1>=y&&(f[k++]=y)}}else{var p=x*x-4*b*A;if(H6(p)){f[0]=-x/(2*b)}else{if(p>0){var w=PR(p),y=(-x+w)/(2*b),v=(-x-w)/(2*b);y>=0&&1>=y&&(f[k++]=y),v>=0&&1>=v&&(f[k++]=v)}}}return k}function J6(x,p,f,k,d,v){var b=(p-x)*d+x,y=(f-p)*d+p,g=(k-f)*d+f,w=(y-b)*d+b,m=(g-y)*d+y,q=(m-w)*d+w;v[0]=x,v[1]=b,v[2]=w,v[3]=q,v[4]=q,v[5]=m,v[6]=g,v[7]=k}function I6(z,L,E,H,D,O,B,A,G,w,I){var N,M,K,J,C,F=0.005,q=1/0;aba[0]=G,aba[1]=w;for(var b=0;1>b;b+=0.05){FU[0]=N5(z,E,D,B,b),FU[1]=N5(L,H,O,A,b),J=k1(aba,FU),q>J&&(N=b,q=J)}q=1/0;for(var k=0;32>k&&!(DV>F);k++){M=N-F,K=N+F,FU[0]=N5(z,E,D,B,M),FU[1]=N5(L,H,O,A,M),J=k1(FU,aba),M>=0&&q>J?(N=M,q=J):(i2[0]=N5(z,E,D,B,K),i2[1]=N5(L,H,O,A,K),C=k1(i2,aba),1>=K&&q>C?(N=K,q=C):F*=0.5)}return I&&(I[0]=N5(z,E,D,B,N),I[1]=N5(L,H,O,A,N)),PR(q)}function P5(b,d,g,a){var f=1-a;return f*(f*b+2*a*d)+a*a*g}function G6(b,d,f,a){return 2*((1-a)*(d-b)+a*(f-d))}function T1(z,q,g,m,f){var x=z-2*q+g,b=2*(q-z),A=z-m,k=0;if(H6(x)){if(W1(b)){var y=-A/b;y>=0&&1>=y&&(f[k++]=y)}}else{var p=b*b-4*x*A;if(H6(p)){var y=-b/(2*x);y>=0&&1>=y&&(f[k++]=y)}else{if(p>0){var w=PR(p),y=(-b+w)/(2*x),v=(-b-w)/(2*x);y>=0&&1>=y&&(f[k++]=y),v>=0&&1>=v&&(f[k++]=v)}}}return k}function Zz(b,d,f){var a=b+f-2*d;return 0===a?0.5:(b-d)/a}function V1(f,k,m,d,l){var b=(k-f)*d+f,h=(m-k)*d+k,g=(h-b)*d+b;l[0]=f,l[1]=b,l[2]=g,l[3]=g,l[4]=h,l[5]=m}function U1(q,H,A,D,z,K,x,w,C){var k,E=0.005,J=1/0;aba[0]=x,aba[1]=w;for(var I=0;1>I;I+=0.05){FU[0]=P5(q,A,z,I),FU[1]=P5(H,D,K,I);var G=k1(aba,FU);J>G&&(k=I,J=G)}J=1/0;for(var F=0;32>F&&!(DV>E);F++){var y=k-E,B=k+E;FU[0]=P5(q,A,z,y),FU[1]=P5(H,D,K,y);var G=k1(FU,aba);if(y>=0&&J>G){k=y,J=G}else{i2[0]=P5(q,A,z,B),i2[1]=P5(H,D,K,B);var b=k1(i2,aba);1>=B&&J>b?(k=B,J=b):E*=0.5}}return C&&(C[0]=P5(q,A,z,k),C[1]=P5(H,D,K,k)),PR(J)}function L5(p,k,f){if(0!==p.length){var h,d=p[0],m=d[0],b=d[0],q=d[1],g=d[1];for(h=1;h<p.length;h++){d=p[h],m=o0(m,d[0]),b=sZ(b,d[0]),q=o0(q,d[1]),g=sZ(g,d[1])}k[0]=m,k[1]=q,f[0]=b,f[1]=g}}function O5(f,g,k,d,h,b){h[0]=o0(f,k),h[1]=o0(g,d),b[0]=sZ(f,k),b[1]=sZ(g,d)}function F6(F,A,q,w,m,D,b,G,v,E){var x,C=abm,B=N5,z=C(F,q,m,b,RQ);for(v[0]=1/0,v[1]=1/0,E[0]=-1/0,E[1]=-1/0,x=0;z>x;x++){var y=B(F,q,m,b,RQ[x]);v[0]=o0(y,v[0]),E[0]=sZ(y,E[0])}for(z=C(A,w,D,G,m0),x=0;z>x;x++){var k=B(A,w,D,G,m0[x]);v[1]=o0(k,v[1]),E[1]=sZ(k,E[1])}v[0]=o0(F,v[0]),E[0]=sZ(F,E[0]),v[0]=o0(b,v[0]),E[0]=sZ(b,E[0]),v[1]=o0(A,v[1]),E[1]=sZ(A,E[1]),v[1]=o0(G,v[1]),E[1]=sZ(G,E[1])}function C7(B,w,k,p,g,z,b,C){var m=Zz,A=P5,q=sZ(o0(m(B,k,g),1),0),y=sZ(o0(m(w,p,z),1),0),x=A(B,k,g,q),v=A(w,p,z,y);b[0]=o0(B,g,x),b[1]=o0(w,z,v),C[0]=sZ(B,g,x),C[1]=sZ(w,z,v)}function D7(B,w,k,p,g,z,b,C,m){var A=aaN,q=aax,y=Math.abs(g-z);if(0.0001>y%xZ&&y>0.0001){return C[0]=B-k,C[1]=w-p,m[0]=B+k,void (m[1]=w+p)}if(yZ[0]=AX(g)*k+B,yZ[1]=h2(g)*p+w,p0[0]=AX(z)*k+B,p0[1]=h2(z)*p+w,A(C,yZ,p0),q(m,yZ,p0),g%=xZ,0>g&&(g+=xZ),z%=xZ,0>z&&(z+=xZ),g>z&&!b?z+=xZ:z>g&&b&&(g+=xZ),b){var x=z;z=g,g=x}for(var v=0;z>v;v+=Math.PI/2){v>g&&(l0[0]=AX(v)*k+B,l0[1]=h2(v)*p+w,A(C,l0,C),q(m,l0,m))}}function aH(x,p,f,k,d,v,b){if(0===d){return !1}var y=d,g=0,w=x;if(b>p+y&&b>k+y||p-y>b&&k-y>b||v>x+y&&v>f+y||x-y>v&&f-y>v){return !1}if(x===f){return Math.abs(v-x)<=y/2}g=(p-k)/(x-f),w=(x*k-f*p)/(x-f);var m=g*v-b+w,q=m*m/(g*g+1);return y/2*y/2>=q}function aaE(z,q,g,m,f,x,b,A,k,y,p){if(0===k){return !1}var w=k;if(p>q+w&&p>m+w&&p>x+w&&p>A+w||q-w>p&&m-w>p&&x-w>p&&A-w>p||y>z+w&&y>g+w&&y>f+w&&y>b+w||z-w>y&&g-w>y&&f-w>y&&b-w>y){return !1}var v=I6(z,q,g,m,f,x,b,A,y,p,null);return w/2>=v}function E7(w,p,f,k,d,q,b,x,g){if(0===b){return !1}var v=b;if(g>p+v&&g>k+v&&g>q+v||p-v>g&&k-v>g&&q-v>g||x>w+v&&x>f+v&&x>d+v||w-v>x&&f-v>x&&d-v>x){return !1}var m=U1(w,p,f,k,d,q,x,g,null);return v/2>=m}function iB(a){return a%=g2,0>a&&(a+=g2),a}function ot(z,q,g,m,f,x,b,A,k){if(0===b){return !1}var y=b;A-=z,k-=q;var p=Math.sqrt(A*A+k*k);if(p-y>g||g>p+y){return !1}if(Math.abs(m-f)%LR<0.0001){return !0}if(x){var w=m;m=iB(f),f=iB(w)}else{m=iB(m),f=iB(f)}m>f&&(f+=LR);var v=Math.atan2(k,A);return 0>v&&(v+=LR),v>=m&&f>=v||v+LR>=m&&f>=v+LR}function sq(p,k,f,h,d,m){if(m>k&&m>h||k>m&&h>m){return 0}if(h===k){return 0}var b=k>h?1:-1,q=(m-k)/(h-k);(1===q||0===q)&&(b=k>h?0.5:-0.5);var g=q*(f-p)+p;return g>d?b:0}function hB(a,b){return Math.abs(a-b)<qZ}function Aj(){var a=k0[0];k0[0]=k0[1],k0[1]=a}function xq(w,J,C,F,B,M,z,x,E,q){if(q>J&&q>F&&q>M&&q>x||J>q&&F>q&&M>q&&x>q){return 0}var G=M5(J,F,M,x,q,rZ);if(0===G){return 0}for(var L,K,I=0,H=-1,A=0;G>A;A++){var D=rZ[A],k=0===D||1===D?0.5:1,b=N5(w,C,B,z,D);E>b||(0>H&&(H=abm(J,F,M,x,k0),k0[1]<k0[0]&&H>1&&Aj(),L=N5(J,F,M,x,k0[0]),H>1&&(K=N5(J,F,M,x,k0[1]))),I+=2==H?D<k0[0]?J>L?k:-k:D<k0[1]?L>K?k:-k:K>x?k:-k:D<k0[0]?J>L?k:-k:L>x?k:-k)}return I}function yq(D,y,m,q,k,B,b,E){if(E>y&&E>q&&E>B||y>E&&q>E&&B>E){return 0}var p=T1(y,q,B,E,rZ);if(0===p){return 0}var C=Zz(y,q,B);if(C>=0&&1>=C){for(var v=0,A=P5(y,q,B,C),z=0;p>z;z++){var x=0===rZ[z]||1===rZ[z]?0.5:1,w=P5(D,m,k,rZ[z]);b>w||(v+=rZ[z]<C?y>A?x:-x:A>B?x:-x)}return v}var x=0===rZ[0]||1===rZ[0]?0.5:1,w=P5(D,m,k,rZ[0]);return b>w?0:y>B?x:-x}function pt(D,y,m,q,k,B,b,E){if(E-=y,E>m||-m>E){return 0}var p=Math.sqrt(m*m-E*E);rZ[0]=-p,rZ[1]=p;var C=Math.abs(q-k);if(0.0001>C){return 0}if(0.0001>C%BW){q=0,k=BW;var v=B?1:-1;return b>=rZ[0]+D&&b<=rZ[1]+D?v:0}if(B){var p=q;q=iB(k),k=iB(p)}else{q=iB(q),k=iB(k)}q>k&&(k+=BW);for(var A=0,z=0;2>z;z++){var x=rZ[z];if(x+D>b){var w=Math.atan2(E,x),v=B?1:-1;0>w&&(w=BW+w),(w>=q&&k>=w||w+BW>=q&&k>=w+BW)&&(w>Math.PI/2&&w<1.5*Math.PI&&(v=-v),A+=v)}}return A}function lt(D,P,I,L,H){for(var U=0,F=0,E=0,K=0,C=0,M=0;M<D.length;){var R=D[M++];switch(R===SO.M&&M>1&&(I||(U+=sq(F,E,K,C,L,H))),1==M&&(F=D[M],E=D[M+1],K=F,C=E),R){case SO.M:K=D[M++],C=D[M++],F=K,E=C;break;case SO.L:if(I){if(aH(F,E,D[M],D[M+1],P,L,H)){return !0}}else{U+=sq(F,E,D[M],D[M+1],L,H)||0}F=D[M++],E=D[M++];break;case SO.C:if(I){if(aaE(F,E,D[M++],D[M++],D[M++],D[M++],D[M],D[M+1],P,L,H)){return !0}}else{U+=xq(F,E,D[M++],D[M++],D[M++],D[M++],D[M],D[M+1],L,H)||0}F=D[M++],E=D[M++];break;case SO.Q:if(I){if(E7(F,E,D[M++],D[M++],D[M],D[M+1],P,L,H)){return !0}}else{U+=yq(F,E,D[M++],D[M++],D[M],D[M+1],L,H)||0}F=D[M++],E=D[M++];break;case SO.A:var Q=D[M++],O=D[M++],N=D[M++],G=D[M++],J=D[M++],B=D[M++],q=(D[M++],1-D[M++]),z=Math.cos(J)*N+Q,V=Math.sin(J)*G+O;M>1?U+=sq(F,E,z,V,L,H):(K=z,C=V);var T=(L-Q)*G/N+Q;if(I){if(ot(Q,O,G,J,J+B,q,P,T,H)){return !0}}else{U+=pt(Q,O,G,J,J+B,q,T,H)}F=Math.cos(J+B)*N+Q,E=Math.sin(J+B)*G+O;break;case SO.R:K=F=D[M++],C=E=D[M++];var A=D[M++],k=D[M++],z=K+A,V=C+k;if(I){if(aH(K,C,z,C,P,L,H)||aH(z,C,z,V,P,L,H)||aH(z,V,K,V,P,L,H)||aH(K,V,K,C,P,L,H)){return !0}}else{U+=sq(z,C,z,V,L,H),U+=sq(K,V,K,C,L,H)}break;case SO.Z:if(I){if(aH(F,E,K,C,P,L,H)){return !0}}else{U+=sq(F,E,K,C,L,H)}F=K,E=C}}return I||hB(E,C)||(U+=sq(F,E,K,C,L,H)||0),0!==U}function Q5(a,b,d){return lt(a,0,!1,b,d)}function mt(b,d,f,a){return lt(b,d,!0,f,a)}function Cz(a){K7.call(this,a),this.path=null}function nt(D,P,I,L,H,U,F,E,K,C,M){var R=K*(YF/180),Q=aab(R)*(D-I)/2+UG(R)*(P-L)/2,O=-1*UG(R)*(D-I)/2+aab(R)*(P-L)/2,N=Q*Q/(F*F)+O*O/(E*E);N>1&&(F*=HO(N),E*=HO(N));var G=(H===U?-1:1)*HO((F*F*E*E-F*F*O*O-E*E*Q*Q)/(F*F*O*O+E*E*Q*Q))||0,J=G*F*O/E,B=G*-E*Q/F,q=(D+I)/2+aab(R)*J-UG(R)*B,z=(P+L)/2+UG(R)*J+aab(R)*B,V=MN([1,0],[(Q-J)/F,(O-B)/E]),T=[(Q-J)/F,(O-B)/E],A=[(-1*Q-J)/F,(-1*O-B)/E],k=MN(T,A);VG(T,A)<=-1&&(k=YF),VG(T,A)>=1&&(k=0),0===U&&k>0&&(k-=2*YF),1===U&&0>k&&(k+=2*YF),M.addData(C,q,z,F,E,V,k,R,U)}function wq(F){if(!F){return[]}var U,L=F.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(U=0;U<QN.length;U++){L=L.replace(new RegExp(QN[U],"g"),"|"+QN[U])}var P,K=L.split("|"),Y=0,H=0,G=new cZ,O=cZ.CMD;for(U=1;U<K.length;U++){var E,Q=K[U],W=Q.charAt(0),V=0,T=Q.slice(1).replace(/e,-/g,"e-").split(",");T.length>0&&""===T[0]&&T.shift();for(var R=0;R<T.length;R++){T[R]=parseFloat(T[R])}for(;V<T.length&&!isNaN(T[V])&&!isNaN(T[0]);){var J,N,D,z,B,Z,X,C=Y,k=H;switch(W){case"l":Y+=T[V++],H+=T[V++],E=O.L,G.addData(E,Y,H);break;case"L":Y=T[V++],H=T[V++],E=O.L,G.addData(E,Y,H);break;case"m":Y+=T[V++],H+=T[V++],E=O.M,G.addData(E,Y,H),W="l";break;case"M":Y=T[V++],H=T[V++],E=O.M,G.addData(E,Y,H),W="L";break;case"h":Y+=T[V++],E=O.L,G.addData(E,Y,H);break;case"H":Y=T[V++],E=O.L,G.addData(E,Y,H);break;case"v":H+=T[V++],E=O.L,G.addData(E,Y,H);break;case"V":H=T[V++],E=O.L,G.addData(E,Y,H);break;case"C":E=O.C,G.addData(E,T[V++],T[V++],T[V++],T[V++],T[V++],T[V++]),Y=T[V-2],H=T[V-1];break;case"c":E=O.C,G.addData(E,T[V++]+Y,T[V++]+H,T[V++]+Y,T[V++]+H,T[V++]+Y,T[V++]+H),Y+=T[V-2],H+=T[V-1];break;case"S":J=Y,N=H;var q=G.len(),A=G.data;P===O.C&&(J+=Y-A[q-4],N+=H-A[q-3]),E=O.C,C=T[V++],k=T[V++],Y=T[V++],H=T[V++],G.addData(E,J,N,C,k,Y,H);break;case"s":J=Y,N=H;var q=G.len(),A=G.data;P===O.C&&(J+=Y-A[q-4],N+=H-A[q-3]),E=O.C,C=Y+T[V++],k=H+T[V++],Y+=T[V++],H+=T[V++],G.addData(E,J,N,C,k,Y,H);break;case"Q":C=T[V++],k=T[V++],Y=T[V++],H=T[V++],E=O.Q,G.addData(E,C,k,Y,H);break;case"q":C=T[V++]+Y,k=T[V++]+H,Y+=T[V++],H+=T[V++],E=O.Q,G.addData(E,C,k,Y,H);break;case"T":J=Y,N=H;var q=G.len(),A=G.data;P===O.Q&&(J+=Y-A[q-4],N+=H-A[q-3]),Y=T[V++],H=T[V++],E=O.Q,G.addData(E,J,N,Y,H);break;case"t":J=Y,N=H;var q=G.len(),A=G.data;P===O.Q&&(J+=Y-A[q-4],N+=H-A[q-3]),Y+=T[V++],H+=T[V++],E=O.Q,G.addData(E,J,N,Y,H);break;case"A":D=T[V++],z=T[V++],B=T[V++],Z=T[V++],X=T[V++],C=Y,k=H,Y=T[V++],H=T[V++],E=O.A,nt(C,k,Y,H,Z,X,D,z,B,E,G);break;case"a":D=T[V++],z=T[V++],B=T[V++],Z=T[V++],X=T[V++],C=Y,k=H,Y+=T[V++],H+=T[V++],E=O.A,nt(C,k,Y,H,Z,X,D,z,B,E,G)}}("z"===W||"Z"===W)&&(E=O.Z,G.addData(E)),P=E}return G.toStatic(),G}function jz(a,b){var d=wq(a);return b=b||{},b.buildPath=function(f){if(f.setData){f.setData(d.data);var g=f.getContext();g&&f.rebuildPath(g)}else{var g=f;d.rebuildPath(g)}},b.applyTransform=function(e){JO(d,e),this.dirty(!0)},b}function zk(a,b){return new Cz(jz(a,b))}function fB(a,b){return Cz.extend(jz(a,b))}function uq(f,h){for(var l=[],d=f.length,k=0;d>k;k++){var b=f[k];b.path||b.createPathProxy(),b.__dirtyPath&&b.buildPath(b.path,b.shape,!0),l.push(b.path)}var g=new Cz(h);return g.createPathProxy(),g.buildPath=function(a){a.appendPath(l);var m=a.getContext();m&&a.rebuildPath(m)},g}function eB(p,k,f,h,d,m,b){var q=0.5*(f-p),g=0.5*(h-k);return(2*(k-f)+q+g)*b+(-3*(k-f)-2*q-g)*m+q*d+k}function tq(x,p,f){var k=p.points,d=p.smooth;if(k&&k.length>=2){if(d&&"spline"!==d){var v=iZ(k,d,f,p.smoothConstraint);x.moveTo(k[0][0],k[0][1]);for(var b=k.length,y=0;(f?b:b-1)>y;y++){var g=v[2*y],w=v[2*y+1],m=k[(y+1)%b];x.bezierCurveTo(g[0],g[1],w[0],w[1],m[0],m[1])}}else{"spline"===d&&(k=FO(k,f)),x.moveTo(k[0][0],k[0][1]);for(var y=1,q=k.length;q>y;y++){x.lineTo(k[y][0],k[y][1])}}f&&x.closePath()}}function vq(b,d,g){var a=b.cpx2,f=b.cpy2;return null===a||null===f?[(g?S3:N5)(b.x1,b.cpx1,b.cpx2,b.x2,d),(g?S3:N5)(b.y1,b.cpy1,b.cpy2,b.y2,d)]:[(g?G6:P5)(b.x1,b.cpx1,b.x2,d),(g?G6:P5)(b.y1,b.cpy1,b.y2,d)]}function bG(a){return Cz.extend(a)}function dB(a,b){return fB(a,b)}function cq(f,g,k,d){var h=zk(f,g),b=h.getBoundingRect();return k&&("center"===d&&(k=K6(k,b)),R4(h,k)),h}function gB(b,d,f){var a=new R5({style:{image:b,x:d.x,y:d.y,width:d.width,height:d.height},onload:function(e){if("center"===f){var g={width:e.width,height:e.height};a.setStyle(K6(d,g))}}});return a}function K6(f,h){var l,d=h.width/h.height,k=f.height*d;k<=f.width?l=f.height:(k=f.width,l=k/d);var b=f.x+f.width/2,g=f.y+f.height/2;return{x:b-k/2,y:g-l/2,width:k,height:l}}function R4(b,d){if(b.applyTransform){var f=b.getBoundingRect(),a=f.calculateTransform(d);b.applyTransform(a)}}function BB(a){var b=a.shape,d=a.style.lineWidth;return nX(2*b.x1)===nX(2*b.x2)&&(b.x1=b.x2=rq(b.x1,d,!0)),nX(2*b.y1)===nX(2*b.y2)&&(b.y1=b.y2=rq(b.y1,d,!0)),a}function qq(f){var h=f.shape,l=f.style.lineWidth,d=h.x,k=h.y,b=h.width,g=h.height;return h.x=rq(h.x,l,!0),h.y=rq(h.y,l,!0),h.width=Math.max(rq(d+b,l,!1)-h.x,0===b?0:1),h.height=Math.max(rq(k+g,l,!1)-h.y,0===g?0:1),f}function rq(b,d,f){var a=nX(2*b);return(a+nX(d))%2===0?a/2:(a+(f?1:-1))/2}function kt(a){return null!=a&&"none"!=a}function IQ(a){return"string"==typeof a?xO(a,-0.1):a}function XH(f){if(f.__hoverStlDirty){var g=f.style.stroke,k=f.style.fill,d=f.__hoverStl;d.fill=d.fill||(kt(k)?IQ(k):null),d.stroke=d.stroke||(kt(g)?IQ(g):null);var h={};for(var b in d){null!=d[b]&&(h[b]=f.style[b])}f.__normalStl=h,f.__hoverStlDirty=!1}}function OO(a){if(!a.__isHover){if(XH(a),a.useHoverLayer){a.__zr&&a.__zr.addHover(a,a.__hoverStl)}else{var b=a.style,d=b.insideRollbackOpt;d&&aZ(b),b.extendFrom(a.__hoverStl),d&&(ER(b,b.insideOriginalTextPosition,d),null==b.textFill&&(b.textFill=d.autoColor)),a.dirty(!1),a.z2+=1}a.__isHover=!0}}function TH(a){if(a.__isHover){var b=a.__normalStl;a.useHoverLayer?a.__zr&&a.__zr.removeHover(a):(b&&a.setStyle(b),a.z2-=1),a.__isHover=!1}}function NO(a){"group"===a.type?a.traverse(function(b){"group"!==b.type&&OO(b)}):OO(a)}function abF(a){"group"===a.type?a.traverse(function(b){"group"!==b.type&&TH(b)}):TH(a)}function KQ(a,b){a.__hoverStl=a.hoverStyle||b||{},a.__hoverStlDirty=!0,a.__isHover&&XH(a)}function JQ(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&NO(this)}function QO(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&abF(this)}function HQ(){this.__isEmphasis=!0,NO(this)}function UH(){this.__isEmphasis=!1,abF(this)}function aad(a,b,d){a.__hoverSilentOnTouch=d&&d.hoverSilentOnTouch,"group"===a.type?a.traverse(function(e){"group"!==e.type&&KQ(e,b)}):KQ(a,b),a.on("mouseover",JQ).on("mouseout",QO),a.on("emphasis",HQ).on("normal",UH)}function YG(D,y,m,q,k,B,b){k=k||zV;var E=k.labelFetcher,p=k.labelDataIndex,C=k.labelDimIndex,v=m.getShallow("show"),A=q.getShallow("show"),z=v||A?aa7(E?E.getFormattedLabel(p,"normal",null,C):null,k.defaultText):null,x=v?z:null,w=A?aa7(E?E.getFormattedLabel(p,"emphasis",null,C):null,z):null;(null!=x||null!=w)&&(WH(D,m,B,k),WH(y,q,b,k,!0)),D.text=x,y.text=w}function WH(b,d,g,a,f){return MO(b,d,a,f),g&&Y2(b,g),b.host&&b.host.dirty&&b.host.dirty(!1),b}function VH(b,d,g){var a,f={isRectText:!0};g===!1?a=!0:f.autoColor=g,MO(b,d,f,a),b.host&&b.host.dirty&&b.host.dirty(!1)}function MO(x,p,f,k){if(f=f||zV,f.isRectText){var d=p.getShallow("position")||(k?null:"inside");"outside"===d&&(d="top"),x.textPosition=d,x.textOffset=p.getShallow("offset");var v=p.getShallow("rotate");null!=v&&(v*=Math.PI/180),x.textRotation=v,x.textDistance=aa7(p.getShallow("distance"),k?null:5)}var b,y=p.ecModel,g=y&&y.option.textStyle,w=PO(p);if(w){b={};for(var m in w){if(w.hasOwnProperty(m)){var q=p.getModel(["rich",m]);GQ(b[m]={},q,g,f,k)}}}return x.rich=b,GQ(x,p,g,f,k,!0),f.forceRich&&!f.textStyle&&(f.textStyle={}),x}function PO(b){for(var d;b&&b!==b.ecModel;){var f=(b.option||zV).rich;if(f){d=d||{};for(var a in f){f.hasOwnProperty(a)&&(d[a]=1)}}b=b.parentModel}return d}function GQ(f,h,l,d,k,b){if(l=!k&&l||zV,f.textFill=DR(h.getShallow("color"),d)||l.color,f.textStroke=DR(h.getShallow("textBorderColor"),d)||l.textBorderColor,f.textStrokeWidth=aa7(h.getShallow("textBorderWidth"),l.textBorderWidth),!k){if(b){var g=f.textPosition;f.insideRollback=ER(f,g,d),f.insideOriginalTextPosition=g,f.insideRollbackOpt=d}null==f.textFill&&(f.textFill=d.autoColor)}f.fontStyle=h.getShallow("fontStyle")||l.fontStyle,f.fontWeight=h.getShallow("fontWeight")||l.fontWeight,f.fontSize=h.getShallow("fontSize")||l.fontSize,f.fontFamily=h.getShallow("fontFamily")||l.fontFamily,f.textAlign=h.getShallow("align"),f.textVerticalAlign=h.getShallow("verticalAlign")||h.getShallow("baseline"),f.textLineHeight=h.getShallow("lineHeight"),f.textWidth=h.getShallow("width"),f.textHeight=h.getShallow("height"),f.textTag=h.getShallow("tag"),b&&d.disableBox||(f.textBackgroundColor=DR(h.getShallow("backgroundColor"),d),f.textPadding=h.getShallow("padding"),f.textBorderColor=DR(h.getShallow("borderColor"),d),f.textBorderWidth=h.getShallow("borderWidth"),f.textBorderRadius=h.getShallow("borderRadius"),f.textBoxShadowColor=h.getShallow("shadowColor"),f.textBoxShadowBlur=h.getShallow("shadowBlur"),f.textBoxShadowOffsetX=h.getShallow("shadowOffsetX"),f.textBoxShadowOffsetY=h.getShallow("shadowOffsetY")),f.textShadowColor=h.getShallow("textShadowColor")||l.textShadowColor,f.textShadowBlur=h.getShallow("textShadowBlur")||l.textShadowBlur,f.textShadowOffsetX=h.getShallow("textShadowOffsetX")||l.textShadowOffsetX,f.textShadowOffsetY=h.getShallow("textShadowOffsetY")||l.textShadowOffsetY}function DR(a,b){return"auto"!==a?a:b&&b.autoColor?b.autoColor:null}function ER(b,d,g){var a,f=g.useInsideStyle;return null==b.textFill&&f!==!1&&(f===!0||g.isRectText&&d&&"string"==typeof d&&d.indexOf("inside")>=0)&&(a={textFill:null,textStroke:b.textStroke,textStrokeWidth:b.textStrokeWidth},b.textFill="#fff",null==b.textStroke&&(b.textStroke=g.autoColor,null==b.textStrokeWidth&&(b.textStrokeWidth=2))),a}function aZ(a){var b=a.insideRollback;b&&(a.textFill=b.textFill,a.textStroke=b.textStroke,a.textStrokeWidth=b.textStrokeWidth)}function aa8(a,b){var d=b||b.getModel("textStyle");return[a.fontStyle||d&&d.getShallow("fontStyle")||"",a.fontWeight||d&&d.getShallow("fontWeight")||"",(a.fontSize||d&&d.getShallow("fontSize")||12)+"px",a.fontFamily||d&&d.getShallow("fontFamily")||"sans-serif"].join(" ")}function FQ(w,p,f,k,d,q){"function"==typeof d&&(q=d,d=null);var b=k&&k.isAnimationEnabled();if(b){var x=w?"Update":"",g=k.getShallow("animationDuration"+x),v=k.getShallow("animationEasing"+x),m=k.getShallow("animationDelay"+x);"function"==typeof m&&(m=m(d,k.getAnimationDelayParams?k.getAnimationDelayParams(p,d):null)),"function"==typeof g&&(g=g(d)),g>0?p.animateTo(f,g,m||0,v,q,!!q):(p.stopAnimation(),p.attr(f),q&&q())}else{p.stopAnimation(),p.attr(f),q&&q()}}function i0(b,d,g,a,f){FQ(!0,b,d,g,a,f)}function oY(b,d,g,a,f){FQ(!1,b,d,g,a,f)}function sX(a,b){for(var d=KG([]);a&&a!==b;){QF(d,a.getLocalTransform(),d),a=a.parent}return d}function h0(a,b,d){return b&&!Z1(b)&&(b=t0.getLocalTransform(b)),d&&(b=Yq([],b)),aaK([],a,b)}function AV(f,g,k){var d=0===g[4]||0===g[5]||0===g[0]?1:Math.abs(2*g[4]/g[0]),h=0===g[4]||0===g[5]||0===g[2]?1:Math.abs(2*g[4]/g[2]),b=["left"===f?-d:"right"===f?d:0,"top"===f?-h:"bottom"===f?h:0];return b=h0(b,g,k),Math.abs(b[0])>Math.abs(b[1])?b[0]>0?"right":"left":b[1]>0?"bottom":"top"}function xX(f,g,k){function d(a){var l={};return a.traverse(function(e){!e.isGroup&&e.anid&&(l[e.anid]=e)}),l}function h(a){var l={position:aan(a.position),rotation:a.rotation};return a.shape&&(l.shape=Y2({},a.shape)),l}if(f&&g){var b=d(f);g.traverse(function(l){if(!l.isGroup&&l.anid){var m=b[l.anid];if(m){var a=h(l);l.attr(h(m)),i0(l,a,k,l.dataIndex)}}})}}function yX(a,b){return ZU(a,function(e){var f=e[0];f=wW(f,b.x),f=jY(f,b.x+b.width);var d=e[1];return d=wW(d,b.y),d=jY(d,b.y+b.height),[f,d]})}function pY(f,g){var k=wW(f.x,g.x),d=jY(f.x+f.width,g.x+g.width),h=wW(f.y,g.y),b=jY(f.y+f.height,g.y+g.height);return d>=k&&b>=h?{x:k,y:h,width:d-k,height:b-h}:void 0}function lY(b,d,f){d=Y2({rectHover:!0},d);var a=d.style={strokeNoScale:!0};return f=f||{x:-1,y:-1,width:2,height:2},b?0===b.indexOf("image://")?(a.image=b.slice(8),Y0(a,f),new R5(d)):cq(b.replace("path://",""),d,f,"center"):void 0}function RN(a,b,d){this.parentModel=b,this.ecModel=d,this.option=a}function mY(b,d,f){for(var a=0;a<d.length&&(!d[a]||(b=b&&"object"==typeof b?b[d[a]]:null,null!=b));a++){}return null==b&&f&&(b=f.get(d)),b}function CU(a,b){var d=cG(a,"getParent");return d?d.call(a,b):a.parentModel}function nY(a){return a instanceof Array?a:null==a?[]:[a]}function wX(f,h){if(f){for(var l=f.emphasis=f.emphasis||{},d=f.normal=f.normal||{},k=0,b=h.length;b>k;k++){var g=h[k];!l.hasOwnProperty(g)&&d.hasOwnProperty(g)&&(l[g]=d[g])}}}function jZ(a){return a&&(null==a.value?a:a.value)}function zW(a){return gZ(a)&&!(a instanceof Array)}function f0(a,b){var d=b&&b.type;return"ordinal"===d?a:("time"===d&&"number"!=typeof a&&null!=a&&"-"!==a&&(a=+lH(a)),null==a||""===a?0/0:+a)}function uX(a,b){b=(b||[]).slice();var d=ZU(a||[],function(e){return{exist:e}});return cW(b,function(g,f){if(gZ(g)){for(var h=0;h<d.length;h++){if(!d[h].option&&null!=g.id&&d[h].exist.id===g.id+""){return d[h].option=g,void (b[f]=null)}}for(var h=0;h<d.length;h++){var e=d[h].exist;if(!(d[h].option||null!=e.id&&null!=g.id||null==g.name||tX(g)||tX(e)||e.name!==g.name+"")){return d[h].option=g,void (b[f]=null)}}}}),cW(b,function(g){if(gZ(g)){for(var h=0;h<d.length;h++){var f=d[h].exist;if(!d[h].option&&!tX(f)&&null==g.id){d[h].option=g;break}}h>=d.length&&d.push({option:g})}}),d}function e0(a){var b=aaD();cW(a,function(d){var e=d.exist;e&&b.set(e.id,d)}),cW(a,function(d){var e=d.option;aaz(!e||null==e.id||!b.get(e.id)||b.get(e.id)===d,"id duplicates: "+(e&&e.id)),e&&null!=e.id&&b.set(e.id,d),!d.keyInfo&&(d.keyInfo={})}),cW(a,function(f){var h=f.exist,e=f.option,g=f.keyInfo;if(gZ(e)){if(g.name=null!=e.name?e.name+"":h?h.name:"\x00-",h){g.id=h.id}else{if(null!=e.id){g.id=e.id+""}else{var d=0;do{g.id="\x00"+g.name+"\x00"+d++}while(b.get(g.id))}}b.set(g.id,f)}})}function tX(a){return gZ(a)&&a.id&&0===(a.id+"").indexOf("\x00_ec_\x00")}function vX(f,g){function k(B,y,q){for(var w=0,p=B.length;p>w;w++){for(var z=B[w].seriesId,m=nY(B[w].dataIndex),C=q&&q[z],v=0,A=m.length;A>v;v++){var x=m[v];C&&C[x]?C[x]=null:(y[z]||(y[z]={}))[x]=1}}}function d(m,p){var s=[];for(var q in m){if(m.hasOwnProperty(q)&&null!=m[q]){if(p){s.push(+q)}else{var l=d(m[q],!0);l.length&&s.push({seriesId:q,dataIndex:l})}}}return s}var h={},b={};return k(f||[],h),k(g||[],b,h),[d(h),d(b)]}function bY(a,b){return null!=b.dataIndexInside?b.dataIndexInside:null!=b.dataIndex?YO(b.dataIndex)?ZU(b.dataIndex,function(d){return a.indexOfRawIndex(d)}):a.indexOfRawIndex(b.dataIndex):null!=b.name?YO(b.name)?ZU(b.name,function(d){return a.indexOfName(d)}):a.indexOfName(b.name):void 0}function d0(f,g,k){if(Z5(g)){var d={};d[g+"Index"]=0,g=d}var h=k&&k.defaultMainType;!h||SK(g,h+"Index")||SK(g,h+"Id")||SK(g,h+"Name")||(g[h+"Index"]=0);var b={};return cW(g,function(e,q){var e=g[q];if("dataIndex"===q||"dataIndexInside"===q){return void (b[q]=e)}var p=q.match(/^(\w+)(Index|Id|Name)$/)||[],n=p[1],a=(p[2]||"").toLowerCase();if(!(!n||!a||null==e||"index"===a&&"none"===e||k&&k.includeMainTypes&&YX(k.includeMainTypes,n)<0)){var m={mainType:n};("index"!==a||"all"!==e)&&(m[a]=e);var t=f.queryComponents(m);b[n+"Models"]=t,b[n+"Model"]=t[0]}}),b}function cX(b,d){var g=b.dimensions;d=b.getDimension(d);for(var a=0;a<g.length;a++){var f=b.getDimensionInfo(g[a]);if(f.name===d){return f.coordDim}}}function g0(a,b){var d=[];return cW(a.dimensions,function(e){var f=a.getDimensionInfo(e);f.coordDim===b&&(d[f.coordDimIndex]=f.name)}),d}function LO(a,b){var d=[];return cW(a.dimensions,function(f){var h=a.getDimensionInfo(f),e=h.otherDims,g=e[b];null!=g&&g!==!1&&(d[g]=h.name)}),d}function SK(a,b){return a&&a.hasOwnProperty(b)}function BV(a){return[a||"",qW++,Math.random()].join(rW)}function qX(a){var b={};return a.registerSubTypeDefaulter=function(d,e){d=Lq(d),b[d.main]=e},a.determineSubType=function(g,e){var f=e.type;if(!f){var d=Lq(g).main;a.hasSubTypes(g)&&b[d]&&(f=b[d](e))}return f},a}function rX(b,d){function g(h){var k={},e=[];return ZX(h,function(p){var o=a(k,p),m=o.originalDeps=d(p),n=f(m,h);o.entryCount=n.length,0===o.entryCount&&e.push(p),ZX(n,function(l){YX(o.predecessor,l)<0&&o.predecessor.push(l);var q=a(k,l);YX(q.successor,l)<0&&q.successor.push(p)})}),{graph:k,noEntryList:e}}function a(h,k){return h[k]||(h[k]={predecessor:[],successor:[]}),h[k]}function f(h,k){var l=[];return ZX(h,function(e){YX(k,e)>=0&&l.push(e)}),l}b.topologicalTravel=function(B,w,p,m){function z(e){n[e].entryCount--,0===n[e].entryCount&&A.push(e)}function k(e){q[e]=!0,z(e)}if(B.length){var C=g(w),n=C.graph,A=C.noEntryList,q={};for(ZX(B,function(e){q[e]=!0});A.length;){var y=A.pop(),x=n[y],v=!!q[y];v&&(p.call(m,y,x.originalDeps.slice()),delete q[y]),ZX(x.successor,v?k:z)}ZX(q,function(){throw new Error("Circle dependency may exists")})}}}function kY(f,k,m,d,l){var b=0,h=0;null==d&&(d=1/0),null==l&&(l=1/0);var g=0;k.eachChild(function(n,y){var o,w,t=n.position,s=n.getBoundingRect(),q=k.childAt(y+1),a=q&&q.getBoundingRect();if("horizontal"===f){var e=s.width+(a?-a.x+s.x:0);o=b+e,o>d||n.newline?(b=0,o=e,h+=g+m,g=s.height):g=Math.max(g,s.height)}else{var x=s.height+(a?-a.y+s.y:0);w=h+x,w>l||n.newline?(b+=g+m,h=0,w=x,g=s.width):g=Math.max(g,s.width)}n.newline||(t[0]=b,t[1]=h,"horizontal"===f?b=o+m:h=w+m)})}function H3(p,k,f){var h=k.width,d=k.height,m=Ft(p.x,h),b=Ft(p.y,d),q=Ft(p.x2,h),g=Ft(p.y2,d);return(isNaN(m)||isNaN(parseFloat(p.x)))&&(m=0),(isNaN(q)||isNaN(parseFloat(p.x2)))&&(q=h),(isNaN(b)||isNaN(parseFloat(p.y)))&&(b=0),(isNaN(g)||isNaN(parseFloat(p.y2)))&&(g=d),f=OR(f||0),{width:Math.max(q-m-f[1]-f[3],0),height:Math.max(g-b-f[0]-f[2],0)}}function WY(D,y,m){m=OR(m||0);var q=y.width,k=y.height,B=Ft(D.left,q),b=Ft(D.top,k),E=Ft(D.right,q),p=Ft(D.bottom,k),C=Ft(D.width,q),v=Ft(D.height,k),A=m[2]+m[0],z=m[1]+m[3],x=D.aspect;switch(isNaN(C)&&(C=q-E-z-B),isNaN(v)&&(v=k-p-A-b),null!=x&&(isNaN(C)&&isNaN(v)&&(x>q/k?C=0.8*q:v=0.8*k),isNaN(C)&&(C=x*v),isNaN(v)&&(v=C/x)),isNaN(B)&&(B=q-E-C-z),isNaN(b)&&(b=k-p-v-A),D.left||D.right){case"center":B=q/2-C/2-m[3];break;case"right":B=q-C-z}switch(D.top||D.bottom){case"middle":case"center":b=k/2-v/2-m[0];break;case"bottom":b=k-v-A}B=B||0,b=b||0,isNaN(C)&&(C=q-z-B-(E||0)),isNaN(v)&&(v=k-A-b-(p||0));var w=new gU(B+m[3],b+m[0],C,v);return w.margin=m,w}function N2(A,v,k,p,g){var y=!g||!g.hv||g.hv[0],b=!g||!g.hv||g.hv[1],m=g&&g.boundingMode||"all";if(y||b){var z;if("raw"===m){z="group"===A.type?new gU(0,0,+v.width||0,+v.height||0):A.getBoundingRect()}else{if(z=A.getBoundingRect(),A.needLocalTransform()){var q=A.getLocalTransform();z=z.clone(),z.applyTransform(q)}}v=WY(Y0({width:z.width,height:z.height},v),k,p);var x=A.position,w=y?v.x-z.x:0,s=b?v.y-z.y:0;A.attr("position","raw"===m?[w,s]:[x[0]+w,x[1]+s])}}function S0(a,b){return null!=a[WQ[b][0]]||null!=a[WQ[b][1]]&&null!=a[WQ[b][2]]}function M2(q,k,f){function h(e,s){var a={},o=0,z={},t=0,y=2;if(kX(e,function(l){z[l]=q[l]}),kX(e,function(l){d(k,l)&&(a[l]=z[l]=k[l]),m(a,l)&&o++,m(z,l)&&t++}),v[s]){return m(k,e[1])?z[e[2]]=null:m(k,e[2])&&(z[e[1]]=null),z}if(t!==y&&o){if(o>=y){return a}for(var x=0;x<e.length;x++){var w=e[x];if(!d(a,w)&&d(q,w)){a[w]=q[w];break}}return a}return z}function d(a,l){return a.hasOwnProperty(l)}function m(a,l){return null!=a[l]&&"auto"!==a[l]}function b(a,l,o){kX(a,function(e){l[e]=o[e]})}!YQ(f)&&(f={});var v=f.ignoreSize;!YO(v)&&(v=[v,v]);var g=h(WQ[0],0),p=h(WQ[1],1);b(WQ[0],q,g),b(WQ[1],q,p)}function abj(a){return J3({},a)}function J3(a,b){return b&&a&&kX(HX,function(d){b.hasOwnProperty(d)&&(a[d]=b[d])}),a}function I3(a){var b=[];return ZX(abd.getClassesByMainType(a),function(d){MW.apply(b,d.prototype.dependencies||[])}),ZU(b,function(d){return Lq(d).main})}function P2(a,b){ZX(b,function(d,f){abd.hasClass(f)||("object"==typeof d?a[f]=a[f]?Y9(a[f],d,!1):ZQ(d):null==a[f]&&(a[f]=d))})}function G3(a){a=a,this.option={},this.option[LW]=1,this._componentsMap=aaD({series:[]}),this._seriesIndices=null,P2(a,this._theme.option),Y9(a,IX,!1),this.mergeOption(a)}function TY(a,b){YO(b)||(b=b?[b]:[]);var d={};return GX(b,function(f){d[f]=(a.get(f)||[]).slice()}),d}function Y8(b,d,f){var a=d.type?d.type:f?f.subType:abd.determineSubType(b,d);return a}function XY(a){return YW(a,function(b){return b.componentIndex})||[]}function VY(a,b){return b.hasOwnProperty("subType")?TQ(a,function(d){return d.subType===b.subType}):a}function UY(a){ZX(FX,function(b){this[b]=YU(a[b],a)},this)}function L2(){this._coordinateSystems=[]}function O2(a){this._api=a,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function F3(p,k,f){var h,d,m=[],b=[],q=p.timeline;if(p.baseOption&&(d=p.baseOption),(q||p.options)&&(d=d||{},m=(p.options||[]).slice()),p.media){d=d||{};var g=p.media;DY(g,function(a){a&&a.option&&(a.query?b.push(a):h||(h=a))})}return d||(d=p),d.timeline||(d.timeline=q),DY([d].concat(m).concat(ZU(b,function(a){return a.option})),function(a){DY(k,function(l){l(a,f)})}),{baseOption:d,timelineOptions:m,mediaDefault:h,mediaList:b}}function C4(b,d,g){var a={width:d,height:g,aspectratio:d/g},f=!0;return ZX(b,function(k,m){var o=m.match(h5);if(o&&o[1]&&o[2]){var h=o[1],l=o[2].toLowerCase();D4(a[l],k,h)||(f=!1)}}),f}function D4(a,b,d){return"min"===d?a>=b:"max"===d?b>=a:a===b}function aF(a,b){return a.join(",")===b.join(",")}function aay(a,b){b=b||{},DY(b,function(f,h){if(null!=f){var d=a[h];if(abd.hasClass(h)){f=nY(f),d=nY(d);var g=uX(d,f);a[h]=aam(g,function(e){return e.option&&e.exist?EY(e.exist,e.option,!0):e.exist||e.option})}else{a[h]=EY(d,f,!0)}}})}function E4(f){var k=f&&f.itemStyle;if(k){for(var l=0,d=g5.length;d>l;l++){var b=g5[l],h=k.normal,g=k.emphasis;h&&h[b]&&(f[b]=f[b]||{},f[b].normal?Y9(f[b].normal,h[b]):f[b].normal=h[b],h[b]=null),g&&g[b]&&(f[b]=f[b]||{},f[b].emphasis?Y9(f[b].emphasis,g[b]):f[b].emphasis=g[b],g[b]=null)}}}function iq(f,g){var k=r2(f)&&f[g],d=r2(k)&&k.textStyle;if(d){for(var h=0,b=LN.length;b>h;h++){var g=LN[h];d.hasOwnProperty(g)&&(k[g]=d[g])}}}function n9(a){r2(a)&&(iq(a,"normal"),iq(a,"emphasis"))}function r8(f){if(r2(f)){E4(f),n9(f.label),n9(f.upperLabel),n9(f.edgeLabel);var k=f.markPoint;E4(k),n9(k&&k.label);var m=f.markLine;E4(f.markLine),n9(m&&m.label);var d=f.markArea;n9(d&&d.label),iq(f,"axisLabel"),iq(f,"title"),iq(f,"detail");var l=f.data;if(l){for(var b=0;b<l.length;b++){E4(l[b]),n9(l[b]&&l[b].label)}}var k=f.markPoint;if(k&&k.data){for(var h=k.data,b=0;b<h.length;b++){E4(h[b]),n9(h[b]&&h[b].label)}}var m=f.markLine;if(m&&m.data){for(var g=m.data,b=0;b<g.length;b++){YO(g[b])?(E4(g[b][0]),n9(g[b][0]&&g[b][0].label),E4(g[b][1]),n9(g[b][1]&&g[b][1].label)):(E4(g[b]),n9(g[b]&&g[b].label))}}}}function hq(a){return YO(a)?a:a?[a]:[]}function z7(a){return(YO(a)?a[0]:a)||{}}function w8(b,d){d=d.split(",");for(var f=b,a=0;a<d.length&&(f=f&&f[d[a]],null!=f);a++){}return f}function x8(f,h,l,d){h=h.split(",");for(var k,b=f,g=0;g<h.length-1;g++){k=h[g],null==b[k]&&(b[k]={}),b=b[k]}(d||null==b[h[g]])&&(b[h[g]]=l)}function o9(a){ZX(w2,function(b){b[0] in a&&!(b[1] in a)&&(a[b[1]]=a[b[0]])})}function k9(){this.group=new TO,this.uid=BV("viewChart")}function Q2(a,b){if(a&&(a.trigger(b),"group"===a.type)){for(var d=0;d<a.childCount();d++){Q2(a.childAt(d),b)}}}function l9(b,d,f){var a=bY(b,d);null!=a?ZX(nY(a),function(g){Q2(b.getItemGraphicEl(g),f)}):b.eachItemGraphicEl(function(e){Q2(e,f)})}function Cq(z,q,g){function m(){p=(new Date).getTime(),w=null,z.apply(b,A||[])}var f,x,b,A,k,y=0,p=0,w=null;q=q||0;var v=function(){f=(new Date).getTime(),b=this,A=arguments;var a=k||q,e=k||g;k=null,x=f-(e?y:p)-a,clearTimeout(w),e?w=setTimeout(m,a):x>=0?m():w=setTimeout(m,-x),y=f};return v.clear=function(){w&&(clearTimeout(w),w=null)},v.debounceNextCall=function(a){k=a},v}function m9(f,k,m,d){var l=f[k];if(l){var b=l[v3]||l,h=l[y2],g=l[i5];if(g!==m||h!==d){if(null==m||!d){return f[k]=b}l=f[k]=Cq(b,m,"debounce"===d),l[v3]=b,l[y2]=d,l[i5]=m}return l}}function v9(a,b){var d=a[b];d&&d[v3]&&(a[b]=d[v3])}function jk(a){return function(d,f,b){d=d&&d.toLowerCase(),l1.prototype[a].call(this,d,f,b)}}function y8(){l1.call(this)}function fq(d,g,k){function h(a,l){return a.prio-l.prio}k=k||{},"string"==typeof g&&(g=WX[g]),this.id,this.group,this._dom=d;var b="canvas",f=this._zr=Ez(d,{renderer:k.renderer||b,devicePixelRatio:k.devicePixelRatio,width:k.width,height:k.height});this._throttledZrFlush=Cq(YU(f.flush,f),17);var g=ZQ(g);g&&k3(g,!0),this._theme=g,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new L2,this._api=WW(this),l1.call(this),this._messageCenter=new y8,this._initEvents(),this.resize=YU(this.resize,this),this._pendingActions=[],W2(Y6,h),W2(H2,h),f.animation.on("frame",this._onframe,this),ZF(this)}function t8(f,k,m){var d,l=this._model,b=this._coordSysMgr.getCoordinateSystems();k=d0(l,k);for(var h=0;h<b.length;h++){var g=b[h];if(g[f]&&null!=(d=g[f](l,k,m))){return d}}}function eq(p,k,f,h,d){function m(a){a&&a.__alive&&a[k]&&a[k](a.__model,b,p._api,f)}var b=p._model;if(!h){return void s2(p._componentsViews.concat(p._chartsViews),m)}var q={};q[h+"Id"]=f[h+"Id"],q[h+"Index"]=f[h+"Index"],q[h+"Name"]=f[h+"Name"];var g={mainType:h,query:q};d&&(g.subType=d),b&&b.eachComponent(g,function(a){m(p["series"===h?"_chartsMap":"_componentsMap"][a.__viewId])},p)}function s8(B,w){var k=B.type,q=B.escapeConnect,g=J2[k],z=g.actionInfo,m=(z.update||"update").split(":"),A=m.pop();m=null!=m[0]&&u2(m[0]),this[I2]=!0;var s=[B],y=!1;B.batch&&(y=!0,s=ZU(B.batch,function(a){return a=Y0(Y2({},a),B),a.batch=null,a}));var x,v=[],b="highlight"===k||"downplay"===k;s2(s,function(a){x=g.action(a,this._model,this._api),x=x||Y2({},a),x.type=z.event||x.type,v.push(x),b?eq(this,A,a,"series"):m&&eq(this,A,a,m.main,m.sub)},this),"none"===A||b||m||(this[O1]?(abJ.prepareAndUpdate.call(this,B),this[O1]=!1):abJ[A].call(this,B)),x=y?{type:z.event||k,escapeConnect:q,batch:v}:v[0],this[I2]=!1,!w&&this._messageCenter.trigger(x.type,x)}function u8(a){for(var b=this._pendingActions;b.length;){var d=b.shift();s8.call(this,d,a)}}function bE(a){!a&&this.trigger("updated")}function dq(b,d,f){var a=this._api;s2(this._componentsViews,function(g){var e=g.__model;g[b](e,d,a,f),H1(e,g)},this),d.eachSeries(function(g){var e=this._chartsMap[g.__viewId];e[b](g,d,a,f),H1(g,e),kj(g,e)},this),q8(this._zr,d),s2(aaw,function(e){e(d,a)})}function b8(f,k){for(var m="component"===f,d=m?this._componentsViews:this._chartsViews,l=m?this._componentsMap:this._chartsMap,b=this._zr,h=0;h<d.length;h++){d[h].__alive=!1}k[m?"eachComponent":"eachSeries"](function(n,q){if(m){if("series"===n){return}}else{q=n}var p="_ec_"+q.id+"_"+q.type,a=l[p];if(!a){var e=u2(q.type),o=m?l3.getClass(e.main,e.sub):k9.getClass(e.sub);if(!o){return}a=new o,a.init(k,this._api),l[p]=a,d.push(a),b.add(a.group)}q.__viewId=a.__id=p,a.__alive=!0,a.__model=q,a.group.__ecComponentInfo={mainType:q.mainType,index:q.componentIndex}},this);for(var h=0;h<d.length;){var g=d[h];g.__alive?h++:(b.remove(g.group),g.dispose(k,this._api),d.splice(h,1),delete l[g.__id],g.__id=g.group.__ecComponentInfo=null)}}function gq(a,b){s2(H2,function(d){d.func(a,b)})}function K3(a){var b={};a.eachSeries(function(e){var g=e.get("stack"),d=e.getData();if(g&&"list"===d.type){var f=b[g];b.hasOwnProperty(g)&&f&&(d.stackedOn=f),b[g]=d}})}function R1(a,b){var d=this._api;s2(Y6,function(e){e.isLayout&&e.func(a,d,b)})}function Bt(b,d,f){var a=this._api;b.clearColorPalette(),b.eachSeries(function(e){e.clearColorPalette()}),s2(Y6,function(e){(!f||!e.isLayout)&&e.func(b,a,d)})}function p9(a,b){var d=this._api;s2(this._componentsViews,function(e){var f=e.__model;e.render(f,a,d,b),H1(f,e)},this),s2(this._chartsViews,function(e){e.__alive=!1},this),a.eachSeries(function(e){var f=this._chartsMap[e.__viewId];f.__alive=!0,f.render(e,a,d,b),f.group.silent=!!e.get("silent"),H1(e,f),kj(e,f)},this),q8(this._zr,a),s2(this._chartsViews,function(f){f.__alive||f.remove(a,d)},this)}function q8(b,d){var f=b.storage,a=0;f.traverse(function(e){e.isGroup||a++}),a>d.get("hoverLayerThreshold")&&!VN.node&&f.traverse(function(e){e.isGroup||(e.useHoverLayer=!0)})}function kj(f,g){var k=0;g.group.traverse(function(a){"group"===a.type||a.ignore||k++});var d=+f.get("progressive"),h=k>f.get("progressiveThreshold")&&d&&!VN.node;h&&g.group.traverse(function(a){a.isGroup||(a.progressive=h?Math.floor(k++/d):-1,h&&a.stopAnimation(!0))});var b=f.get("blendMode")||null;g.group.traverse(function(a){a.isGroup||a.setStyle("blend",b)})}function H1(b,d){var f=b.get("z"),a=b.get("zlevel");d.group.traverse(function(e){"group"!==e.type&&(null!=f&&(e.z=f),null!=a&&(e.zlevel=a))})}function WW(a){var b=a._coordSysMgr;return Y2(new UY(a),{getCoordinateSystems:YU(b.getCoordinateSystems,b),getComponentByElement:function(d){for(;d;){var f=d.__ecComponentInfo;if(null!=f){return a._model.getComponent(f.mainType,f.index)}d=d.parent}}})}function N0(f){function g(l,m){for(var o=0;o<l.length;o++){var a=l[o];a[b]=m}}var k=0,d=1,h=2,b="__connectUpdateStatus";ZX(Q1,function(e,a){f._messageCenter.on(a,function(o){if(P1[f.group]&&f[b]!==k){if(o&&o.escapeConnect){return}var n=f.makeActionFromEvent(o),m=[];ZX(M1,function(l){l!==f&&l.group===f.group&&m.push(l)}),g(m,k),s2(m,function(l){l[b]!==d&&l.dispatchAction(n)}),g(m,h)}})})}function SY(b,d,g){var a=I1(b);if(a){return a}var f=new fq(b,d,g);return f.id="ec_"+G2++,M1[f.id]=f,b.setAttribute?b.setAttribute(E3,f.id):b[E3]=f.id,N0(f),f}function M0(a){if(YO(a)){var b=a;a=null,ZX(b,function(d){null!=d.group&&(a=d.group)}),a=a||"g_"+D3++,ZX(b,function(d){d.group=a})}return P1[a]=!0,a}function abh(a){P1[a]=!1}function J1(a){"string"==typeof a?a=M1[a]:a instanceof fq||(a=I1(a)),a instanceof fq&&!a.isDisposed()&&a.dispose()}function I1(a){var b;return b=a.getAttribute?a.getAttribute(E3):a[E3],M1[b]}function P0(a){return M1[a]}function G1(a,b){WX[a]=b}function TW(a){UX.push(a)}function Y5(a,b){"function"==typeof a&&(b=a,a=b2),H2.push({prio:a,func:b})}function XW(a){aaw.push(a)}function VW(b,d,f){"function"==typeof d&&(f=d,d="");var a=YQ(b)?b.type:[b,b={event:d}][0];b.event=(b.event||a).toLowerCase(),d=b.event,aaz(TX.test(a)&&TX.test(d)),J2[a]||(J2[a]={action:f,actionInfo:b}),Q1[d]=a}function UW(a,b){L2.register(a,b)}function L0(a){var b=L2.get(a);return b?b.getDimensionsInfo?b.getDimensionsInfo():b.dimensions.slice():void 0}function O0(a,b){"function"==typeof a&&(b=a,a=KX),Y6.push({prio:a,func:b,isLayout:!0})}function F1(a,b){"function"==typeof a&&(b=a,a=A9),Y6.push({prio:a,func:b})}function C2(a,b){VX[a]=b}function D2(a){return abd.extend(a)}function aE(a){return l3.extend(a)}function aav(a){return QW.extend(a)}function E2(a){return k9.extend(a)}function h9(a){Zj("createCanvas",a)}function n7(a,b,d){b.geoJson&&!b.features&&(d=b.specialAreas,b=b.geoJson),"string"==typeof b&&(b="undefined"!=typeof JSON&&JSON.parse?JSON.parse(b):new Function("return ("+b+");")()),a2[a]={geoJson:b,specialAreas:d}}function r6(a){return a2[a]}function g9(a){return a.get("stack")||jj+a.seriesIndex}function z5(a){return a.dim+a.index}function w6(v,p){var f=[],k=v.axis,d="axis0";if("category"===k.type){for(var q=k.getBandWidth(),b=0;b<v.count;b++){f.push(Y0({bandWidth:q,axisKey:d,stackId:jj+b},v))}for(var g=o7(f,p),s=[],b=0;b<v.count;b++){var m=g[d][jj+b];m.offsetCenter=m.offset+m.width/2,s.push(m)}return s}}function x6(a,b){var d=ZU(a,function(w){var p=w.getData(),h=w.coordinateSystem,m=h.getBaseAxis(),g=m.getExtent(),q="category"===m.type?m.getBandWidth():Math.abs(g[1]-g[0])/p.count(),f=Ft(w.get("barWidth"),q),x=Ft(w.get("barMaxWidth"),q),k=w.get("barGap"),v=w.get("barCategoryGap");return{bandWidth:q,barWidth:f,barMaxWidth:x,barGap:k,barCategoryGap:v,axisKey:z5(m),stackId:g9(w)}});return o7(d,b)}function o7(a){var b={};ZX(a,function(w){var g=w.axisKey,m=w.bandWidth,f=b[g]||{bandWidth:m,remainedWidth:m,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},q=f.stacks;b[g]=f;var e=w.stackId;q[e]||f.autoWidthCount++,q[e]=q[e]||{width:0,maxWidth:0};var x=w.barWidth;x&&!q[e].width&&(q[e].width=x,x=Math.min(f.remainedWidth,x),f.remainedWidth-=x);var k=w.barMaxWidth;k&&(q[e].maxWidth=k);var v=w.barGap;null!=v&&(f.gap=v);var p=w.barCategoryGap;null!=p&&(f.categoryGap=p)});var d={};return ZX(b,function(y,p){d[p]={};var m=y.stacks,g=y.bandWidth,w=Ft(y.categoryGap,g),f=Ft(y.gap,1),z=y.remainedWidth,k=y.autoWidthCount,x=(z-w)/(k+(k-1)*f);x=Math.max(x,0),ZX(m,function(h){var l=h.maxWidth;l&&x>l&&(l=Math.min(l,z),h.width&&(l=Math.min(l,h.width)),z-=l,h.width=l,k--)}),x=(z-w)/(k+(k-1)*f),x=Math.max(x,0);var n,v=0;ZX(m,function(e){e.width||(e.width=x),n=e,v+=e.width*(1+f)}),n&&(v-=n.width*f);var q=-v/2;ZX(m,function(h,e){d[p][e]=d[p][e]||{offset:q,width:h.width},q+=h.width*(1+f)})}),d}function k7(b,d){var g=x6(Zt(d.getSeriesByType(b),function(e){return !d.isSeriesFiltered(e)&&e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type})),a={},f={};d.eachSeriesByType(b,function(B){if("cartesian2d"===B.coordinateSystem.type){var w=B.getData(),z=B.coordinateSystem,k=z.getBaseAxis(),C=g9(B),n=g[z5(k)][C],A=n.offset,o=n.width,y=z.getOtherAxis(k),x=B.get("barMinHeight")||0,v=k.onZero?y.toGlobalCoord(y.dataToCoord(0)):y.getGlobalExtent()[0],q=[B.coordDimToDataDim("x")[0],B.coordDimToDataDim("y")[0]],m=w.mapArray(q,function(h,l){return z.dataToPoint([h,l])},!0);a[C]=a[C]||[],f[C]=f[C]||[],w.setLayout({offset:A,size:o}),w.each(B.coordDimToDataDim(y.dim)[0],function(H,h){if(!isNaN(H)){a[C][h]||(a[C][h]={p:v,n:v},f[C][h]={p:v,n:v});var F,e,s,u,p=H>=0?"p":"n",G=m[h],D=a[C][h][p],E=f[C][h][p];y.isHorizontal()?(F=D,e=G[1]+A,s=G[0]-E,u=o,f[C][h][p]+=s,Math.abs(s)<x&&(s=(0>s?-1:1)*x),a[C][h][p]+=s):(F=G[0]+A,e=D,s=o,u=G[1]-E,f[C][h][p]+=u,Math.abs(u)<x&&(u=(0>=u?-1:1)*x),a[C][h][p]+=u),w.setItemLayout(h,{x:F,y:e,width:s,height:u})}},!0)}},this)}function Q0(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function l7(p,k,f,h){var d={},m=p[1]-p[0],b=d.interval=CG(m/k,!0);null!=f&&f>b&&(b=d.interval=f),null!=h&&b>h&&(b=d.interval=h);var q=d.intervalPrecision=Ck(b),g=d.niceTickExtent=[ij(Math.ceil(p[0]/b)*b,q),ij(Math.floor(p[1]/b)*b,q)];return v7(g,p),d}function Ck(a){return hK(a)+2}function m7(a,b,d){a[b]=Math.max(Math.min(a[b],d[1]),d[0])}function v7(a,b){!isFinite(a[0])&&(a[0]=b[0]),!isFinite(a[1])&&(a[1]=b[1]),m7(a,0,b),m7(a,1,b),a[0]>a[1]&&(a[0]=a[1])}function i9(f,h,l,d){var k=[];if(!f){return k}var b=10000;h[0]<l[0]&&k.push(h[0]);for(var g=l[0];g<=l[1]&&(k.push(g),g=ij(g+f,d),g!==k[k.length-1]);){if(k.length>b){return[]}}return h[1]>(k.length?k[k.length-1]:l[1])&&k.push(h[1]),k}function y6(a,b){return t7(a,fj(b))}function e9(w,p){var f,k,d,q=w.type,b=p.getMin(),x=p.getMax(),g=null!=b,v=null!=x,m=w.getExtent();return"ordinal"===q?f=(p.get("data")||[]).length:(k=p.get("boundaryGap"),YO(k)||(k=[k||0,k||0]),"boolean"==typeof k[0]&&(k=[0,0]),k[0]=Ft(k[0],1),k[1]=Ft(k[1],1),d=m[1]-m[0]||Math.abs(m[0])),null==b&&(b="ordinal"===q?f?0:0/0:m[0]-k[0]*d),null==x&&(x="ordinal"===q?f?f-1:0/0:m[1]+k[1]*d),"dataMin"===b?b=m[0]:"function"==typeof b&&(b=b({min:m[0],max:m[1]})),"dataMax"===x?x=m[1]:"function"==typeof x&&(x=x({min:m[0],max:m[1]})),(null==b||!isFinite(b))&&(b=0/0),(null==x||!isFinite(x))&&(x=0/0),w.setBlank(aaO(b)||aaO(x)),p.getNeedCrossZero()&&(b>0&&x>0&&!g&&(b=0),0>b&&0>x&&!v&&(x=0)),[b,x]}function t6(f,k){var m=e9(f,k),d=null!=k.getMin(),l=null!=k.getMax(),b=k.get("splitNumber");"log"===f.type&&(f.base=k.get("logBase"));var h=f.type;f.setExtent(m[0],m[1]),f.niceExtent({splitNumber:b,fixMin:d,fixMax:l,minInterval:"interval"===h||"time"===h?k.get("minInterval"):null,maxInterval:"interval"===h||"time"===h?k.get("maxInterval"):null});var g=k.get("interval");null!=g&&f.setInterval&&f.setInterval(g)}function d9(a,b){if(b=b||a.get("type")){switch(b){case"category":return new s7(a.getCategories(),[1/0,-1/0]);case"value":return new x7;default:return(Q0.getClass(b)||x7).create(a)}}}function s6(b){var d=b.scale.getExtent(),f=d[0],a=d[1];return !(f>0&&a>0||0>f&&0>a)}function u6(z,q,g,m,f){var x,b=0,A=0,k=(m-f)/180*Math.PI,y=1;q.length>40&&(y=Math.floor(q.length/40));for(var p=0;p<z.length;p+=y){var w=z[p],v=V2(q[p],g,"center","top");v.x+=w*Math.cos(k),v.y+=w*Math.sin(k),v.width*=1.3,v.height*=1.3,x?x.intersect(v)?(A++,b=Math.max(b,A)):(x.union(v),A=0):x=v.clone()}return 0===b&&y>1?y:(b+1)*y-1}function bB(b,d){var g=b.scale,a=g.getTicksLabels(),f=g.getTicks();return"string"==typeof d?(d=function(e){return function(h){return e.replace("{value}",null!=h?h:"")}}(d),ZU(a,d)):"function"==typeof d?ZU(f,function(h,e){return d(c9(b,h),e)},this):a}function c9(a,b){return"category"===a.type?a.scale.getLabel(b):b}function b6(a){return this._axes[a]}function f9(a){L1.call(this,a)}function K1(b,d){var g=b[1]-b[0],a=d,f=g/a/2;b[0]+=f,b[1]-=f}function RZ(a){return YQ(a)&&null!=a.value?a.value:a+""}function Bq(a,b){return b.type||(b.data?"category":"value")}function p7(a,b){return a.getCoordSysModel()===b}function q6(p,k){var f=k*Math.PI/180,h=p.plain(),d=h.width,m=h.height,b=d*Math.cos(f)+m*Math.sin(f),q=d*Math.sin(f)+m*Math.cos(f),g=new gU(h.x,h.y,b,q);return g}function j8(q){var k,f=q.model,h=f.getFormattedLabels(),d=f.getModel("axisLabel"),m=1,b=h.length;b>40&&(m=Math.ceil(b/40));for(var v=0;b>v;v+=m){if(!q.isLabelIgnored(v)){var g=d.getTextRect(h[v]),p=q6(g,d.get("rotate")||0);k?k.union(p):k=p}}return k}function Ij(a,b,d){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(a,b,d),this.model=a}function W5(f,h,l){var d=f[h];if(l.onZero){var k=l.onZeroAxisIndex;if(null!=k){var b=d[k];return void (b&&N9(b)&&(l.onZero=!1))}for(var g in d){if(d.hasOwnProperty(g)){var b=d[g];if(b&&!N9(b)){k=+g;break}}}null==k&&(l.onZero=!1),l.onZeroAxisIndex=k}}function N9(a){return"category"===a.type||"time"===a.type||!J9(a)}function S6(b,d){var f=b.getExtent(),a=f[0]+f[1];b.toGlobalCoord="x"===b.dim?function(e){return e+d}:function(e){return a-e+d},b.toLocalCoord="x"===b.dim?function(e){return e-d}:function(e){return a-e+d}}function M9(a){return ZU(U4,function(b){var d=a.getReferringComponents(b)[0];return d})}function abq(a){return"cartesian2d"===a.get("coordinateSystem")}function Kj(a){return a}function Jj(b,d,g,a,f){this._old=b,this._new=d,this._oldKeyGetter=g||Kj,this._newKeyGetter=a||Kj,this.context=f}function P9(f,k,m,d,l){for(var b=0;b<f.length;b++){var h="_ec_"+l[d](f[b],b),g=k[h];null==g?(m.push(h),k[h]=b):(g.length||(k[h]=g=[g]),g.push(b))}}function Hj(a,b){ZX(M8.concat(b.__wrappedMethods||[]),function(d){b.hasOwnProperty(d)&&(a[d]=b[d])}),a.__wrappedMethods=b.__wrappedMethods}function T5(a){this._array=a||[]}function ZK(a){return YO(a)||(a=[a]),a}function X4(p,k){var f=p.dimensions,h=new P8(ZU(f,p.getDimensionInfo,p),p.hostModel);Hj(h,p);for(var d=h._storage={},m=p._storage,b=0;b<f.length;b++){var q=f[b],g=m[q];d[q]=YX(k,q)>=0?new g.constructor(m[q].length):m[q]}return h}function V5(x,J,D){function C(a,b,d){F9[b]?a.otherDims[b]=d:(a.coordDim=b,a.coordDimIndex=d,w.set(b,!0))}function N(b,d,f){if(f||null!=d.get(b)){for(var a=0;null!=d.get(b+a);){a++}b+=a}return d.set(b,!0),b}J=J||[],D=D||{},x=(x||[]).slice();var A=(D.dimsDef||[]).slice(),z=aaD(D.encodeDef),F=aaD(),w=aaD(),G=[],L=D.dimCount;if(null==L){var K=U5(J[0]);L=Math.max(YO(K)&&K.length||1,x.length,A.length),Fj(x,function(a){var b=a.dimsDef;b&&(L=Math.max(L,b.length))})}for(var I=0;L>I;I++){var H=a4(A[I])?{name:A[I]}:A[I]||{},B=H.name,E=G[I]={otherDims:{}};null!=B&&null==F.get(B)&&(E.name=E.tooltipName=B,F.set(B,I)),null!=H.type&&(E.type=H.type)}z.each(function(a,b){a=z.set(b,nY(a).slice()),Fj(a,function(e,d){a4(e)&&(e=F.get(e)),null!=e&&L>e&&(a[d]=e,C(G[e],b,d))})});var q=0;Fj(x,function(f){var h,f,m,d;a4(f)?(h=f,f={}):(h=f.name,f=ZQ(f),m=f.dimsDef,d=f.otherDims,f.name=f.coordDim=f.coordDimIndex=f.dimsDef=f.otherDims=null);var g=nY(z.get(h));if(!g.length){for(var b=0;b<(m&&m.length||1);b++){for(;q<G.length&&null!=G[q].coordDim;){q++}q<G.length&&g.push(q++)}}Fj(g,function(a,l){var e=G[a];C(abp(e,f),h,l),null==e.name&&m&&(e.name=e.tooltipName=m[l]),d&&abp(e.otherDims,d)})});for(var k=D.extraPrefix||"value",O=0;L>O;O++){var E=G[O]=G[O]||{},M=E.coordDim;null==M&&(E.coordDim=N(k,w,D.extraFromZero),E.coordDimIndex=0,E.isExtraCoord=!0),null==E.name&&(E.name=N(E.coordDim,F)),null==E.type&&jF(J,O)&&(E.type="ordinal")}return G}function U5(a){return YO(a)?a:YQ(a)?a.value:a}function L9(a){for(var b=0;b<a.length&&null==a[b];){b++}return a[b]}function O9(a){var b=L9(a);return null!=b&&!YO(jZ(b))}function Gj(B,x,m){B=B||[];var q=x.get("coordinateSystem"),k=pE[q],A=L2.get(q),b={encodeDef:x.get("encode"),dimsDef:x.get("dimensions")},C=k&&k(B,x,m,b),p=C&&C.dimensions;p||(p=A&&(A.getDimensionsInfo?A.getDimensionsInfo():A.dimensions.slice())||["x","y"],p=V5(p,B,b));var u=C?C.categoryIndex:-1,z=new P8(p,x),y=aN(C,B),w={},v=u>=0&&O9(B)?function(d,f,g,a){return zW(d)&&(z.hasItemOption=!0),a===u?g:f0(jZ(d),p[a])}:function(g,l,D,f){var s=jZ(g),d=f0(s&&s[f],p[f]);zW(g)&&(z.hasItemOption=!0);var h=C&&C.categoryAxesModels;return h&&h[l]&&"string"==typeof d&&(w[l]=w[l]||h[l].getCategories(),d=YX(w[l],d),0>d&&!isNaN(d)&&(d=+d)),d};return z.hasItemOption=!1,z.initData(B,y,v),z}function Dk(a){return"category"!==a&&"time"!==a}function Ek(a){return"category"===a?"ordinal":"time"===a?"time":"float"}function aN(f,k){var m,d=[],l=f&&f.dimensions[f.categoryIndex];if(l&&(m=f.categoryAxesModels[l.name]),m){var b=m.getCategories();if(b){var h=k.length;if(YO(k[0])&&k[0].length>1){d=[];for(var g=0;h>g;g++){d[g]=b[k[g][f.categoryIndex||0]]}}else{d=b.slice(0)}}}return d}function aaL(f,k,m,d,l,b){var h=m.getModel("label.normal"),g=m.getModel("label.emphasis");YG(f,k,h,g,{labelFetcher:l,labelDataIndex:b,defaultText:l.getRawValue(b),isRectText:!0,autoColor:d}),Fk(f),Fk(k)}function Fk(a,b){"outside"===a.textPosition&&(a.textPosition=b)}function iH(a,b,d){d.style.text=null,i0(d,{shape:{width:0}},b,a,function(){d.parent&&d.parent.remove(d)})}function oF(a,b,d){d.style.text=null,i0(d,{shape:{r:d.shape.r0}},b,a,function(){d.parent&&d.parent.remove(d)})}function sE(C,x,m,q,k,A,b,p){var B=x.getItemVisual(m,"color"),s=x.getItemVisual(m,"opacity"),z=q.getModel("itemStyle.normal"),y=q.getModel("itemStyle.emphasis").getBarItemStyle();p||C.setShape("r",z.get("barBorderRadius")||0),C.useStyle(Y0({fill:B,opacity:s},z.getBarItemStyle()));var w=q.getShallow("cursor");w&&C.attr("cursor",w);var v=b?k.height>0?"bottom":"top":k.width>0?"left":"right";p||aaL(C.style,y,q,B,A,m,v),aad(C,y)}function hH(a,b){var d=a.get(yB)||0;return Math.min(d,Math.abs(b.width),Math.abs(b.height))}function Az(b,d){if("image"!==this.type){var f=this.style,a=this.shape;a&&"line"===a.symbolType?f.stroke=b:this.__isEmptyBrush?(f.stroke=b,f.fill=d||"#fff"):(f.fill&&(f.fill=b),f.stroke&&(f.stroke=b)),this.dirty(!1)}}function xE(p,k,f,h,d,m,b){var q=0===p.indexOf("empty");q&&(p=p.substr(5,1).toLowerCase()+p.substr(6));var g;return g=0===p.indexOf("image://")?gB(p.slice(8),new gU(k,f,h,d),b?"center":"cover"):0===p.indexOf("path://")?cq(p.slice(7),{},new gU(k,f,h,d),b?"center":"cover"):new At({shape:{symbolType:p,x:k,y:f,width:h,height:d}}),g.__isEmptyBrush=q,g.setColor=Az,g.setColor(m),g}function yE(a){var b={componentType:a.mainType};return b[a.mainType+"Index"]=a.componentIndex,b}function pF(p,k,f,h){var d,m,b=yG(f-p.rotation),q=h[0]>h[1],g="start"===k&&!q||"start"!==k&&q;return pH(b-gG/2)?(m=g?"bottom":"top",d="center"):pH(b-1.5*gG)?(m=g?"top":"bottom",d="center"):(m="middle",d=1.5*gG>b&&b>gG/2?g?"left":"right":g?"right":"left"),{rotation:b,textAlign:d,textVerticalAlign:m}}function lF(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}function Q9(z,q,g){var m=z.get("axisLabel.showMinLabel"),f=z.get("axisLabel.showMaxLabel");q=q||[],g=g||[];var x=q[0],b=q[1],A=q[q.length-1],k=q[q.length-2],y=g[0],p=g[1],w=g[g.length-1],v=g[g.length-2];m===!1?(mF(x),mF(y)):CF(x,b)&&(m?(mF(b),mF(p)):(mF(x),mF(y))),f===!1?(mF(A),mF(w)):CF(k,A)&&(f?(mF(k),mF(v)):(mF(A),mF(w)))}function mF(a){a&&(a.ignore=!0)}function CF(b,d){var g=b&&b.getBoundingRect().clone(),a=d&&d.getBoundingRect().clone();if(g&&a){var f=KG([]);return Ut(f,f,-b.rotation),g.applyTransform(QF([],f,b.getLocalTransform())),a.applyTransform(QF([],f,d.getLocalTransform())),g.intersect(a)}}function nF(a){return"middle"===a||"center"===a}function wE(w,J,C){var F=J.axis;if(J.get("axisTick.show")&&!F.scale.isBlank()){for(var B=J.getModel("axisTick"),M=B.getModel("lineStyle"),z=B.get("length"),E=cB(B,C.labelInterval),s=F.getTicksCoords(B.get("alignWithLabel")),G=F.scale.getTicks(),L=J.get("axisLabel.showMinLabel"),K=J.get("axisLabel.showMaxLabel"),I=[],H=[],A=w._transform,D=[],q=s.length,b=0;q>b;b++){if(!wB(F,b,E,q,L,K)){var k=s[b];I[0]=k,I[1]=0,H[0]=k,H[1]=C.tickDirection*z,A&&(aaK(I,I,A),aaK(H,H,A));var N=new AU(BB({anid:"tick_"+G[b],shape:{x1:I[0],y1:I[1],x2:H[0],y2:H[1]},style:Y0(M.getLineStyle(),{stroke:J.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));w.group.add(N),D.push(N)}}return D}}function jG(H,B,q){var y=B.axis,k=aaq(q.axisLabelShow,B.get("axisLabel.show"));if(k&&!y.scale.isBlank()){var E=B.getModel("axisLabel"),b=E.get("margin"),I=y.scale.getTicks(),x=B.getFormattedLabels(),G=(aaq(q.labelRotate,E.get("rotate"))||0)*gG/180,z=uB(q.rotation,G,q.labelDirection),D=B.get("data"),C=[],A=lF(B),f=B.get("triggerEvent"),w=B.get("axisLabel.showMinLabel"),F=B.get("axisLabel.showMaxLabel");return ZX(I,function(m,h){if(!wB(y,h,q.labelInterval,I.length,w,F)){var l=E;D&&D[m]&&D[m].textStyle&&(l=new RN(D[m].textStyle,E,B.ecModel));var n=l.getTextColor()||B.get("axisLine.lineStyle.color"),d=y.dataToCoord(m),g=[d,q.labelOffset+q.labelDirection*b],a=y.scale.getLabel(m),e=new PN({anid:"label_"+m,position:g,rotation:z.rotation,silent:A,z2:10});WH(e.style,l,{text:x[h],textAlign:l.getShallow("align",!0)||z.textAlign,textVerticalAlign:l.getShallow("verticalAlign",!0)||l.getShallow("baseline",!0)||z.textVerticalAlign,textFill:"function"==typeof n?n("category"===y.type?a:"value"===y.type?m+"":m,h):n}),f&&(e.eventData=yE(B),e.eventData.targetType="axisLabel",e.eventData.value=a),H._dumbGroup.add(e),e.updateTransform(),C.push(e),H.group.add(e),e.decomposeTransform()}}),C}}function zB(a,b){var d={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return fH(d,a,b),d.seriesInvolved&&eH(d,a),d}function fH(f,h,l){var d=h.getComponent("tooltip"),k=h.getComponent("axisPointer"),b=k.get("link",!0)||[],g=[];eG(l.getCoordinateSystems(),function(a){function w(z,G,x){var A=x.model.getModel("axisPointer",k),D=A.get("show");if(D&&("auto"!==D||z||gH(A))){null==G&&(G=A.get("triggerTooltip")),A=z?uE(x,t,k,h,z,G):A;var C=A.get("snap"),B=Lj(x.model),n=G||C||"category"===x.type,u=f.axesInfo[B]={key:B,axis:x,coordSys:a,axisPointerModel:A,triggerTooltip:G,involveSeries:n,snap:C,useHandle:gH(A),seriesModels:[]};v[B]=u,f.seriesInvolved|=n;var F=tE(b,x);if(null!=F){var E=g[F]||(g[F]={axesInfo:{}});E.axesInfo[B]=u,E.mapper=b[F].mapper,u.linkGroup=E}}}if(a.axisPointerEnabled){var e=Lj(a.model),v=f.coordSysAxesInfo[e]={};f.coordSysMap[e]=a;var m=a.model,t=m.getModel("tooltip",d);if(eG(a.getAxes(),dG(w,!1,null)),a.getTooltipAxes&&d&&t.get("show")){var q="axis"===t.get("trigger"),p="cross"===t.get("axisPointer.type"),o=a.getTooltipAxes(t.get("axisPointer.axis"));(q||p)&&eG(o.baseAxes,dG(w,p?"cross":!0,q)),p&&eG(o.otherAxes,dG(w,"cross",!1))}}})}function uE(v,m,f,d,q,b){var g=m.getModel("axisPointer"),s={};eG(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(a){s[a]=ZQ(g.get(a))}),s.snap="category"!==v.type&&!!b,"cross"===g.get("type")&&(s.type="line");var k=s.label||(s.label={});if(null==k.show&&(k.show=!1),"cross"===q&&(k.show=!0,!b)){var p=s.lineStyle=g.get("crossStyle");p&&Y0(k,p.textStyle)}return v.model.getModel("axisPointer",new RN(s,f,d))}function eH(a,b){b.eachSeries(function(f){var h=f.coordinateSystem,d=f.get("tooltip.trigger",!0),g=f.get("tooltip.show",!0);h&&"none"!==d&&d!==!1&&"item"!==d&&g!==!1&&f.get("axisPointer.show",!0)!==!1&&eG(a.coordSysAxesInfo[Lj(h.model)],function(k){var e=k.axis;h.getAxis(e.dim)===e&&(k.seriesModels.push(f),null==k.seriesDataCount&&(k.seriesDataCount=0),k.seriesDataCount+=f.getData().count())})},this)}function tE(f,g){for(var k=g.model,d=g.dim,h=0;h<f.length;h++){var b=f[h]||{};if(vE(b[d+"AxisId"],k.id)||vE(b[d+"AxisIndex"],k.componentIndex)||vE(b[d+"AxisName"],k.name)){return h}}}function vE(a,b){return"all"===a||YO(a)&&YX(a,b)>=0||a===b}function bK(p){var k=dH(p);if(k){var f=k.axisPointerModel,h=k.axis.scale,d=f.option,m=f.get("status"),b=f.get("value");null!=b&&(b=h.parse(b));var q=gH(f);null==m&&(d.status=q?"show":"hide");var g=h.getExtent().slice();g[0]>g[1]&&g.reverse(),(null==b||b>g[1])&&(b=g[1]),b<g[0]&&(b=g[0]),d.value=b,q&&(d.status=k.axis.scale.isBlank()?"hide":"show")}}function dH(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[Lj(a)]}function cE(a){var b=dH(a);return b&&b.axisPointerModel}function gH(a){return !!a.get("handle.show")}function Lj(a){return a.type+"||"+a.id}function R8(f,k,m,d,l,b){var h=hG.getAxisPointerClass(f.axisPointerClass);if(h){var g=cE(k);g?(f._axisPointer||(f._axisPointer=new h)).render(k,g,d,b):BG(f,d)}}function BG(b,d,f){var a=b._axisPointer;a&&a.dispose(d,f),b._axisPointer=null}function qE(q,H,A){A=A||{};var D=q.coordinateSystem,z=H.axis,K={},x=z.position,w=z.onZero?"onZero":x,C=z.dim,k=D.getRect(),E=[k.x,k.x+k.width,k.y,k.y+k.height],J={left:0,right:1,top:0,bottom:1,onZero:2},I=H.get("offset")||0,G="x"===C?[E[2]-I,E[3]+I]:[E[0]-I,E[1]+I];if(z.onZero){var F=D.getAxis("x"===C?"y":"x",z.onZeroAxisIndex),y=F.toGlobalCoord(F.dataToCoord(0));G[J.onZero]=Math.max(Math.min(y,G[1]),G[0])}K.position=["y"===C?G[J[w]]:E[0],"x"===C?G[J[w]]:E[3]],K.rotation=Math.PI/2*("x"===C?0:1);var B={top:-1,bottom:1,left:-1,right:1};K.labelDirection=K.tickDirection=K.nameDirection=B[x],K.labelOffset=z.onZero?G[J[x]]-G[J.onZero]:0,H.get("axisTick.inside")&&(K.tickDirection=-K.tickDirection),aaq(A.labelInside,H.get("axisLabel.inside"))&&(K.labelDirection=-K.labelDirection);var b=H.get("axisLabel.rotate");return K.labelRotate="top"===w?-b:b,K.labelInterval=z.getLabelInterval(),K.z2=1,K}function rE(b){var d,g=LO(b,"label");if(g.length){d=g[0]}else{for(var a,f=b.dimensions.slice();f.length&&(d=f.pop(),a=b.getDimensionInfo(d).type,"ordinal"===a||"time"===a);){}}return d}function kF(a,b){var d=a.getItemVisual(b,"symbolSize");return d instanceof Array?d.slice():[+d,+d]}function HZ(a){return[a[0]/2,a[1]/2]}function WU(a,b,d){TO.call(this),this.updateData(a,b,d)}function NY(a,b){this.parent.drift(a,b)}function SW(a){this.group=new TO,this._symbolCtor=a||WU}function MY(b,d,f){var a=b.getItemLayout(d);return !(!a||isNaN(a[0])||isNaN(a[1])||f&&f(d)||"none"===b.getItemVisual(d,"symbol"))}function abf(a){return a>=0?1:-1}function JZ(x,p,f){for(var k,d=x.getBaseAxis(),v=x.getOtherAxis(d),b=d.onZero?0:v.scale.getExtent()[0],y=v.dim,g="x"===y||"radius"===y?1:0,w=p.stackedOn,m=p.get(y,f);w&&abf(w.get(y,f))===abf(m);){k=w;break}var q=[];return q[g]=p.get(d.dim,f),q[1-g]=k?k.get(y,f,!0):b,x.dataToPoint(q)}function IZ(a,b){var d=[];return b.diff(a).add(function(e){d.push({cmd:"+",idx:e})}).update(function(f,g){d.push({cmd:"=",idx:g,idx1:f})}).remove(function(e){d.push({cmd:"-",idx:e})}).execute(),d}function PY(a){return isNaN(a[0])||isNaN(a[1])}function GZ(A,M,F,I,E,Q,C,B,H,z,J){for(var O=0,N=F,L=0;I>L;L++){var K=M[N];if(N>=E||0>N){break}if(PY(K)){if(J){N+=Q;continue}break}if(N===F){A[Q>0?"moveTo":"lineTo"](K[0],K[1]),U9(ZW,K)}else{if(H>0){var D=N+Q,G=M[D];if(J){for(;G&&PY(M[D]);){D+=Q,G=M[D]}}var w=0.5,k=M[O],G=M[D];if(!G||PY(G)){U9(W9,K)}else{PY(G)&&!J&&(G=K),aaU(aaR,G,k);var q,R;if("x"===z||"y"===z){var P="x"===z?0:1;q=Math.abs(K[P]-k[P]),R=Math.abs(K[P]-G[P])}else{q=o1(K,k),R=o1(K,G)}w=R/(R+q),Iz(W9,K,aaR,-H*(1-w))}Kz(ZW,ZW,B),Rq(ZW,ZW,C),Kz(W9,W9,B),Rq(W9,W9,C),A.bezierCurveTo(ZW[0],ZW[1],W9[0],W9[1],K[0],K[1]),Iz(ZW,K,aaR,H*w)}else{A.lineTo(K[0],K[1])}}O=N,N+=Q}return L}function TU(f,g){var k=[1/0,1/0],d=[-1/0,-1/0];if(g){for(var h=0;h<f.length;h++){var b=f[h];b[0]<k[0]&&(k[0]=b[0]),b[1]<k[1]&&(k[1]=b[1]),b[0]>d[0]&&(d[0]=b[0]),b[1]>d[1]&&(d[1]=b[1])}}return{min:g?k:d,max:g?d:k}}function Y1(b,d){if(b.length===d.length){for(var g=0;g<b.length;g++){var a=b[g],f=d[g];if(a[0]!==f[0]||a[1]!==f[1]){return}}return !0}}function XU(a){return"number"==typeof a?a:a?0.3:0}function VU(b){var d=b.getGlobalExtent();if(b.onBand){var f=b.getBandWidth()/2-1,a=d[1]>d[0]?1:-1;d[0]+=a*f,d[1]-=a*f}return d}function UU(a){return a>=0?1:-1}function LY(f,k){var m=f.getBaseAxis(),d=f.getOtherAxis(m),l=0;if(!m.onZero){var b=d.scale.getExtent();b[0]>0?l=b[0]:b[1]<0&&(l=b[1])}var h=d.dim,g="x"===h||"radius"===h?1:0;return k.mapArray([h],function(p,n){for(var e,o=k.stackedOn;o&&UU(o.get(h,n))===UU(p);){e=o;break}var q=[];return q[g]=k.get(m.dim,n),q[1-g]=e?e.get(h,n,!0):l,f.dataToPoint(q)},!0)}function OY(z,q,g){var m=VU(z.getAxis("x")),f=VU(z.getAxis("y")),x=z.getBaseAxis().isHorizontal(),b=Math.min(m[0],m[1]),A=Math.min(f[0],f[1]),k=Math.max(m[0],m[1])-b,y=Math.max(f[0],f[1])-A,p=g.get("lineStyle.normal.width")||2,w=g.get("clipOverflow")?p/2:Math.max(k,y);x?(A-=w,y+=2*w):(b-=w,k+=2*w);var v=new hZ({shape:{x:b,y:A,width:k,height:y}});return q&&(v.shape[x?"width":"height"]=0,oY(v,{shape:{width:k,height:y}},g)),v}function FZ(p,k,f){var h=p.getAngleAxis(),d=p.getRadiusAxis(),m=d.getExtent(),b=h.getExtent(),q=Math.PI/180,g=new aY({shape:{cx:p.cx,cy:p.cy,r0:m[0],r:m[1],startAngle:-b[0]*q,endAngle:-b[1]*q,clockwise:h.inverse}});return k&&(g.shape.endAngle=-b[0]*q,oY(g,{shape:{endAngle:-b[1]*q}},f)),g}function C0(a,b,d){return"polar"===a.type?FZ(a,b,d):OY(a,b,d)}function D0(x,p,f){for(var k=p.getBaseAxis(),d="x"===k.dim||"radius"===k.dim?0:1,v=[],b=0;b<x.length-1;b++){var y=x[b+1],g=x[b];v.push(g);var w=[];switch(f){case"end":w[d]=y[d],w[1-d]=g[1-d],v.push(w);break;case"middle":var m=(g[d]+y[d])/2,q=[];w[d]=q[d]=m,w[1-d]=g[1-d],q[1-d]=y[1-d],v.push(w),v.push(q);break;default:w[d]=g[d],w[1-d]=y[1-d],v.push(w)}}return x[b]&&v.push(x[b]),v}function aB(F,z){var k=F.getVisual("visualMeta");if(k&&k.length&&F.count()){for(var x,g=k.length-1;g>=0;g--){if(k[g].dimension<2){x=k[g];break}}if(x&&"cartesian2d"===z.type){var C=x.dimension,b=F.dimensions[C],G=z.getAxis(b),w=ZU(x.stops,function(a){return{coord:G.toGlobalCoord(G.dataToCoord(a.value)),color:a.color}}),E=w.length,y=x.outerColors.slice();E&&w[0].coord>w[E-1].coord&&(w.reverse(),y.reverse());var B=10,A=w[0].coord-B,f=w[E-1].coord+B,q=f-A;if(0.001>q){return"transparent"}ZX(w,function(a){a.offset=(a.coord-A)/q}),w.push({offset:E?w[E-1].offset:0.5,color:y[1]||"transparent"}),w.unshift({offset:E?w[0].offset:0.5,color:y[0]||"transparent"});var D=new mX(0,0,0,0,w,!0);return D[b]=A,D[b+"2"]=f,D}}}function aar(f,k,m,d){var l=k.getData(),b=this.dataIndex,h=l.getName(b),g=k.get("selectedOffset");d.dispatchAction({type:"pieToggleSelect",from:f,name:h,seriesId:k.id}),l.each(function(a){E0(l.getItemGraphicEl(a),l.getItemLayout(a),k.isSelected(l.getName(a)),g,m)})}function E0(q,k,f,h,d){var m=(k.startAngle+k.endAngle)/2,b=Math.cos(m),v=Math.sin(m),g=f?h:0,p=[b*g,v*g];d?q.animate().when(200,{position:p}).start("bounceOut"):q.attr("position",p)}function h7(f,h){function l(){b.ignore=b.hoverIgnore,g.ignore=g.hoverIgnore}function d(){b.ignore=b.normalIgnore,g.ignore=g.normalIgnore}TO.call(this);var k=new aY({z2:2}),b=new sW,g=new PN;this.add(k),this.add(b),this.add(g),this.updateData(f,h,!0),this.on("emphasis",l).on("normal",d).on("mouseover",l).on("mouseout",d)}function n5(F,A,q,w,m,D,b){function G(d,g,a){for(var f=d;g>f;f++){if(F[f].y+=a,f>d&&g>f+1&&F[f+1].y>F[f].y+F[f].height){return void v(f,a/2)}}v(g-1,a/2)}function v(d,f){for(var a=d;a>=0&&(F[a].y-=f,!(a>0&&F[a].y>F[a-1].y+F[a-1].height));a--){}}function E(P,K,p,I,g,N){for(var f=N>0?K?Number.MAX_VALUE:0:K?Number.MAX_VALUE:0,Q=0,H=P.length;H>Q;Q++){if("center"!==P[Q].position){var O=Math.abs(P[Q].y-I),J=P[Q].len,M=P[Q].len2,L=g+J>O?Math.sqrt((g+J+M)*(g+J+M)-O*O):Math.abs(P[Q].x-p);K&&L>=f&&(L=f-10),!K&&f>=L&&(L=f+10),P[Q].x=p+L*N,f=L}}}F.sort(function(a,d){return a.y-d.y});for(var x,C=0,B=F.length,z=[],y=[],k=0;B>k;k++){x=F[k].y-C,0>x&&G(k,B,-x,m),C=F[k].y+F[k].height}0>b-C&&v(B-1,C-b);for(var k=0;B>k;k++){F[k].y>=q?y.push(F[k]):z.push(F[k])}E(z,!1,A,q,w,m),E(y,!0,A,q,w,m)}function r4(w,p,f,k,d,q){for(var b=[],x=[],g=0;g<w.length;g++){w[g].x<p?b.push(w[g]):x.push(w[g])}n5(x,p,f,k,1,d,q),n5(b,p,f,k,-1,d,q);for(var g=0;g<w.length;g++){var v=w[g].linePoints;if(v){var m=v[1][0]-v[2][0];v[2][0]=w[g].x<p?w[g].x+3:w[g].x-3,v[1][1]=v[2][1]=w[g].y,v[1][0]=v[2][0]+m}}}function g7(){this.group=new TO,this._symbolEl=new mJ({})}function z3(b,d,f,a){TO.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=f,this._createContent(b,d,a),this.updateData(b,d,a),this._seriesModel}function w4(a,b,d){return ZU(a,function(e){return e=e.slice(),e[b]=d.initBaseline,e})}function x4(a){var b={};return ZX(a,function(d,e){b["ends"+e]=d}),b}function o5(a){this.group=new TO,this.styleUpdater=a}function k5(w,p,f){var k=p.getItemModel(f),d=k.getModel(vH),q=p.getItemVisual(f,"color"),b=p.getItemVisual(f,"borderColor")||q,x=d.getItemStyle(["color","color0","borderColor","borderColor0"]),g=w.childAt(w.whiskerIndex);g.useStyle(x),g.style.stroke=b;var v=w.childAt(w.bodyIndex);v.useStyle(x),v.style.fill=q,v.style.stroke=b;var m=k.getModel(fN).getItemStyle();aad(w,m)}function QY(f,k){var m,d=f.getBaseAxis(),l="category"===d.type?d.getBandWidth():(m=d.getExtent(),Math.abs(m[1]-m[0])/k.count()),b=Ft(Mt(f.get("barMaxWidth"),l),l),h=Ft(Mt(f.get("barMinWidth"),1),l),g=f.get("barWidth");return null!=g?Ft(g,l):Math.max(Math.min(l/2,b),h)}function l5(a,b,d){q7.call(this,a,b,d),this.type="value",this.angle=0,this.name="",this.model}function Cj(a,b,d){this._model=a,this.dimensions=[],this._indicatorAxes=ZU(a.getIndicatorModels(),function(g,h){var k="indicator_"+h,f=new l5(k,new x7);return f.name=g.get("name"),f.model=g,g.axis=f,this.dimensions.push(k),f},this),this.resize(a,d),this.cx,this.cy,this.r,this.startAngle}function m5(a,b){return Y0({show:b},a)}function v5(a){return YO(a)||(a=[+a,+a]),a}function i7(){var a=n1();this.canvas=a,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function y4(f,g,k){var d=f[1]-f[0];g=ZU(g,function(a){return{interval:[(a.interval[0]-f[0])/d,(a.interval[1]-f[0])/d]}});var h=g.length,b=0;return function(e){for(var a=b;h>a;a++){var l=g[a].interval;if(l[0]<=e&&e<=l[1]){b=a;break}}if(a===h){for(var a=b-1;a>=0;a--){var l=g[a].interval;if(l[0]<=e&&e<=l[1]){b=a;break}}}return a>=0&&h>a&&k[a]}}function e7(a,b){var d=a[1]-a[0];return b=[(b[0]-a[0])/d,(b[1]-a[0])/d],function(e){return e>=b[0]&&e<=b[1]}}function t4(a){var b=a.dimensions;return"lng"===b[0]&&"lat"===b[1]}function d7(a){var b=a.mainData,d=a.datas;d||(d={main:b},a.datasAttr={main:"data"}),a.datas=a.mainData=null,f7(b,d,a),OZ(d,function(e){OZ(b.TRANSFERABLE_METHODS,function(f){e.wrapMethod(f,YN(s4,a))})}),b.wrapMethod("cloneShallow",YN(bz,a)),OZ(b.CHANGABLE_METHODS,function(e){b.wrapMethod(e,YN(u4,a))}),aaz(d[b.dataType]===b)}function s4(a,b){if(b4(this)){var d=Y2({},this[TV]);d[this.dataType]=b,f7(b,d,a)}else{KZ(b,this.dataType,this[NZ],a)}return b}function u4(a,b){return a.struct&&a.struct.update(this),b}function bz(a,b){return OZ(b[TV],function(e,d){e!==b&&KZ(e.cloneShallow(),d,b,a)}),b}function c7(a){var b=this[NZ];return null==a||null==b?b:b[TV][a]}function b4(a){return a[NZ]===a}function f7(a,b,d){a[TV]={},OZ(b,function(g,f){KZ(g,f,a,d)})}function KZ(b,d,f,a){f[TV][d]=b,b[NZ]=f,b.dataType=d,a.struct&&(b[a.structAttr]=a.struct,a.struct[a.datasAttr[d]]=b),b.getLinkedData=c7}function RX(a,b,d){this.root,this.data,this._nodes=[],this.hostModel=a,this.levelModels=ZU(b||[],function(f){return new RN(f,a,a.ecModel)}),this.leavesModel=new RN(d||{},a,a.ecModel)}function Bk(a,b){var d=b.children;a.parentNode!==b&&(d.push(a),a.parentNode=b)}function p5(f){f.hierNode={defaultAncestor:null,ancestor:f,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var h,l,d=[f];h=d.pop();){if(l=h.children,h.isExpand&&l.length){for(var k=l.length,b=k-1;b>=0;b--){var g=l[b];g.hierNode={defaultAncestor:null,ancestor:g,prelim:0,modifier:0,change:0,shift:0,i:b,thread:null},d.push(g)}}}}function q4(f,g){var k=f.isExpand?f.children:[],d=f.parentNode.children,h=f.hierNode.i?d[f.hierNode.i-1]:null;if(k.length){Tk(f);var b=(k[0].hierNode.prelim+k[k.length-1].hierNode.prelim)/2;h?(f.hierNode.prelim=h.hierNode.prelim+g(f,h),f.hierNode.modifier=f.hierNode.prelim-b):f.hierNode.prelim=b}else{h&&(f.hierNode.prelim=h.hierNode.prelim+g(f,h))}f.parentNode.hierNode.defaultAncestor=Nz(f,h,f.parentNode.hierNode.defaultAncestor||d[0],g)}function j6(a){var b=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:b},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function IB(a){return arguments.length?a:HB}function Xj(a,b){var d={};return a-=Math.PI/2,d.x=b*Math.cos(a),d.y=b*Math.sin(a),d}function Oz(a,b){return WY(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function Tk(f){for(var g=f.children,k=g.length,d=0,h=0;--k>=0;){var b=g[k];b.hierNode.prelim+=d,b.hierNode.modifier+=d,h+=b.hierNode.change,d+=b.hierNode.shift+h}}function Nz(z,q,g,m){if(q){for(var f=z,x=z,b=x.parentNode.children[0],A=q,k=f.hierNode.modifier,y=x.hierNode.modifier,p=b.hierNode.modifier,w=A.hierNode.modifier;A=abv(A),x=KB(x),A&&x;){f=abv(f),b=KB(b),f.hierNode.ancestor=z;var v=A.hierNode.prelim+w-x.hierNode.prelim-y+m(A,x);v>0&&(Qz(JB(A,z,g),z,v),y+=v,k+=v),w+=A.hierNode.modifier,y+=x.hierNode.modifier,k+=f.hierNode.modifier,p+=b.hierNode.modifier}A&&!abv(f)&&(f.hierNode.thread=A,f.hierNode.modifier+=w-k),x&&!KB(b)&&(b.hierNode.thread=x,b.hierNode.modifier+=y-p,g=z)}return g}function abv(a){var b=a.children;return b.length&&a.isExpand?b[b.length-1]:a.hierNode.thread}function KB(a){var b=a.children;return b.length&&a.isExpand?b[0]:a.hierNode.thread}function JB(a,b,d){return a.hierNode.ancestor.parentNode===b.parentNode?a.hierNode.ancestor:d}function Qz(b,d,f){var a=f/(d.hierNode.i-b.hierNode.i);d.hierNode.change-=a,d.hierNode.shift+=f,d.hierNode.modifier+=f,d.hierNode.prelim+=f,b.hierNode.change+=a}function HB(a,b){return a.parentNode===b.parentNode?1:2}function Uj(a,b){var d=a.getItemLayout(b);return d&&!isNaN(d.x)&&!isNaN(d.y)&&"none"!==a.getItemVisual(b,"symbol")}function ZY(a,b,d){return d.itemModel=b,d.itemStyle=b.getModel("itemStyle.normal").getItemStyle(),d.hoverItemStyle=b.getModel("itemStyle.emphasis").getItemStyle(),d.lineStyle=b.getModel("lineStyle.normal").getLineStyle(),d.labelModel=b.getModel("label.normal"),d.hoverLabelModel=b.getModel("label.emphasis"),d.symbolInnerColor=a.isExpand===!1&&0!==a.children.length?d.itemStyle.fill:"#fff",d}function X9(D,P,H,K,G,U){var E=!H,J=D.tree.getNodeByDataIndex(P),C=J.getModel(),U=ZY(J,C,U),L=D.tree.root,R=J.parentNode===L?J:J.parentNode||J,Q=D.getItemGraphicEl(R.dataIndex),O=R.getLayout(),N=Q?{x:Q.position[0],y:Q.position[1],rawX:Q.__radialOldRawX,rawY:Q.__radialOldRawY}:O,F=J.getLayout();E?(H=new WU(D,P,U),H.attr("position",[N.x,N.y])):H.updateData(D,P,U),H.__radialOldRawX=H.__radialRawX,H.__radialOldRawY=H.__radialRawY,H.__radialRawX=F.rawX,H.__radialRawY=F.rawY,K.add(H),D.setItemGraphicEl(P,H),i0(H,{position:[F.x,F.y]},G);var I=H.getSymbolPath();if("radial"===U.layout){var B,s,z=L.children[0],V=z.getLayout(),T=z.children.length;if(F.x===V.x&&J.isExpand===!0){var A={};A.x=(z.children[0].getLayout().x+z.children[T-1].getLayout().x)/2,A.y=(z.children[0].getLayout().y+z.children[T-1].getLayout().y)/2,B=Math.atan2(A.y-V.y,A.x-V.x),0>B&&(B=2*Math.PI+B),s=A.x<V.x,s&&(B-=Math.PI)}else{B=Math.atan2(F.y-V.y,F.x-V.x),0>B&&(B=2*Math.PI+B),0===J.children.length||0!==J.children.length&&J.isExpand===!1?(s=F.x<V.x,s&&(B-=Math.PI)):(s=F.x>V.x,s||(B-=Math.PI))}var k=s?"left":"right";I.setStyle({textPosition:k,textRotation:-B,textOrigin:"center",verticalAlign:"middle"})}if(J.parentNode&&J.parentNode!==L){var q=H.__edge;q||(q=H.__edge=new yW({shape:Vj(U,N,N),style:Y0({opacity:0},U.lineStyle)})),i0(q,{shape:Vj(U,O,F),style:{opacity:1}},G),K.add(q)}}function Wj(x,p,f,k,d,v){for(var b,y=x.tree.getNodeByDataIndex(p),g=x.tree.root,w=y.getModel(),v=ZY(y,w,v),m=y.parentNode===g?y:y.parentNode||y;b=m.getLayout(),null==b;){m=m.parentNode===g?m:m.parentNode||m}i0(f,{position:[b.x+1,b.y+1]},d,function(){k.remove(f),x.setItemGraphicEl(p,null)}),f.fadeOut(null,{keepLabel:!0});var q=f.__edge;q&&i0(q,{shape:Vj(v,b,b),style:{opacity:0}},d,function(){k.remove(q)})}function Vj(F,A,q){var w,m,D,b,G=F.orient;if("radial"===F.layout){var v=A.rawX,E=A.rawY,x=q.rawX,C=q.rawY,B=Xj(v,E),z=Xj(v,E+(C-E)*F.curvature),y=Xj(x,C+(E-C)*F.curvature),k=Xj(x,C);return{x1:B.x,y1:B.y,x2:k.x,y2:k.y,cpx1:z.x,cpy1:z.y,cpx2:y.x,cpy2:y.y}}var v=A.x,E=A.y,x=q.x,C=q.y;return"horizontal"===G&&(w=v+(x-v)*F.curvature,m=E,D=x+(v-x)*F.curvature,b=C),"vertical"===G&&(w=v,m=E+(C-E)*F.curvature,D=x,b=C+(E-C)*F.curvature),{x1:v,y1:E,x2:x,y2:C,cpx1:w,cpy1:m,cpx2:D,cpy2:b}}function Mz(f,k,m){for(var d,l=[f],b=[];d=l.pop();){if(b.push(d),d.isExpand){var h=d.children;if(h.length){for(var g=0;g<h.length;g++){l.push(h[g])}}}}for(;d=b.pop();){k(d,m)}}function Pz(f,g){for(var k,d=[f];k=d.pop();){if(g(k),k.isExpand){var h=k.children;if(h.length){for(var b=h.length-1;b>=0;b--){d.push(h[b])}}}}}function GB(b,d){if(b&&("treemapZoomToNode"===b.type||"treemapRootToNode"===b.type)){var g=d.getData().tree.root,a=b.targetNode;if(a&&g.contains(a)){return{node:a}}var f=b.targetNodeId;if(null!=f&&(a=g.getNodeById(f))){return{node:a}}}}function DE(a){for(var b=[];a;){a=a.parentNode,a&&b.push(a)}return b.reverse()}function EE(a,b){var d=DE(a);return YX(d,b)>=0}function aQ(b,d){for(var f=[];b;){var a=b.dataIndex;f.push({name:b.name,dataIndex:a,value:d.getRawValue(a)}),b=b.parentNode}return f.reverse(),f}function aaT(a){var b=0;ZX(a.children,function(e){aaT(e);var f=e.value;YO(f)&&(f=f[0]),b+=f});var d=a.value;YO(d)&&(d=d[0]),(null==d||isNaN(d))&&(d=b),0>d&&(d=0),YO(a.value)?a.value[0]=d:a.value=d}function FB(b,d){var g=d.get("color");if(g){b=b||[];var a;if(ZX(b,function(h){var k=new RN(h),l=k.get("color");(k.get("itemStyle.normal.color")||l&&"none"!==l)&&(a=!0)}),!a){var f=b[0]||(b[0]={});f.color=g.slice()}return b}}function iO(a){this.group=new TO,a.add(this.group)}function oK(f,h,l,d,k,b){var g=[[k?f:f-aat,h],[f+l,h],[f+l,h+d],[k?f:f-aat,h+d]];return !b&&g.splice(2,0,[f+l+aat,h+d/2]),!k&&g.push([f,h+d/2]),g}function sJ(a,b,d){a.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:b.componentIndex,seriesName:b.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:d&&d.dataIndex,name:d&&d.name},treePathInfo:d&&aQ(d,b)}}function hO(b,d,f){var a=yJ(b);a[d]=f}function AG(b,d,g){var a=yJ(b),f=a[d];f===g&&(a[d]=null)}function xJ(a,b){return !!yJ(a)[b]}function yJ(a){return a[Y3]||(a[Y3]={})}function pK(f){this.pointerChecker,this._zr=f,this._opt={};var h=YU,m=h(lK,this),k=h(Rt,this),d=h(mK,this),g=h(CH,this),b=h(nK,this);l1.call(this),this.setPointerChecker=function(a){this.pointerChecker=a},this.enable=function(l,a){this.disable(),this._opt=Y0(ZQ(a)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==l&&(l=!0),(l===!0||"move"===l||"pan"===l)&&(f.on("mousedown",m),f.on("mousemove",k),f.on("mouseup",d)),(l===!0||"scale"===l||"zoom"===l)&&(f.on("mousewheel",g),f.on("pinch",b))},this.disable=function(){f.off("mousedown",m),f.off("mousemove",k),f.off("mouseup",d),f.off("mousewheel",g),f.off("pinch",b)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function lK(a){if(!(T8(a)||a.target&&a.target.draggable)){var b=a.offsetX,d=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,d)&&(this._x=b,this._y=d,this._dragging=!0)}}function Rt(f){if(!T8(f)&&jN(this,"moveOnMouseMove",f)&&this._dragging&&"pinch"!==f.gestureEvent&&!xJ(this._zr,"globalPan")){var h=f.offsetX,l=f.offsetY,d=this._x,k=this._y,b=h-d,g=l-k;this._x=h,this._y=l,this._opt.preventDefaultMouseMove&&e4(f.event),this.trigger("pan",b,g,d,k,h,l)}}function mK(a){T8(a)||(this._dragging=!1)}function CH(a){if(jN(this,"zoomOnMouseWheel",a)&&0!==a.wheelDelta){var b=a.wheelDelta>0?1.1:1/1.1;wJ.call(this,a,b,a.offsetX,a.offsetY)}}function nK(a){if(!xJ(this._zr,"globalPan")){var b=a.pinchScale>1?1.1:1/1.1;wJ.call(this,a,b,a.pinchX,a.pinchY)}}function wJ(b,d,f,a){this.pointerChecker&&this.pointerChecker(b,f,a)&&(e4(b.event),this.trigger("zoom",d,f,a))}function jN(b,d,f){var a=b._opt[d];return a&&(!Z5(a)||f.event[a+"Key"])}function zH(){var a,b=[],d={};return{add:function(g,f,k,e,h){return Z5(e)&&(h=e,e=0),d[g.id]?!1:(d[g.id]=1,b.push({el:g,target:f,time:k,delay:e,easing:h}),!0)},done:function(f){return a=f,this},start:function(){function f(){k--,k||(b.length=0,d={},a&&a())}for(var k=b.length,e=0,h=b.length;h>e;e++){var g=b[e];g.el.animateTo(g.target,g.time,g.delay,g.easing,f)}return this}}}function fO(){return{nodeGroup:[],background:[],content:[]}}function uJ(U,ai,ab,aa,an,W,ad,T,af,al){function ak(f,h,d){h.dataIndex=ad.dataIndex,h.seriesIndex=U.seriesIndex,h.setShape({x:0,y:0,width:ao,height:am});var g=ad.getVisual("borderColor",!0),b=B.get("borderColor");ag(h,function(){var a=h8(G);a.fill=g;var l=s5(B);if(l.fill=b,d){var k=ao-2*Q;Z(a,l,g,k,V,{x:Q,y:0,width:k,height:V})}else{a.text=l.text=null}h.setStyle(a),aad(h,l)}),f.add(h)}function ah(f,h){h.dataIndex=ad.dataIndex,h.seriesIndex=U.seriesIndex;var d=Math.max(ao-2*Q,0),g=Math.max(am-2*Q,0);h.culling=!0,h.setShape({x:Q,y:Q,width:d,height:g});var b=ad.getVisual("color",!0);ag(h,function(){var a=h8(G);a.fill=b;var k=s5(B);Z(a,k,b,d,g),h.setStyle(a),aad(h,k)}),f.add(h)}function ag(a,b){q?!a.invisible&&W.push(a):(b(),a.__tmWillVisible||(a.invisible=!1))}function Z(v,l,k,y,b,A){var z=ad.getModel(),m=aaq(U.getFormattedLabel(ad.dataIndex,"normal",null,null,A?"upperLabel":"label"),z.get("name"));if(!A&&N.isLeafRoot){var x=U.get("drillDownIcon",!0);m=x?x+" "+m:m}var w=z.getModel(A?a1:D1),t=z.getModel(A?abg:E1),p=w.getShallow("show");YG(v,l,w,t,{defaultText:p?m:null,autoColor:k,isRectText:!0}),A&&(v.textRect=ZQ(A)),v.truncate=p&&w.get("ellipsis")?{outerWidth:y,outerHeight:b,minChar:2}:null}function ac(d,b,g,f){var e=null!=K&&ab[d][K],a=an[d];return e?(ab[d][K]=null,R(a,e,d)):q||(e=new b({z:eO(g,f)}),e.__tmDepth=g,e.__tmStorageName=d,J(a,e,d)),ai[d][F]=e}function R(b,d,f){var a=b[F]={};a.old="nodeGroup"===f?d.position.slice():Y2({},d.shape)}function J(d,l,m){var b=d[F]={},k=ad.parentNode;if(k&&(!aa||"drillDown"===aa.direction)){var g=0,a=0,f=an.background[k.getRawIndex()];!aa&&f&&f.old&&(g=f.old.width,a=f.old.height),b.old="nodeGroup"===m?[0,a]:{x:g,y:a,width:0,height:0}}b.fadein="nodeGroup"!==m}if(ad){var N=ad.getLayout();if(N&&N.isInView){var ao=N.width,am=N.height,Q=N.borderWidth,q=N.invisible,F=ad.getRawIndex(),K=T&&T.getRawIndex(),Y=ad.viewChildren,V=N.upperHeight,X=Y&&Y.length,G=ad.getModel("itemStyle.normal"),B=ad.getModel("itemStyle.emphasis"),ae=ac("nodeGroup",VV);if(ae){if(af.add(ae),ae.attr("position",[N.x||0,N.y||0]),ae.__tmNodeWidth=ao,ae.__tmNodeHeight=am,N.isAboveViewRoot){return ae}var E=ac("background",MZ,al,i8);if(E&&ak(ae,E,X&&N.upperHeight),!X){var H=ac("content",MZ,al,o6);H&&ah(ae,H)}return ae}}}}function eO(a,b){var d=a*F0+b;return(d-1)/d}function tJ(a){var b=a.pieceList;a.hasSpecialVisual=!1,ZX(b,function(d,f){d.originIndex=f,null!=d.visual&&(a.hasSpecialVisual=!0)})}function vJ(f){var g=f.categories,k=f.visual,d=f.categoryMap={};if(p6(g,function(a,l){d[a]=l}),!YO(k)){var h=[];YQ(k)?p6(k,function(a,l){var m=d[l];h[null!=m?m:RY]=a}):h[RY]=k,k=rJ(f,h)}for(var b=g.length-1;b>=0;b--){null==k[b]&&(delete d[g[b]],g.pop())}}function bO(b,d){var g=b.visual,a=[];YQ(g)?p6(g,function(e){a.push(e)}):null!=g&&a.push(g);var f={color:1,symbol:1};d||1!==a.length||f.hasOwnProperty(b.type)||(a[1]=a[0]),rJ(b,a)}function dO(a){return{applyVisual:function(d,f,b){d=this.mapValueToVisual(d),b("color",a(f("color"),d))},_doMap:BJ([0,1])}}function cJ(a){var b=this.option.visual;return b[Math.round(aaQ(a,[0,1],[0,b.length-1],!0))]||{}}function gO(a){return function(d,f,b){b(a,this.mapValueToVisual(d))}}function Lz(a){var b=this.option.visual;return b[this.option.loop&&a!==RY?a%b.length:a]}function Sq(){return this.option.visual[0]}function BJ(a){return{linear:function(b){return aaQ(b,a,this.option.visual,!0)},category:Lz,piecewise:function(d,f){var b=qJ.call(this,f);return null==b&&(b=aaQ(d,a,this.option.visual,!0)),b},fixed:Sq}}function qJ(b){var d=this.option,g=d.pieceList;if(d.hasSpecialVisual){var a=m6.findPieceIndex(b,g),f=g[a];if(f&&f.visual){return f.visual[this.type]}}}function rJ(a,b){return a.visual=b,"color"===a.type&&(a.parsedVisual=ZU(b,function(d){return sO(d)})),b}function kK(a,b,d){return a?d>=b:d>b}function IK(F,A,q,x,k,D){var b=F.getModel(),G=F.getLayout();if(G&&!G.invisible&&G.isInView){var w,E=F.getModel(j7),y=q[F.depth],C=XE(E,A,y,x),B=E.get("borderColor"),z=E.get("borderColorSaturation");null!=z&&(w=OJ(C,F),B=TE(z,w)),F.setVisual("borderColor",B);var f=F.viewChildren;if(f&&f.length){var v=abC(F,b,G,E,C,f);ZX(f,function(a,g){if(a.depth>=k.length||a===k[a.depth]){var d=JK(b,C,a,g,v,D);IK(a,d,q,x,k,D)}})}else{w=OJ(C,F),F.setVisual("color",w)}}}function XE(b,d,g,a){var f=Y2({},d);return ZX(["color","colorAlpha","colorSaturation"],function(e){var h=b.get(e,!0);null==h&&g&&(h=g[e]),null==h&&(h=d[e]),null==h&&(h=a.get(e)),null!=h&&(f[e]=h)}),f}function OJ(b){var d=NJ(b,"color");if(d){var f=NJ(b,"colorAlpha"),a=NJ(b,"colorSaturation");return a&&(d=lQ(d,null,null,a)),f&&(d=RE(d,f)),d}}function TE(a,b){return null!=b?lQ(b,null,null,a):null}function NJ(a,b){var d=a[b];return null!=d&&"none"!==d?d:void 0}function abC(z,q,g,m,f,x){if(x&&x.length){var b=KK(q,"color")||null!=f.color&&"none"!==f.color&&(KK(q,"colorAlpha")||KK(q,"colorSaturation"));if(b){var A=q.get("visualMin"),k=q.get("visualMax"),y=g.dataExtent.slice();null!=A&&A<y[0]&&(y[0]=A),null!=k&&k>y[1]&&(y[1]=k);var p=q.get("colorMappingBy"),w={type:b.name,dataExtent:y,visual:b.range};"color"!==w.type||"index"!==p&&"id"!==p?w.mappingMethod="linear":(w.mappingMethod="category",w.loop=!0);var v=new m6(w);return v.__drColorMappingBy=p,v}}}function KK(a,b){var d=a.get(b);return w5(d)&&d.length?{name:b,range:d}:null}function JK(v,m,d,g,b,p){var w=Y2({},m);if(b){var f=b.type,q="color"===f&&b.__drColorMappingBy,k="index"===q?g:"id"===q?p.mapIdToIndex(d.getId()):d.getValue(v.get("visualDimension"));w[f]=b.mapValueToVisual(k)}return w}function QJ(E,R,J,N){var I,W;if(!E.isRemoved()){var G=E.getLayout();I=G.width,W=G.height;var F=E.getModel(),L=F.get(v6),D=F.get(b5)/2,O=DN(F),U=Math.max(L,O),T=L-D,Q=U-D,F=E.getModel();E.setLayout({borderWidth:L,upperHeight:U,upperLabelHeight:O},!0),I=f8(I-2*T,0),W=f8(W-T-Q,0);var P=I*W,H=HK(E,F,P,R,J,N);if(H.length){var K={x:T,y:Q,width:I,height:W},C=u5(I,W),z=1/0,A=[];A.area=0;for(var X=0,V=H.length;V>X;){var B=H[X];A.push(B),A.area+=B.getLayout().area;var k=WE(A,C,R.squareRatio);z>=k?(X++,z=k):(A.area-=A.pop().getLayout().area,VE(A,C,K,D,!1),C=u5(K.width,K.height),A.length=A.area=0,z=1/0)}if(A.length&&VE(A,C,K,D,!0),!J){var q=F.get("childrenVisibleMin");null!=q&&q>P&&(J=!0)}for(var X=0,V=H.length;V>X;X++){QJ(H[X],R,J,N+1)}}}}function HK(z,q,g,m,f,x){var b=z.children||[],A=m.sort;"asc"!==A&&"desc"!==A&&(A=null);var k=null!=m.leafDepth&&m.leafDepth<=x;if(f&&!k){return z.viewChildren=[]}b=Zt(b,function(a){return !a.isRemoved()}),Z9(b,A);var y=YB(q,b,A);if(0===y.sum){return z.viewChildren=[]}if(y.sum=UE(q,g,y.sum,A,b),0===y.sum){return z.viewChildren=[]}for(var p=0,w=b.length;w>p;p++){var v=b[p].getValue()/y.sum*g;b[p].setLayout({area:v})}return k&&(b.length&&z.setLayout({isLeafRoot:!0},!0),b.length=0),z.viewChildren=b,z.setLayout({dataExtent:y.dataExtent},!0),b}function UE(q,k,f,h,d){if(!h){return f}for(var m=q.get("visibleMin"),b=d.length,v=b,g=b-1;g>=0;g--){var p=d["asc"===h?b-g-1:g].getValue();m>p/f*k&&(v=g,f-=p)}return"asc"===h?d.splice(0,b-v):d.splice(v,b-v),f}function Z9(a,b){return b&&a.sort(function(e,f){var d="asc"===b?e.getValue()-f.getValue():f.getValue()-e.getValue();return 0===d?"asc"===b?e.dataIndex-f.dataIndex:f.dataIndex-e.dataIndex:d}),a}function YB(f,k,m){for(var d=0,l=0,b=k.length;b>l;l++){d+=k[l].getValue()}var h,g=f.get("visualDimension");if(k&&k.length){if("value"===g&&m){h=[k[k.length-1].getValue(),k[0].getValue()],"asc"===m&&h.reverse()}else{var h=[1/0,-1/0];t5(k,function(a){var n=a.getValue(g);n<h[0]&&(h[0]=n),n>h[1]&&(h[1]=n)})}}else{h=[0/0,0/0]}return{sum:d,dataExtent:h}}function WE(q,k,f){for(var h,d=0,m=1/0,b=0,v=q.length;v>b;b++){h=q[b].getLayout().area,h&&(m>h&&(m=h),h>d&&(d=h))}var g=q.area*q.area,p=k*k*f;return g?f8(p*d/g,g/(p*m)):1/0}function VE(z,L,E,H,D){var O=L===E.width?0:1,B=1-O,A=["x","y"],G=["width","height"],w=E[A[O]],I=L?z.area/L:0;(D||I>E[G[B]])&&(I=E[G[B]]);for(var N=0,M=z.length;M>N;N++){var K=z[N],J={},C=I?K.getLayout().area/I:0,F=J[G[B]]=f8(I-2*H,0),q=E[A[O]]+E[G[O]]-w,b=N===M-1||C>q?q:C,k=J[G[O]]=f8(b-2*H,0);J[A[B]]=E[A[B]]+u5(H,F/2),J[A[O]]=w+u5(H,k/2),w+=b,K.setLayout(J,!0)}E[A[B]]+=I,E[G[B]]-=I}function MJ(w,J,C,F,B){var M=(J||{}).node,z=[F,B];if(!M||M===C){return z}for(var x,E=F*B,q=E*w.option.zoomToNodeRatio;x=M.parentNode;){for(var G=0,L=x.children,K=0,I=L.length;I>K;K++){G+=L[K].getValue()}var H=M.getValue();if(0===H){return z}q*=G/H;var A=x.getModel(),D=A.get(v6),k=Math.max(D,DN(A,D));q+=4*D*D+(3*D+k)*Math.pow(q,0.5),q>IU&&(q=IU),M=x}E>q&&(q=E);var b=Math.pow(q/E,0.5);return[F*b,B*b]}function PJ(p,k,f){if(k){return{x:k.x,y:k.y}}var h={x:0,y:0};if(!f){return h}var d=f.node,m=d.getLayout();if(!m){return h}for(var b=[m.width/2,m.height/2],q=d;q;){var g=q.getLayout();b[0]+=g.x,b[1]+=g.y,q=q.parentNode}return{x:p.width/2-b[0],y:p.height/2-b[1]}}function GK(p,k,f,h,d){var m=p.getLayout(),b=f[d],q=b&&b===p;if(!(b&&!q||d===f.length&&p!==h)){p.setLayout({isInView:!0,invisible:!q&&!k.intersect(m),isAboveViewRoot:q},!0);var g=new gU(k.x-m.x,k.y-m.y,k.width,k.height);t5(p.viewChildren||[],function(a){GK(a,g,f,h,d+1)})}}function DN(a){return a.get(d8)?a.get(c8):0}function EN(a,b){return Math.abs(a-b)<LZ}function aX(f,k,m){var d=0,l=f[0];if(!l){return !1}for(var b=1;b<f.length;b++){var h=f[b];d+=sq(l[0],l[1],h[0],h[1],k,m),l=h}var g=f[0];return EN(l[0],g[0])&&EN(l[1],g[1])||(d+=sq(l[0],l[1],g[0],g[1],k,m)),0!==d}function aa4(b,d,f){if(this.name=b,this.geometries=d,f){f=[f[0],f[1]]}else{var a=this.getBoundingRect();f=[a.x+a.width/2,a.y+a.height/2]}this.center=f}function FK(x){if(!x.UTF8Encoding){return x}var p=x.UTF8Scale;null==p&&(p=1024);for(var f=x.features,k=0;k<f.length;k++){for(var d=f[k],v=d.geometry,b=v.coordinates,y=v.encodeOffsets,g=0;g<b.length;g++){var w=b[g];if("Polygon"===v.type){b[g]=iX(w,y[g],p)}else{if("MultiPolygon"===v.type){for(var m=0;m<w.length;m++){var q=w[m];w[m]=iX(q,y[g][m],p)}}}}}return x.UTF8Encoding=!1,x}function iX(p,k,f){for(var h=[],d=k[0],m=k[1],b=0;b<p.length;b+=2){var q=p.charCodeAt(b)-64,g=p.charCodeAt(b+1)-64;q=q>>1^-(1&q),g=g>>1^-(1&g),q+=d,g+=m,d=q,m=g,h.push([q/f,g/f])}return h}function oV(){t0.call(this)}function sU(a){this.name=a,this.zoomLimit,t0.call(this),this._roamTransform=new oV,this._viewTransform=new oV,this._center,this._zoom}function hX(f,g,k,d){var h=k.seriesModel,b=h?h.coordinateSystem:null;return b===this?b[f](d):null}function AQ(b,d,g,a,f){sU.call(this,b),this.map=d,this._nameCoordMap=aaD(),this.loadGeoJson(g,a,f)}function xU(f,h,l,d){var k=l.geoModel,b=l.seriesModel,g=k?k.coordinateSystem:b?b.coordinateSystem||(b.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return g===this?g[f](d):null}function yU(D,y){var m=D.get("boundingCoords");if(null!=m){var q=m[0],k=m[1];isNaN(q[0])||isNaN(q[1])||isNaN(k[0])||isNaN(k[1])||this.setBoundingRect(q[0],q[1],k[0]-q[0],k[1]-q[1])}var B,b=this.getBoundingRect(),E=D.get("layoutCenter"),p=D.get("layoutSize"),C=y.getWidth(),v=y.getHeight(),A=D.get("aspectScale")||0.75,z=b.width/b.height*A,x=!1;E&&p&&(E=[Ft(E[0],C),Ft(E[1],v)],p=Ft(p,Math.min(C,v)),isNaN(E[0])||isNaN(E[1])||isNaN(p)||(x=!0));var w;if(x){var w={};z>1?(w.width=p,w.height=p/z):(w.height=p,w.width=p*z),w.y=E[1]-w.height/2,w.x=E[0]-w.width/2}else{B=D.getBoxLayoutParams(),B.aspect=z,w=WY(B,{width:C,height:v})}this.setViewRect(w.x,w.y,w.width,w.height),this.setCenter(D.get("center")),this.setZoom(D.get("zoom"))}function pV(a,b){ZX(b.get("geoCoord"),function(d,f){a.addGeoCoord(f,d)})}function lV(b,d,g){var a=b.target,f=a.position;f[0]+=d,f[1]+=g,a.dirty()}function RH(x,p,f,k){var d=x.target,v=x.zoomLimit,b=d.position,y=d.scale,g=x.zoom=x.zoom||1;if(g*=p,v){var w=v.min||0,m=v.max||1/0;g=Math.max(Math.min(m,g),w)}var q=g/x.zoom;x.zoom=g,b[0]-=(f-b[0])*(q-1),b[1]-=(k-b[1])*(q-1),y[0]*=q,y[1]*=q,d.dirty()}function mV(b,d,g){var a=d.getComponentByElement(b.topTarget),f=a&&a.coordinateSystem;return a&&a!==g&&!aa9[a.mainType]&&f&&f.model!==g}function CQ(a){var b=a.getItemStyle(),d=a.get("areaColor");return null!=d&&(b.fill=d),b}function nV(b,d,g,a,f){g.off("click"),g.off("mousedown"),d.get("selectedMode")&&(g.on("mousedown",function(){b._mouseDownFlag=!0}),g.on("click",function(e){if(b._mouseDownFlag){b._mouseDownFlag=!1;for(var k=e.target;!k.__regions;){k=k.parent}if(k){var h={type:("geo"===d.mainType?"geo":"map")+"ToggleSelect",batch:ZU(k.__regions,function(l){return{name:l.name,from:f.uid}})};h[d.mainType+"Id"]=d.id,a.dispatchAction(h),wU(d,g)}}}))}function wU(a,b){b.eachChild(function(d){ZX(d.__regions,function(e){d.trigger(a.isSelected(e.name)?"emphasis":"normal")})})}function jW(a,b){var d=new TO;this._controller=new pK(a.getZr()),this._controllerHost={target:b?d:null},this.group=d,this._updateGroup=b,this._mouseDownFlag}function zR(x,p,f){var k=x.getZoom(),d=x.getCenter(),v=p.zoom,b=x.dataToPoint(d);if(null!=p.dx&&null!=p.dy){b[0]-=p.dx,b[1]-=p.dy;var d=x.pointToData(b);x.setCenter(d)}if(null!=v){if(f){var y=f.min||0,g=f.max||1/0;v=Math.max(Math.min(k*v,g),y)/k}x.scale[0]*=v,x.scale[1]*=v;var w=x.position,m=(p.originX-w[0])*(v-1),q=(p.originY-w[1])*(v-1);w[0]-=m,w[1]-=q,x.updateTransform();var d=x.pointToData(b);x.setCenter(d),x.setZoom(v*k)}return{center:x.getCenter(),zoom:x.getZoom()}}function fX(b,d){var f={},a=["value"];return ZX(b,function(e){e.each(a,function(h,g){var k="ec-"+e.getName(g);f[k]=f[k]||[],isNaN(h)||f[k].push(h)})}),b[0].map(a,function(m,g){for(var q="ec-"+b[0].getName(g),e=0,v=1/0,k=-1/0,t=f[q].length,n=0;t>n;n++){v=Math.min(v,f[q][n]),k=Math.max(k,f[q][n]),e+=f[q][n]}var p;return p="min"===d?v:"max"===d?k:"average"===d?e/t:e,0===t?0/0:p})}function uU(a){var b=a.data;b&&b[0]&&b[0][0]&&b[0][0].coord&&(a.data=ZU(b,function(d){var f=[d[0].coord,d[1].coord],g={coords:f};return d[0].name&&(g.fromName=d[0].name),d[1].name&&(g.toName=d[1].name),Z8([g,d[0],d[1]])}))}function eX(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}function tU(a){return"_"+a+"Type"}function vU(f,h,l){var d=h.getItemVisual(l,"color"),k=h.getItemVisual(l,f),b=h.getItemVisual(l,f+"Size");if(k&&"none"!==k){YO(b)||(b=[b,b]);var g=xE(k,-b[0]/2,-b[1]/2,b[0],b[1],d);return g.name=f,g}}function bW(a){var b=new FR({name:"line"});return dX(b.shape,a),b}function dX(b,d){var g=d[0],a=d[1],f=d[2];b.x1=g[0],b.y1=g[1],b.x2=a[0],b.y2=a[1],b.percent=1,f?(b.cpx1=f[0],b.cpy1=f[1]):(b.cpx1=0/0,b.cpy1=0/0)}function cU(){var z=this,L=z.childOfName("fromSymbol"),E=z.childOfName("toSymbol"),H=z.childOfName("label");if(L||E||!H.ignore){for(var D=1,O=this.parent;O;){O.scale&&(D/=O.scale[0]),O=O.parent}var B=z.childOfName("line");if(this.__dirty||B.__dirty){var A=B.shape.percent,G=B.pointAt(0),w=B.pointAt(A),I=aaU([],w,G);if(aao(I,I),L){L.attr("position",G);var N=B.tangentAt(0);L.attr("rotation",Math.PI/2-Math.atan2(N[1],N[0])),L.attr("scale",[D*A,D*A])}if(E){E.attr("position",w);var N=B.tangentAt(1);E.attr("rotation",-Math.PI/2-Math.atan2(N[1],N[0])),E.attr("scale",[D*A,D*A])}if(!H.ignore){H.attr("position",w);var M,K,J,C=5*D;if("end"===H.__position){M=[I[0]*C+w[0],I[1]*C+w[1]],K=I[0]>0.8?"left":I[0]<-0.8?"right":"center",J=I[1]>0.8?"top":I[1]<-0.8?"bottom":"middle"}else{if("middle"===H.__position){var F=A/2,N=B.tangentAt(F),q=[N[1],-N[0]],b=B.pointAt(F);q[1]>0&&(q[0]=-q[0],q[1]=-q[1]),M=[b[0]+q[0]*C,b[1]+q[1]*C],K="center",J="bottom";var k=-Math.atan2(N[1],N[0]);w[0]<G[0]&&(k=Math.PI+k),H.attr("rotation",k)}else{M=[-I[0]*C+G[0],-I[1]*C+G[1]],K=I[0]>0.8?"right":I[0]<-0.8?"left":"center",J=I[1]>0.8?"bottom":I[1]<-0.8?"top":"middle"}}H.attr({style:{textVerticalAlign:H.__verticalAlign||J,textAlign:H.__textAlign||K},position:M,scale:[D,D]})}}}}function gX(a,b,d){TO.call(this),this._createLine(a,b,d)}function LJ(a){return isNaN(a[0])||isNaN(a[1])}function SG(a){return !LJ(a[0])&&!LJ(a[1])}function BR(a){this._ctor=a||gX,this.group=new TO}function qU(a,b,d){TO.call(this),this.add(this.createLine(a,b,d)),this._updateEffectSymbol(a,b)}function rU(a,b,d){TO.call(this),this._createPolyline(a,b,d)}function kV(a,b,d){qU.call(this,a,b,d),this._lastFrame=0,this._lastFramePercent=0}function IH(){this.group=new TO,this._lineEl=new i1}function Xz(a){return a instanceof Array||(a=[a,a]),a}function OG(a){return"_EC_"+a}function Tz(a,b){this.id=null==a?"":a,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==b?-1:b}function NG(a,b,d){this.node1=a,this.node2=b,this.dataIndex=null==d?-1:d}function abA(D,y,m){for(var q,k=D[0],B=D[1],b=D[2],E=1/0,p=m*m,C=0.1,v=0.1;0.9>=v;v+=0.1){oZ[0]=AW(k[0],B[0],b[0],v),oZ[1]=AW(k[1],B[1],b[1],v);var A=vY(g1(oZ,y)-p);E>A&&(E=A,q=v)}for(var z=0;32>z;z++){var x=q+C;xY[0]=AW(k[0],B[0],b[0],q),xY[1]=AW(k[1],B[1],b[1],q),kZ[0]=AW(k[0],B[0],b[0],x),kZ[1]=AW(k[1],B[1],b[1],x);var A=g1(xY,y)-p;if(vY(A)<0.01){break}var w=g1(kZ,y)-p;C/=2,0>A?w>=0?q+=C:q-=C:w>=0?q-=C:q+=C}return q}function KH(a,b){return a.getVisual("opacity")||a.getModel().get(b)}function JH(b,d,g){var a=b.getGraphicEl(),f=KH(b,d);null!=g&&(null==f&&(f=1),f*=g),a.downplay&&a.downplay(),a.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",f)})}function QG(b,d){var f=KH(b,d),a=b.getGraphicEl();a.highlight&&a.highlight(),a.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",f)})}function HH(a){return a instanceof Array||(a=[a,a]),a}function Uz(a){var b=a.coordinateSystem;if(!b||"view"===b.type){var d=a.getGraph();d.eachNode(function(f){var g=f.getModel();f.setLayout([+g.get("x"),+g.get("y")])}),Z6(d)}}function Z6(a){a.eachEdge(function(d){var f=d.getModel().get("lineStyle.normal.curveness")||0,h=aan(d.node1.getLayout()),b=aan(d.node2.getLayout()),g=[h,b];+f&&g.push([(h[0]+b[0])/2-(h[1]-b[1])*f,(h[1]+b[1])/2-(b[0]-h[0])*f]),d.setLayout(g)})}function Yt(w){var p=w.coordinateSystem;if(!p||"view"===p.type){var f=p.getBoundingRect(),k=w.getData(),d=k.graph,q=0,b=k.getSum("value"),x=2*Math.PI/(b||k.count()),g=f.width/2+f.x,v=f.height/2+f.y,m=Math.min(f.width,f.height)/2;d.eachNode(function(a){var h=a.getValue("value");q+=x*(b?h:1)/2,a.setLayout([m*Math.cos(q)+g,m*Math.sin(q)+v]),q+=x*(b?h:1)/2}),k.setLayout({cx:g,cy:v}),d.eachEdge(function(s){var y,A=s.getModel().get("lineStyle.normal.curveness")||0,l=aan(s.node1.getLayout()),z=aan(s.node2.getLayout()),h=(l[0]+z[0])/2,u=(l[1]+z[1])/2;+A&&(A*=3,y=[g*A+h*(1-A),v*A+u*(1-A)]),s.setLayout([l,z,y])})}}function Wz(w,p,f){for(var k=f.rect,d=k.width,q=k.height,b=[k.x+d/2,k.y+q/2],x=null==f.gravity?0.1:f.gravity,g=0;g<w.length;g++){var v=w[g];v.p||(v.p=aau(d*(Math.random()-0.5)+b[0],q*(Math.random()-0.5)+b[1])),v.pp=aan(v.p),v.edges=null}var m=0.6;return{warmUp:function(){m=0.5},setFixed:function(a){w[a].fixed=!0},setUnfixed:function(a){w[a].fixed=!1},step:function(s){for(var z=[],h=w.length,E=0;E<p.length;E++){var y=p[E],G=y.n1,D=y.n2;aaU(z,D.p,G.p);var C=aag(z)-y.d,B=D.w/(G.w+D.w);isNaN(B)&&(B=0),aao(z,z),!G.fixed&&B5(G.p,G.p,z,B*C*m),!D.fixed&&B5(D.p,D.p,z,-(1-B)*C*m)}for(var E=0;h>E;E++){var A=w[E];A.fixed||(aaU(z,b,A.p),B5(A.p,A.p,z,x*m))}for(var E=0;h>E;E++){for(var G=w[E],e=E+1;h>e;e++){var D=w[e];aaU(z,D.p,G.p);var C=aag(z);0===C&&(aaS(z,Math.random()-0.5,Math.random()-0.5),C=1);var t=(G.rep+D.rep)/C/C;!G.fixed&&B5(G.pp,G.pp,z,t),!D.fixed&&B5(D.pp,D.pp,z,-t)}}for(var F=[],E=0;h>E;E++){var A=w[E];A.fixed||(aaU(F,A.p,A.pp),B5(A.p,A.p,F,m),aa3(A.pp,A.p))}m=0.992*m,s&&s(w,p,0.01>m)}}}function Vz(b,d,f){var a=b.getBoxLayoutParams();return a.aspect=f,WY(a,{width:d.getWidth(),height:d.getHeight()})}function MG(q,k,f){var h=k.getItemModel(f),d=h.getModel(Yz),m=k.getItemVisual(f,"color"),b=d.getItemStyle(["borderColor"]),v=q.childAt(q.whiskerIndex);v.style.set(b),v.style.stroke=m,v.dirty();var g=q.childAt(q.bodyIndex);g.style.set(b),g.style.stroke=m,g.dirty();var p=h.getModel(PH).getItemStyle();aad(q,p)}function PG(a){var b=[],d=[];return a.eachSeriesByType("boxplot",function(f){var e=f.getBaseAxis(),g=YX(d,e);0>g&&(g=d.length,d[g]=e,b[g]={axis:e,seriesModels:[]}),b[g].seriesModels.push(f)}),b}function GH(B){var w,k,p=B.axis,g=B.seriesModels,z=g.length,b=B.boxWidthList=[],C=B.boxOffsetList=[],m=[];if("category"===p.type){k=p.getBandWidth()}else{var A=0;abO(g,function(a){A=Math.max(A,a.getData().count())}),w=p.getExtent(),Math.abs(w[1]-w[0])/A}abO(g,function(a){var d=a.get("boxWidth");YO(d)||(d=[d,d]),m.push([Ft(d[0],k)||0,Ft(d[1],k)||0])});var q=0.8*k-2,y=q/z*0.3,x=(q-y*(z-1))/z,v=x/2-q/2;abO(g,function(a,d){C.push(v),v+=y+x,b.push(Math.min(Math.max(x,m[d][0]),m[d][1]))})}function DJ(x,p,f){var k,d=x.coordinateSystem,v=x.getData(),b=f/2,y=x.get("layout"),g="horizontal"===y?0:1,w=1-g,m=["x","y"],q=[];ZX(v.dimensions,function(a){var h=v.getDimensionInfo(a),l=h.coordDim;l===m[w]?q.push(a):l===m[g]&&(k=a)}),null==k||q.length<5||v.each([k].concat(q),function(){function D(E){var F=[];F[g]=A,F[w]=E;var h;return isNaN(A)||isNaN(E)?h=[0/0,0/0]:(h=d.dataToPoint(F),h[g]+=p),h}function e(E,F){var G=E.slice(),h=E.slice();G[g]+=b,h[g]-=b,F?B.push(G,h):B.push(h,G)}function o(h){var n=[h.slice(),h.slice()];n[0][g]-=b,n[1][g]+=b,C.push(n)}var s=arguments,A=s[0],z=s[q.length+1],u=D(s[3]),a=D(s[1]),l=D(s[5]),C=[[a,D(s[2])],[l,D(s[4])]];o(a),o(l),o(u);var B=[];e(C[0][1],0),e(C[1][1],1),v.setItemLayout(z,{chartLayout:y,initBaseline:u[w],median:u,bodyEnds:B,whiskerEnds:C})})}function EJ(a){if(!a.parallel){var b=!1;ZX(a.series,function(d){d&&"parallel"===d.type&&(b=!0)}),b&&(a.parallel=[{}])}}function aW(a){var b=nY(a.parallelAxis);ZX(b,function(f){if(YQ(f)){var g=f.parallelIndex||0,d=nY(a.parallel)[g];d&&d.parallelAxisDefault&&Y9(f,d.parallelAxisDefault,!1)}})}function aa1(a,b){var d=a[b]-a[1-b];return{span:Math.abs(d),sign:d>0?-1:0>d?1:b?-1:1}}function FH(a,b){return Math.min(b[1],Math.max(b[0],a))}function iV(a,b,d){this._axesMap=aaD(),this._axesLayout={},this.dimensions=a.dimensions,this._rect,this._model=a,this._init(a,b,d)}function oR(a,b){return aa2(Z7(a,b[0]),b[1])}function sQ(a,b){var d=b.layoutLength/(b.axisCount-1);return{position:d*a,axisNameAvailableWidth:d,axisLabelShow:!0}}function hV(w,p){var f,k,d=p.layoutLength,q=p.axisExpandWidth,b=p.axisCount,x=p.axisCollapseWidth,g=p.winInnerIndices,v=x,m=!1;return w<g[0]?(f=w*x,k=x):w<=g[1]?(f=p.axisExpandWindow0Pos+w*q-p.axisExpandWindow[0],v=q,m=!0):(f=d-(b-1-w)*x,k=x),{position:f,axisNameAvailableWidth:v,axisLabelShow:m,nameTruncateMaxWidth:k}}function AN(a,b){var d=[];return a.eachComponent("parallel",function(f,g){var e=new iV(f,a,b);e.name="parallel_"+g,e.resize(f,b),f.coordinateSystem=e,e.model=f,d.push(e)}),a.eachSeries(function(f){if("parallel"===f.get("coordinateSystem")){var g=a.queryComponents({mainType:"parallel",index:f.get("parallelIndex"),id:f.get("parallelId")})[0];f.coordinateSystem=g.coordinateSystem}}),d}function xQ(a,b){return b.type||(b.data?"category":"value")}function yQ(a){l1.call(this),this._zr=a,this.group=new TO,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+nU++,this._handlers={},abB(DK,function(b,d){this._handlers[d]=YU(b,this)},this)}function pR(a,b){var d=a._zr;a._enableGlobalPan||hO(d,zQ,a._uid),abB(a._handlers,function(f,g){d.on(g,f)}),a._brushType=b.brushType,a._brushOption=Y9(ZQ(SF),b,!0)}function lR(a){var b=a._zr;AG(b,zQ,a._uid),abB(a._handlers,function(d,e){b.off(e,d)}),a._brushType=a._brushOption=null}function RF(a,b){var d=oU[b.brushType].createCover(a,b);return d.__brushOption=b,nR(d,b),a.group.add(d),d}function mR(a,b){var d=jU(b);return d.endCreating&&(d.endCreating(a,b),nR(b,b.__brushOption)),b}function CO(a,b){var d=b.__brushOption;jU(b).updateCoverShape(a,b,d.range,d)}function nR(a,b){var d=b.z;null==d&&(d=iW),a.traverse(function(e){e.z=d,e.z2=d})}function wQ(a,b){jU(b).updateCommon(a,b),CO(a,b)}function jU(a){return oU[a.__brushOption.brushType]}function zO(f,g,k){var d=f._panels;if(!d){return !0}var h,b=f._transform;return abB(d,function(a){a.isTargetByCursor(g,k,b)&&(h=a)}),h}function fV(b,d){var f=b._panels;if(!f){return !0}var a=d.__brushOption.panelId;return null!=a?f[a]:!0}function uQ(a){var b=a._covers,d=b.length;return abB(b,function(f){a.group.remove(f)},a),b.length=0,!!d}function eV(a,b){var d=GJ(a._covers,function(f){var g=f.__brushOption,h=ZQ(g.range);return{brushType:g.brushType,panelId:g.panelId,range:h}});a.trigger("brush",d,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function tQ(f){var h=f._track;if(!h.length){return !1}var l=h[h.length-1],d=h[0],k=l[0]-d[0],b=l[1]-d[1],g=tR(k*k+b*b,0.5);return g>A4}function vQ(a){var b=a.length-1;return 0>b&&(b=0),[a[0],a[b]]}function bV(b,d,g,a){var f=new TO;return f.add(new hZ({name:"main",style:LG(g),silent:!0,draggable:!0,cursor:"move",drift:a7(b,d,f,"nswe"),ondragend:a7(eV,d,{isEnd:!0})})),abB(a,function(e){f.add(new hZ({name:e,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:a7(b,d,f,e),ondragend:a7(eV,d,{isEnd:!0})}))}),f}function dV(q,H,A,D){var z=D.brushStyle.lineWidth||0,K=pU(z,yR),x=A[0][0],w=A[1][0],C=x-z/2,k=w-z/2,E=A[0][1],J=A[1][1],I=E-K+z/2,G=J-K+z/2,F=E-x,y=J-w,B=F+z,b=y+z;gV(q,H,"main",x,w,F,y),D.transformable&&(gV(q,H,"w",C,k,K,b),gV(q,H,"e",I,k,K,b),gV(q,H,"n",C,k,B,K),gV(q,H,"s",C,G,B,K),gV(q,H,"nw",C,k,K,K),gV(q,H,"ne",I,k,K,K),gV(q,H,"sw",C,G,K,K),gV(q,H,"se",I,G,K,K))}function cQ(b,d){var g=d.__brushOption,a=g.transformable,f=d.childAt(0);f.useStyle(LG(g)),f.attr({silent:!a,cursor:a?"move":"default"}),abB(["w","e","n","s","se","sw","ne","nw"],function(k){var h=d.childOfName(k),e=qQ(b,k);h&&h.attr({silent:!a,invisible:!a,cursor:a?mU[e]+"-resize":null})})}function gV(f,k,m,d,l,b,h){var g=k.childOfName(m);g&&g.setShape(OE(Xq(f,k,[[d,l],[d+b,l+h]])))}function LG(a){return Y0({strokeNoScale:!0},a.brushStyle)}function SE(f,g,k,d){var h=[jV(f,k),jV(g,d)],b=[pU(f,k),pU(g,d)];return[[h[0],b[0]],[h[1],b[1]]]}function BQ(a){return sX(a.group)}function qQ(b,d){if(d.length>1){d=d.split("");var g=[qQ(b,d[0]),qQ(b,d[1])];return("e"===g[0]||"w"===g[0])&&g.reverse(),g.join("")}var a={w:"left",e:"right",n:"top",s:"bottom"},f={left:"w",right:"e",top:"n",bottom:"s"},g=AV(a[d],BQ(b));return f[g]}function rQ(q,k,f,h,d,m,b){var v=h.__brushOption,g=q(v.range),p=IF(f,m,b);abB(d.split(""),function(a){var l=qR[a];g[l[0]][l[1]]+=p[l[0]]}),v.range=k(SE(g[0][0],g[1][0],g[0][1],g[1][1])),wQ(f,h),eV(f,{isEnd:!1})}function kR(f,g,k,d){var h=g.__brushOption.range,b=IF(f,k,d);abB(h,function(a){a[0]+=b[0],a[1]+=b[1]}),wQ(f,g),eV(f,{isEnd:!1})}function IF(f,g,k){var d=f.group,h=d.transformCoordToLocal(g,k),b=d.transformCoordToLocal(0,0);return[h[0]-b[0],h[1]-b[1]]}function Xq(a,b,f){var d=fV(a,b);return d&&d!==!0?d.clipPath(f,a._transform):ZQ(f)}function OE(b){var d=jV(b[0][0],b[1][0]),g=jV(b[0][1],b[1][1]),a=pU(b[0][0],b[1][0]),f=pU(b[0][1],b[1][1]);return{x:d,y:g,width:a-d,height:f-g}}function NE(f,k,m){if(f._brushType){var d=f._zr,l=f._covers,b=zO(f,k,m);if(!f._dragging){for(var h=0;h<l.length;h++){var g=l[h].__brushOption;if(b&&(b===!0||g.panelId===b.panelId)&&oU[g.brushType].contain(l[h],m[0],m[1])){return}}}b&&d.setCursorStyle("crosshair")}}function abx(a){var b=a.event;b.preventDefault&&b.preventDefault()}function KF(a,b,d){return a.childOfName("main").contain(b,d)}function JF(w,m,f,d){var q,b=w._creatingCover,x=w._creatingPanel,g=w._brushOption;if(w._track.push(f.slice()),tQ(w)||b){if(x&&!b){"single"===g.brushMode&&uQ(w);var v=ZQ(g);v.brushType=QE(v.brushType,x),v.panelId=x===!0?null:x.panelId,b=w._creatingCover=RF(w,v),w._covers.push(b)}if(b){var k=oU[QE(w._brushType,x)],p=b.__brushOption;p.range=k.getCreatingRange(Xq(w,b,w._track)),d&&(mR(w,b),k.updateCommon(w,b)),CO(w,b),q={isEnd:d}}}else{d&&"single"===g.brushMode&&g.removeOnClick&&zO(w,m,f)&&uQ(w)&&(q={isEnd:d,removeOnClick:!0})}return q}function QE(a,b){return"auto"===a?b.defaultBrushType:a}function HF(a){if(this._dragging){abx(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY),d=JF(this,a,b,!0);this._dragging=!1,this._track=[],this._creatingCover=null,d&&eV(this,d)}}function Uq(a){return{createCover:function(b,d){return bV(a7(rQ,function(f){var g=[f,[0,100]];return a&&g.reverse(),g},function(f){return f[a]}),b,d,[["w","e"],["n","s"]][a])},getCreatingRange:function(d){var g=vQ(d),b=jV(g[0][a],g[1][a]),f=pU(g[0][a],g[1][a]);return[b,f]},updateCoverShape:function(k,p,f,m){var d,h=fV(k,p);if(h!==!0&&h.getLinearBrushOtherExtent){d=h.getLinearBrushOtherExtent(a,k._transform)}else{var g=k._zr;d=[0,[g.getWidth(),g.getHeight()][1-a]]}var b=[f,d];a&&b.reverse(),dV(k,p,b,m)},updateCommon:cQ,contain:KF}}function Z2(a){return a=Vq(a),function(b){return yX(b,a)}}function Yk(a,b){return a=Vq(a),function(g){var e=null!=b?b:g,f=e?a.width:a.height,d=e?a.x:a.y;return[d,d+(f||0)]}}function Wq(a,b,d){return a=Vq(a),function(e,f){return a.contain(f[0],f[1])&&!mV(e,b,d)}}function Vq(a){return gU.create(a)}function ME(a,b,d){return d&&"axisAreaSelect"===d.type&&b.findComponents({mainType:"parallelAxis",query:d})[0]===a}function PE(a){var b=a.axis;return ZU(a.activeIntervals,function(d){return{brushType:"lineX",panelId:"pl",range:[b.dataToCoord(d[0],!0),b.dataToCoord(d[1],!0)]}})}function GF(a,b){return b.getComponent("parallel",a.get("parallelIndex"))}function DG(a,b){var d=a._model;return d.get("axisExpandable")&&d.get("axisExpandTriggerOn")===b}function EG(b,d,g){var a=b.get("data"),f=aU(d);a&&a.length&&ZX(g,function(h){if(h){var k=YX(a,h[f]);h[f]=k>=0?k:0/0}})}function aU(a){return +a.replace("dim","")}function aaX(f,g){var k=0;ZX(f,function(a){var l=aU(a);l>k&&(k=l)});var d=g[0];d&&d.length-1>k&&(k=d.length-1);for(var h=[],b=0;k>=b;b++){h.push("dim"+b)}return h}function FF(f,h,l){var d=f.model,k=f.getRect(),b=new hZ({shape:{x:k.x,y:k.y,width:k.width,height:k.height}}),g="horizontal"===d.get("layout")?"width":"height";return b.setShape(g,0),oY(b,{shape:{width:k.width,height:k.height}},h,l),b}function iR(f,k,m,d){for(var l=[],b=0;b<m.length;b++){var h=m[b],g=f.get(h,k);hR(g,d.getAxis(h).type)||l.push(d.dataToPoint(g,h))}return l}function oO(f,h,l,d,k){var b=iR(f,l,d,k),g=new sW({shape:{points:b},silent:!0,z2:10});h.add(g),f.setItemGraphicEl(l,g)}function sN(b,d){var f=b.hostModel.getModel("lineStyle.normal"),a=f.getLineStyle();b.eachItemGraphicEl(function(k,g){if(b.hasItemOption){var h=b.getItemModel(g),e=h.getModel("lineStyle.normal",f);a=e.getLineStyle(["color","stroke"])}k.useStyle(Y2(a,{fill:null,stroke:b.getItemVisual(g,"color"),opacity:b.getItemVisual(g,"opacity")})),k.shape.smooth=d})}function hR(a,b){return"category"===b?null==a:null==a||isNaN(a)}function AJ(p,k){var f=p.get("center"),h=k.getWidth(),d=k.getHeight(),m=Math.min(h,d),b=Ft(f[0],k.getWidth()),q=Ft(f[1],k.getHeight()),g=Ft(p.get("radius"),m/2);return{cx:b,cy:q,r:g}}function xN(a,b){return b&&("string"==typeof b?a=b.replace("{value}",null!=a?a:""):"function"==typeof b&&(a=b(a))),a}function yN(f,h){function l(){b.ignore=b.hoverIgnore,g.ignore=g.hoverIgnore}function d(){b.ignore=b.normalIgnore,g.ignore=g.normalIgnore}TO.call(this);var k=new oX,b=new sW,g=new PN;this.add(k),this.add(b),this.add(g),this.updateData(f,h,!0),this.on("emphasis",l).on("normal",d).on("mouseover",l).on("mouseout",d)}function pO(a,b){return WY(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function lO(f,h){for(var l=f.mapArray("value",function(a){return a}),d=[],k="ascending"===h,b=0,g=f.count();g>b;b++){d[b]=b}return"function"==typeof h?d.sort(h):"none"!==h&&d.sort(function(a,m){return k?l[a]-l[m]:l[m]-l[a]}),d}function RB(a){a.each(function(C){var t,y,q,F,b=a.getItemModel(C),I=b.getModel("label.normal"),x=I.get("position"),H=b.getModel("labelLine.normal"),z=a.getItemLayout(C),E=z.points,D="inner"===x||"inside"===x||"center"===x;if(D){y=(E[0][0]+E[1][0]+E[2][0]+E[3][0])/4,q=(E[0][1]+E[1][1]+E[2][1]+E[3][1])/4,t="center",F=[[y,q],[y,q]]}else{var B,A,k,w=H.get("length");"left"===x?(B=(E[3][0]+E[0][0])/2,A=(E[3][1]+E[0][1])/2,k=B-w,y=k-5,t="right"):(B=(E[1][0]+E[2][0])/2,A=(E[1][1]+E[2][1])/2,k=B+w,y=k+5,t="left");var G=A;F=[[B,A],[k,G]],q=G}z.label={linePoints:F,x:y,y:q,verticalAlign:"middle",textAlign:t,inside:D}})}function mO(b,d,f){var a=new hZ({shape:{x:b.x-10,y:b.y-10,width:0,height:b.height+20}});return oY(a,{shape:{width:b.width+20,height:b.height+20}},d,f),a}function CK(){function b(q,n){if(n>=f.length){return q}for(var k=-1,t=q.length,g=f[n++],w={},m={};++k<t;){var v=g(q[k]),p=m[v];p?p.push(q[k]):m[v]=[q[k]]}return ZX(m,function(h,l){w[l]=b(h,n)}),w}function d(g,k){if(k>=f.length){return g}var e=[],h=a[k++];return ZX(g,function(l,m){e.push({key:m,values:d(l,k)})}),h?e.sort(function(l,m){return h(l.key,m.key)}):e}var f=[],a=[];return{key:function(e){return f.push(e),this},sortKeys:function(e){return a[f.length-1]=e,this},entries:function(e){return d(b(e,0),0)}}}function nO(a,b){return WY(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function wN(f,h,l,d,k,b,g){zK(f,l,k),eR(f,h,b,d,g),LE(f)}function jQ(a){ZX(a,function(d){var f=qN(d.outEdges,Xk),g=qN(d.inEdges,Xk),b=Math.max(f,g);d.setLayout({value:b},!0)})}function zK(x,p,f){for(var k=x,d=null,v=0,b=0;k.length;){d=[];for(var y=0,g=k.length;g>y;y++){var w=k[y];w.setLayout({x:v},!0),w.setLayout({dx:p},!0);for(var m=0,q=w.outEdges.length;q>m;m++){d.push(w.outEdges[m].node2)}}k=d,++v}fR(x,v),b=(f-p)/(v-1),uN(x,b)}function fR(a,b){ZX(a,function(d){d.outEdges.length||d.setLayout({x:b-1},!0)})}function uN(a,b){ZX(a,function(d){var e=d.getLayout().x*b;d.setLayout({x:e},!0)})}function eR(f,h,l,d,k){var b=CK().key(function(a){return a.getLayout().x}).sortKeys(IE).entries(f).map(function(a){return a.values});tN(f,b,h,l,d),vN(b,d,l);for(var g=1;k>0;k--){g*=0.99,bR(b,g),vN(b,d,l),cN(b,g),vN(b,d,l)}}function tN(f,h,l,d,k){var b=[];ZX(h,function(a){var o=a.length,p=0;ZX(a,function(e){p+=e.getLayout().value});var m=(d-(o-1)*k)/p;b.push(m)}),b.sort(function(a,m){return a-m});var g=b[0];ZX(h,function(a){ZX(a,function(m,o){m.setLayout({y:o},!0);var p=m.getLayout().value*g;m.setLayout({dy:p},!0)})}),ZX(l,function(a){var m=+a.getValue()*g;a.setLayout({dy:m},!0)})}function vN(a,b,d){ZX(a,function(h){var g,n,f,m=0,k=h.length;for(h.sort(kO),f=0;k>f;f++){if(g=h[f],n=m-g.getLayout().y,n>0){var e=g.getLayout().y+n;g.setLayout({y:e},!0)}m=g.getLayout().y+g.getLayout().dy+b}if(n=m-b-d,n>0){var e=g.getLayout().y-n;for(g.setLayout({y:e},!0),m=g.getLayout().y,f=k-2;f>=0;--f){g=h[f],n=g.getLayout().y+g.getLayout().dy+b-m,n>0&&(e=g.getLayout().y-n,g.setLayout({y:e},!0)),m=g.getLayout().y}}})}function bR(a,b){ZX(a.slice().reverse(),function(d){ZX(d,function(f){if(f.outEdges.length){var g=qN(f.outEdges,dR)/qN(f.outEdges,Xk),e=f.getLayout().y+(g-rN(f))*b;f.setLayout({y:e},!0)}})})}function dR(a){return rN(a.node2)*a.getValue()}function cN(a,b){ZX(a,function(d){ZX(d,function(f){if(f.inEdges.length){var g=qN(f.inEdges,gR)/qN(f.inEdges,Xk),e=f.getLayout().y+(g-rN(f))*b;f.setLayout({y:e},!0)}})})}function gR(a){return rN(a.node1)*a.getValue()}function LE(a){ZX(a,function(b){b.outEdges.sort(Sz),b.inEdges.sort(BN)}),ZX(a,function(b){var d=0,f=0;ZX(b.outEdges,function(e){e.setLayout({sy:d},!0),d+=e.getLayout().dy}),ZX(b.inEdges,function(e){e.setLayout({ty:f},!0),f+=e.getLayout().dy})})}function Sz(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function BN(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function qN(f,g){for(var k=0,d=f.length,h=-1;++h<d;){var b=+g.call(f,f[h],h);isNaN(b)||(k+=b)}return k}function rN(a){return a.getLayout().y+a.getLayout().dy/2}function kO(a,b){return a.getLayout().y-b.getLayout().y}function IE(a,b){return b>a?-1:a>b?1:a===b?0:0/0}function Xk(a){return a.getValue()}function OB(a,b,d){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(a,b,d),this.model=a}function Tq(a,b){var d=[];return a.eachComponent("singleAxis",function(f,g){var e=new OB(f,a,b);e.name="single_"+g,e.resize(f,b),f.coordinateSystem=e,d.push(e)}),a.eachSeries(function(f){if("singleAxis"===f.get("coordinateSystem")){var g=a.queryComponents({mainType:"singleAxis",index:f.get("singleAxisIndex"),id:f.get("singleAxisId")})[0];f.coordinateSystem=g&&g.coordinateSystem}}),d}function NB(z,q){q=q||{};var g=z.coordinateSystem,m=z.axis,f={},x=m.position,b=m.orient,A=g.getRect(),k=[A.x,A.x+A.width,A.y,A.y+A.height],y={horizontal:{top:k[2],bottom:k[3]},vertical:{left:k[0],right:k[1]}};f.position=["vertical"===b?y.vertical[x]:k[0],"horizontal"===b?y.horizontal[x]:k[3]];var p={horizontal:0,vertical:1};f.rotation=Math.PI/2*p[b];var w={top:-1,bottom:1,right:1,left:-1};f.labelDirection=f.tickDirection=f.nameDirection=w[x],z.get("axisTick.inside")&&(f.tickDirection=-f.tickDirection),aaq(q.labelInside,z.get("axisLabel.inside"))&&(f.labelDirection=-f.labelDirection);var v=q.rotate;return null==v&&(v=z.get("axisLabel.rotate")),f.labelRotation="top"===x?-v:v,f.labelInterval=m.getLabelInterval(),f.z2=1,f}function abw(a,b){return b.type||(b.data?"category":"value")}function KE(p,h,d,g,b){var k=p.axis;if(!k.scale.isBlank()&&k.containData(h)){if(!p.involveSeries){return void d.showPointer(p,h)}var q=JE(h,p),f=q.payloadBatch,m=q.snapToValue;f[0]&&null==b.seriesIndex&&Y2(b,f[0]),!g&&p.snap&&k.containData(m)&&null!=m&&(h=m),d.showPointer(p,h,f,b),d.showTooltip(p,q,m)}}function JE(f,k){var m=k.axis,d=m.dim,l=f,b=[],h=Number.MAX_VALUE,g=-1;return RJ(k.seriesModels,function(q){var a,n,o=q.coordDimToDataDim(d);if(q.getAxisTooltipData){var t=q.getAxisTooltipData(o,f,m);n=t.dataIndices,a=t.nestestValue}else{if(n=q.getData().indicesOfNearest(o[0],f,!1,"category"===m.type?0.5:null),!n.length){return}a=q.getData().get(o[0],n[0])}if(null!=a&&isFinite(a)){var s=f-a,p=Math.abs(s);h>=p&&((h>p||s>=0&&0>g)&&(h=p,g=s,l=a,b.length=0),RJ(n,function(e){b.push({seriesIndex:q.seriesIndex,dataIndexInside:e,dataIndex:q.getData().getRawIndex(e)})}))}}),{payloadBatch:b,snapToValue:l}}function QB(b,d,f,a){b[d.key]={value:f,payloadBatch:a}}function HE(w,p,f,k){var d=f.payloadBatch,q=p.axis,b=q.model,x=p.axisPointerModel;if(p.triggerTooltip&&d.length){var g=p.coordSys.model,v=Lj(g),m=w.map[v];m||(m=w.map[v]={coordSysId:g.id,coordSysIndex:g.componentIndex,coordSysType:g.type,coordSysMainType:g.mainType,dataByAxis:[]},w.list.push(m)),m.dataByAxis.push({axisDim:q.dim,axisIndex:b.componentIndex,axisType:b.type,axisId:b.id,value:k,valueLabelOpt:{precision:x.get("label.precision"),formatter:x.get("label.formatter")},seriesDataIndices:d.slice()})}}function Uk(b,d,f){var a=f.axesInfo=[];RJ(d,function(h,l){var k=h.axisPointerModel.option,g=b[l];g?(!h.useHandle&&(k.status="show"),k.value=g.value,k.seriesDataIndices=(g.payloadBatch||[]).slice()):!h.useHandle&&(k.status="hide"),"show"===k.status&&a.push({axisDim:h.axis.dim,axisIndex:h.axis.model.componentIndex,value:k.value})})}function Z0(b,d,g,a){if(MB(d)||!b.list.length){return void a({type:"hideTip"})}var f=((b.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:d[0],y:d[1],tooltipOption:g.tooltipOption,position:g.position,dataIndexInside:f.dataIndexInside,dataIndex:f.dataIndex,seriesIndex:f.seriesIndex,dataByCoordSys:b.list})}function Yj(p,k,f){var h=f.getZr(),d="axisPointerLastHighlights",m=VF(h)[d]||{},b=VF(h)[d]={};RJ(p,function(a){var l=a.axisPointerModel.option;"show"===l.status&&RJ(l.seriesDataIndices,function(n){var o=n.seriesIndex+" | "+n.dataIndex;b[o]=n})});var q=[],g=[];ZX(m,function(a,l){!b[l]&&g.push(a)}),ZX(b,function(a,l){!m[l]&&q.push(a)}),g.length&&f.dispatchAction({type:"downplay",escapeConnect:!0,batch:g}),q.length&&f.dispatchAction({type:"highlight",escapeConnect:!0,batch:q})}function Wk(b,d){for(var f=0;f<(b||[]).length;f++){var a=b[f];if(d.axis.dim===a.axisDim&&d.axis.model.componentIndex===a.axisIndex){return a}}}function Vk(b){var d=b.axis.model,f={},a=f.axisDim=b.axis.dim;return f.axisIndex=f[a+"AxisIndex"]=d.componentIndex,f.axisName=f[a+"AxisName"]=d.name,f.axisId=f[a+"AxisId"]=d.id,f}function MB(a){return !a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function PB(b,d,g){if(!VN.node){var a=d.getZr();aaa(a).records||(aaa(a).records={}),GE(a,d);var f=aaa(a).records[b]||(aaa(a).records[b]={});f.handler=g}}function GE(a,b){function d(f,e){a.on(f,function(h){var g=aaV(b);XF(aaa(a).records,function(k){k&&e(k,h,g.dispatchAction)}),DF(g.pendings,b)})}aaa(a).initialized||(aaa(a).initialized=!0,d("click",YN(aR,"click")),d("mousemove",YN(aR,"mousemove")),d("globalout",EF))}function DF(b,d){var g,a=b.showTip.length,f=b.hideTip.length;a?g=b.showTip[a-1]:f&&(g=b.hideTip[f-1]),g&&(g.dispatchAction=null,d.dispatchAction(g))}function EF(a,b,d){a.handler("leave",null,d)}function aR(b,d,f,a){d.handler(b,f,a)}function aaV(a){var b={showTip:[],hideTip:[]},d=function(e){var f=b[e.type];f?f.push(e):(e.dispatchAction=d,a.dispatchAction(e))};return{dispatchAction:d,pendings:b}}function FE(b,d){if(!VN.node){var f=d.getZr(),a=(aaa(f).records||{})[b];a&&(aaa(f).records[b]=null)}}function iQ(){}function oN(b,d,f,a){sK(NK(f).lastProp,a)||(NK(f).lastProp=a,d?i0(f,a,b):(f.stopAnimation(),f.attr(a)))}function sK(a,b){if(YQ(a)&&YQ(b)){var d=!0;return ZX(b,function(g,f){d=d&&sK(a[f],g)}),!!d}return a===b}function hQ(a,b){a[b.get("label.show")?"show":"hide"]()}function AH(a){return{position:a.position.slice(),rotation:a.rotation||0}}function xK(b,d,g){var a=d.get("z"),f=d.get("zlevel");b&&b.traverse(function(e){"group"!==e.type&&(null!=a&&(e.z=a),null!=f&&(e.zlevel=f),e.silent=g)})}function yK(b){var d,f=b.get("type"),a=b.getModel(f+"Style");return"line"===f?(d=a.getLineStyle(),d.fill=null):"shadow"===f&&(d=a.getAreaStyle(),d.stroke=null),d}function pN(H,C,v,y,q){var F=v.get("value"),b=Rz(F,C.axis,C.ecModel,v.get("seriesDataIndices"),{precision:v.get("label.precision"),formatter:v.get("label.formatter")}),I=v.getModel("label"),x=OR(I.get("padding")||0),G=I.getFont(),z=V2(b,G),E=q.position,D=z.width+x[1]+x[3],B=z.height+x[0]+x[2],A=q.align;"right"===A&&(E[0]-=D),"center"===A&&(E[0]-=D/2);var k=q.verticalAlign;"bottom"===k&&(E[1]-=B),"middle"===k&&(E[1]-=B/2),lN(E,D,B,y);var w=I.get("backgroundColor");w&&"auto"!==w||(w=C.get("axisLine.lineStyle.color")),H.label={shape:{x:0,y:0,width:D,height:B,r:I.get("borderRadius")},position:E.slice(),style:{text:b,textFont:G,textFill:I.getTextColor(),textPosition:"inside",fill:w,stroke:I.get("borderColor")||"transparent",lineWidth:I.get("borderWidth")||0,shadowBlur:I.get("shadowBlur"),shadowColor:I.get("shadowColor"),shadowOffsetX:I.get("shadowOffsetX"),shadowOffsetY:I.get("shadowOffsetY")},z2:10}}function lN(f,g,k,d){var h=d.getWidth(),b=d.getHeight();f[0]=Math.min(f[0]+g,h)-g,f[1]=Math.min(f[1]+k,b)-k,f[0]=Math.max(f[0],0),f[1]=Math.max(f[1],0)}function Rz(f,k,m,d,l){var b=k.scale.getLabel(f,{precision:l.precision}),h=l.formatter;if(h){var g={value:c9(k,f),seriesData:[]};ZX(d,function(n){var p=m.getSeriesByIndex(n.seriesIndex),a=n.dataIndexInside,q=p&&p.getDataParams(a);q&&g.seriesData.push(q)}),Z5(h)?b=h.replace("{value}",b):aac(h)&&(b=h(g))}return b}function mN(b,d,f){var a=aby();return Ut(a,a,f.rotation),HG(a,a,f.position),h0([b.dataToCoord(d),(f.labelOffset||0)+(f.labelDirection||1)*(f.labelMargin||0)],a)}function CJ(f,h,l,d,k,b){var g=vB.innerTextLayout(l.rotation,0,l.labelDirection);l.labelMargin=k.get("label.margin"),pN(h,d,k,b,{position:mN(d.axis,f,l),align:g.textAlign,verticalAlign:g.textVerticalAlign})}function nN(a,b,d){return d=d||0,{x1:a[d],y1:a[1-d],x2:b[d],y2:b[1-d]}}function wK(a,b,d){return d=d||0,{x:a[d],y:a[1-d],width:b[d],height:b[1-d]}}function jO(f,g,k,d,h,b){return{cx:f,cy:g,r0:k,r:d,startAngle:h,endAngle:b,clockwise:!0}}function zJ(a,b){var d={};return d[b.dim+"AxisIndex"]=b.index,a.getCartesian(d)}function fQ(a){return"x"===a.dim?0:1}function uK(a){return a.isHorizontal()?0:1}function eQ(a,b){var d=a.getRect();return[d[a8[b]],d[a8[b]]+d[abD[b]]]}function tK(b,d,f){var a=new hZ({shape:{x:b.x-10,y:b.y-10,width:0,height:b.height+20}});return oY(a,{shape:{width:b.width+20,height:b.height+20}},d,f),a}function vK(B,w,k){if(B.count()){for(var p,g=w.coordinateSystem,z=w.getLayerSeries(),b=ZU(z,function(a){return ZU(a.indices,function(d){var f=g.dataToPoint(B.get("time",d));return f[1]=B.get("value",d),f})}),C=bQ(b),m=C.y0,A=k/C.max,q=z.length,y=z[0].indices.length,x=0;y>x;++x){p=m[x]*A,B.setItemLayout(z[0].indices[x],{layerIndex:0,x:b[0][x][0],y0:p,y:b[0][x][1]*A});for(var v=1;q>v;++v){p+=b[v-1][x][1]*A,B.setItemLayout(z[v].indices[x],{layerIndex:v,x:b[v][x][0],y0:p,y:b[v][x][1]*A})}}}}function bQ(z){for(var q,g=z.length,m=z[0].length,f=[],x=[],b=0,A={},k=0;m>k;++k){for(var y=0,q=0;g>y;++y){q+=z[y][k][1]}q>b&&(b=q),f.push(q)}for(var p=0;m>p;++p){x[p]=(b-f[p])/2}b=0;for(var w=0;m>w;++w){var v=f[w]+x[w];v>b&&(b=v)}return A.y0=x,A.max=b,A}function dQ(D,y,m,q){var k=D.getItemLayout(y),B=m.get("symbolRepeat"),b=m.get("symbolClip"),E=m.get("symbolPosition")||"start",p=m.get("symbolRotate"),C=(p||0)*Math.PI/180||0,v=m.get("symbolPatternSize")||2,A=m.isAnimationEnabled(),z={dataIndex:y,layout:k,itemModel:m,symbolType:D.getItemVisual(y,"symbol")||"circle",color:D.getItemVisual(y,"color"),symbolClip:b,symbolRepeat:B,symbolRepeatDirection:m.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:C,animationModel:A?m:null,hoverAnimation:A&&m.get("hoverAnimation"),z2:m.getShallow("z",!0)||0};cK(m,B,k,q,z),LB(D,y,k,B,b,z.boundingLength,z.pxSign,v,q,z),St(m,z.symbolScale,C,q,z);var x=z.symbolSize,w=m.get("symbolOffset");return YO(w)&&(w=[Ft(w[0],x[0]),Ft(w[1],x[1])]),BK(m,x,k,B,b,w,E,z.valueLineWidth,z.boundingLength,z.repeatCutLength,q,z),z}function cK(x,p,f,k,d){var v,b=k.valueDim,y=x.get("symbolBoundingData"),g=k.coordSys.getOtherAxis(k.coordSys.getBaseAxis()),w=g.toGlobalCoord(g.dataToCoord(0)),m=1-+(f[b.wh]<=0);if(YO(y)){var q=[gQ(g,y[0])-w,gQ(g,y[1])-w];q[1]<q[0]&&q.reverse(),v=q[m]}else{v=null!=y?gQ(g,y)-w:p?k.coordSysExtent[b.index][m]-w:f[b.wh]}d.boundingLength=v,p&&(d.repeatCutLength=f[b.wh]),d.pxSign=v>0?1:0>v?-1:0}function gQ(a,b){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(b)))}function LB(D,y,m,q,k,B,b,E,p,C){var v=p.valueDim,A=p.categoryDim,z=Math.abs(m[A.wh]),x=D.getItemVisual(y,"symbolSize");YO(x)?x=x.slice():(null==x&&(x="100%"),x=[x,x]),x[A.index]=Ft(x[A.index],z),x[v.index]=Ft(x[v.index],q?z:Math.abs(B)),C.symbolSize=x;var w=C.symbolScale=[x[0]/E,x[1]/E];w[v.index]*=(p.isHorizontal?-1:1)*b}function St(f,g,k,d,h){var b=f.get(zU)||0;b&&(mW.attr({scale:g.slice(),rotation:k}),mW.updateTransform(),b/=mW.getLineScale(),b*=g[d.valueDim.index]),h.valueLineWidth=b}function BK(N,ad,W,Z,V,ah,Q,Y,K,aa,af,ae){var ac=af.categoryDim,ab=af.valueDim,U=ae.pxSign,X=Math.max(ad[ab.index]+Y,0),J=X;if(Z){var E=Math.abs(K),G=aaq(N.get("symbolMargin"),"15%")+"",ai=!1;G.lastIndexOf("!")===G.length-1&&(ai=!0,G=G.slice(0,G.length-1)),G=Ft(G,ad[ab.index]);var ag=Math.max(X+2*G,0),H=ai?0:2*G,k=wG(Z),z=k?Z:VZ((E+H)/ag),F=E-z*X;G=F/2/(ai?z:z-1),ag=X+2*G,H=ai?0:2*G,k||"fixed"===Z||(z=aa?VZ((Math.abs(aa)+H)/ag):0),J=z*ag-H,ae.repeatTimes=z,ae.symbolMargin=G}var T=U*(J/2),O=ae.pathPosition=[];O[ac.index]=W[ac.wh]/2,O[ab.index]="start"===Q?T:"end"===Q?K-T:K/2,ah&&(O[0]+=ah[0],O[1]+=ah[1]);var R=ae.bundlePosition=[];R[ac.index]=W[ac.xy],R[ab.index]=W[ab.xy];var B=ae.barRectShape=Y2({},W);B[ab.wh]=U*Math.max(Math.abs(W[ab.wh]),Math.abs(O[ab.index]+T)),B[ac.wh]=W[ac.wh];var q=ae.clipShape={};q[ac.xy]=-W[ac.xy],q[ac.wh]=af.ecSize[ac.wh],q[ab.xy]=0,q[ab.wh]=W[ab.wh]}function qK(a){var b=a.symbolPatternSize,d=xE(a.symbolType,-b/2,-b/2,b,b,a.color);return d.attr({culling:!0}),"image"!==d.type&&d.setStyle({strokeNoScale:!0}),d}function rK(H,C,v,y){function q(d){var f=z.slice(),a=v.pxSign,g=d;return("start"===v.symbolRepeatDirection?a>0:0>a)&&(g=D-1-d),f[E.index]=A*(g-D/2+0.5)+z[E.index],{position:f,scale:v.symbolScale.slice(),rotation:v.rotation}}function F(){TZ(H,function(a){a.trigger("emphasis")})}function b(){TZ(H,function(a){a.trigger("normal")})}var I=H.__pictorialBundle,x=v.symbolSize,G=v.valueLineWidth,z=v.pathPosition,E=C.valueDim,D=v.repeatTimes||0,B=0,A=x[C.valueDim.index]+G+2*v.symbolMargin;for(TZ(H,function(a){a.__pictorialAnimationIndex=B,a.__pictorialRepeatTimes=D,D>B?Zk(a,null,q(B),v,y):Zk(a,null,{scale:[0,0]},v,y,function(){I.remove(a)}),abk(a,v),B++});D>B;B++){var k=qK(v);k.__pictorialAnimationIndex=B,k.__pictorialRepeatTimes=D,I.add(k);var w=q(B);Zk(k,{position:w.position,scale:[0,0]},{scale:w.scale,rotation:w.rotation},v,y),k.on("mouseover",F).on("mouseout",b),abk(k,v)}}function kN(f,k,m,d){function l(){this.trigger("emphasis")}function b(){this.trigger("normal")}var h=f.__pictorialBundle,g=f.__pictorialMainPath;g?Zk(g,null,{position:m.pathPosition.slice(),scale:m.symbolScale.slice(),rotation:m.rotation},m,d):(g=f.__pictorialMainPath=qK(m),h.add(g),Zk(g,{position:m.pathPosition.slice(),scale:[0,0],rotation:m.rotation},{scale:m.symbolScale.slice()},m,d),g.on("mouseover",l).on("mouseout",b)),abk(g,m)}function H4(b,d,g){var a=Y2({},d.barRectShape),f=b.__pictorialBarRect;f?Zk(f,null,{shape:a},d,g):(f=b.__pictorialBarRect=new hZ({z2:2,shape:a,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),b.add(f))}function WZ(v,m,d,g){if(d.symbolClip){var b=v.__pictorialClipPath,p=Y2({},d.clipShape),w=m.valueDim,f=d.animationModel,q=d.dataIndex;if(b){i0(b,{shape:p},f,q)}else{p[w.wh]=0,b=new hZ({shape:p}),v.__pictorialBundle.setClipPath(b),v.__pictorialClipPath=b;var k={};k[w.wh]=d.clipShape[w.wh],uW[g?"updateProps":"initProps"](b,{shape:k},f,q)}}}function N3(a,b){var d=a.getItemModel(b);return d.getAnimationDelayParams=S1,d.isAnimationEnabled=M3,d}function S1(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function M3(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function abk(a,b){a.off("emphasis").off("normal");var d=b.symbolScale.slice();b.hoverAnimation&&a.on("emphasis",function(){this.animateTo({scale:[1.1*d[0],1.1*d[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:d.slice()},400,"elasticOut")})}function J4(f,g,k,d){var h=new TO,b=new TO;return h.add(b),h.__pictorialBundle=b,b.attr("position",k.bundlePosition.slice()),k.symbolRepeat?rK(h,g,k):kN(h,g,k),H4(h,k,d),WZ(h,g,k,d),h.__pictorialShapeStr=G4(f,k),h.__pictorialSymbolMeta=k,h}function I4(f,g,k){var d=k.animationModel,h=k.dataIndex,b=f.__pictorialBundle;i0(b,{position:k.bundlePosition.slice()},d,h),k.symbolRepeat?rK(f,g,k,!0):kN(f,g,k,!0),H4(f,k,!0),WZ(f,g,k,!0)}function P3(f,g,k,d){var h=d.__pictorialBarRect;h&&(h.style.text=null);var b=[];TZ(d,function(a){b.push(a)}),d.__pictorialMainPath&&b.push(d.__pictorialMainPath),d.__pictorialClipPath&&(k=null),ZX(b,function(a){i0(a,{scale:[0,0]},k,g,function(){d.parent&&d.parent.remove(d)})}),f.setItemGraphicEl(g,null)}function G4(a,b){return[a.getItemVisual(b.dataIndex,"symbol")||"none",!!b.symbolRepeat,!!b.symbolClip].join(":")}function TZ(a,b,d){ZX(a.__pictorialBundle.children(),function(e){e!==a.__pictorialBarRect&&b.call(d,e)})}function Zk(f,g,k,d,h,b){g&&f.attr(g),d.symbolClip&&!h?k&&f.attr(k):k&&uW[h?"updateProps":"initProps"](f,k,d.animationModel,d.dataIndex,b)}function XZ(y,q,g){var m=g.color,f=g.dataIndex,w=g.itemModel,b=w.getModel("itemStyle.normal").getItemStyle(["color"]),k=w.getModel("itemStyle.emphasis").getItemStyle(),x=w.getShallow("cursor");TZ(y,function(a){a.setColor(m),a.setStyle(Y0({fill:m,opacity:g.opacity},b)),aad(a,k),x&&(a.cursor=x),a.z2=g.z2});var p={},v=q.valueDim.posDesc[+(g.boundingLength>0)],s=y.__pictorialBarRect;aaL(s.style,p,w,m,q.seriesModel,f,v),aad(s,p)}function VZ(a){var b=Math.round(a);return Math.abs(a-b)<0.0001?b:Math.ceil(a)}function UZ(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function L3(a){return a.dim}function O3(f,k,m){var d=m.getWidth(),l=m.getHeight(),b={},h={},g=F4(Zt(k.getSeriesByType(f),function(a){return !k.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));k.eachSeriesByType(f,function(C){if("polar"===C.coordinateSystem.type){var K=C.getData(),E=C.coordinateSystem,G=E.getAngleAxis(),B=E.getBaseAxis(),H=UZ(C),N=g[L3(B)][H],L=N.offset,J=N.width,I=E.getOtherAxis(B),D=C.get("center")||["50%","50%"],F=Ft(D[0],d),A=Ft(D[1],l),q=C.get("barMinHeight")||0,s=C.get("barMinAngle")||0,P=I.getExtent()[0],O=I.model.get("max"),z=I.model.get("min"),a=[C.coordDimToDataDim("radius")[0],C.coordDimToDataDim("angle")[0]],o=K.mapArray(a,function(n,p){return E.dataToPoint([n,p])},!0);b[H]=b[H]||[],h[H]=h[H]||[],K.each(C.coordDimToDataDim(I.dim)[0],function(V,M){if(!isNaN(V)){b[H][M]||(b[H][M]={p:P,n:P},h[H][M]={p:P,n:P});var w,W,U,Q,n=V>=0?"p":"n",y=E.pointToCoord(o[M]),R=h[H][M][n];if("radius"===I.dim){w=R,W=y[0],U=(-y[1]+L)*Math.PI/180,Q=U+J*Math.PI/180,Math.abs(W)<q&&(W=w+(0>W?-1:1)*q),h[H][M][n]=W}else{w=y[0]+L,W=w+J,null!=O&&(V=Math.min(V,O)),null!=z&&(V=Math.max(V,z));var x=G.dataToAngle(V);Math.abs(x-R)<s&&(x=R-(0>V?-1:1)*s),U=-R*Math.PI/180,Q=-x*Math.PI/180;var v=G.getExtent(),e=x;e===v[0]&&V>0?e=v[1]:e===v[1]&&0>V&&(e=v[0]),h[H][M][n]=e}K.setItemLayout(M,{cx:F,cy:A,r0:w,r:W,startAngle:U,endAngle:Q})}},!0)}},this)}function F4(a){var b={};ZX(a,function(A){var k=A.getData(),p=A.coordinateSystem,g=p.getBaseAxis(),y=g.getExtent(),e="category"===g.type?g.getBandWidth():Math.abs(y[1]-y[0])/k.count(),B=b[L3(g)]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},m=B.stacks;b[L3(g)]=B;var z=UZ(A);m[z]||B.autoWidthCount++,m[z]=m[z]||{width:0,maxWidth:0};var q=Ft(A.get("barWidth"),e),x=Ft(A.get("barMaxWidth"),e),w=A.get("barGap"),v=A.get("barCategoryGap");q&&!m[z].width&&(q=Math.min(B.remainedWidth,q),m[z].width=q,B.remainedWidth-=q),x&&(m[z].maxWidth=x),null!=w&&(B.gap=w),null!=v&&(B.categoryGap=v)});var d={};return ZX(b,function(y,p){d[p]={};var m=y.stacks,g=y.bandWidth,w=Ft(y.categoryGap,g),f=Ft(y.gap,1),z=y.remainedWidth,k=y.autoWidthCount,x=(z-w)/(k+(k-1)*f);x=Math.max(x,0),ZX(m,function(h){var l=h.maxWidth;l&&x>l&&(l=Math.min(l,z),h.width&&(l=Math.min(l,h.width)),z-=l,h.width=l,k--)}),x=(z-w)/(k+(k-1)*f),x=Math.max(x,0);var n,v=0;ZX(m,function(e){e.width||(e.width=x),n=e,v+=e.width*(1+f)}),n&&(v-=n.width*f);var q=-v/2;ZX(m,function(h,e){d[p][e]=d[p][e]||{offset:q,width:h.width},q+=h.width*(1+f)})}),d}function C5(a,b){q7.call(this,"radius",a,b),this.type="category"}function D5(a,b){b=b||[0,360],q7.call(this,"angle",a,b),this.type="category"}function aG(a,b){return b.type||(b.data?"category":"value")}function aaB(p,k,f){var h=k.get("center"),d=f.getWidth(),m=f.getHeight();p.cx=Ft(h[0],d),p.cy=Ft(h[1],m);var b=p.getRadiusAxis(),q=Math.min(d,m)/2,g=Ft(k.get("radius"),q);b.inverse?b.setExtent(g,0):b.setExtent(0,g)}function E5(f){var g=this,k=g.getAngleAxis(),d=g.getRadiusAxis();if(k.scale.setExtent(1/0,-1/0),d.scale.setExtent(1/0,-1/0),f.eachSeries(function(a){if(a.coordinateSystem===g){var e=a.getData();d.scale.unionExtentFromData(e,"radius"),k.scale.unionExtentFromData(e,"angle")}}),t6(k.scale,k.model),t6(d.scale,d.model),"category"===k.type&&!k.onBand){var h=k.getExtent(),b=360/k.scale.count();k.inverse?h[1]+=b:h[1]-=b,k.setExtent(h[0],h[1])}}function it(a,b){if(a.type=b.get("type"),a.scale=d9(b),a.onBand=b.get("boundaryGap")&&"category"===a.type,a.inverse=b.get("inverse"),"angleAxis"===b.mainType){a.inverse^=b.get("clockwise");var d=b.get("startAngle");a.setExtent(d,d+(a.inverse?-360:360))}b.axis=a,a.model=b}function oj(b,d,g){d[1]>d[0]&&(d=d.slice().reverse());var a=b.coordToPoint([d[0],g]),f=b.coordToPoint([d[1],g]);return{x1:a[0],y1:a[1],x2:f[0],y2:f[1]}}function r9(a){var b=a.getRadiusAxis();return b.inverse?0:1}function ht(a,b,d){return{position:[a.cx,a.cy],rotation:d/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:b.getModel("axisLabel").get("rotate"),z2:1}}function z8(q,H,A,D,z){var K=H.axis,x=K.dataToCoord(q),w=D.getAngleAxis().getExtent()[0];w=w/180*Math.PI;var C,k,E,J=D.getRadiusAxis().getExtent();if("radius"===K.dim){var I=aby();Ut(I,I,w),HG(I,I,[D.cx,D.cy]),C=h0([x,-z],I);var G=H.getModel("axisLabel").get("rotate")||0,F=vB.innerTextLayout(w,G*Math.PI/180,-1);k=F.textAlign,E=F.textVerticalAlign}else{var y=J[1];C=D.coordToPoint([y+z,x]);var B=D.cx,b=D.cy;k=Math.abs(C[0]-B)/y<0.3?"center":C[0]>B?"left":"right",E=Math.abs(C[1]-b)/y<0.3?"middle":C[1]>b?"top":"bottom"}return{position:C,align:k,verticalAlign:E}}function w9(a,b){b.update="updateView",VW(b,function(f,g){var d={};return g.eachComponent({mainType:"geo",query:f},function(h){h[a](f.name);var e=h.coordinateSystem;ZX(e.regions,function(k){d[k.name]=h.isSelected(k.name)||!1})}),{selected:d,name:f.name}})}function x9(a){this._model=a}function pj(f,h,l,d){var k=l.calendarModel,b=l.seriesModel,g=k?k.coordinateSystem:b?b.coordinateSystem:null;return g===this?g[f](d):null}function lj(b,d){var f=b.cellSize;YO(f)?1===f.length&&(f[1]=f[0]):f=b.cellSize=[f,f];var a=ZU([0,1],function(e){return S0(d,e)&&(f[e]="auto"),null!=f[e]&&"auto"!==f[e]});M2(b,d,{type:"box",ignoreSize:a})}function Q3(f,g,k){var d,h={},b="toggleSelected"===f;return k.eachComponent("legend",function(e){b&&null!=d?e[d?"select":"unSelect"](g.name):(e[f](g.name),d=e.isSelected(g.name));var a=e.getData();ZX(a,function(m){var n=m.get("name");if("\n"!==n&&""!==n){var l=e.isSelected(n);h[n]=h.hasOwnProperty(n)?h[n]&&l:l}})}),{name:g.name,selected:h}}function mj(f,h,l){var d=h.getBoxLayoutParams(),k=h.get("padding"),b={width:l.getWidth(),height:l.getHeight()},g=WY(d,b,k);NW(h.get("orient"),f,h.get("itemGap"),g.width,g.height),N2(f,d,b,k)}function Ct(b,d){var f=OR(d.get("padding")),a=d.getItemStyle(["color","opacity"]);a.fill=d.get("backgroundColor");var b=new hZ({shape:{x:b.x-f[3],y:b.y-f[0],width:b.width+f[1]+f[3],height:b.height+f[0]+f[2],r:d.get("borderRadius")},style:a,silent:!0,z2:-1});return b}function nj(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function wj(b,d,f){var a=f.getZr().storage.getDisplayList()[0];a&&a.useHoverLayer||b.get("legendHoverLink")&&f.dispatchAction({type:"highlight",seriesName:b.name,name:d})}function jq(b,d,f){var a=f.getZr().storage.getDisplayList()[0];a&&a.useHoverLayer||b.get("legendHoverLink")&&f.dispatchAction({type:"downplay",seriesName:b.name,name:d})}function y9(b,d,g){var a=b.getOrient(),f=[1,1];f[a.index]=0,M2(d,g,{type:"box",ignoreSize:f})}function ft(a){var b="cubic-bezier(0.23, 1, 0.32, 1)",d="left "+a+"s "+b+",top "+a+"s "+b;return ZU(abM,function(e){return e+"transition:"+d}).join(";")}function t9(b){var d=[],f=b.get("fontSize"),a=b.getTextColor();return a&&d.push("color:"+a),d.push("font:"+b.getFont()),f&&d.push("line-height:"+Math.round(3*f/2)+"px"),T7(["decoration","align"],function(g){var e=b.get(g);e&&d.push("text-"+g+":"+e)}),d.join(";")}function et(f){var g=[],k=f.get("transitionDuration"),d=f.get("backgroundColor"),h=f.getModel("textStyle"),b=f.get("padding");return k&&g.push(ft(k)),d&&(VN.canvasSupported?g.push("background-Color:"+d):(g.push("background-Color:#"+yO(d)),g.push("filter:alpha(opacity=70)"))),T7(["width","color","radius"],function(p){var l="border-"+p,m=Ok(l),e=f.get(m);null!=e&&g.push(l+":"+e+("color"===p?"":"px"))}),g.push(t9(h)),null!=b&&g.push("padding:"+OR(b).join("px ")+"px"),g.join(";")+";"}function s9(b,d){var g=document.createElement("div"),a=this._zr=d.getZr();this.el=g,this._x=d.getWidth()/2,this._y=d.getHeight()/2,b.appendChild(g),this._container=b,this._show=!1,this._hideTimeout;var f=this;g.onmouseenter=function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0},g.onmousemove=function(h){if(h=h||window.event,!f._enterable){var k=a.handler;Jt(b,h,!0),k.dispatch("mousemove",h)}},g.onmouseleave=function(){f._enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1}}function u9(a){for(var b=a.pop();a.length;){var d=a.pop();d&&(d instanceof RN&&(d=d.get("tooltip",!0)),"string"==typeof d&&(d={formatter:d}),b=new RN(d,b,b.ecModel))}return b}function bF(a,b){return a.dispatchAction||YU(b.dispatchAction,b)}function dt(q,k,f,h,d,m,b){var v=gt(f),g=v.width,p=v.height;return null!=m&&(q+g+m>h?q-=g+m:q+=m),null!=b&&(k+p+b>d?k-=p+b:k+=b),[q,k]}function b9(f,k,m,d,l){var b=gt(m),h=b.width,g=b.height;return f=Math.min(f+h,d)-h,k=Math.min(k+g,l)-g,f=Math.max(f,0),k=Math.max(k,0),[f,k]}function gt(b){var d=b.clientWidth,f=b.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var a=document.defaultView.getComputedStyle(b);a&&(d+=parseInt(a.paddingLeft,10)+parseInt(a.paddingRight,10)+parseInt(a.borderLeftWidth,10)+parseInt(a.borderRightWidth,10),f+=parseInt(a.paddingTop,10)+parseInt(a.paddingBottom,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10))}return{width:d,height:f}}function K4(q,k,f){var h=f[0],d=f[1],m=5,b=0,v=0,g=k.width,p=k.height;switch(q){case"inside":b=k.x+g/2-h/2,v=k.y+p/2-d/2;break;case"top":b=k.x+g/2-h/2,v=k.y-d-m;break;case"bottom":b=k.x+g/2-h/2,v=k.y+p+m;break;case"left":b=k.x-h-m,v=k.y+p/2-d/2;break;case"right":b=k.x+g+m,v=k.y+p/2-d/2}return[b,v]}function R2(a){return"center"===a||"middle"===a}function Bz(a){wX(a.label,["show"])}function qj(a){return !(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function q9(a){return !isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function kk(b,d,f){var a=-1;do{a=Math.max(sG(b.get(d,f)),a),b=b.stackedOn}while(b);return a}function H8(q,k,f,h,d,m){var b=[],v=abo(k,h,q),g=k.indicesOfNearest(h,v,!0)[0];b[d]=k.get(f,g,!0),b[m]=k.get(h,g,!0);var p=kk(k,h,g);return p=Math.min(p,20),p>=0&&(b[m]=+b[m].toFixed(p)),b}function W3(w,m){var f=w.getData(),d=w.coordinateSystem;if(m&&!q9(m)&&!YO(m.coord)&&d){var q=d.dimensions,b=N7(m,f,d,w);if(m=ZQ(m),m.type&&Qk[m.type]&&b.baseAxis&&b.valueAxis){var x=V7(q,b.baseAxis.dim),g=V7(q,b.valueAxis.dim);m.coord=Qk[m.type](f,b.baseDataDim,b.valueDataDim,x,g),m.value=m.coord[g]}else{for(var v=[null!=m.xAxis?m.xAxis:m.radiusAxis,null!=m.yAxis?m.yAxis:m.angleAxis],k=0;2>k;k++){if(Qk[v[k]]){var p=w.coordDimToDataDim(q[k])[0];v[k]=abo(f,p,v[k])}}m.coord=v}}return m}function N7(b,d,g,a){var f={};return null!=b.valueIndex||null!=b.valueDim?(f.valueDataDim=null!=b.valueIndex?d.getDimension(b.valueIndex):b.valueDim,f.valueAxis=g.getAxis(a.dataDimToCoordDim(f.valueDataDim)),f.baseAxis=g.getOtherAxis(f.valueAxis),f.baseDataDim=a.coordDimToDataDim(f.baseAxis.dim)[0]):(f.baseAxis=a.getBaseAxis(),f.valueAxis=g.getOtherAxis(f.baseAxis),f.baseDataDim=a.coordDimToDataDim(f.baseAxis.dim)[0],f.valueDataDim=a.coordDimToDataDim(f.valueAxis.dim)[0]),f}function S4(a,b){return a&&a.containData&&b.coord&&!qj(b)?a.containData(b.coord):!0}function M7(b,d,f,a){return 2>a?b.coord&&b.coord[a]:b.value}function abo(b,d,g){if("average"===g){var a=0,f=0;return b.each(d,function(e){isNaN(e)||(a+=e,f++)},!0),a/f}return b.getDataExtent(d,!0)["max"===g?1:0]}function J8(b,d,f){var a=d.coordinateSystem;b.each(function(q){var g,p=b.getItemModel(q),n=Ft(p.get("x"),f.getWidth()),e=Ft(p.get("y"),f.getHeight());if(isNaN(n)||isNaN(e)){if(d.getMarkerPosition){g=d.getMarkerPosition(b.getValues(b.dimensions,q))}else{if(a){var k=b.get(a.dimensions[0],q),m=b.get(a.dimensions[1],q);g=a.dataToPoint([k,m])}}}else{g=[n,e]}isNaN(n)||(g[0]=n),isNaN(e)||(g[1]=e),b.setItemLayout(q,g)})}function I8(f,g,k){var d;d=f?ZU(f&&f.dimensions,function(a){var e=g.getData().getDimensionInfo(g.coordDimToDataDim(a)[0])||{};return e.name=a,e}):[{name:"value",type:"float"}];var h=new P8(d,k),b=ZU(k.get("data"),YN(W3,g));return f&&(b=Zt(b,YN(S4,f))),h.initData(b,null,f?M7:function(a){return a.value}),h}function P7(a){return !isNaN(a)&&!isFinite(a)}function G8(f,g,k,d){var h=1-f,b=d.dimensions[f];return P7(g[h])&&P7(k[h])&&g[f]===k[f]&&d.getAxis(b).containData(g[f])}function T3(b,d){if("cartesian2d"===b.type){var f=d[0].coord,a=d[1].coord;if(f&&a&&(G8(1,f,a,b)||G8(0,f,a,b))){return !0}}return S4(b,d[0])&&S4(b,d[1])}function ZG(D,y,m,q,k){var B,b=q.coordinateSystem,E=D.getItemModel(y),p=Ft(E.get("x"),k.getWidth()),C=Ft(E.get("y"),k.getHeight());if(isNaN(p)||isNaN(C)){if(q.getMarkerPosition){B=q.getMarkerPosition(D.getValues(D.dimensions,y))}else{var v=b.dimensions,A=D.get(v[0],y),z=D.get(v[1],y);B=b.dataToPoint([A,z])}if("cartesian2d"===b.type){var x=b.getAxis("x"),w=b.getAxis("y"),v=b.dimensions;P7(D.get(v[0],y))?B[0]=x.toGlobalCoord(x.getExtent()[m?0:1]):P7(D.get(v[1],y))&&(B[1]=w.toGlobalCoord(w.getExtent()[m?0:1]))}isNaN(p)||(B[0]=p),isNaN(C)||(B[1]=C)}else{B=[p,C]}D.setItemLayout(y,B)}function X2(p,k,f){var h;h=p?ZU(p&&p.dimensions,function(a){var e=k.getData().getDimensionInfo(k.coordDimToDataDim(a)[0])||{};return e.name=a,e}):[{name:"value",type:"float"}];var d=new P8(h,f),m=new P8(h,f),b=new P8([],f),q=ZU(f.get("data"),YN(Et,k,p,f));p&&(q=Zt(q,YN(T3,p)));var g=p?M7:function(a){return a.value};return d.initData(ZU(q,function(a){return a[0]}),null,g),m.initData(ZU(q,function(a){return a[1]}),null,g),b.initData(ZU(q,function(a){return a[2]})),b.hasItemOption=!0,{from:d,to:m,line:b}}function V3(a){return !isNaN(a)&&!isFinite(a)}function U3(b,d,f){var a=1-b;return V3(d[a])&&V3(f[a])}function L7(b,d){var f=d.coord[0],a=d.coord[1];return"cartesian2d"===b.type&&f&&a&&(U3(1,f,a,b)||U3(0,f,a,b))?!0:S4(b,{coord:f,x:d.x0,y:d.y0})||S4(b,{coord:a,x:d.x1,y:d.y1})}function O7(B,w,k,p,g){var z,b=p.coordinateSystem,C=B.getItemModel(w),m=Ft(C.get(k[0]),g.getWidth()),A=Ft(C.get(k[1]),g.getHeight());if(isNaN(m)||isNaN(A)){if(p.getMarkerPosition){z=p.getMarkerPosition(B.getValues(k,w))}else{var q=B.get(k[0],w),y=B.get(k[1],w);z=b.dataToPoint([q,y],!0)}if("cartesian2d"===b.type){var x=b.getAxis("x"),v=b.getAxis("y"),q=B.get(k[0],w),y=B.get(k[1],w);V3(q)?z[0]=x.toGlobalCoord(x.getExtent()["x0"===k[0]?0:1]):V3(y)&&(z[1]=v.toGlobalCoord(v.getExtent()["y0"===k[1]?0:1]))}isNaN(m)||(z[0]=m),isNaN(A)||(z[1]=A)}else{z=[m,A]}return z}function F8(f,k,m){var d,l,b=["x0","y0","x1","y1"];f?(d=ZU(f&&f.dimensions,function(a){var e=k.getData().getDimensionInfo(k.coordDimToDataDim(a)[0])||{};return e.name=a,e}),l=new P8(ZU(b,function(a,n){return{name:a,type:d[n%2].type}}),m)):(d=[{name:"value",type:"float"}],l=new P8(d,m));var h=ZU(m.get("data"),YN(Fq,k,f,m));f&&(h=Zt(h,YN(L7,f)));var g=f?function(o,p,q,a){return o.coord[Math.floor(a/2)][a%2]}:function(a){return a.value};return l.initData(h,null,g),l.hasItemOption=!0,l}function C9(b){var d=b.type,f={number:"value",time:"time"};if(f[d]&&(b.axisType=f[d],delete b.type),D9(b),aK(b,"controlPosition")){var a=b.controlStyle||(b.controlStyle={});aK(a,"position")||(a.position=b.controlPosition),"none"!==a.position||aK(a,"show")||(a.show=!1,delete a.position),delete b.controlPosition}ZX(b.data||[],function(e){YQ(e)&&!YO(e)&&(!aK(e,"value")&&aK(e,"name")&&(e.value=e.name),D9(e))})}function D9(f){var g=f.itemStyle||(f.itemStyle={}),k=g.emphasis||(g.emphasis={}),d=f.label||f.label||{},h=d.normal||(d.normal={}),b={normal:1,emphasis:1};ZX(d,function(a,l){b[l]||aK(h,l)||(h[l]=a)}),k.label&&!aK(d,"emphasis")&&(d.emphasis=k.label,delete k.label)}function aK(a,b){return a.hasOwnProperty(b)}function aaI(a,b){return WY(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"))}function E9(d,f,h,g){var b=cq(d.get(f).replace(/^path:\/\//,""),ZQ(g||{}),new gU(h[0],h[1],h[2],h[3]),"center");return b}function iF(z,q,g,m,x,b){var A=q.get("color");if(x){x.setColor(A),g.add(x),b&&b.onUpdate(x)}else{var k=z.get("symbol");x=xE(k,-1,-1,2,2,A),x.setStyle("strokeNoScale",!0),g.add(x),b&&b.onCreate(x)}var y=q.getItemStyle(["color","symbol","symbolSize"]);x.setStyle(y),m=Y9({rectHover:!0,z2:100},m,!0);var o=z.get("symbolSize");o=o instanceof Array?o.slice():[+o,+o],o[0]/=2,o[1]/=2,m.scale=o;var w=z.get("symbolOffset");if(w){var v=m.position=m.position||[0,0];v[0]+=Ft(w[0],o[0]),v[1]+=Ft(w[1],o[1])}var p=z.get("symbolRotate");return m.rotation=(p||0)*Math.PI/180||0,x.attr(m),x.updateTransform(),x}function oB(f,h,l,d,k){if(!f.dragging){var b=d.getModel("checkpointStyle"),g=l.dataToCoord(d.getData().get(["value"],h));k||!b.get("animation",!0)?f.attr({position:[g,0]}):(f.stopAnimation(!0),f.animateTo({position:[g,0]},b.get("animationDuration",!0),b.get("animationEasing",!0)))}}function sz(a){return YX(qF,a)>=0}function hF(b,d){b=b.slice();var f=ZU(b,bN);d=(d||[]).slice();var a=ZU(d,bN);return function(g,e){ZX(b,function(k,n){for(var m={name:k,capital:f[n]},h=0;h<d.length;h++){m[d[h]]=k+a[h]}g.call(e,m)})}}function Aq(f,g,k){function d(a,l){return YX(l.nodes,a)>=0}function h(e,a){var l=!1;return g(function(m){ZX(k(e,m)||[],function(n){a.records[m.name][n]&&(l=!0)})}),l}function b(e,a){a.nodes.push(e),g(function(l){ZX(k(e,l)||[],function(m){a.records[l.name][m]=!0})})}return function(o){function m(l){!d(l,e)&&h(l,e)&&(b(l,e),a=!0)}var e={nodes:[],records:{}};if(g(function(l){e.records[l.name]={}}),!o){return e}b(o,e);var a;do{a=!1,f(m)}while(a);return e}}function xz(b,d,f){var a=[1/0,-1/0];return R9(f,function(e){var g=e.getData();g&&R9(e.coordDimToDataDim(d),function(h){var k=g.getDataExtent(h);k[0]<a[0]&&(a[0]=k[0]),k[1]>a[1]&&(a[1]=k[1])})}),a[1]<a[0]&&(a=[0/0,0/0]),yz(b,a),a}function yz(f,h){var l=f.getAxisModel(),d=l.getMin(!0),k="category"===l.get("type"),b=k&&(l.get("data")||[]).length;null!=d&&"dataMin"!==d&&"function"!=typeof d?h[0]=d:k&&(h[0]=b>0?0:0/0);var g=l.getMax(!0);return null!=g&&"dataMax"!==g&&"function"!=typeof g?h[1]=g:k&&(h[1]=b>0?b-1:0/0),l.get("scale",!0)||(h[0]>0&&(h[0]=0),h[1]<0&&(h[1]=0)),h}function pB(f,h){var l=f.getAxisModel(),d=f._percentWindow,k=f._valueWindow;if(d){var b=AE(k,[0,500]);b=Math.min(b,20);var g=h||0===d[0]&&100===d[1];l.setRange(g?null:+k[0].toFixed(b),g?null:+k[1].toFixed(b))}}function lB(a){var b=a._minMaxSpan={},d=a._dataZoomModel;R9(["min","max"],function(f){b[f+"Span"]=d.get(f+"Span");var g=d.get(f+"ValueSpan");if(null!=g&&(b[f+"ValueSpan"]=g,g=a.getAxisModel().axis.scale.parse(g),null!=g)){var e=a._dataExtent;b[f+"Span"]=aaQ(e[0]+g,e,[0,100],!0)}})}function Q7(a){var b={};return oG(["start","end","startValue","endValue","throttle"],function(d){a.hasOwnProperty(d)&&(b[d]=a[d])}),b}function mB(b,d){var f=b._rangePropMode,a=b.get("rangeMode");oG([["start","startValue"],["end","endValue"]],function(g,k){var e=null!=d[g[0]],h=null!=d[g[1]];e&&!h?f[k]="percent":!e&&h?f[k]="value":a?f[k]=a[k]:e&&(f[k]="percent")})}function CE(a){var b={x:"y",y:"x",radius:"angle",angle:"radius"};return b[a]}function nB(a){return"vertical"===a?"ns-resize":"ew-resize"}function wz(f,h){var l=uz(f),d=h.dataZoomId,k=h.coordId;ZX(l,function(a){var e=a.dataZoomInfos;e[d]&&YX(h.allCoordIds,k)<0&&(delete e[d],a.count--)}),tz(l);var b=l[k];b||(b=l[k]={coordId:k,dataZoomInfos:{},count:0},b.controller=eF(f,b),b.dispatchAction=YN(cz,f)),!b.dataZoomInfos[d]&&b.count++,b.dataZoomInfos[d]=h;var g=gF(b.dataZoomInfos);b.controller.enable(g.controlType,g.opt),b.controller.setPointerChecker(h.containsPoint),m9(b,"dispatchAction",h.throttleRate,"fixRate")}function jE(a,b){var d=uz(a);ZX(d,function(e){e.controller.dispose();var f=e.dataZoomInfos;f[b]&&(delete f[b],e.count--)}),tz(d)}function zt(b,d){if(b&&"dataZoom"===b.type&&b.batch){for(var f=0,a=b.batch.length;a>f;f++){if(b.batch[f].dataZoomId===d){return !1}}}return !0}function fF(a){return a.type+"\x00_"+a.id}function uz(a){var b=a.getZr();return b[lG]||(b[lG]={})}function eF(a,b){var d=new pK(a.getZr());return d.on("pan",sF(vz,b)),d.on("zoom",sF(bJ,b)),d}function tz(a){ZX(a,function(b,d){b.count||(b.controller.dispose(),delete a[d])})}function vz(f,h,l,d,k,b,g){dF(f,function(a){return a.panGetRange(f.controller,h,l,d,k,b,g)})}function bJ(b,d,f,a){dF(b,function(e){return e.zoomGetRange(b.controller,d,f,a)})}function dF(a,b){var d=[];ZX(a.dataZoomInfos,function(f){var e=b(f);!f.disabled&&e&&d.push({dataZoomId:f.dataZoomId,start:e[0],end:e[1]})}),a.dispatchAction(d)}function cz(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function gF(b){var d,f={},a={"true":2,move:1,"false":0,undefined:-1};return ZX(b,function(e){var g=e.disabled?!1:e.zoomLock?"move":!0;a[g]>a[d]&&(d=g),Y2(f,e.roamControllerOpt)}),{controlType:d,opt:f}}function K8(a,b,d){d.getAxisProxy(a.name,b).reset(d)}function R6(a,b,d){d.getAxisProxy(a.name,b).filterData(d)}function BF(a){var b={};ZX(a,function(d){b[d]=1}),a.length=0,ZX(b,function(d,f){a.push(f)})}function qz(a){if(a){for(var b in a){if(a.hasOwnProperty(b)){return !0}}}}function rz(d,f,h){function g(){var a=function(){};a.prototype.__hidden=a.prototype;var k=new a;return k}var b={};return abK(f,function(k){var a=b[k]=g();abK(d[k],function(l,m){if(m6.isValidType(m)){var e={type:m,visual:l};h&&h(e,k),a[m]=new m6(e),"opacity"===m&&(e=ZQ(e),e.type="colorAlpha",a.__hidden.__alphaForOpacity=new m6(e))}})}),b}function kB(a,b,f){var d;ZX(f,function(e){b.hasOwnProperty(e)&&qz(b[e])&&(d=!0)}),d&&ZX(f,function(e){b.hasOwnProperty(e)&&qz(b[e])?a[e]=ZQ(b[e]):delete a[e]})}function HY(w,p,f,k,d,q){function b(a){return f.getItemVisual(m,a)}function x(a,h){f.setItemVisual(m,a,h)}function g(z,h){m=null==q?z:h;var u=f.getRawDataItem(m);if(!u||u.visualMap!==!1){for(var s=k.call(d,z),o=p[s],n=v[s],a=0,e=n.length;e>a;a++){var y=n[a];o[y]&&o[y].applyVisual(z,b,x)}}}var v={};ZX(w,function(a){var e=m6.prepareVisualTypes(p[a]);v[a]=e});var m;null==q?f.each(g,!0):f.each([q],g,!0)}function WR(a){var b=["x","y"],d=["width","height"];return{point:function(h,l,g){if(h){var k=g.range,f=h[a];return NX(f,k)}},rect:function(f,k,e){if(f){var h=e.range,g=[f[b[a]],f[b[a]]+f[d[a]]];return g[1]<g[0]&&g.reverse(),NX(g[0],h)||NX(g[1],h)||NX(h[0],g)||NX(h[1],g)}}}}function NX(a,b){return b[0]<=a&&a<=b[1]}function SV(f,k,m,d,l){for(var b=0,h=l[l.length-1];b<l.length;b++){var g=l[b];if(MX(f,k,m,d,g[0],g[1],h[0],h[1])){return !0}h=g}}function MX(w,p,f,k,d,q,b,x){var g=JY(f-w,d-b,k-p,q-x);if(abe(g)){return !1}var v=JY(d-w,d-b,q-p,q-x)/g;if(0>v||v>1){return !1}var m=JY(f-w,d-w,k-p,q-p)/g;return 0>m||m>1?!1:!0}function abe(a){return 0.000001>=a&&a>=-0.000001}function JY(b,d,f,a){return b*a-d*f}function IY(f,g,k){var d=this._targetInfoList=[],h={},b=GY(g,f);J5(W0,function(a,l){(!k||!k.include||Q4(k.include,l)>=0)&&a(b,d,h)})}function PX(a){return a[0]>a[1]&&a.reverse(),a}function GY(a,b){return d0(a,b,{includeMainTypes:aaC})}function TR(f,h,l,d){var k=l.getAxis(["x","y"][f]),b=PX(ZU([0,1],function(a){return h?k.coordToData(k.toLocalCoord(d[a])):k.toGlobalCoord(k.dataToCoord(d[a]))})),g=[];return g[f]=b,g[1-f]=[0/0,0/0],{values:b,xyMinMax:g}}function YZ(b,d,f,a){return[d[0]-a[b]*f[0],d[1]-a[b]*f[1]]}function XR(b,d){var g=VR(b),a=VR(d),f=[g[0]/a[0],g[1]/a[1]];return isNaN(f[0])&&(f[0]=1),isNaN(f[1])&&(f[1]=1),f}function VR(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[0/0,0/0]}function UR(f,h,l,d,k){if(k){var b=f.getZr();if(!b[a3]){b[E6]||(b[E6]=LX);var g=m9(b,E6,l,h);g(f,d)}}}function LX(a,b){if(!a.isDisposed()){var d=a.getZr();d[a3]=!0,a.dispatchAction({type:"brushSelect",batch:b}),d[a3]=!1}}function OX(f,h,l,d){for(var k=0,b=h.length;b>k;k++){var g=h[k];if(f[g.brushType](d,l,g.selectors,g)){return !0}}}function FY(b){var d=b.brushSelector;if(Z5(d)){var f=[];return ZX(K5,function(g,e){f[e]=function(p,k,m,h){var l=k.getItemLayout(p);return g[d](l,m,h)}}),f}if(aac(d)){var a={};return ZX(K5,function(e,g){a[g]=d}),a}return d}function CZ(a,b){var d=a.option.seriesIndex;return null!=d&&"all"!==d&&(YO(d)?YX(d,b)<0:b!==d)}function DZ(a){var b=a.selectors={};return ZX(K5[a.brushType],function(e,d){b[d]=function(f){return e(f,b,a)}}),a}function az(a){return new gU(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}function aap(a,b){return Y9({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new RN(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}function EZ(b,d,f,a){(!a||a.$from!==b.id)&&this._brushController.setPanels(b.brushTargetManager.makePanelOpts(f)).enableBrush(b.brushOption).updateCovers(b.areas.slice())}function h6(a,b){pq[a]=b}function n4(a){return pq[a]}function r3(a,b,d){this.model=a,this.ecModel=b,this.api=d,this._brushType,this._brushMode}function g6(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}function z2(a){a.eachTargetSeries(function(b){var d=b.getData();HY(a.stateList,a.targetVisuals,d,a.getValueState,a,a.getDataDimension(d))})}function w3(a){a.eachSeries(function(d){var f=d.getData(),b=[];a.eachComponent("visualMap",function(e){if(e.isTargetSeries(d)){var g=e.getVisualMeta(YU(x3,null,d,e))||{stops:[],outerColors:[]};g.dimension=e.getDataDimension(f),b.push(g)}}),d.getData().setVisual("visualMeta",b)})}function x3(z,q,g,m){function f(a){return k[a]}function x(a,d){k[a]=d}for(var b=q.targetVisuals[m],A=m6.prepareVisualTypes(b),k={color:z.getData().getVisual("color")},y=0,p=A.length;p>y;y++){var w=A[y],v=b["opacity"===w?"__alphaForOpacity":w];v&&v.applyVisual(g,f,x)}return k.color}function o4(f,k,m){if(m[0]===m[1]){return m.slice()}for(var d=200,l=(m[1]-m[0])/d,b=m[0],h=[],g=0;d>=g&&b<m[1];g++){h.push(b),b+=l}return h.push(m[1]),h}function k4(B,w,k){var p=B.option,g=p.align;if(null!=g&&"auto"!==g){return g}for(var z={width:w.getWidth(),height:w.getHeight()},b="horizontal"===p.orient?1:0,C=[["left","right","width"],["top","bottom","height"]],m=C[b],A=[0,null,10],q={},y=0;3>y;y++){q[C[1-b][y]]=A[y],q[m[y]]=2===y?k[0]:p[m[y]]}var x=[["x","width",3],["y","height",0]][b],v=WY(q,z,p.padding);return m[(v.margin[x[2]]||0)+v[x[0]]+0.5*v[x[1]]<0.5*z[x[1]]?0:1]}function QX(a){return ZX(a||[],function(){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null)}),a}function l4(b,d,f,a){return new oX({shape:{points:b},draggable:!!f,cursor:d,drift:f,onmousemove:function(e){e4(e.event)},ondragend:a})}function B9(a,b){return 0===a?[[0,0],[b,0],[b,-b]]:[[0,0],[b,0],[b,b]]}function m4(b,d,f,a){return b?[[0,-dz(d,hz(f,0))],[S2,0],[0,dz(d,hz(a-f,0))]]:[[0,0],[5,-5],[5,5]]}function v4(b,d,g){var a=L4/2,f=b.get("hoverLinkDataSize");return f&&(a=cj(f,d,g,!0)/2),a}function i6(a){var b=a.get("hoverLinkOnHandle");return !!(null==b?a.get("realtime"):b)}function y3(a){return"vertical"===a?"ns-resize":"ew-resize"}function e6(a,b){var d=a.inverse;("vertical"===a.orient?!d:d)&&b.reverse()}function t3(a){return 0===a.indexOf("my")}function d6(a){this.model=a}function s3(a){this.model=a}function u3(b){var d={},f=[],a=[];return b.eachRawSeries(function(g){var k=g.coordinateSystem;if(!k||"cartesian2d"!==k.type&&"polar"!==k.type){f.push(g)}else{var e=k.getBaseAxis();if("category"===e.type){var h=e.dim+"_"+e.index;d[h]||(d[h]={categoryAxis:e,valueAxis:k.getOtherAxis(e),series:[]},a.push({axisDim:e.dim,axisIndex:e.index})),d[h].series.push(g)}else{f.push(g)}}}),{seriesGroupByCategoryAxis:d,other:f,meta:a}}function bt(a){var b=[];return ZX(a,function(v){var f=v.categoryAxis,k=v.valueAxis,e=k.dim,p=[" "].concat(ZU(v.series,function(h){return h.name})),d=[f.model.getCategories()];ZX(v.series,function(h){d.push(h.getRawData().mapArray(e,function(l){return l}))});for(var w=[p.join(Hk)],g=0;g<d[0].length;g++){for(var q=[],m=0;m<d.length;m++){q.push(d[m][g])}w.push(q.join(Hk))}b.push(w.join("\n"))}),b.join("\n\n"+Qj+"\n\n")}function c6(a){return ZU(a,function(d){var f=d.getRawData(),g=[d.name],b=[];return f.each(f.dimensions,function(){for(var h=arguments.length,l=arguments[h-1],e=f.getName(l),k=0;h-1>k;k++){b[k]=arguments[k]}g.push((e?e+Hk:"")+b.join(Hk))}),g.join("\n")}).join("\n\n"+Qj+"\n\n")}function b3(a){var b=u3(a);return{value:Zt([bt(b.seriesGroupByCategoryAxis),c6(b.other)],function(d){return d.replace(/[\n\t\s]/g,"")}).join("\n\n"+Qj+"\n\n"),meta:b.meta}}function f6(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function KY(a){var b=a.slice(0,a.indexOf("\n"));return b.indexOf(Hk)>=0?!0:void 0}function RW(f){for(var k=f.split(/\n+/g),m=f6(k.shift()).split(T6),d=[],l=ZU(m,function(a){return{name:a,data:[]}}),b=0;b<k.length;b++){var h=f6(k[b]).split(T6);d.push(h.shift());for(var g=0;g<h.length;g++){l[g]&&(l[g].data[b]=h[g])}}return{series:l,categories:d}}function Bj(q){for(var k=q.split(/\n+/g),f=f6(k.shift()),h=[],d=0;d<k.length;d++){var m,b=f6(k[d]).split(T6),v="",g=!1;isNaN(b[0])?(g=!0,v=b[0],b=b.slice(1),h[d]={name:v,value:[]},m=h[d].value):m=h[d]=[];for(var p=0;p<b.length;p++){m.push(+b[p])}1===m.length&&(g?h[d].value=m[0]:h[d]=m[0])}return{name:f,data:h}}function p4(b,d){var f=b.split(new RegExp("\n*"+Qj+"\n*","g")),a={series:[]};return ZX(f,function(g,l){if(KY(g)){var k=RW(g),e=d[l],h=e.axisDim+"Axis";e&&(a[h]=a[h]||[],a[h][e.axisIndex]={data:k.categories},a.series=a.series.concat(k.series))}else{var k=Bj(g);a.series.push(k)}}),a}function q3(a){this._dom=null,this.model=a}function j5(a,b){return ZU(a,function(e,f){var d=b&&b[f];return YQ(d)&&!YO(d)?(YQ(e)&&!YO(e)&&(e=e.value),Y0({value:e},d)):e})}function HV(a,b){var d=MU(a);ZN(b,function(l,g){for(var m=d.length-1;m>=0;m--){var f=d[m];if(f[g]){break}}if(0>m){var k=a.queryComponents({mainType:"dataZoom",subType:"select",id:g})[0];if(k){var h=k.getPercentRange();d[0][g]={dataZoomId:g,start:h[0],end:h[1]}}}}),d.push(b)}function WN(b){var d=MU(b),f=d[d.length-1];d.length>1&&d.pop();var a={};return ZN(f,function(e,h){for(var g=d.length-1;g>=0;g--){var e=d[g][h];if(e){a[h]=e;break}}}),a}function NU(a){a[X5]=null}function SQ(a){return MU(a).length}function MU(a){var b=a[X5];return b||(b=a[X5]=[{}]),b}function abb(a,b,d){(this._brushController=new yQ(d.getZr())).on("brush",YU(this._onBrush,this)).mount(),this._isZoomActive}function JV(a){var b={};return ZX(["xAxisIndex","yAxisIndex"],function(d){b[d]=a[d],null==b[d]&&(b[d]="all"),(b[d]===!1||"none"===b[d])&&(b[d]=[])}),b}function IV(a,b){a.setIconStatus("back",SQ(b)>1?"emphasis":"normal")}function PU(f,h,l,d,k){var b=l._isZoomActive;d&&"takeGlobalCursor"===d.type&&(b="dataZoomSelect"===d.key?d.dataZoomSelectActive:!1),l._isZoomActive=b,f.setIconStatus("zoom",b?"emphasis":"normal");var g=new IY(JV(f.option),h,{include:["grid"]});l._brushController.setPanels(g.makePanelOpts(k,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"})).enableBrush(b?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}function GV(a){this.model=a}var TN=2311,YR=function(){return TN++},XN={};XN="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0,svgSupported:!0}:ZZ(navigator.userAgent);var VN=XN,UN={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},LU={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},OU=Object.prototype.toString,FV=Array.prototype,CW=FV.forEach,DW=FV.filter,aj=FV.slice,aaj=FV.map,EW=FV.reduce,h3={},n1=function(){return h3.createCanvas()};h3.createCanvas=function(){return document.createElement("canvas")};var r0,g3="__ec_primitive__",zZ="_ec_",w0=4;YK.prototype={constructor:YK,get:function(a){return this[zZ+a]},set:function(a,b){return this[zZ+a]=b,b},each:function(a,b){void 0!==b&&(a=YU(a,b));for(var d in this){this.hasOwnProperty(d)&&a(this[d],d.slice(w0))}},removeKey:function(a){delete this[zZ+a]}};var x0="undefined"==typeof Float32Array?Array:Float32Array,o1=Y4,k1=ZJ;IG.prototype={constructor:IG,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(Xt(b,a),"dragstart",a.event))},_drag:function(f){var k=this._draggingTarget;if(k){var m=f.offsetX,d=f.offsetY,l=m-this._x,b=d-this._y;this._x=m,this._y=d,k.drift(l,b,f),this.dispatchToElement(Xt(k,f),"drag",f.event);var h=this.findHover(m,d,k).target,g=this._dropTarget;this._dropTarget=h,k!==h&&(g&&h!==g&&this.dispatchToElement(Xt(g,f),"dragleave",f.event),h&&h!==g&&this.dispatchToElement(Xt(h,f),"dragenter",f.event))}},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this.dispatchToElement(Xt(b,a),"dragend",a.event),this._dropTarget&&this.dispatchToElement(Xt(this._dropTarget,a),"drop",a.event),this._draggingTarget=null,this._dropTarget=null}};var QU=Array.prototype.slice,l1=function(){this._$handlers={}};l1.prototype={constructor:l1,one:function(b,d,g){var a=this._$handlers;if(!d||!b){return this}a[b]||(a[b]=[]);for(var f=0;f<a[b].length;f++){if(a[b][f].h===d){return this}}return a[b].push({h:d,one:!0,ctx:g||this}),this},on:function(b,d,g){var a=this._$handlers;if(!d||!b){return this}a[b]||(a[b]=[]);for(var f=0;f<a[b].length;f++){if(a[b][f].h===d){return this}}return a[b].push({h:d,one:!1,ctx:g||this}),this},isSilent:function(a){var b=this._$handlers;return b[a]&&b[a].length},off:function(f,g){var k=this._$handlers;if(!f){return this._$handlers={},this}if(g){if(k[f]){for(var d=[],h=0,b=k[f].length;b>h;h++){k[f][h].h!=g&&d.push(k[f][h])}k[f]=d}k[f]&&0===k[f].length&&delete k[f]}else{delete k[f]}return this},trigger:function(f){if(this._$handlers[f]){var g=arguments,k=g.length;k>3&&(g=QU.call(g,1));for(var d=this._$handlers[f],h=d.length,b=0;h>b;){switch(k){case 1:d[b].h.call(d[b].ctx);break;case 2:d[b].h.call(d[b].ctx,g[1]);break;case 3:d[b].h.call(d[b].ctx,g[1],g[2]);break;default:d[b].h.apply(d[b].ctx,g)}d[b].one?(d.splice(b,1),h--):b++}}return this},triggerWithContext:function(f){if(this._$handlers[f]){var h=arguments,l=h.length;l>4&&(h=QU.call(h,1,h.length-1));for(var d=h[h.length-1],k=this._$handlers[f],b=k.length,g=0;b>g;){switch(l){case 1:k[g].h.call(d);break;case 2:k[g].h.call(d,h[1]);break;case 3:k[g].h.call(d,h[1],h[2]);break;default:k[g].h.apply(d,h)}k[g].one?(k.splice(g,1),b--):g++}}return this}};var B6="silent";Tt.prototype.dispose=function(){};var m1=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],v0=function(b,d,f,a){l1.call(this),this.storage=b,this.painter=d,this.painterRoot=a,f=f||new Tt,this.proxy=f,f.handler=this,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,IG.call(this),ZX(m1,function(e){f.on&&f.on(e,this[e],this)},this)};v0.prototype={constructor:v0,mousemove:function(f){var k=f.zrX,m=f.zrY,d=this._hovered,l=d.target;l&&!l.__zr&&(d=this.findHover(d.x,d.y),l=d.target);var b=this._hovered=this.findHover(k,m),h=b.target,g=this.proxy;g.setCursor&&g.setCursor(h?h.cursor:"default"),l&&h!==l&&this.dispatchToElement(d,"mouseout",f),this.dispatchToElement(b,"mousemove",f),h&&h!==l&&this.dispatchToElement(b,"mouseover",f)},mouseout:function(a){this.dispatchToElement(this._hovered,"mouseout",a);var b,d=a.toElement||a.relatedTarget;do{d=d&&d.parentNode}while(d&&9!=d.nodeType&&!(b=d===this.painterRoot));!b&&this.trigger("globalout",{event:a})},resize:function(){this._hovered={}},dispatch:function(a,b){var d=this[a];d&&d.call(this,b)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(f,g,k){f=f||{};var d=f.target;if(!d||!d.silent){for(var h="on"+g,b=OF(g,f,k);d&&(d[h]&&(b.cancelBubble=d[h].call(d,b)),d.trigger(g,b),d=d.parent,!b.cancelBubble);){}b.cancelBubble||(this.trigger(g,b),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[h]&&a[h].call(a,b),a.trigger&&a.trigger(g,b)}))}},findHover:function(f,h,l){for(var d=this.storage.getDisplayList(),k={x:f,y:h},b=d.length-1;b>=0;b--){var g;if(d[b]!==l&&!d[b].ignore&&(g=NF(d[b],f,h))&&(!k.topTarget&&(k.topTarget=d[b]),g!==B6)){k.target=d[b];break}}return k}},ZX(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){v0.prototype[a]=function(d){var f=this.findHover(d.zrX,d.zrY),b=f.target;if("mousedown"===a){this._downEl=b,this._downPoint=[d.zrX,d.zrY],this._upEl=b}else{if("mosueup"===a){this._upEl=b}else{if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||o1(this._downPoint,[d.zrX,d.zrY])>4){return}this._downPoint=null}}}this.dispatchToElement(f,a,d)}}),Z3(v0,l1),Z3(v0,IG);var i3="undefined"==typeof Float32Array?Array:Float32Array,y0=KG,e3=0.00005,t0=function(a){a=a||{},a.position||(this.position=[0,0]),null==a.rotation&&(this.rotation=0),a.scale||(this.scale=[1,1]),this.origin=this.origin||null},d3=t0.prototype;d3.transform=null,d3.needLocalTransform=function(){return Wt(this.rotation)||Wt(this.position[0])||Wt(this.position[1])||Wt(this.scale[0]-1)||Wt(this.scale[1]-1)},d3.updateTransform=function(){var b=this.parent,d=b&&b.transform,f=this.needLocalTransform(),a=this.transform;return f||d?(a=a||aby(),f?this.getLocalTransform(a):y0(a),d&&(f?QF(a,b.transform,a):JG(a,b.transform)),this.transform=a,this.invTransform=this.invTransform||aby(),void Yq(this.invTransform,a)):void (a&&y0(a))},d3.getLocalTransform=function(a){return t0.getLocalTransform(this,a)},d3.setTransform=function(a){var b=this.transform,d=a.dpr||1;b?a.setTransform(d*b[0],d*b[1],d*b[2],d*b[3],d*b[4],d*b[5]):a.setTransform(d,0,0,d,0,0)},d3.restoreTransform=function(a){var b=a.dpr||1;a.setTransform(b,0,0,b,0,0)};var s0=[];d3.decomposeTransform=function(){if(this.transform){var f=this.parent,g=this.transform;f&&f.transform&&(QF(s0,f.invTransform,g),g=s0);var k=g[0]*g[0]+g[1]*g[1],d=g[2]*g[2]+g[3]*g[3],h=this.position,b=this.scale;Wt(k-1)&&(k=Math.sqrt(k)),Wt(d-1)&&(d=Math.sqrt(d)),g[0]<0&&(k=-k),g[3]<0&&(d=-d),h[0]=g[4],h[1]=g[5],b[0]=k,b[1]=d,this.rotation=Math.atan2(-g[1]/d,g[0]/k)}},d3.getGlobalScale=function(){var a=this.transform;if(!a){return[1,1]}var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),d=Math.sqrt(a[2]*a[2]+a[3]*a[3]);return a[0]<0&&(b=-b),a[3]<0&&(d=-d),[b,d]},d3.transformCoordToLocal=function(b,d){var f=[b,d],a=this.invTransform;return a&&aaK(f,f,a),f},d3.transformCoordToGlobal=function(b,d){var f=[b,d],a=this.transform;return a&&aaK(f,f,a),f},t0.getLocalTransform=function(f,g){g=g||[],y0(g);var k=f.origin,d=f.scale||[1,1],h=f.rotation||0,b=f.position||[0,0];return k&&(g[4]-=k[0],g[5]-=k[1]),Z4(g,g,d),h&&Ut(g,g,h),k&&(g[4]+=k[0],g[5]+=k[1]),g[4]+=b[0],g[5]+=b[1],g};var u0={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?0.5*a*a:-0.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return --a*a*a+1},cubicInOut:function(a){return(a*=2)<1?0.5*a*a*a:0.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return --a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return 0.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?0.5*Math.pow(1024,a-1):0.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(b){var d,f=0.1,a=0.4;return 0===b?0:1===b?1:(!f||1>f?(f=1,d=a/4):d=a*Math.asin(1/f)/(2*Math.PI),-(f*Math.pow(2,10*(b-=1))*Math.sin(2*(b-d)*Math.PI/a)))},elasticOut:function(b){var d,f=0.1,a=0.4;return 0===b?0:1===b?1:(!f||1>f?(f=1,d=a/4):d=a*Math.asin(1/f)/(2*Math.PI),f*Math.pow(2,-10*b)*Math.sin(2*(b-d)*Math.PI/a)+1)},elasticInOut:function(b){var d,f=0.1,a=0.4;return 0===b?0:1===b?1:(!f||1>f?(f=1,d=a/4):d=a*Math.asin(1/f)/(2*Math.PI),(b*=2)<1?-0.5*f*Math.pow(2,10*(b-=1))*Math.sin(2*(b-d)*Math.PI/a):f*Math.pow(2,-10*(b-=1))*Math.sin(2*(b-d)*Math.PI/a)*0.5+1)},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){var b=1.70158;return --a*a*((b+1)*a+b)+1},backInOut:function(a){var b=2.5949095;return(a*=2)<1?0.5*a*a*((b+1)*a-b):0.5*((a-=2)*a*((b+1)*a+b)+2)},bounceIn:function(a){return 1-u0.bounceOut(1-a)},bounceOut:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+0.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceInOut:function(a){return 0.5>a?0.5*u0.bounceIn(2*a):0.5*u0.bounceOut(2*a-1)+0.5}};Vt.prototype={constructor:Vt,step:function(f,g){if(this._initialized||(this._startTime=f+this._delay,this._initialized=!0),this._paused){return void (this._pausedTime+=g)}var k=(f-this._startTime-this._pausedTime)/this._life;if(!(0>k)){k=Math.min(k,1);var d=this.easing,h="string"==typeof d?u0[d]:d,b="function"==typeof h?h(k):k;return this.fire("frame",b),1==k?this.loop?(this.restart(f),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(a){var b=(a-this._startTime-this._pausedTime)%this._life;this._startTime=a-b+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(a,b){a="on"+a,this[a]&&this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var bj=function(){this.head=null,this.tail=null,this._len=0},c0=bj.prototype;c0.insert=function(a){var b=new b0(a);return this.insertEntry(b),b},c0.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a,this._len++},c0.remove=function(a){var b=a.prev,d=a.next;b?b.next=d:this.head=d,d?d.prev=b:this.tail=b,a.next=a.prev=null,this._len--},c0.len=function(){return this._len},c0.clear=function(){this.head=this.tail=null,this._len=0};var b0=function(a){this.value=a,this.next,this.prev},f3=function(a){this._list=new bj,this._map={},this._maxSize=a||10,this._lastRemovedEntry=null},KV=f3.prototype;KV.put=function(f,k){var m=this._list,d=this._map,l=null;if(null==d[f]){var b=m.len(),h=this._lastRemovedEntry;if(b>=this._maxSize&&b>0){var g=m.head;m.remove(g),delete d[g.key],l=g.value,this._lastRemovedEntry=g}h?h.value=k:h=new b0(k),h.key=f,m.insertEntry(h),d[f]=h}return l},KV.get=function(a){var b=this._map[a],d=this._list;return null!=b?(b!==d.tail&&(d.remove(b),d.insertEntry(b)),b.value):void 0},KV.clear=function(){this._list.clear(),this._map={}};var RR={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},A7=new f3(20),p1=null,q0=Array.prototype.slice,j2=function(b,d,f,a){this._tracks={},this._target=b,this._loop=d||!1,this._getter=f||CN,this._setter=a||nQ,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};j2.prototype={when:function(b,d){var g=this._tracks;for(var a in d){if(d.hasOwnProperty(a)){if(!g[a]){g[a]=[];var f=this._getter(this._target,a);if(null==f){continue}0!==b&&g[a].push({time:0,value:vO(f)})}g[a].push({time:b,value:d[a]})}}return this},during:function(a){return this._onframeList.push(a),this},pause:function(){for(var a=0;a<this._clipList.length;a++){this._clipList[a].pause()}this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++){this._clipList[a].resume()}this._paused=!1},isPaused:function(){return !!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var a=this._doneList,b=a.length,d=0;b>d;d++){a[d].call(this)}},start:function(p,k){var f,h=this,d=0,m=function(){d--,d||h._doneCallback()};for(var b in this._tracks){if(this._tracks.hasOwnProperty(b)){var q=cO(this,p,m,this._tracks[b],b,k);q&&(this._clipList.push(q),d++,this.animation&&this.animation.addClip(q),f=q)}}if(f){var g=f.onframe;f.onframe=function(a,l){g(a,l);for(var o=0;o<h._onframeList.length;o++){h._onframeList[o](a,l)}}}return d||this._doneCallback(),this},stop:function(b){for(var d=this._clipList,g=this.animation,a=0;a<d.length;a++){var f=d[a];b&&f.onframe(this._target,1),g&&g.removeClip(f)}d.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}};var HW=1;"undefined"!=typeof window&&(HW=Math.max(window.devicePixelRatio||1,1));var WO=0,NV=HW,SR=function(){};1===WO?SR=function(){for(var a in arguments){throw new Error(arguments[a])}}:WO>1&&(SR=function(){for(var a in arguments){console.log(arguments[a])}});var MV=SR,abc=function(){this.animators=[]};abc.prototype={constructor:abc,animate:function(x,q){var g,m=!1,f=this,w=this.__zr;if(x){var b=x.split("."),y=f;m="shape"===b[0];for(var k=0,p=b.length;p>k;k++){y&&(y=y[b[k]])}y&&(g=y)}else{g=f}if(!g){return void MV('Property "'+x+'" is not existed in element '+f.id)}var v=f.animators,u=new j2(g,q);return u.during(function(){f.dirty(m)}).done(function(){v.splice(YX(v,u),1)}),v.push(u),w&&w.animation.addAnimator(u),u},stopAnimation:function(b){for(var d=this.animators,f=d.length,a=0;f>a;a++){d[a].stop(b)}return d.length=0,this},animateTo:function(q,k,f,h,d,m){function b(){g--,g||d&&d()}Z5(f)?(d=h,h=f,f=0):aac(h)?(d=h,h="linear",f=0):aac(f)?(d=f,f=0):aac(k)?(d=k,k=500):k||(k=500),this.stopAnimation(),this._animateToShallow("",this,q,k,f);var v=this.animators.slice(),g=v.length;g||d&&d();for(var p=0;p<v.length;p++){v[p].done(b).start(h,m)}},_animateToShallow:function(p,k,f,h,d){var m={},b=0;for(var q in f){if(f.hasOwnProperty(q)){if(null!=k[q]){YQ(f[q])&&!Z1(f[q])?this._animateToShallow(p?p+"."+q:q,k[q],f[q],h,d):(m[q]=f[q],b++)}else{if(null!=f[q]){if(p){var g={};g[p]={},g[p][q]=f[q],this.attr(g)}else{this.attr(q,f[q])}}}}}return b>0&&this.animate(p,!1).when(null==h?500:h,m).delay(d||0),this}};var JW=function(a){t0.call(this,a),l1.call(this,a),abc.call(this,a),this.id=a.id||YR()};JW.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(a,b){switch(this.draggable){case"horizontal":b=0;break;case"vertical":a=0}var d=this.transform;d||(d=this.transform=[1,0,0,1,0,0]),d[4]+=a,d[5]+=b,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var d=this[a];d||(d=this[a]=[]),d[0]=b[0],d[1]=b[1]}}else{this[a]=b}},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"==typeof a){this.attrKV(a,b)}else{if(YQ(a)){for(var d in a){a.hasOwnProperty(d)&&this.attrKV(d,a[d])}}}return this.dirty(!1),this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b),this.clipPath&&this.clipPath!==a&&this.removeClipPath(),this.clipPath=a,a.__zr=b,a.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b){for(var d=0;d<b.length;d++){a.animation.addAnimator(b[d])}}this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b){for(var d=0;d<b.length;d++){a.animation.removeAnimator(b[d])}}this.clipPath&&this.clipPath.removeSelfFromZr(a)}},Z3(JW,abc),Z3(JW,t0),Z3(JW,l1);var IW=aaK,PV=Math.min,GW=Math.max;gU.prototype={constructor:gU,union:function(a){var b=PV(a.x,this.x),d=PV(a.y,this.y);this.width=GW(a.x+a.width,this.x+this.width)-b,this.height=GW(a.y+a.height,this.y+this.height)-d,this.x=b,this.y=d},applyTransform:function(){var b=[],d=[],f=[],a=[];return function(h){if(h){b[0]=f[0]=this.x,b[1]=a[1]=this.y,d[0]=a[0]=this.x+this.width,d[1]=f[1]=this.y+this.height,IW(b,b,h),IW(d,d,h),IW(f,f,h),IW(a,a,h),this.x=PV(b[0],d[0],f[0],a[0]),this.y=PV(b[1],d[1],f[1],a[1]);var e=GW(b[0],d[0],f[0],a[0]),g=GW(b[1],d[1],f[1],a[1]);this.width=e-this.x,this.height=g-this.y}}}(),calculateTransform:function(b){var d=this,g=b.width/d.width,a=b.height/d.height,f=aby();return HG(f,f,[-d.x,-d.y]),Z4(f,f,[g,a]),HG(f,f,[b.x,b.y]),f},intersect:function(q){if(!q){return !1}q instanceof gU||(q=gU.create(q));var k=this,f=k.x,h=k.x+k.width,d=k.y,m=k.y+k.height,b=q.x,v=q.x+q.width,g=q.y,p=q.y+q.height;return !(b>h||f>v||g>m||d>p)},contain:function(a,b){var d=this;return a>=d.x&&a<=d.x+d.width&&b>=d.y&&b<=d.y+d.height},clone:function(){return new gU(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},gU.create=function(a){return new gU(a.x,a.y,a.width,a.height)};var TO=function(a){a=a||{},JW.call(this,a);for(var b in a){a.hasOwnProperty(b)&&(this[b]=a[b])}this._children=[],this.__storage=null,this.__dirty=!0};TO.prototype={constructor:TO,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var b=this._children,d=0;d<b.length;d++){if(b[d].name===a){return b[d]}}},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(b,d){if(b&&b!==this&&b.parent!==this&&d&&d.parent===this){var f=this._children,a=f.indexOf(d);a>=0&&(f.splice(a,0,b),this._doAdd(b))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a),a.parent=this;var b=this.__storage,d=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof TO&&a.addChildrenToStorage(b)),d&&d.refresh()},remove:function(b){var d=this.__zr,g=this.__storage,a=this._children,f=YX(a,b);return 0>f?this:(a.splice(f,1),b.parent=null,g&&(g.delFromStorage(b),b instanceof TO&&b.delChildrenFromStorage(g)),d&&d.refresh(),this)},removeAll:function(){var b,d,f=this._children,a=this.__storage;for(d=0;d<f.length;d++){b=f[d],a&&(a.delFromStorage(b),b instanceof TO&&b.delChildrenFromStorage(a)),b.parent=null}return f.length=0,this},eachChild:function(b,d){for(var g=this._children,a=0;a<g.length;a++){var f=g[a];b.call(d,f,a)}return this},traverse:function(b,d){for(var f=0;f<this._children.length;f++){var a=this._children[f];b.call(d,a),"group"===a.type&&a.traverse(b,d)}return this},addChildrenToStorage:function(a){for(var b=0;b<this._children.length;b++){var d=this._children[b];a.addToStorage(d),d instanceof TO&&d.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var b=0;b<this._children.length;b++){var d=this._children[b];a.delFromStorage(d),d instanceof TO&&d.delChildrenFromStorage(a)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(p){for(var k=null,f=new gU(0,0,0,0),h=p||this._children,d=[],m=0;m<h.length;m++){var b=h[m];if(!b.ignore&&!b.invisible){var q=b.getBoundingRect(),g=b.getLocalTransform(d);g?(f.copy(q),f.applyTransform(g),k=k||f.clone(),k.union(f)):(k=k||q.clone(),k.union(q))}}return k||f}},ZR(TO,JW);var YV=32,XO=7,VO=function(){this._roots=[],this._displayList=[],this._displayListLen=0};VO.prototype={constructor:VO,traverse:function(a,b){for(var d=0;d<this._roots.length;d++){this._roots[d].traverse(a,b)}},getDisplayList:function(a,b){return b=b||!1,a&&this.updateDisplayList(b),this._displayList},updateDisplayList:function(b){this._displayListLen=0;for(var d=this._roots,g=this._displayList,a=0,f=d.length;f>a;a++){this._updateAndAddDisplayable(d[a],null,b)}g.length=this._displayListLen,VN.canvasSupported&&W2(g,N6)},_updateAndAddDisplayable:function(p,k,f){if(!p.ignore||f){p.beforeUpdate(),p.__dirty&&p.update(),p.afterUpdate();var h=p.clipPath;if(h){k=k?k.slice():[];for(var d=h,m=p;d;){d.parent=m,d.updateTransform(),k.push(d),m=d,d=d.clipPath}}if(p.isGroup){for(var b=p._children,q=0;q<b.length;q++){var g=b[q];p.__dirty&&(g.__dirty=!0),this._updateAndAddDisplayable(g,k,f)}p.__dirty=!1}else{p.__clipPaths=k,this._displayList[this._displayListLen++]=p}}},addRoot:function(a){a.__storage!==this&&(a instanceof TO&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(b){if(null==b){for(var d=0;d<this._roots.length;d++){var g=this._roots[d];g instanceof TO&&g.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void (this._displayListLen=0)}if(b instanceof Array){for(var d=0,a=b.length;a>d;d++){this.delRoot(b[d])}}else{var f=YX(this._roots,b);f>=0&&(this.delFromStorage(b),this._roots.splice(f,1),b instanceof TO&&b.delChildrenFromStorage(this))}},addToStorage:function(a){return a.__storage=this,a.dirty(!1),this},delFromStorage:function(a){return a&&(a.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:N6};var UO=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],LV=function(a,b){this.extendFrom(a,!1),this.host=b};LV.prototype={constructor:LV,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(q,k,f){for(var h=this,d=f&&f.style,m=!d,b=0;b<UO.length;b++){var v=UO[b],g=v[0];(m||h[g]!==d[g])&&(q[g]=h[g]||v[1])}if((m||h.fill!==d.fill)&&(q.fillStyle=h.fill),(m||h.stroke!==d.stroke)&&(q.strokeStyle=h.stroke),(m||h.opacity!==d.opacity)&&(q.globalAlpha=null==h.opacity?1:h.opacity),(m||h.blend!==d.blend)&&(q.globalCompositeOperation=h.blend||"source-over"),this.hasStroke()){var p=h.lineWidth;q.lineWidth=p/(this.strokeNoScale&&k&&k.getLineScale?k.getLineScale():1)}},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&this.lineWidth>0},extendFrom:function(a,b){if(a){for(var d in a){!a.hasOwnProperty(d)||b!==!0&&(b===!1?this.hasOwnProperty(d):null==a[d])||(this[d]=a[d])}}},set:function(a,b){"string"==typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;return a.extendFrom(this,!0),a},getGradient:function(f,h,l){for(var d="radial"===h.type?abn:M6,k=d(f,h,l),b=h.colorStops,g=0;g<b.length;g++){k.addColorStop(b[g].offset,b[g].color)}return k}};for(var OV=LV.prototype,FW=0;FW<UO.length;FW++){var CX=UO[FW];CX[0] in OV||(OV[CX[0]]=CX[1])}LV.getGradient=OV.getGradient;var DX=function(a,b){this.image=a,this.repeat=b,this.type="pattern"};DX.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")};var aq=function(b,d,g){var a;g=g||NV,"string"==typeof b?a=I7(b,d,g):YQ(b)&&(a=b,b=a.id),this.id=b,this.dom=a;var f=a.style;f&&(a.onselectstart=J7,f["-webkit-user-select"]="none",f["user-select"]="none",f["-webkit-touch-callout"]="none",f["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",f.padding=0,f.margin=0,f["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=d,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=0.7,this.dpr=g};aq.prototype={constructor:aq,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.__currentValues={},this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=I7("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),this.ctxBack.__currentValues={},1!=a&&this.ctxBack.scale(a,a)},resize:function(f,g){var k=this.dpr,d=this.dom,h=d.style,b=this.domBack;h.width=f+"px",h.height=g+"px",d.width=f*k,d.height=g*k,b&&(b.width=f*k,b.height=g*k,1!=k&&this.ctxBack.scale(k,k))},clear:function(w){var p=this.dom,f=this.ctx,k=p.width,d=p.height,q=this.clearColor,b=this.motionBlur&&!w,x=this.lastFrameAlpha,g=this.dpr;if(b&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(p,0,0,k/g,d/g)),f.clearRect(0,0,k,d),q){var v;q.colorStops?(v=q.__canvasGradient||LV.getGradient(f,q,{x:0,y:0,width:k,height:d}),q.__canvasGradient=v):q.image&&(v=DX.prototype.getCanvasPattern.call(q,f)),f.save(),f.fillStyle=v||q,f.fillRect(0,0,k,d),f.restore()}if(b){var m=this.domBack;f.save(),f.globalAlpha=x,f.drawImage(m,0,0,k,d),f.restore()}}};var aal="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},EX=new f3(50),h4={},n2=0,r1=5000,g4=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,z0="12px sans-serif",w1={};w1.measureText=function(a,b){var d=ZB();return d.font=b||z0,d.measureText(a)};var x1={left:1,right:1,center:1},o2={top:1,bottom:1,middle:1},k2=new gU,QV=function(){};QV.prototype={constructor:QV,drawRectText:function(b,d){var g=this.style;d=g.textRect||d,this.__dirty&&pz(g,!0);var a=g.text;if(null!=a&&(a+=""),gE(a,g)){b.save();var f=this.transform;g.transformText?this.setTransform(b):f&&(k2.copy(d),k2.applyTransform(f),d=k2),Q6(this,b,a,g,d),b.restore()}}},K7.prototype={constructor:K7,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(b,d){var f=this.transformCoordToLocal(b,d),a=this.getBoundingRect();return a.contain(f[0],f[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?JW.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){return this.style.set(a,b),this.dirty(!1),this},useStyle:function(a){return this.style=new LV(a,this),this.dirty(!1),this}},ZR(K7,JW),Z3(K7,QV),R5.prototype={constructor:R5,type:"image",brush:function(B,w){var k=this.style,p=k.image;k.bind(B,this,w);var g=this._image=G7(p,this._image,this,this.onload);if(g&&ZE(g)){var z=k.x||0,b=k.y||0,C=k.width,m=k.height,A=g.width/g.height;if(null==C&&null!=m?C=m*A:null==m&&null!=C?m=C/A:null==C&&null==m&&(C=g.width,m=g.height),this.setTransform(B),k.sWidth&&k.sHeight){var q=k.sx||0,y=k.sy||0;B.drawImage(g,q,y,k.sWidth,k.sHeight,z,b,C,m)}else{if(k.sx&&k.sy){var q=k.sx,y=k.sy,x=C-q,v=m-y;B.drawImage(g,q,y,x,v,z,b,C,m)}else{B.drawImage(g,z,b,C,m)}}this.restoreTransform(B),null!=k.text&&this.drawRectText(B,this.getBoundingRect())}},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new gU(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}},ZR(R5,K7);var l2=5,B7=new gU(0,0,0,0),m2=new gU(0,0,0,0),v2=function(w,m,d){this.type="canvas";var g=!w.nodeName||"CANVAS"===w.nodeName.toUpperCase();this._opts=d=Y2({},d||{}),this.dpr=d.devicePixelRatio||NV,this._singleCanvas=g,this.root=w;var b=w.style;b&&(b["-webkit-tap-highlight-color"]="transparent",b["-webkit-user-select"]=b["user-select"]=b["-webkit-touch-callout"]="none",w.innerHTML=""),this.storage=m;var q=this._zlevelList=[],x=this._layers={};if(this._layerConfig={},g){null!=d.width&&(w.width=d.width),null!=d.height&&(w.height=d.height);var f=w.width,v=w.height;this._width=f,this._height=v;var k=new aq(w,this,1);k.initContext(),x[0]=k,q.push(0),this._domRoot=w}else{this._width=this._getSize(0),this._height=this._getSize(1);var p=this._domRoot=S9(this._width,this._height);w.appendChild(p)}this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};v2.prototype={constructor:v2,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();return a?{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}:void 0},refresh:function(f){var g=this.storage.getDisplayList(!0),k=this._zlevelList;this._paintList(g,f);for(var d=0;d<k.length;d++){var h=k[d],b=this._layers[h];!b.__builtin__&&b.refresh&&b.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(a,b){if(!a.__hoverMir){var d=new a.constructor({style:a.style,shape:a.shape});d.__from=a,a.__hoverMir=d,d.setStyle(b),this._hoverElements.push(d)}},removeHover:function(b){var d=b.__hoverMir,f=this._hoverElements,a=YX(f,d);a>=0&&f.splice(a,1),b.__hoverMir=null},clearHover:function(){for(var a=this._hoverElements,b=0;b<a.length;b++){var d=a[b].__from;d&&(d.__hoverMir=null)}a.length=0},refreshHover:function(){var f=this._hoverElements,h=f.length,l=this._hoverlayer;if(l&&l.clear(),h){W2(f,this.storage.displayableSortFunc),l||(l=this._hoverlayer=this.getLayer(100000));var d={};l.ctx.save();for(var k=0;h>k;){var b=f[k],g=b.__from;g&&g.__zr?(k++,g.invisible||(b.transform=g.transform,b.invTransform=g.invTransform,b.__clipPaths=g.__clipPaths,this._doPaintEl(b,l,!0,d))):(f.splice(k,1),g.__hoverMir=null,h--)}l.ctx.restore()}},_startProgessive:function(){function a(){d===b._progressiveToken&&b.storage&&(b._doPaintList(b.storage.getDisplayList()),b._furtherProgressive?(b._progress++,aal(a)):b._progressiveToken=-1)}var b=this;if(b._furtherProgressive){var d=b._progressiveToken=+new Date;b._progress++,aal(a)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,ZX(this._progressiveLayers,function(a){a.__dirty&&a.clear()})},_paintList:function(a,b){null==b&&(b=!1),this._updateLayerStatus(a),this._clearProgressive(),this.eachBuiltinLayer(rt),this._doPaintList(a,b),this.eachBuiltinLayer(kz)},_doPaintList:function(q,H){function B(a){var d=K.dpr||1;K.save(),K.globalAlpha=1,K.shadowBlur=0,E.__dirty=!0,K.setTransform(1,0,0,1,0,0),K.drawImage(a.dom,0,0,F*d,J*d),K.restore()}for(var E,A,K,x,w,D,k=0,F=this._width,J=this._height,I=this._progress,G=0,z=q.length;z>G;G++){var C=q[G],f=this._singleCanvas?0:C.zlevel,b=C.__frame;if(0>b&&w&&(B(w),w=null),A!==f&&(K&&K.restore(),x={},A=f,E=this.getLayer(A),E.__builtin__||MV("ZLevel "+A+" has been used by unkown layer "+E.id),K=E.ctx,K.save(),E.__unusedCount=0,(E.__dirty||H)&&E.clear()),E.__dirty||H){if(b>=0){if(!w){if(w=this._progressiveLayers[Math.min(k++,l2-1)],w.ctx.save(),w.renderScope={},w&&w.__progress>w.__maxProgress){G=w.__nextIdxNotProg-1;continue}D=w.__progress,w.__dirty||(I=D),w.__progress=I+1}b===I&&this._doPaintEl(C,w,!0,w.renderScope)}else{this._doPaintEl(C,E,H,x)}C.__dirty=!1}}w&&B(w),K&&K.restore(),this._furtherProgressive=!1,ZX(this._progressiveLayers,function(a){a.__maxProgress>=a.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(f,h,l,d){var k=h.ctx,b=f.transform;if(!(!h.__dirty&&!l||f.invisible||0===f.style.opacity||b&&!b[0]&&!b[3]||f.culling&&It(f,this._width,this._height))){var g=f.__clipPaths;(d.prevClipLayer!==h||W8(g,d.prevElClipPaths))&&(d.prevElClipPaths&&(d.prevClipLayer.ctx.restore(),d.prevClipLayer=d.prevElClipPaths=null,d.prevEl=null),g&&(k.save(),Oq(g,k),d.prevClipLayer=h,d.prevElClipPaths=g)),f.beforeBrush&&f.beforeBrush(k),f.brush(k,d.prevEl||null),d.prevEl=f,f.afterBrush&&f.afterBrush(k)}},getLayer:function(a){if(this._singleCanvas){return this._layers[0]}var b=this._layers[a];return b||(b=new aq("zr_"+a,this,this.dpr),b.__builtin__=!0,this._layerConfig[a]&&Y9(b,this._layerConfig[a],!0),this.insertLayer(a,b),b.initContext()),b},insertLayer:function(p,k){var f=this._layers,h=this._zlevelList,d=h.length,m=null,b=-1,q=this._domRoot;if(f[p]){return void MV("ZLevel "+p+" has been used already")}if(!qt(k)){return void MV("Layer of zlevel "+p+" is not valid")}if(d>0&&p>h[0]){for(b=0;d-1>b&&!(h[b]<p&&h[b+1]>p);b++){}m=f[h[b]]}if(h.splice(b+1,0,p),f[p]=k,!k.virtual){if(m){var g=m.dom;g.nextSibling?q.insertBefore(k.dom,g.nextSibling):q.appendChild(k.dom)}else{q.firstChild?q.insertBefore(k.dom,q.firstChild):q.appendChild(k.dom)}}},eachLayer:function(b,d){var g,a,f=this._zlevelList;for(a=0;a<f.length;a++){g=f[a],b.call(d,this._layers[g],g)}},eachBuiltinLayer:function(f,g){var k,d,h,b=this._zlevelList;for(h=0;h<b.length;h++){d=b[h],k=this._layers[d],k.__builtin__&&f.call(g,k,d)}},eachOtherLayer:function(f,g){var k,d,h,b=this._zlevelList;for(h=0;h<b.length;h++){d=b[h],k=this._layers[d],k.__builtin__||f.call(g,k,d)}},getLayers:function(){return this._layers},_updateLayerStatus:function(H){var B=this._layers,q=this._progressiveLayers,y={},k={};this.eachBuiltinLayer(function(a,d){y[d]=a.elCount,a.elCount=0,a.__dirty=!1}),ZX(q,function(a,d){k[d]=a.elCount,a.elCount=0,a.__dirty=!1});for(var E,b,I=0,x=0,G=0,z=H.length;z>G;G++){var D=H[G],C=this._singleCanvas?0:D.zlevel,A=B[C],f=D.progressive;if(A&&(A.elCount++,A.__dirty=A.__dirty||D.__dirty),f>=0){b!==f&&(b=f,x++);var w=D.__frame=x-1;if(!E){var F=Math.min(I,l2-1);E=q[F],E||(E=q[F]=new aq("progressive",this,this.dpr),E.initContext()),E.__maxProgress=0}E.__dirty=E.__dirty||D.__dirty,E.elCount++,E.__maxProgress=Math.max(E.__maxProgress,w),E.__maxProgress>=E.__progress&&(A.__dirty=!0)}else{D.__frame=-1,E&&(E.__nextIdxNotProg=G,I++,E=null)}}E&&(I++,E.__nextIdxNotProg=G),this.eachBuiltinLayer(function(a,d){y[d]!==a.elCount&&(a.__dirty=!0)}),q.length=Math.min(I,l2),ZX(q,function(a,d){k[d]!==a.elCount&&(D.__dirty=!0),a.__dirty&&(a.__progress=0)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},configLayer:function(b,d){if(d){var f=this._layerConfig;f[b]?Y9(f[b],d,!0):f[b]=d;var a=this._layers[b];a&&Y9(a,f[b],!0)}},delLayer:function(b){var d=this._layers,f=this._zlevelList,a=d[b];a&&(a.dom.parentNode.removeChild(a.dom),delete d[b],f.splice(YX(f,b),1))},resize:function(b,d){var g=this._domRoot;g.style.display="none";var a=this._opts;if(null!=b&&(a.width=b),null!=d&&(a.height=d),b=this._getSize(0),d=this._getSize(1),g.style.display="",this._width!=b||d!=this._height){g.style.width=b+"px",g.style.height=d+"px";for(var f in this._layers){this._layers.hasOwnProperty(f)&&this._layers[f].resize(b,d)}ZX(this._progressiveLayers,function(e){e.resize(b,d)}),this.refresh(!0)}return this._width=b,this._height=d,this},clearLayer:function(a){var b=this._layers[a];b&&b.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(p){function k(w,y){var v=b._zlevelList;null==w&&(w=-1/0);for(var z,u=0;u<v.length;u++){var x=v[u],n=b._layers[x];if(!n.__builtin__&&x>w&&y>x){z=n;break}}z&&z.renderToCanvas&&(f.ctx.save(),z.renderToCanvas(f.ctx),f.ctx.restore())}if(p=p||{},this._singleCanvas){return this._layers[0].dom}var f=new aq("image",this,p.pixelRatio||this.dpr);f.initContext(),f.clearColor=p.backgroundColor,f.clear();for(var h,d=this.storage.getDisplayList(!0),m={},b=this,q=0;q<d.length;q++){var g=d[q];g.zlevel!==h&&(k(h,g.zlevel),h=g.zlevel),this._doPaintEl(g,f,!0,m)}return k(h,1/0),f.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(f){var k=this._opts,m=["width","height"][f],d=["clientWidth","clientHeight"][f],l=["paddingLeft","paddingTop"][f],b=["paddingRight","paddingBottom"][f];if(null!=k[m]&&"auto"!==k[m]){return parseFloat(k[m])}var h=this.root,g=document.defaultView.getComputedStyle(h);return(h[d]||BE(g[m])||BE(h.style[m]))-(BE(g[l])||0)-(BE(g[b])||0)|0},pathToImage:function(w,J){J=J||this.dpr;var C=document.createElement("canvas"),F=C.getContext("2d"),B=w.getBoundingRect(),M=w.style,z=M.shadowBlur,x=M.shadowOffsetX,E=M.shadowOffsetY,q=M.hasStroke()?M.lineWidth:0,G=Math.max(q/2,-x+z),L=Math.max(q/2,x+z),K=Math.max(q/2,-E+z),I=Math.max(q/2,E+z),H=B.width+G+L,A=B.height+K+I;C.width=H*J,C.height=A*J,F.scale(J,J),F.clearRect(0,0,H,A),F.dpr=J;var D={position:w.position,rotation:w.rotation,scale:w.scale};w.position=[G-B.x,K-B.y],w.rotation=0,w.scale=[1,1],w.updateTransform(),w&&w.brush(F);var k=R5,b=new k({style:{x:0,y:0,image:C}});return null!=D.position&&(b.position=w.position=D.position),null!=D.rotation&&(b.rotation=w.rotation=D.rotation),null!=D.scale&&(b.scale=w.scale=D.scale),b}};var i4="undefined"!=typeof window&&!!window.addEventListener,y1=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,e4=i4?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0},t1=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,l1.call(this)};t1.prototype={constructor:t1,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;for(var b=a.getClips(),d=0;d<b.length;d++){this.addClip(b[d])}},removeClip:function(a){var b=YX(this._clips,a);b>=0&&this._clips.splice(b,1)},removeAnimator:function(a){for(var b=a.getClips(),d=0;d<b.length;d++){this.removeClip(b[d])}a.animation=null},_update:function(){for(var p=(new Date).getTime()-this._pausedTime,k=p-this._time,f=this._clips,h=f.length,d=[],m=[],b=0;h>b;b++){var q=f[b],g=q.step(p,k);g&&(d.push(g),m.push(q))}for(var b=0;h>b;){f[b]._needsRemove?(f[b]=f[h-1],f.pop(),h--):b++}h=d.length;for(var b=0;h>b;b++){m[b].fire(d[b])}this._time=p,this.onframe(k),this.trigger("frame",k),this.stage.update&&this.stage.update()},_startLoop:function(){function a(){b._running&&(aal(a),!b._paused&&b._update())}var b=this;this._running=!0,aal(a)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(a,b){b=b||{};var d=new j2(a,b.loop,b.getter,b.setter);return this.addAnimator(d),d}},Z3(t1,l1);var d4=function(){this._track=[]};d4.prototype={constructor:d4,recognize:function(a,b,d){return this._doTrack(a,b,d),this._recognize(a)},clear:function(){return this._track.length=0,this},_doTrack:function(p,k,f){var h=p.touches;if(h){for(var d={points:[],touches:[],target:k,event:p},m=0,b=h.length;b>m;m++){var q=h[m],g=abt(f,q,{});d.points.push([g.zrX,g.zrY]),d.touches.push(q)}this._track.push(d)}},_recognize:function(a){for(var b in s1){if(s1.hasOwnProperty(b)){var d=s1[b](this._track,a);if(d){return d}}}}};var s1={pinch:function(f,h){var l=f.length;if(l){var d=(f[l-1]||{}).points,k=(f[l-2]||{}).points||d;if(k&&k.length>1&&d&&d.length>1){var b=ZV(d)/ZV(k);!isFinite(b)&&(b=1),h.pinchScale=b;var g=X7(d);return h.pinchX=g[0],h.pinchY=g[1],{type:"pinch",target:f[0].target,event:h}}}}},u1=300,bk=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],c4=["touchstart","touchend","touchmove"],b1={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},f4=ZU(bk,function(a){var b=a.replace("mouse","pointer");return b1[b]?b:a}),KW={mousemove:function(a){a=Jt(this.dom,a),this.trigger("mousemove",a)},mouseout:function(a){a=Jt(this.dom,a);var b=a.toElement||a.relatedTarget;if(b!=this.dom){for(;b&&9!=b.nodeType;){if(b===this.dom){return}b=b.parentNode}}this.trigger("mouseout",a)},touchstart:function(a){a=Jt(this.dom,a),a.zrByTouch=!0,this._lastTouchMoment=new Date,U8(this,a,"start"),KW.mousemove.call(this,a),KW.mousedown.call(this,a),Mq(this)},touchmove:function(a){a=Jt(this.dom,a),a.zrByTouch=!0,U8(this,a,"change"),KW.mousemove.call(this,a),Mq(this)},touchend:function(a){a=Jt(this.dom,a),a.zrByTouch=!0,U8(this,a,"end"),KW.mouseup.call(this,a),+new Date-this._lastTouchMoment<u1&&KW.click.call(this,a),Mq(this)},pointerdown:function(a){KW.mousedown.call(this,a)},pointermove:function(a){Pq(a)||KW.mousemove.call(this,a)},pointerup:function(a){KW.mouseup.call(this,a)},pointerout:function(a){Pq(a)||KW.mouseout.call(this,a)}};ZX(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){KW[a]=function(b){b=Jt(this.dom,b),this.trigger(a,b)}});var RU=Dz.prototype;RU.dispose=function(){for(var a=bk.concat(c4),b=0;b<a.length;b++){var d=a[b];Ht(this.dom,V8(d),this._handlers[d])}},RU.setCursor=function(a){this.dom.style.cursor=a||"default"},Z3(Dz,l1);var A8=!VN.canvasSupported,p2={canvas:v2},q1=function(q,k,f){f=f||{},this.dom=k,this.id=q;var h=this,d=new VO,m=f.renderer;if(A8){if(!p2.vml){throw new Error("You need to require 'zrender/vml/vml' to support IE8")}m="vml"}else{m&&p2[m]||(m="canvas")}var b=new p2[m](k,d,f);this.storage=d,this.painter=b;var v=VN.node?null:new Dz(b.getViewportRoot());this.handler=new v0(d,b,v,b.root),this.animation=new t1({stage:{update:YU(this.flush,this)}}),this.animation.start(),this._needsRefresh;var g=d.delFromStorage,p=d.addToStorage;d.delFromStorage=function(a){g.call(d,a),a&&a.removeSelfFromZr(h)},d.addToStorage=function(a){p.call(d,a),a.addSelfToZr(h)}};q1.prototype={constructor:q1,getId:function(){return this.id},add:function(a){this.storage.addRoot(a),this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a),this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer(a,b),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(a,b){this.painter.addHover&&(this.painter.addHover(a,b),this.refreshHover())},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{},this.painter.resize(a.width,a.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b){return this.painter.pathToImage(a,b)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,b){return this.handler.findHover(a,b)},on:function(a,b,d){this.handler.on(a,b,d)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null}};var j3=0.0001,IU=9007199254740991,XK=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,OR=aaH,TK=["a","b","c","d","e","f","g"],NR=function(a,b){return"{"+a+(null==b?"":b)+"}"},abH=function(a){return 10>a?"0"+a:a},KU=D8,JU=".",QR="___EC__COMPONENT__CONTAINER___",HU="\x00ec_\x00",UK=function(a){for(var b=0;b<a.length;b++){a[b][1]||(a[b][1]=a[b][0])}return function(k,m,f){for(var l={},d=0;d<a.length;d++){var h=a[d][1];if(!(m&&YX(m,h)>=0||f&&YX(f,h)<0)){var g=k.getShallow(h);null!=g&&(l[a[d][0]]=g)}}return l}},aaf=UK([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),YJ={getLineStyle:function(a){var b=aaf(this,a),d=this.getLineDash(b.lineWidth);return d&&(b.lineDash=d),b},getLineDash:function(b){null==b&&(b=1);var d=this.get("type"),f=Math.max(b,2),a=4*b;return"solid"===d||null==d?null:"dashed"===d?[a,a]:[f,f]}},WK=UK([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),VK={getAreaStyle:function(a,b){return WK(this,a,b)}},MR=Math.pow,PR=Math.sqrt,GU=1e-8,DV=0.0001,EV=PR(3),a0=1/3,aba=aau(),FU=aau(),i2=aau(),o0=Math.min,sZ=Math.max,h2=Math.sin,AX=Math.cos,xZ=2*Math.PI,yZ=aau(),p0=aau(),l0=aau(),RQ=[],m0=[],CV={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},n0=[],wZ=[],j1=[],zY=[],f2=Math.min,uZ=Math.max,e2=Math.cos,tZ=Math.sin,vZ=Math.sqrt,bZ=Math.abs,d2="undefined"!=typeof Float32Array,cZ=function(a){this._saveData=!a,this._saveData&&(this.data=[]),this._ctx=null};cZ.prototype={constructor:cZ,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,b){this._ux=bZ(1/NV/a)||0,this._uy=bZ(1/NV/b)||0},getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),a&&(this.dpr=a.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,b){return this.addData(CV.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},lineTo:function(a,b){var d=bZ(a-this._xi)>this._ux||bZ(b-this._yi)>this._uy||this._len<5;return this.addData(CV.L,a,b),this._ctx&&d&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b)),d&&(this._xi=a,this._yi=b),this},bezierCurveTo:function(f,g,k,d,h,b){return this.addData(CV.C,f,g,k,d,h,b),this._ctx&&(this._needsDash()?this._dashedBezierTo(f,g,k,d,h,b):this._ctx.bezierCurveTo(f,g,k,d,h,b)),this._xi=h,this._yi=b,this},quadraticCurveTo:function(b,d,f,a){return this.addData(CV.Q,b,d,f,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(b,d,f,a):this._ctx.quadraticCurveTo(b,d,f,a)),this._xi=f,this._yi=a,this},arc:function(f,g,k,d,h,b){return this.addData(CV.A,f,g,k,k,d,h-d,0,b?0:1),this._ctx&&this._ctx.arc(f,g,k,d,h,b),this._xi=e2(h)*k+f,this._yi=tZ(h)*k+f,this},arcTo:function(b,d,g,a,f){return this._ctx&&this._ctx.arcTo(b,d,g,a,f),this},rect:function(b,d,f,a){return this._ctx&&this._ctx.rect(b,d,f,a),this.addData(CV.R,b,d,f,a),this},closePath:function(){this.addData(CV.Z);var a=this._ctx,b=this._x0,d=this._y0;return a&&(this._needsDash()&&this._dashedLineTo(b,d),a.closePath()),this._xi=b,this._yi=d,this},fill:function(a){a&&a.fill(),this.toStatic()},stroke:function(a){a&&a.stroke(),this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a,this._dashIdx=0;for(var b=0,d=0;d<a.length;d++){b+=a[d]}this._dashSum=b}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(a){var b=a.length;this.data&&this.data.length==b||!d2||(this.data=new Float32Array(b));for(var d=0;b>d;d++){this.data[d]=a[d]}this._len=b},appendPath:function(f){f instanceof Array||(f=[f]);for(var h=f.length,l=0,d=this._len,k=0;h>k;k++){l+=f[k].len()}d2&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+l));for(var k=0;h>k;k++){for(var b=f[k].data,g=0;g<b.length;g++){this.data[d++]=b[g]}}this._len=d},addData:function(a){if(this._saveData){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var d=0;d<arguments.length;d++){b[this._len++]=arguments[d]}this._prevCmd=a}},_expandData:function(){if(!(this.data instanceof Array)){for(var a=[],b=0;b<this._len;b++){a[b]=this.data[b]}this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(F,A){var q,w,m=this._dashSum,D=this._dashOffset,b=this._lineDash,G=this._ctx,v=this._xi,E=this._yi,x=F-v,C=A-E,B=vZ(x*x+C*C),z=v,y=E,k=b.length;for(x/=B,C/=B,0>D&&(D=m+D),D%=m,z-=D*x,y-=D*C;x>0&&F>=z||0>x&&z>=F||0==x&&(C>0&&A>=y||0>C&&y>=A);){w=this._dashIdx,q=b[w],z+=x*q,y+=C*q,this._dashIdx=(w+1)%k,x>0&&v>z||0>x&&z>v||C>0&&E>y||0>C&&y>E||G[w%2?"moveTo":"lineTo"](x>=0?f2(z,F):uZ(z,F),C>=0?f2(y,A):uZ(y,A))}x=z-F,C=y-A,this._dashOffset=-vZ(x*x+C*C)},_dashedBezierTo:function(A,M,F,I,E,Q){var C,B,H,z,J,O=this._dashSum,N=this._dashOffset,L=this._lineDash,K=this._ctx,D=this._xi,G=this._yi,w=N5,k=0,q=this._dashIdx,R=L.length,P=0;for(0>N&&(N=O+N),N%=O,C=0;1>C;C+=0.1){B=w(D,A,F,E,C+0.1)-w(D,A,F,E,C),H=w(G,M,I,Q,C+0.1)-w(G,M,I,Q,C),k+=vZ(B*B+H*H)}for(;R>q&&(P+=L[q],!(P>N));q++){}for(C=(P-N)/k;1>=C;){z=w(D,A,F,E,C),J=w(G,M,I,Q,C),q%2?K.moveTo(z,J):K.lineTo(z,J),C+=L[q]/k,q=(q+1)%R}q%2!==0&&K.lineTo(E,Q),B=E-z,H=Q-J,this._dashOffset=-vZ(B*B+H*H)},_dashedQuadraticTo:function(f,g,k,d){var h=k,b=d;k=(k+2*f)/3,d=(d+2*g)/3,f=(this._xi+2*f)/3,g=(this._yi+2*g)/3,this._dashedBezierTo(f,g,k,d,h,b)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,d2&&(this.data=new Float32Array(a)))},getBoundingRect:function(){n0[0]=n0[1]=j1[0]=j1[1]=Number.MAX_VALUE,wZ[0]=wZ[1]=zY[0]=zY[1]=-Number.MAX_VALUE;for(var F=this.data,A=0,q=0,w=0,m=0,D=0;D<F.length;){var b=F[D++];switch(1==D&&(A=F[D],q=F[D+1],w=A,m=q),b){case CV.M:w=F[D++],m=F[D++],A=w,q=m,j1[0]=w,j1[1]=m,zY[0]=w,zY[1]=m;break;case CV.L:O5(A,q,F[D],F[D+1],j1,zY),A=F[D++],q=F[D++];break;case CV.C:F6(A,q,F[D++],F[D++],F[D++],F[D++],F[D],F[D+1],j1,zY),A=F[D++],q=F[D++];break;case CV.Q:C7(A,q,F[D++],F[D++],F[D],F[D+1],j1,zY),A=F[D++],q=F[D++];break;case CV.A:var G=F[D++],v=F[D++],E=F[D++],x=F[D++],C=F[D++],B=F[D++]+C,z=(F[D++],1-F[D++]);1==D&&(w=e2(C)*E+G,m=tZ(C)*x+v),D7(G,v,E,x,C,B,z,j1,zY),A=e2(B)*E+G,q=tZ(B)*x+v;break;case CV.R:w=A=F[D++],m=q=F[D++];var y=F[D++],k=F[D++];O5(w,m,w+y,m+k,j1,zY);break;case CV.Z:A=w,q=m}aaN(n0,n0,j1),aax(wZ,wZ,zY)}return 0===D&&(n0[0]=n0[1]=wZ[0]=wZ[1]=0),new gU(n0[0],n0[1],wZ[0]-n0[0],wZ[1]-n0[1])},rebuildPath:function(F){for(var U,L,P,K,Y,H,G=this.data,O=this._ux,E=this._uy,Q=this._len,W=0;Q>W;){var V=G[W++];switch(1==W&&(P=G[W],K=G[W+1],U=P,L=K),V){case CV.M:U=P=G[W++],L=K=G[W++],F.moveTo(P,K);break;case CV.L:Y=G[W++],H=G[W++],(bZ(Y-P)>O||bZ(H-K)>E||W===Q-1)&&(F.lineTo(Y,H),P=Y,K=H);break;case CV.C:F.bezierCurveTo(G[W++],G[W++],G[W++],G[W++],G[W++],G[W++]),P=G[W-2],K=G[W-1];break;case CV.Q:F.quadraticCurveTo(G[W++],G[W++],G[W++],G[W++]),P=G[W-2],K=G[W-1];break;case CV.A:var T=G[W++],R=G[W++],J=G[W++],N=G[W++],D=G[W++],z=G[W++],B=G[W++],Z=G[W++],X=J>N?J:N,C=J>N?1:J/N,k=J>N?N/J:1,q=Math.abs(J-N)>0.001,A=D+z;q?(F.translate(T,R),F.rotate(B),F.scale(C,k),F.arc(0,0,X,D,A,1-Z),F.scale(1/C,1/k),F.rotate(-B),F.translate(-T,-R)):F.arc(T,R,X,D,A,1-Z),1==W&&(U=e2(D)*J+T,L=tZ(D)*N+R),P=e2(A)*J+T,K=tZ(A)*N+R;break;case CV.R:U=P=G[W],L=K=G[W+1],F.rect(G[W++],G[W++],G[W++],G[W++]);break;case CV.Z:F.closePath(),P=U,K=L}}}},cZ.CMD=CV;var g2=2*Math.PI,LR=2*Math.PI,SO=cZ.CMD,BW=2*Math.PI,qZ=0.0001,rZ=[-1,-1,-1],k0=[-1,-1],IO=DX.prototype.getCanvasPattern,XG=Math.abs,ON=new cZ(!0);Cz.prototype={constructor:Cz,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(H,C){var v=this.style,y=this.path||ON,q=v.hasStroke(),F=v.hasFill(),b=v.fill,I=v.stroke,x=F&&!!b.colorStops,G=q&&!!I.colorStops,z=F&&!!b.image,E=q&&!!I.image;if(v.bind(H,this,C),this.setTransform(H),this.__dirty){var D;x&&(D=D||this.getBoundingRect(),this._fillGradient=v.getGradient(H,b,D)),G&&(D=D||this.getBoundingRect(),this._strokeGradient=v.getGradient(H,I,D))}x?H.fillStyle=this._fillGradient:z&&(H.fillStyle=IO.call(b,H)),G?H.strokeStyle=this._strokeGradient:E&&(H.strokeStyle=IO.call(I,H));var B=v.lineDash,A=v.lineDashOffset,k=!!H.setLineDash,w=this.getGlobalScale();y.setScale(w[0],w[1]),this.__dirtyPath||B&&!k&&q?(y.beginPath(H),B&&!k&&(y.setLineDash(B),y.setLineDashOffset(A)),this.buildPath(y,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(H.beginPath(),this.path.rebuildPath(H)),F&&y.fill(H),B&&k&&(H.setLineDash(B),H.lineDashOffset=A),q&&y.stroke(H),B&&k&&H.setLineDash([]),this.restoreTransform(H),null!=v.text&&this.drawRectText(H,this.getBoundingRect())},buildPath:function(){},createPathProxy:function(){this.path=new cZ},getBoundingRect:function(){var f=this._rect,h=this.style,l=!f;if(l){var d=this.path;d||(d=this.path=new cZ),this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape,!1)),f=d.getBoundingRect()}if(this._rect=f,h.hasStroke()){var k=this._rectWithStroke||(this._rectWithStroke=f.clone());if(this.__dirty||l){k.copy(f);var b=h.lineWidth,g=h.strokeNoScale?this.getLineScale():1;h.hasFill()||(b=Math.max(b,this.strokeContainThreshold||4)),g>1e-10&&(k.width+=b/g,k.height+=b/g,k.x-=b/g/2,k.y-=b/g/2)}return k}return f},contain:function(f,k){var m=this.transformCoordToLocal(f,k),d=this.getBoundingRect(),l=this.style;if(f=m[0],k=m[1],d.contain(f,k)){var b=this.path.data;if(l.hasStroke()){var h=l.lineWidth,g=l.strokeNoScale?this.getLineScale():1;if(g>1e-10&&(l.hasFill()||(h=Math.max(h,this.strokeContainThreshold)),mt(b,h/g,f,k))){return !0}}if(l.hasFill()){return Q5(b,f,k)}}return !1},dirty:function(a){null==a&&(a=!0),a&&(this.__dirtyPath=a,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):K7.prototype.attrKV.call(this,a,b)},setShape:function(b,d){var f=this.shape;if(f){if(YQ(b)){for(var a in b){b.hasOwnProperty(a)&&(f[a]=b[a])}}else{f[b]=d}this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&XG(a[0]-1)>1e-10&&XG(a[3]-1)>1e-10?Math.sqrt(XG(a[0]*a[3]-a[2]*a[1])):1}},Cz.extend=function(a){var b=function(g){Cz.call(this,g),a.style&&this.style.extendFrom(a.style,!1);var k=a.shape;if(k){this.shape=this.shape||{};var f=this.shape;for(var h in k){!f.hasOwnProperty(h)&&k.hasOwnProperty(h)&&(f[h]=k[h])}}a.init&&a.init.call(this,g)};ZR(b,Cz);for(var d in a){"style"!==d&&"shape"!==d&&(b.prototype[d]=a[d])}return b},ZR(Cz,K7);var TG=cZ.CMD,NN=[[],[],[]],abE=Math.sqrt,KO=Math.atan2,JO=function(z,L){var E,H,D,O,B,A,G=z.data,w=TG.M,I=TG.C,N=TG.L,M=TG.R,K=TG.A,J=TG.Q;for(D=0,O=0;D<G.length;){switch(E=G[D++],O=D,H=0,E){case w:H=1;break;case N:H=1;break;case I:H=3;break;case J:H=2;break;case K:var C=L[4],F=L[5],q=abE(L[0]*L[0]+L[1]*L[1]),b=abE(L[2]*L[2]+L[3]*L[3]),k=KO(-L[1]/b,L[0]/q);G[D]*=q,G[D++]+=C,G[D]*=b,G[D++]+=F,G[D++]*=q,G[D++]*=b,G[D++]+=k,G[D++]+=k,D+=2,O=D;break;case M:A[0]=G[D++],A[1]=G[D++],aaK(A,A,L),G[O++]=A[0],G[O++]=A[1],A[0]+=G[D++],A[1]+=G[D++],aaK(A,A,L),G[O++]=A[0],G[O++]=A[1]}for(B=0;H>B;B++){var A=NN[B];A[0]=G[D++],A[1]=G[D++],aaK(A,A,L),G[O++]=A[0],G[O++]=A[1]}}},QN=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],HO=Math.sqrt,UG=Math.sin,aab=Math.cos,YF=Math.PI,WG=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},VG=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(WG(a)*WG(b))},MN=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(VG(a,b))},PN=function(a){K7.call(this,a)};PN.prototype={constructor:PN,type:"text",brush:function(b,d){var f=this.style;this.__dirty&&pz(f,!0),f.fill=f.stroke=f.shadowBlur=f.shadowColor=f.shadowOffsetX=f.shadowOffsetY=null;var a=f.text;null!=a&&(a+=""),f.bind(b,this,d),gE(a,f)&&(this.setTransform(b),Q6(this,b,a,f),this.restoreTransform(b))},getBoundingRect:function(){var b=this.style;if(this.__dirty&&pz(b,!0),!this._rect){var d=b.text;null!=d?d+="":d="";var f=V2(b.text+"",b.font,b.textAlign,b.textVerticalAlign,b.textPadding,b.rich);if(f.x+=b.x||0,f.y+=b.y||0,vt(b.textStroke,b.textStrokeWidth)){var a=b.textStrokeWidth;f.x-=a/2,f.y-=a/2,f.width+=a,f.height+=a}this._rect=f}return this._rect}},ZR(PN,K7);var GO=Cz.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b,d){d&&a.moveTo(b.cx+b.r,b.cy),a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}}),DQ=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],EQ=function(a){return VN.browser.ie&&VN.browser.version>=11?function(){var k,p=this.__clipPaths,f=this.style;if(p){for(var m=0;m<p.length;m++){var d=p[m],h=d&&d.shape,g=d&&d.type;if(h&&("sector"===g&&h.startAngle===h.endAngle||"rect"===g&&(!h.width||!h.height))){for(var b=0;b<DQ.length;b++){DQ[b][2]=f[DQ[b][0]],f[DQ[b][0]]=DQ[b][1]}k=!0;break}}}if(a.apply(this,arguments),k){for(var b=0;b<DQ.length;b++){f[DQ[b][0]]=DQ[b][2]}}}:a},aY=Cz.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:EQ(Cz.prototype.brush),buildPath:function(w,p){var f=p.cx,k=p.cy,d=Math.max(p.r0||0,0),q=Math.max(p.r,0),b=p.startAngle,x=p.endAngle,g=p.clockwise,v=Math.cos(b),m=Math.sin(b);w.moveTo(v*d+f,m*d+k),w.lineTo(v*q+f,m*q+k),w.arc(f,k,q,b,x,!g),w.lineTo(Math.cos(x)*d+f,Math.sin(x)*d+k),0!==d&&w.arc(f,k,d,x,b,g),w.closePath()}}),aa6=Cz.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(b,d){var g=d.cx,a=d.cy,f=2*Math.PI;b.moveTo(g+d.r,a),b.arc(g,a,d.r,0,f,!1),b.moveTo(g+d.r0,a),b.arc(g,a,d.r0,0,f,!0)}}),FO=function(F,A){for(var q=F.length,w=[],m=0,D=1;q>D;D++){m+=Y4(F[D-1],F[D])}var b=m/2;b=q>b?q:b;for(var D=0;b>D;D++){var G,v,E,x=D/(b-1)*(A?q:q-1),C=Math.floor(x),B=x-C,z=F[C%q];A?(G=F[(C-1+q)%q],v=F[(C+1)%q],E=F[(C+2)%q]):(G=F[0===C?C:C-1],v=F[C>q-2?q-1:C+1],E=F[C>q-3?q-1:C+2]);var y=B*B,k=B*y;w.push([eB(G[0],z[0],v[0],E[0],B,y,k),eB(G[1],z[1],v[1],E[1],B,y,k)])}return w},iZ=function(z,L,E,H){var D,O,B,A,G=[],w=[],I=[],N=[];if(H){B=[1/0,1/0],A=[-1/0,-1/0];for(var M=0,K=z.length;K>M;M++){aaN(B,B,z[M]),aax(A,A,z[M])}aaN(B,B,H[0]),aax(A,A,H[1])}for(var M=0,K=z.length;K>M;M++){var J=z[M];if(E){D=z[M?M-1:K-1],O=z[(M+1)%K]}else{if(0===M||M===K-1){G.push(aan(z[M]));continue}D=z[M-1],O=z[M+1]}aaU(w,O,D),aah(w,w,L);var C=Y4(J,D),F=Y4(J,O),q=C+F;0!==q&&(C/=q,F/=q),aah(I,w,-C),aah(N,w,F);var b=aak([],J,I),k=aak([],J,N);H&&(aax(b,b,B),aaN(b,b,A),aax(k,k,B),aaN(k,k,A)),G.push(b),G.push(k)}return E&&G.push(G.shift()),G},oX=Cz.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){tq(a,b,!0)}}),sW=Cz.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){tq(a,b,!1)}}),hZ=Cz.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(f,g){var k=g.x,d=g.y,h=g.width,b=g.height;g.r?yt(f,g):f.rect(k,d,h,b),f.closePath()}}),AU=Cz.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(f,h){var l=h.x1,d=h.y1,k=h.x2,b=h.y2,g=h.percent;0!==g&&(f.moveTo(l,d),1>g&&(k=l*(1-g)+k*g,b=d*(1-g)+b*g),f.lineTo(k,b))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}}),xW=[],yW=Cz.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(w,p){var f=p.x1,k=p.y1,d=p.x2,q=p.y2,b=p.cpx1,x=p.cpy1,g=p.cpx2,v=p.cpy2,m=p.percent;0!==m&&(w.moveTo(f,k),null==g||null==v?(1>m&&(V1(f,b,d,m,xW),b=xW[1],d=xW[2],V1(k,x,q,m,xW),x=xW[1],q=xW[2]),w.quadraticCurveTo(b,x,d,q)):(1>m&&(J6(f,b,g,d,m,xW),b=xW[1],g=xW[2],d=xW[3],J6(k,x,v,q,m,xW),x=xW[1],v=xW[2],q=xW[3]),w.bezierCurveTo(b,x,g,v,d,q)))},pointAt:function(a){return vq(this.shape,a,!1)},tangentAt:function(a){var b=vq(this.shape,a,!0);return aao(b,b)}}),pX=Cz.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(q,k){var f=k.cx,h=k.cy,d=Math.max(k.r,0),m=k.startAngle,b=k.endAngle,v=k.clockwise,g=Math.cos(m),p=Math.sin(m);q.moveTo(g*d+f,p*d+h),q.arc(f,h,d,m,b,!v)}}),lX=Cz.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,b=this.shape.paths,d=0;d<b.length;d++){a=a||b[d].__dirtyPath}this.__dirtyPath=a,this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),d=0;d<a.length;d++){a[d].path||a[d].createPathProxy(),a[d].path.setScale(b[0],b[1])}},buildPath:function(b,d){for(var f=d.paths||[],a=0;a<f.length;a++){f[a].buildPath(b,f[a].shape,!0)}},afterBrush:function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++){a[b].__dirtyPath=!1}},getBoundingRect:function(){return this._updatePathDirty(),Cz.prototype.getBoundingRect.call(this)}}),RK=function(a){this.colorStops=a||[]};RK.prototype={constructor:RK,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}};var mX=function(f,g,k,d,h,b){this.x=null==f?0:f,this.y=null==g?0:g,this.x2=null==k?1:k,this.y2=null==d?0:d,this.type="linear",this.global=b||!1,RK.call(this,h)};mX.prototype={constructor:mX},ZR(mX,RK);var CR=function(b,d,g,a,f){this.x=null==b?0.5:b,this.y=null==d?0.5:d,this.r=null==g?0.5:g,this.type="radial",this.global=f||!1,RK.call(this,a)};CR.prototype={constructor:CR},ZR(CR,RK);var nX=Math.round,wW=Math.max,jY=Math.min,zV={},fZ=uq,uW=(Object.freeze||Object)({extendShape:bG,extendPath:dB,makePath:cq,makeImage:gB,mergePath:fZ,resizePath:R4,subPixelOptimizeLine:BB,subPixelOptimizeRect:qq,subPixelOptimize:rq,setHoverStyle:aad,setLabelStyle:YG,setTextStyle:WH,setText:VH,getFont:aa8,updateProps:i0,initProps:oY,getTransform:sX,applyTransform:h0,transformDirection:AV,groupTransition:xX,clipPointsByRect:yX,clipRectByRect:pY,createIcon:lY,Group:TO,Image:R5,Text:PN,Circle:GO,Sector:aY,Ring:aa6,Polygon:oX,Polyline:sW,Rect:hZ,Line:AU,BezierCurve:yW,Arc:pX,CompoundPath:lX,LinearGradient:mX,RadialGradient:CR,BoundingRect:gU}),eZ=["textStyle","color"],tW={getTextColor:function(a){var b=this.ecModel;return this.getShallow("color")||(!a&&b?b.get(eZ):null)},getFont:function(){return aa8({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return V2(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},vW=UK([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),bX={getItemStyle:function(b,d){var f=vW(this,b,d),a=this.getBorderLineDash();return a&&(f.lineDash=a),f},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}},dZ=Z3;RN.prototype={constructor:RN,init:null,mergeOption:function(a){Y9(this.option,a,!0)},get:function(a,b){return null==a?this.option:mY(this.option,this.parsePath(a),!b&&CU(this,a))},getShallow:function(b,d){var g=this.option,a=null==g?g:g[b],f=!d&&CU(this,b);return null==a&&f&&(a=f.getShallow(b)),a},getModel:function(b,d){var f,a=null==b?this.option:mY(this.option,b=this.parsePath(b));return d=d||(f=CU(this,b))&&f.getModel(b),new RN(a,d,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var a=this.constructor;return new a(ZQ(this.option))},setReadOnly:function(){},parsePath:function(a){return"string"==typeof a&&(a=a.split(".")),a},customizeGetParent:function(a){dK(this,"getParent",a)},isAnimationEnabled:function(){if(!VN.node){if(null!=this.option.animation){return !!this.option.animation}if(this.parentModel){return this.parentModel.isAnimationEnabled()}}}},BH(RN),dZ(RN,YJ),dZ(RN,VK),dZ(RN,tW),dZ(RN,bX);var cW=ZX,gZ=YQ,LN=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],SJ={getDataParams:function(f,k){var m=this.getData(k),d=this.getRawValue(f,k),l=m.getRawIndex(f),b=m.getName(f,!0),h=m.getRawDataItem(f),g=m.getItemVisual(f,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:b,dataIndex:l,data:h,dataType:k,value:d,color:g,marker:tG(g),$vars:["seriesName","name","value"]}},getFormattedLabel:function(p,k,f,h,d){k=k||"normal";var m=this.getData(f),b=m.getItemModel(p),q=this.getDataParams(p,f);null!=h&&q.value instanceof Array&&(q.value=q.value[h]);var g=b.get([d||"label",k,"formatter"]);return"function"==typeof g?(q.status=k,g(q)):"string"==typeof g?uG(g,q):void 0},getRawValue:function(b,d){var f=this.getData(d),a=f.getRawDataItem(b);return null!=a?!gZ(a)||a instanceof Array?a:a.value:void 0},formatTooltip:aaW},BU=function(){var a=0;return function(){var b="\x00__ec_prop_getter_"+a++;return function(d){return d[b]||(d[b]={})}}}(),qW=0,rW="_",kX=ZX,HX=["left","right","top","bottom","width","height"],WQ=[["width","left","right"],["height","top","bottom"]],NW=kY,SU=(YN(kY,"vertical"),YN(kY,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),MW=Array.prototype.push,abd=RN.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(b,d,f,a){RN.call(this,b,d,f,a),this.uid=BV("componentModel")},init:function(a,b,d){this.mergeDefaultAndTheme(a,d)},mergeDefaultAndTheme:function(f,g){var h=this.layoutMode,d=h?abj(f):{},b=g.getTheme();Y9(f,b.get(this.mainType)),Y9(f,this.getDefaultOption()),h&&M2(f,d,h)},mergeOption:function(a){Y9(this.option,a,!0);var b=this.layoutMode;b&&M2(this.option,a,b)},optionUpdated:function(){},getDefaultOption:function(){if(!gK(this,"__defaultOption")){for(var f=[],g=this.constructor;g;){var h=g.prototype.defaultOption;h&&f.push(h),g=g.superClass}for(var d={},b=f.length-1;b>=0;b--){d=Y9(d,f[b],!0)}dK(this,"__defaultOption",d)}return cG(this,"__defaultOption")},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)})}});kH(abd,{registerWhenExtend:!0}),qX(abd),rX(abd,I3),Z3(abd,SU);var JX="";"undefined"!=typeof navigator&&(JX=navigator.platform||"");var IX={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:JX.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1000,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:!1},PW={clearColorPalette:function(){dK(this,"colorIdx",0),dK(this,"colorNameMap",{})},getColorFromPalette:function(f,g){g=g||this;var k=cG(g,"colorIdx")||0,d=cG(g,"colorNameMap")||dK(g,"colorNameMap",{});if(d.hasOwnProperty(f)){return d[f]}var h=this.get("color",!0)||[];if(h.length){var b=h[k];return f&&(d[f]=b),dK(g,"colorIdx",(k+1)%h.length),b}}},GX=ZX,TQ=Zt,YW=ZU,XQ=YO,VQ=YX,UQ=YQ,LW="\x00_ec_inner",OW=RN.extend({constructor:OW,init:function(b,d,f,a){f=f||{},this.option=null,this._theme=new RN(f),this._optionManager=a},setOption:function(a,b){aaz(!(LW in a),"please use chart.getOption()"),this._optionManager.setOption(a,b),this.resetOption(null)},resetOption:function(f){var g=!1,k=this._optionManager;if(!f||"recreate"===f){var d=k.mountOption("recreate"===f);this.option&&"recreate"!==f?(this.restoreData(),this.mergeOption(d)):G3.call(this,d),g=!0}if(("timeline"===f||"media"===f)&&this.restoreData(),!f||"recreate"===f||"timeline"===f){var h=k.getTimelineOption(this);h&&(this.mergeOption(h),g=!0)}if(!f||"recreate"===f||"media"===f){var b=k.getMediaOption(this,this._api);b.length&&GX(b,function(a){this.mergeOption(a,g=!0)},this)}return g},mergeOption:function(d){function g(n,k){var p=nY(d[n]),m=uX(b.get(n),p);e0(m),GX(m,function(e){var l=e.option;UQ(l)&&(e.keyInfo.mainType=n,e.keyInfo.subType=Y8(n,l,e.exist))});var a=TY(b,k);h[n]=[],b.set(n,[]),GX(m,function(q,l){var x=q.exist,w=q.option;if(aaz(UQ(w)||x,"Empty component definition"),w){var e=abd.getClass(n,q.keyInfo.subType,!0);if(x&&x instanceof e){x.name=q.keyInfo.name,x.mergeOption(w,this),x.optionUpdated(w,!1)}else{var v=Y2({dependentModels:a,componentIndex:l},q.keyInfo);x=new e(w,this,this,v),Y2(x,v),x.init(w,this,this,v),x.optionUpdated(null,!0)}}else{x.mergeOption({},this),x.optionUpdated({},!1)}b.get(n)[l]=x,h[n][l]=x.option},this),"series"===n&&(this._seriesIndices=XY(b.get("series")))}var h=this.option,b=this._componentsMap,f=[];GX(d,function(a,k){null!=a&&(abd.hasClass(k)?f.push(k):h[k]=null==h[k]?ZQ(a):Y9(h[k],a,!0))}),abd.topologicalTravel(f,abd.getAllClassMainTypes(),g,this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var a=ZQ(this.option);return GX(a,function(d,f){if(abd.hasClass(f)){for(var d=nY(d),b=d.length-1;b>=0;b--){tX(d[b])&&d.splice(b,1)}a[f]=d}}),delete a[LW],a},getTheme:function(){return this._theme},getComponent:function(a,b){var d=this._componentsMap.get(a);return d?d[b||0]:void 0},queryComponents:function(p){var k=p.mainType;if(!k){return[]}var f=p.index,h=p.id,d=p.name,m=this._componentsMap.get(k);if(!m||!m.length){return[]}var b;if(null!=f){XQ(f)||(f=[f]),b=TQ(YW(f,function(a){return m[a]}),function(a){return !!a})}else{if(null!=h){var q=XQ(h);b=TQ(m,function(a){return q&&VQ(h,a.id)>=0||!q&&a.id===h})}else{if(null!=d){var g=XQ(d);b=TQ(m,function(a){return g&&VQ(d,a.name)>=0||!g&&a.name===d})}else{b=m.slice()}}}return VY(b,p)},findComponents:function(f){function h(m){var o=k+"Index",p=k+"Id",a=k+"Name";return !m||null==m[o]&&null==m[p]&&null==m[a]?null:{mainType:k,index:m[o],id:m[p],name:m[a]}}function l(a){return f.filter?TQ(a,f.filter):a}var d=f.query,k=f.mainType,b=h(d),g=b?this.queryComponents(b):this._componentsMap.get(k);return l(VY(g,f))},eachComponent:function(b,d,g){var a=this._componentsMap;if("function"==typeof b){g=d,d=b,a.each(function(h,e){GX(h,function(k,l){d.call(g,e,k,l)})})}else{if(Z5(b)){GX(a.get(b),d,g)}else{if(UQ(b)){var f=this.findComponents(b);GX(f,d,g)}}}},getSeriesByName:function(a){var b=this._componentsMap.get("series");return TQ(b,function(d){return d.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get("series")[a]},getSeriesByType:function(a){var b=this._componentsMap.get("series");return TQ(b,function(d){return d.subType===a})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(a,b){GX(this._seriesIndices,function(e){var d=this._componentsMap.get("series")[e];a.call(b,d,e)},this)},eachRawSeries:function(a,b){GX(this._componentsMap.get("series"),a,b)},eachSeriesByType:function(a,b,d){GX(this._seriesIndices,function(e){var f=this._componentsMap.get("series")[e];f.subType===a&&b.call(d,f,e)},this)},eachRawSeriesByType:function(a,b,d){return GX(this.getSeriesByType(a),b,d)},isSeriesFiltered:function(a){return YX(this._seriesIndices,a.componentIndex)<0},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(a,b){var d=TQ(this._componentsMap.get("series"),a,b);this._seriesIndices=XY(d)},restoreData:function(){var a=this._componentsMap;this._seriesIndices=XY(a.get("series"));var b=[];a.each(function(d,e){b.push(e)}),abd.topologicalTravel(b,abd.getAllClassMainTypes(),function(d){GX(a.get(d),function(e){e.restoreData()})})}});Z3(OW,PW);var FX=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],CY={};L2.prototype={constructor:L2,create:function(a,b){var d=[];ZX(CY,function(e){var f=e.create(a,b);d=d.concat(f||[])}),this._coordinateSystems=d},update:function(a,b){ZX(this._coordinateSystems,function(d){d.update&&d.update(a,b)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},L2.register=function(a,b){CY[a]=b},L2.get=function(a){return CY[a]};var DY=ZX,at=ZQ,aam=ZU,EY=Y9,h5=/^(min|max)?(.+)$/;O2.prototype={constructor:O2,setOption:function(b,d){b=at(b,!0);var f=this._optionBackup,a=F3.call(this,b,d,!f);this._newBaseOption=a.baseOption,f?(aay(f.baseOption,a.baseOption),a.timelineOptions.length&&(f.timelineOptions=a.timelineOptions),a.mediaList.length&&(f.mediaList=a.mediaList),a.mediaDefault&&(f.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(a){var b=this._optionBackup;return this._timelineOptions=aam(b.timelineOptions,at),this._mediaList=aam(b.mediaList,at),this._mediaDefault=at(b.mediaDefault),this._currentMediaIndices=[],at(a?b.baseOption:this._newBaseOption)},getTimelineOption:function(b){var d,f=this._timelineOptions;if(f.length){var a=b.getComponent("timeline");a&&(d=at(f[a.getCurrentIndex()],!0))}return d},getMediaOption:function(){var f=this._api.getWidth(),k=this._api.getHeight(),m=this._mediaList,d=this._mediaDefault,l=[],b=[];if(!m.length&&!d){return b}for(var h=0,g=m.length;g>h;h++){C4(m[h].query,f,k)&&l.push(h)}return !l.length&&d&&(l=[-1]),l.length&&!aF(l,this._currentMediaIndices)&&(b=aam(l,function(a){return at(-1===a?d.option:m[a].option)})),this._currentMediaIndices=l,b}};var n3=ZX,r2=YQ,g5=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],z1=function(a,b){n3(hq(a.series),function(e){r2(e)&&r8(e)});var d=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];b&&d.push("valueAxis","categoryAxis","logAxis","timeAxis"),n3(d,function(f){n3(hq(a[f]),function(e){e&&(iq(e,"axisLabel"),iq(e.axisPointer,"label"))})}),n3(hq(a.parallel),function(f){var g=f&&f.parallelAxisDefault;iq(g,"axisLabel"),iq(g&&g.axisPointer,"label")}),n3(hq(a.calendar),function(e){iq(e,"dayLabel"),iq(e,"monthLabel"),iq(e,"yearLabel")}),n3(hq(a.radar),function(e){iq(e,"name")}),n3(hq(a.geo),function(e){r2(e)&&(n9(e.label),n3(hq(e.regions),function(f){n9(f.label)}))}),n9(z7(a.timeline).label),iq(z7(a.axisPointer),"label"),iq(z7(a.tooltip).axisPointer,"label")},w2=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],x2=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],o3=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],k3=function(a,b){z1(a,b),a.series=nY(a.series),ZX(a.series,function(f){if(YQ(f)){var g=f.type;if(("pie"===g||"gauge"===g)&&null!=f.clockWise&&(f.clockwise=f.clockWise),"gauge"===g){var h=w8(f,"pointer.color");null!=h&&x8(f,"itemStyle.normal.color",h)}for(var d=0;d<o3.length;d++){if(o3[d]===f.type){o9(f);break}}}}),a.dataRange&&(a.visualMap=a.dataRange),ZX(x2,function(d){var f=a[d];f&&(YO(f)||(f=[f]),ZX(f,function(e){o9(e)}))})},QW=abd.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(b,d,f){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(b,f);var a=this.getInitialData(b,f);dK(this,"dataBeforeProcessed",a),this.restoreData()},mergeDefaultAndTheme:function(f,g){var h=this.layoutMode,d=h?abj(f):{},b=this.subType;abd.hasClass(b)&&(b+="Series"),Y9(f,g.getTheme().get(this.subType)),Y9(f,this.getDefaultOption()),wX(f.label,["show"]),this.fillDataTextStyle(f.data),h&&M2(f,d,h)},mergeOption:function(b,d){b=Y9(this.option,b,!0),this.fillDataTextStyle(b.data);var f=this.layoutMode;f&&M2(this.option,b,f);var a=this.getInitialData(b,d);a&&(dK(this,"data",a),dK(this,"dataBeforeProcessed",a.cloneShallow()))},fillDataTextStyle:function(a){if(a){for(var b=["show"],d=0;d<a.length;d++){a[d]&&a[d].label&&wX(a[d].label,b)}}},getInitialData:function(){},getData:function(a){var b=cG(this,"data");return null==a?b:b.getLinkedData(a)},setData:function(a){dK(this,"data",a)},getRawData:function(){return cG(this,"dataBeforeProcessed")},coordDimToDataDim:function(a){return g0(this.getData(),a)},dataDimToCoordDim:function(a){return cX(this.getData(),a)},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(q,k){function f(w){function u(x,A){var z=h.getDimensionInfo(A);if(z&&z.otherDims.tooltip!==!1){var y=z.type,a=(e?"- "+(z.tooltipName||z.name)+": ":"")+("ordinal"===y?x+"":"time"===y?k?"":vG("yyyy/MM/dd hh:mm:ss",x):jJ(x));a&&t.push(fK(a))}}var e=Y7(w,function(a,s,y){var x=h.getDimensionInfo(y);return a|=x&&x.tooltip!==!1&&null!=x.tooltipName},0),t=[],l=LO(h,"tooltip");return l.length?ZX(l,function(a){u(h.get(a,q),a)}):ZX(w,u),(e?"<br/>":"")+t.join(e?"<br/>":", ")}var h=cG(this,"data"),d=this.getRawValue(q),m=YO(d)?f(d):fK(jJ(d)),b=h.getName(q),v=h.getItemVisual(q,"color");YQ(v)&&v.colorStops&&(v=(v.colorStops[0]||{}).color),v=v||"transparent";var g=tG(v),p=this.name;return"\x00-"===p&&(p=""),p=p?fK(p)+(k?": ":"<br/>"):"",k?g+p+m:p+g+(b?fK(b)+": "+m:m)},isAnimationEnabled:function(){if(VN.node){return !1}var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),a},restoreData:function(){dK(this,"data",cG(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(b,d){var f=this.ecModel,a=PW.getColorFromPalette.call(this,b,d);return a||(a=f.getColorFromPalette(b,d)),a},getAxisTooltipData:null,getTooltipPosition:null});Z3(QW,SJ),Z3(QW,PW);var l3=function(){this.group=new TO,this.uid=BV("viewComponent")};l3.prototype={constructor:l3,init:function(){},render:function(){},dispose:function(){}};var B8=l3.prototype;B8.updateView=B8.updateLayout=B8.updateVisual=function(){},BH(l3),kH(l3,{registerWhenExtend:!0}),k9.prototype={type:"chart",init:function(){},render:function(){},highlight:function(b,d,f,a){l9(b.getData(),a,"emphasis")},downplay:function(b,d,f,a){l9(b.getData(),a,"normal")},remove:function(){this.group.removeAll()},dispose:function(){}};var m3=k9.prototype;m3.updateView=m3.updateLayout=m3.updateVisual=function(b,d,f,a){this.render(b,d,f,a)},BH(k9,["dispose"]),kH(k9,{registerWhenExtend:!0});var v3="\x00__throttleOriginMethod",i5="\x00__throttleRate",y2="\x00__throttleType",e5=function(a){function b(f){var h=(f.visualColorAccessPath||"itemStyle.normal.color").split("."),d=f.getData(),g=f.get(h)||f.getColorFromPalette(f.get("name"));d.setVisual("color",g),a.isSeriesFiltered(f)||("function"!=typeof g||g instanceof RK||d.each(function(e){d.setItemVisual(e,"color",g(f.getDataParams(e)))}),d.each(function(k){var l=d.getItemModel(k),m=l.get(h,!0);null!=m&&d.setItemVisual(k,"color",m)}))}a.eachRawSeries(b)},t2=Math.PI,d5=function(f,g){g=g||{},Y0(g,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var k=new hZ({style:{fill:g.maskColor},zlevel:g.zlevel,z:10000}),d=new pX({shape:{startAngle:-t2/2,endAngle:-t2/2+0.1,r:10},style:{stroke:g.color,lineCap:"round",lineWidth:5},zlevel:g.zlevel,z:10001}),h=new hZ({style:{fill:"none",text:g.text,textPosition:"right",textDistance:10,textFill:g.textColor},zlevel:g.zlevel,z:10001});d.animateShape(!0).when(1000,{endAngle:3*t2/2}).start("circularInOut"),d.animateShape(!0).when(1000,{startAngle:3*t2/2}).delay(300).start("circularInOut");var b=new TO;return b.add(d),b.add(h),b.add(k),b.resize=function(){var n=f.getWidth()/2,l=f.getHeight()/2;d.setShape({cx:n,cy:l});var m=d.shape.r;h.setShape({x:n-m,y:l-m,width:2*m,height:2*m}),k.setShape({x:0,y:0,width:f.getWidth(),height:f.getHeight()})},b.resize(),b},s2=ZX,u2=abd.parseClassType,bq="3.8.4",c5={zrender:"3.7.3"},b2=1000,f5=5000,KX=1000,RV=2000,A9=3000,p3=4000,q2=5000,j4={PROCESSOR:{FILTER:b2,STATISTIC:f5},VISUAL:{LAYOUT:KX,GLOBAL:RV,CHART:A9,COMPONENT:p3,BRUSH:q2}},I2="__flagInMainProcess",XX="__hasGradientOrPatternBg",O1="__optionUpdated",TX=/^[a-zA-Z0-9_]+$/;y8.prototype.on=jk("on"),y8.prototype.off=jk("off"),y8.prototype.one=jk("one"),Z3(y8,l1);var N1=fq.prototype;N1._onframe=function(){if(this[O1]){var a=this[O1].silent;this[I2]=!0,abJ.prepareAndUpdate.call(this),this[I2]=!1,this[O1]=!1,u8.call(this,a),bE.call(this,a)}},N1.getDom=function(){return this._dom},N1.getZr=function(){return this._zr},N1.setOption=function(f,h,l){var d;if(YQ(h)&&(l=h.lazyUpdate,d=h.silent,h=h.notMerge),this[I2]=!0,!this._model||h){var k=new O2(this._api),b=this._theme,g=this._model=new OW(null,null,b,k);g.init(null,null,b,k)}this._model.setOption(f,UX),l?(this[O1]={silent:d},this[I2]=!1):(abJ.prepareAndUpdate.call(this),this._zr.flush(),this[O1]=!1,this[I2]=!1,u8.call(this,d),bE.call(this,d))},N1.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},N1.getModel=function(){return this._model},N1.getOption=function(){return this._model&&this._model.getOption()},N1.getWidth=function(){return this._zr.getWidth()},N1.getHeight=function(){return this._zr.getHeight()},N1.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},N1.getRenderedCanvas=function(a){if(VN.canvasSupported){a=a||{},a.pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor");var b=this._zr,d=b.storage.getDisplayList();return ZX(d,function(e){e.stopAnimation(!0)}),b.painter.getRenderedCanvas(a)}},N1.getSvgDataUrl=function(){if(VN.svgSupported){var a=this._zr,b=a.storage.getDisplayList();return ZX(b,function(d){d.stopAnimation(!0)}),a.painter.pathToSvg()}},N1.getDataURL=function(f){f=f||{};var g=f.excludeComponents,k=this._model,d=[],h=this;s2(g,function(a){k.eachComponent({mainType:a},function(l){var m=h._componentsMap[l.__viewId];m.group.ignore||(d.push(m),m.group.ignore=!0)})});var b="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(f).toDataURL("image/"+(f&&f.type||"png"));return s2(d,function(a){a.group.ignore=!1}),b},N1.getConnectedDataURL=function(E){if(VN.canvasSupported){var z=this.group,q=Math.min,k=Math.max,C=1/0;if(P1[z]){var b=C,F=C,w=-C,D=-C,x=[],B=E&&E.pixelRatio||1;ZX(M1,function(e){if(e.group===z){var h=e.getRenderedCanvas(ZQ(E)),g=e.getDom().getBoundingClientRect();b=q(g.left,b),F=q(g.top,F),w=k(g.right,w),D=k(g.bottom,D),x.push({dom:h,left:g.left,top:g.top})}}),b*=B,F*=B,w*=B,D*=B;var A=w-b,y=D-F,f=n1();f.width=A,f.height=y;var v=Ez(f);return s2(x,function(a){var d=new R5({style:{x:a.left*B-b,y:a.top*B-F,image:a.dom}});v.add(d)}),v.refreshImmediately(),f.toDataURL("image/"+(E&&E.type||"png"))}return this.getDataURL(E)}},N1.convertToPixel=YN(t8,"convertToPixel"),N1.convertFromPixel=YN(t8,"convertFromPixel"),N1.containPixel=function(b,d){var f,a=this._model;return b=d0(a,b),ZX(b,function(g,e){e.indexOf("Models")>=0&&ZX(g,function(k){var l=k.coordinateSystem;if(l&&l.containPoint){f|=!!l.containPoint(d)}else{if("seriesModels"===e){var h=this._chartsMap[k.__viewId];h&&h.containPoint&&(f|=h.containPoint(d,k))}}},this)},this),!!f},N1.getVisual=function(f,g){var k=this._model;f=d0(k,f,{defaultMainType:"series"});var d=f.seriesModel,h=d.getData(),b=f.hasOwnProperty("dataIndexInside")?f.dataIndexInside:f.hasOwnProperty("dataIndex")?h.indexOfRawIndex(f.dataIndex):null;return null!=b?h.getItemVisual(b,g):h.getVisual(g)},N1.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},N1.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]};var abJ={update:function(f){var k=this._model,m=this._api,d=this._coordSysMgr,l=this._zr;if(k){k.restoreData(),d.create(this._model,this._api),gq.call(this,k,m),K3.call(this,k),d.update(k,m),Bt.call(this,k,f),p9.call(this,k,f);var b=k.get("backgroundColor")||"transparent",h=l.painter;if(h.isSingleCanvas&&h.isSingleCanvas()){l.configLayer(0,{clearColor:b})}else{if(!VN.canvasSupported){var g=sO(b);b=mQ(g,"rgb"),0===g[3]&&(b="transparent")}b.colorStops||b.image?(l.configLayer(0,{clearColor:b}),this[XX]=!0,this._dom.style.background="transparent"):(this[XX]&&l.configLayer(0,{clearColor:null}),this[XX]=!1,this._dom.style.background=b)}s2(aaw,function(a){a(k,m)})}},updateView:function(a){var b=this._model;b&&(b.eachSeries(function(d){d.getData().clearAllVisual()}),Bt.call(this,b,a),dq.call(this,"updateView",b,a))},updateVisual:function(a){var b=this._model;b&&(b.eachSeries(function(d){d.getData().clearAllVisual()}),Bt.call(this,b,a,!0),dq.call(this,"updateVisual",b,a))},updateLayout:function(a){var b=this._model;b&&(R1.call(this,b,a),dq.call(this,"updateLayout",b,a))},prepareAndUpdate:function(a){var b=this._model;b8.call(this,"component",b),b8.call(this,"chart",b),abJ.update.call(this,a)}};N1.resize=function(b){this[I2]=!0,this._zr.resize(b);var d=this._model&&this._model.resetOption("media"),f=d?"prepareAndUpdate":"update";abJ[f].call(this),this._loadingFX&&this._loadingFX.resize(),this[I2]=!1;var a=b&&b.silent;u8.call(this,a),bE.call(this,a)},N1.showLoading=function(b,d){if(YQ(b)&&(d=b,b=""),b=b||"default",this.hideLoading(),VX[b]){var f=VX[b](this._api,d),a=this._zr;this._loadingFX=f,a.add(f)}},N1.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},N1.makeActionFromEvent=function(a){var b=Y2({},a);return b.type=Q1[a.type],b},N1.dispatchAction=function(a,b){if(YQ(b)||(b={silent:!!b}),J2[a.type]&&this._model){if(this[I2]){return void this._pendingActions.push(a)}s8.call(this,a,b.silent),b.flush?this._zr.flush(!0):b.flush!==!1&&VN.browser.weChat&&this._throttledZrFlush(),u8.call(this,b.silent),bE.call(this,b.silent)}},N1.on=jk("on"),N1.off=jk("off"),N1.one=jk("one");var K2=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];N1._initEvents=function(){s2(K2,function(a){this._zr.on(a,function(f){var h,d=this.getModel(),g=f.target;if("globalout"===a){h={}}else{if(g&&null!=g.dataIndex){var b=g.dataModel||d.getSeriesByIndex(g.seriesIndex);h=b&&b.getDataParams(g.dataIndex,g.dataType)||{}}else{g&&g.eventData&&(h=Y2({},g.eventData))}}h&&(h.event=f,h.type=a,this.trigger(a,h))},this)},this),s2(Q1,function(a,b){this._messageCenter.on(b,function(d){this.trigger(b,d)},this)},this)},N1.isDisposed=function(){return this._disposed},N1.clear=function(){this.setOption({series:[]},!0)},N1.dispose=function(){if(!this._disposed){this._disposed=!0;var a=this._api,b=this._model;s2(this._componentsViews,function(d){d.dispose(b,a)}),s2(this._chartsViews,function(d){d.dispose(b,a)}),this._zr.dispose(),delete M1[this.id]}},Z3(fq,l1);var J2={},Q1={},H2=[],UX=[],aaw=[],Y6=[],WX={},VX={},M1={},P1={},G2=new Date-0,D3=new Date-0,E3="_echarts_instance_",a2={},abi=abh;F1(RV,e5),TW(k3),C2("default",d5),VW({type:"highlight",event:"highlight",update:"highlight"},aaW),VW({type:"downplay",event:"downplay",update:"downplay"},aaW);var F2={},jj="__ec_stack_";k7.getLayoutOnAxis=w6,Q0.prototype.parse=function(a){return a},Q0.prototype.getSetting=function(a){return this._setting[a]},Q0.prototype.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]},Q0.prototype.normalize=function(a){var b=this._extent;return b[1]===b[0]?0.5:(a-b[0])/(b[1]-b[0])},Q0.prototype.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]},Q0.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1])},Q0.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getDataExtent(b,!0))},Q0.prototype.getExtent=function(){return this._extent.slice()},Q0.prototype.setExtent=function(a,b){var d=this._extent;isNaN(a)||(d[0]=a),isNaN(b)||(d[1]=b)},Q0.prototype.getTicksLabels=function(){for(var a=[],b=this.getTicks(),d=0;d<b.length;d++){a.push(this.getLabel(b[d]))}return a},Q0.prototype.isBlank=function(){return this._isBlank},Q0.prototype.setBlank=function(a){this._isBlank=a},BH(Q0),kH(Q0,{registerWhenExtend:!0});var o8=Q0.prototype,s7=Q0.extend({type:"ordinal",init:function(a,b){this._data=a,this._extent=b||[0,a.length-1]},parse:function(a){return"string"==typeof a?YX(this._data,a):Math.round(a)},contain:function(a){return a=this.parse(a),o8.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return o8.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(o8.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,d=b[0];d<=b[1];){a.push(d),d++}return a},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,b){this.unionExtent(a.getDataExtent(b,!1))},niceTicks:aaW,niceExtent:aaW});s7.create=function(){return new s7};var ij=iK,AZ=iK,x7=Q0.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,b){var d=this._extent;isNaN(a)||(d[0]=parseFloat(a)),isNaN(b)||(d[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1]),x7.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=Ck(a)},getTicks:function(){return i9(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var a=[],b=this.getTicks(),d=0;d<b.length;d++){a.push(this.getLabel(b[d]))}return a},getLabel:function(a,b){if(null==a){return""}var d=b&&b.precision;return null==d?d=hK(a)||0:"auto"===d&&(d=this._intervalPrecision),a=AZ(a,d,!0),jJ(a)},niceTicks:function(f,g,k){f=f||5;var d=this._extent,h=d[1]-d[0];if(isFinite(h)){0>h&&(h=-h,d.reverse());var b=l7(d,f,g,k);this._intervalPrecision=b.intervalPrecision,this._interval=b.interval,this._niceExtent=b.niceTickExtent}},niceExtent:function(b){var d=this._extent;if(d[0]===d[1]){if(0!==d[0]){var g=d[0];b.fixMax?d[0]-=g/2:(d[1]+=g/2,d[0]-=g/2)}else{d[1]=1}}var a=d[1]-d[0];isFinite(a)||(d[0]=0,d[1]=1),this.niceTicks(b.splitNumber,b.minInterval,b.maxInterval);var f=this._interval;b.fixMin||(d[0]=AZ(Math.floor(d[0]/f)*f)),b.fixMax||(d[1]=AZ(Math.ceil(d[1]/f)*f))}});x7.create=function(){return new x7};var y7=x7.prototype,p8=Math.ceil,l8=Math.floor,R0=1000,m8=60*R0,C3=60*m8,n8=24*C3,w7=function(b,d,g,a){for(;a>g;){var f=g+a>>>1;b[f][1]<d?g=f+1:a=f}return g},j9=x7.extend({type:"time",getLabel:function(a){var b=this._stepLvl,d=new Date(a);return vG(b[0],d,this.getSetting("useUTC"))},niceExtent:function(b){var d=this._extent;if(d[0]===d[1]&&(d[0]-=n8,d[1]+=n8),d[1]===-1/0&&1/0===d[0]){var f=new Date;d[1]=+new Date(f.getFullYear(),f.getMonth(),f.getDate()),d[0]=d[1]-n8}this.niceTicks(b.splitNumber,b.minInterval,b.maxInterval);var a=this._interval;b.fixMin||(d[0]=iK(l8(d[0]/a)*a)),b.fixMax||(d[1]=iK(p8(d[1]/a)*a))},niceTicks:function(B,w,k){B=B||10;var p=this._extent,g=p[1]-p[0],z=g/B;null!=w&&w>z&&(z=w),null!=k&&z>k&&(z=k);var b=z6.length,C=w7(z6,z,0,b),m=z6[Math.min(C,b-1)],A=m[1];if("year"===m[0]){var q=g/A,y=CG(q/B,!0);A*=y}var x=this.getSetting("useUTC")?0:60*new Date(+p[0]||+p[1]).getTimezoneOffset()*1000,v=[Math.round(p8((p[0]-x)/A)*A+x),Math.round(l8((p[1]-x)/A)*A+x)];v7(v,p),this._stepLvl=m,this._interval=A,this._niceExtent=v},parse:function(a){return +lH(a)}});ZX(["contain","normalize"],function(a){j9.prototype[a]=function(b){return y7[a].call(this,this.parse(b))}});var z6=[["hh:mm:ss",R0],["hh:mm:ss",5*R0],["hh:mm:ss",10*R0],["hh:mm:ss",15*R0],["hh:mm:ss",30*R0],["hh:mm\nMM-dd",m8],["hh:mm\nMM-dd",5*m8],["hh:mm\nMM-dd",10*m8],["hh:mm\nMM-dd",15*m8],["hh:mm\nMM-dd",30*m8],["hh:mm\nMM-dd",C3],["hh:mm\nMM-dd",2*C3],["hh:mm\nMM-dd",6*C3],["hh:mm\nMM-dd",12*C3],["MM-dd\nyyyy",n8],["MM-dd\nyyyy",2*n8],["MM-dd\nyyyy",3*n8],["MM-dd\nyyyy",4*n8],["MM-dd\nyyyy",5*n8],["MM-dd\nyyyy",6*n8],["week",7*n8],["MM-dd\nyyyy",10*n8],["week",14*n8],["week",21*n8],["month",31*n8],["week",42*n8],["month",62*n8],["week",42*n8],["quarter",380*n8/4],["month",31*n8*4],["month",31*n8*5],["half-year",380*n8/2],["month",31*n8*8],["month",31*n8*10],["year",380*n8]];j9.create=function(a){return new j9({useUTC:a.ecModel.get("useUTC")})};var gj=Q0.prototype,u7=x7.prototype,fj=hK,t7=iK,v8=Math.floor,b7=Math.ceil,ej=Math.pow,dj=Math.log,hj=Q0.extend({type:"log",base:10,$constructor:function(){Q0.apply(this,arguments),this._originalScale=new x7},getTicks:function(){var a=this._originalScale,b=this._extent,d=a.getExtent();return ZU(u7.getTicks.call(this),function(e){var f=iK(ej(this.base,e));return f=e===b[0]&&a.__fixMin?y6(f,d[0]):f,f=e===b[1]&&a.__fixMax?y6(f,d[1]):f},this)},getLabel:u7.getLabel,scale:function(a){return a=gj.scale.call(this,a),ej(this.base,a)},setExtent:function(a,b){var d=this.base;a=dj(a)/dj(d),b=dj(b)/dj(d),u7.setExtent.call(this,a,b)},getExtent:function(){var b=this.base,d=gj.getExtent.call(this);d[0]=ej(b,d[0]),d[1]=ej(b,d[1]);var f=this._originalScale,a=f.getExtent();return f.__fixMin&&(d[0]=y6(d[0],a[0])),f.__fixMax&&(d[1]=y6(d[1],a[1])),d},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=dj(a[0])/dj(b),a[1]=dj(a[1])/dj(b),gj.unionExtent.call(this,a)},unionExtentFromData:function(a,b){this.unionExtent(a.getDataExtent(b,!0,function(d){return d>0}))},niceTicks:function(f){f=f||10;var g=this._extent,k=g[1]-g[0];if(!(1/0===k||0>=k)){var d=Rk(k),h=f/k*d;for(0.5>=h&&(d*=10);!isNaN(d)&&Math.abs(d)<1&&Math.abs(d)>0;){d*=10}var b=[iK(b7(g[0]/d)*d),iK(v8(g[1]/d)*d)];this._interval=d,this._niceExtent=b}},niceExtent:function(a){u7.niceExtent.call(this,a);var b=this._originalScale;b.__fixMin=a.fixMin,b.__fixMax=a.fixMax}});ZX(["contain","normalize"],function(a){hj.prototype[a]=function(b){return b=dj(b)/dj(this.base),gj[a].call(this,b)}}),hj.create=function(){return new hj};var L1=function(a){this._axes={},this._dimList=[],this.name=a||""};L1.prototype={constructor:L1,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return ZU(this._dimList,b6,this)},getAxesByScale:function(a){return a=a.toLowerCase(),Zt(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a,this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(f,h){for(var l=this._dimList,d=f instanceof Array?[]:{},k=0;k<l.length;k++){var b=l[k],g=this._axes[b];d[b]=g[h](f[b])}return d}},f9.prototype={constructor:f9,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),d=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&d.contain(d.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoint:function(b,d){var f=this.getAxis("x"),a=this.getAxis("y");return[f.toGlobalCoord(f.dataToCoord(b[0],d)),a.toGlobalCoord(a.dataToCoord(b[1],d))]},pointToData:function(b,d){var f=this.getAxis("x"),a=this.getAxis("y");return[f.coordToData(f.toLocalCoord(b[0]),d),a.coordToData(a.toLocalCoord(b[1]),d)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}},ZR(f9,L1);var SZ=aaQ,BY=[0,1],q7=function(a,b,d){this.dim=a,this.scale=b,this._extent=d||[0,0],this.inverse=!1,this.onBand=!1,this._labelInterval};q7.prototype={constructor:q7,contain:function(b){var d=this._extent,f=Math.min(d[0],d[1]),a=Math.max(d[0],d[1]);return b>=f&&a>=b},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return AE(a||this.scale.getExtent(),this._extent)},setExtent:function(a,b){var d=this._extent;d[0]=a,d[1]=b},dataToCoord:function(b,d){var f=this._extent,a=this.scale;return b=a.normalize(b),this.onBand&&"ordinal"===a.type&&(f=f.slice(),K1(f,a.count())),SZ(b,BY,f,d)},coordToData:function(b,d){var g=this._extent,a=this.scale;this.onBand&&"ordinal"===a.type&&(g=g.slice(),K1(g,a.count()));var f=SZ(b,g,BY,d);return this.scale.scale(f)},pointToData:function(){},getTicksCoords:function(b){if(this.onBand&&!b){for(var d=this.getBands(),f=[],a=0;a<d.length;a++){f.push(d[a][0])}return d[a-1]&&f.push(d[a-1][1]),f}return ZU(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return ZU(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var f=this.getExtent(),h=[],l=this.scale.count(),d=f[0],k=f[1],b=k-d,g=0;l>g;g++){h.push([b*g/l+d,b*(g+1)/l+d])}return h},getBandWidth:function(){var b=this._extent,d=this.scale.getExtent(),f=d[1]-d[0]+(this.onBand?1:0);0===f&&(f=1);var a=Math.abs(b[1]-b[0]);return Math.abs(a)/f},isHorizontal:null,getRotate:null,getLabelInterval:function(){var a=this._labelInterval;if(!a){var b=this.model,d=b.getModel("axisLabel");a=d.get("interval"),"category"!==this.type||null!=a&&"auto"!==a||(a=u6(ZU(this.scale.getTicks(),this.dataToCoord,this),b.getFormattedLabels(),d.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,d.get("rotate"))),this._labelInterval=a}return a}};var r7=function(b,d,g,a,f){q7.call(this,b,d,g),this.type=a||"value",this.position=f||"bottom"};r7.prototype={constructor:r7,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(a){var b=this.getExtent();return b[0]=this.toGlobalCoord(b[0]),b[1]=this.toGlobalCoord(b[1]),a&&b[0]>b[1]&&b.reverse(),b},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}},pointToData:function(a,b){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),b)},toLocalCoord:null,toGlobalCoord:null},ZR(r7,q7);var k8={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},I9={};I9.categoryAxis=Y9({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},k8),I9.valueAxis=Y9({boundaryGap:[0,0],splitNumber:5},k8),I9.timeAxis=Y0({scale:!0,min:"dataMin",max:"dataMax"},I9.valueAxis),I9.logAxis=Y0({scale:!0,logBase:10},I9.valueAxis);var X3=["value","category","time","log"],O8=function(b,d,f,a){ZX(X3,function(e){d.extend({type:b+"Axis."+e,mergeDefaultAndTheme:function(n,k){var h=this.layoutMode,m=h?abj(n):{},g=k.getTheme();Y9(n,g.get(e+"Axis")),Y9(n,this.getDefaultOption()),n.type=f(b,n),h&&M2(n,m,h)},defaultOption:Z8([{},I9[e+"Axis"],a],!0)})}),abd.registerSubTypeDefaulter(b+"Axis",YN(f,b))},T4={getFormattedLabels:function(){return bB(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&ZU(this.get("data"),RZ)},getMin:function(a){var b=this.option,d=a||null==b.rangeStart?b.min:b.rangeStart;return this.axis&&null!=d&&"dataMin"!==d&&"function"!=typeof d&&!aaO(d)&&(d=this.axis.scale.parse(d)),d},getMax:function(a){var b=this.option,d=a||null==b.rangeEnd?b.max:b.rangeEnd;return this.axis&&null!=d&&"dataMax"!==d&&"function"!=typeof d&&!aaO(d)&&(d=this.axis.scale.parse(d)),d},getNeedCrossZero:function(){var a=this.option;return null!=a.rangeStart||null!=a.rangeEnd?!1:!a.scale},getCoordSysModel:aaW,setRange:function(a,b){this.option.rangeStart=a,this.option.rangeEnd=b},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},N8=abd.extend({type:"cartesian2dAxis",axis:null,init:function(){N8.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){N8.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){N8.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});Y9(N8.prototype,T4);var abL={offset:0};O8("x",N8,Bq,abL),O8("y",N8,Bq,abL),abd.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var K9=ZX,J9=s6,Q8=t6,H9=Ij.prototype;H9.type="grid",H9.axisPointerEnabled=!0,H9.getRect=function(){return this._rect},H9.update=function(a,b){var d=this._axesMap;this._updateScale(a,this.model),K9(d.x,function(e){Q8(e.scale,e.model)}),K9(d.y,function(e){Q8(e.scale,e.model)}),K9(d.x,function(e){W5(d,"y",e)}),K9(d.y,function(e){W5(d,"x",e)}),this.resize(this.model,b)},H9.resize=function(f,g,k){function d(){K9(b,function(l){var m=l.isHorizontal(),o=m?[0,h.width]:[0,h.height],a=l.inverse?1:0;l.setExtent(o[a],o[1-a]),S6(l,m?h.x:h.y)})}var h=WY(f.getBoxLayoutParams(),{width:g.getWidth(),height:g.getHeight()});this._rect=h;var b=this._axesList;d(),!k&&f.get("containLabel")&&(K9(b,function(l){if(!l.model.get("axisLabel.inside")){var m=j8(l);if(m){var o=l.isHorizontal()?"height":"width",a=l.model.get("axisLabel.margin");h[o]-=m[o]+a,"top"===l.position?h.y+=m.height+a:"left"===l.position&&(h.x+=m.width+a)}}}),d())},H9.getAxis=function(b,d){var f=this._axesMap[b];if(null!=f){if(null==d){for(var a in f){if(f.hasOwnProperty(a)){return f[a]}}}return f[d]}},H9.getAxes=function(){return this._axesList.slice()},H9.getCartesian=function(b,d){if(null!=b&&null!=d){var g="x"+b+"y"+d;return this._coordsMap[g]}YQ(b)&&(d=b.yAxisIndex,b=b.xAxisIndex);for(var a=0,f=this._coordsList;a<f.length;a++){if(f[a].getAxis("x").index===b||f[a].getAxis("y").index===d){return f[a]}}},H9.getCartesians=function(){return this._coordsList.slice()},H9.convertToPixel=function(b,d,f){var a=this._findConvertTarget(b,d);return a.cartesian?a.cartesian.dataToPoint(f):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(f)):null},H9.convertFromPixel=function(b,d,f){var a=this._findConvertTarget(b,d);return a.cartesian?a.cartesian.pointToData(f):a.axis?a.axis.coordToData(a.axis.toLocalCoord(f)):null},H9._findConvertTarget=function(u,p){var f,k,d=p.seriesModel,q=p.xAxisModel||d&&d.getReferringComponents("xAxis")[0],b=p.yAxisModel||d&&d.getReferringComponents("yAxis")[0],v=p.gridModel,g=this._coordsList;if(d){f=d.coordinateSystem,YX(g,f)<0&&(f=null)}else{if(q&&b){f=this.getCartesian(q.componentIndex,b.componentIndex)}else{if(q){k=this.getAxis("x",q.componentIndex)}else{if(b){k=this.getAxis("y",b.componentIndex)}else{if(v){var m=v.coordinateSystem;m===this&&(f=this._coordsList[0])}}}}}return{cartesian:f,axis:k}},H9.containPoint=function(a){var b=this._coordsList[0];return b?b.containPoint(a):void 0},H9._initCartesian=function(f,g){function k(a){return function(p,o){if(p7(p,f,g)){var e=p.get("position");"x"===a?"top"!==e&&"bottom"!==e&&(e="bottom",d[e]&&(e="top"===e?"bottom":"top")):"left"!==e&&"right"!==e&&(e="left",d[e]&&(e="left"===e?"right":"left")),d[e]=!0;var m=new r7(a,d9(p),[0,0],p.get("type"),e),n="category"===m.type;m.onBand=n&&p.get("boundaryGap"),m.inverse=p.get("inverse"),m.onZero=p.get("axisLine.onZero"),m.onZeroAxisIndex=p.get("axisLine.onZeroAxisIndex"),p.axis=m,m.model=p,m.grid=this,m.index=o,this._axesList.push(m),h[a][o]=m,b[a]++}}}var d={left:!1,right:!1,top:!1,bottom:!1},h={x:{},y:{}},b={x:0,y:0};return g.eachComponent("xAxis",k("x"),this),g.eachComponent("yAxis",k("y"),this),b.x&&b.y?(this._axesMap=h,void K9(h.x,function(a,l){K9(h.y,function(m,p){var e="x"+l+"y"+p,n=new f9(e);n.grid=this,n.model=f,this._coordsMap[e]=n,this._coordsList.push(n),n.addAxis(a),n.addAxis(m)},this)},this)):(this._axesMap={},void (this._axesList=[]))},H9._updateScale=function(a,b){function d(f,g,h){K9(h.coordDimToDataDim(g.dim),function(e){g.scale.unionExtentFromData(f,e)})}ZX(this._axesList,function(e){e.scale.setExtent(1/0,-1/0)}),a.eachSeries(function(k){if(abq(k)){var q=M9(k,a),f=q[0],p=q[1];if(!p7(f,b,a)||!p7(p,b,a)){return}var n=this.getCartesian(f.componentIndex,p.componentIndex),e=k.getData(),g=n.getAxis("x"),m=n.getAxis("y");"list"===e.type&&(d(e,g,k),d(e,m,k))}},this)},H9.getTooltipAxes=function(a){var b=[],d=[];return K9(this.getCartesians(),function(f){var g=null!=a&&"auto"!==a?f.getAxis(a):f.getBaseAxis(),e=f.getOtherAxis(g);YX(b,g)<0&&b.push(g),YX(d,e)<0&&d.push(e)}),{baseAxes:b,otherAxes:d}};var U4=["xAxis","yAxis"];Ij.create=function(a,b){var d=[];return a.eachComponent("grid",function(f,g){var e=new Ij(f,a,b);e.name="grid_"+g,e.resize(f,b,!0),f.coordinateSystem=e,d.push(e)}),a.eachSeries(function(k){if(abq(k)){var m=M9(k,a),g=m[0],l=m[1],f=g.getCoordSysModel(),h=f.coordinateSystem;k.coordinateSystem=h.getCartesian(g.componentIndex,l.componentIndex)}}),d},Ij.dimensions=Ij.prototype.dimensions=f9.prototype.dimensions,L2.register("cartesian2d",Ij),Jj.prototype={constructor:Jj,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var w,p=this._old,f=this._new,k={},d={},q=[],b=[];for(P9(p,k,q,"_oldKeyGetter",this),P9(f,d,b,"_newKeyGetter",this),w=0;w<p.length;w++){var x=q[w],g=d[x];if(null!=g){var v=g.length;v?(1===v&&(d[x]=null),g=g.unshift()):d[x]=null,this._update&&this._update(g,w)}else{this._remove&&this._remove(w)}}for(var w=0;w<b.length;w++){var x=b[w];if(d.hasOwnProperty(x)){var g=d[x];if(null==g){continue}if(g.length){for(var m=0,v=g.length;v>m;m++){this._add&&this._add(g[m])}}else{this._add&&this._add(g)}}}}};var aaJ=YQ,ZH="undefined",W4=typeof window===ZH?global:window,V4={"float":typeof W4.Float64Array===ZH?Array:W4.Float64Array,"int":typeof W4.Int32Array===ZH?Array:W4.Int32Array,ordinal:Array,number:Array,time:Array},M8=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];T5.prototype.pure=!1,T5.prototype.count=function(){return this._array.length},T5.prototype.getItem=function(a){return this._array[a]};var P8=function(f,h){f=f||["x","y"];for(var l={},d=[],k=0;k<f.length;k++){var b,g={};"string"==typeof f[k]?(b=f[k],g={name:b,coordDim:b,coordDimIndex:0,stackable:!1,type:"number"}):(g=f[k],b=g.name,g.type=g.type||"number",g.coordDim||(g.coordDim=b,g.coordDimIndex=0)),g.otherDims=g.otherDims||{},d.push(b),l[b]=g}this.dimensions=d,this._dimensionInfos=l,this.hostModel=h,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},G9=P8.prototype;G9.type="list",G9.hasItemOption=!0,G9.getDimension=function(a){return isNaN(a)||(a=this.dimensions[a]||a),a},G9.getDimensionInfo=function(a){return ZQ(this._dimensionInfos[this.getDimension(a)])},G9.initData=function(A,M,F){A=A||[];var I=YO(A);I&&(A=new T5(A)),this._rawData=A;var E,Q=this._storage={},C=this.indices=[],B=this.dimensions,H=this._dimensionInfos,z=A.count(),J=[],O={};M=M||[];for(var N=0;N<B.length;N++){var L=H[B[N]];0===L.otherDims.itemName&&(E=N);var K=V4[L.type];Q[B[N]]=new K(z)}var D=this;F||(D.hasItemOption=!1),F=F||function(b,d,g,a){var f=jZ(b);return zW(b)&&(D.hasItemOption=!0),f0(f instanceof Array?f[a]:f,H[d])};for(var N=0;z>N;N++){for(var G=A.getItem(N),x=0;x<B.length;x++){var k=B[x],R=Q[k];R[N]=F(G,k,N,x)}C.push(N)}for(var N=0;z>N;N++){var G=A.getItem(N);!M[N]&&G&&(null!=G.name?M[N]=G.name:null!=E&&(M[N]=Q[B[E]][N]));var P=M[N]||"",q=G&&G.id;!q&&P&&(O[P]=O[P]||0,q=P,O[P]>0&&(q+="__ec__"+O[P]),O[P]++),q&&(J[N]=q)}this._nameList=M,this._idList=J},G9.count=function(){return this.indices.length},G9.get=function(p,k,f){var h=this._storage,d=this.indices[k];if(null==d||!h[p]){return 0/0}var m=h[p][d];if(f){var b=this._dimensionInfos[p];if(b&&b.stackable){for(var q=this.stackedOn;q;){var g=q.get(p,k);(m>=0&&g>0||0>=m&&0>g)&&(m+=g),q=q.stackedOn}}}return m},G9.getValues=function(f,g,k){var d=[];YO(f)||(k=g,g=f,f=this.dimensions);for(var h=0,b=f.length;b>h;h++){d.push(this.get(f[h],g,k))}return d},G9.hasValue=function(b){for(var d=this.dimensions,g=this._dimensionInfos,a=0,f=d.length;f>a;a++){if("ordinal"!==g[d[a]].type&&isNaN(this.get(d[a],b))){return !1}}return !0},G9.getDataExtent=function(w,p,f){w=this.getDimension(w);var k=this._storage[w],d=this.getDimensionInfo(w);p=d&&d.stackable&&p;var q,b=(this._extent||(this._extent={}))[w+!!p];if(b){return b}if(k){for(var x=1/0,g=-1/0,v=0,m=this.count();m>v;v++){q=this.get(w,v,p),(!f||f(q,w,v))&&(x>q&&(x=q),q>g&&(g=q))}return this._extent[w+!!p]=[x,g]}return[1/0,-1/0]},G9.getSum=function(f,h){var l=this._storage[f],d=0;if(l){for(var k=0,b=this.count();b>k;k++){var g=this.get(f,k,h);isNaN(g)||(d+=g)}}return d},G9.indexOf=function(f,k){var m=this._storage,d=m[f],l=this.indices;if(d){for(var b=0,h=l.length;h>b;b++){var g=l[b];if(d[g]===k){return b}}}return -1},G9.indexOfName=function(f){for(var g=this.indices,k=this._nameList,d=0,h=g.length;h>d;d++){var b=g[d];if(k[b]===f){return d}}return -1},G9.indexOfRawIndex=function(f){var g=this.indices,k=g[f];if(null!=k&&k===f){return f}for(var d=0,h=g.length-1;h>=d;){var b=(d+h)/2|0;if(g[b]<f){d=b+1}else{if(!(g[b]>f)){return b}h=b-1}}return -1},G9.indicesOfNearest=function(z,q,g,m){var f=this._storage,x=f[z],b=[];if(!x){return b}null==m&&(m=1/0);for(var A=Number.MAX_VALUE,k=-1,y=0,p=this.count();p>y;y++){var w=q-this.get(z,y,g),v=Math.abs(w);m>=w&&A>=v&&((A>v||w>=0&&0>k)&&(A=v,k=w,b.length=0),b.push(y))}return b},G9.getRawIndex=function(a){var b=this.indices[a];return null==b?-1:b},G9.getRawDataItem=function(a){return this._rawData.getItem(this.getRawIndex(a))},G9.getName=function(a){return this._nameList[this.indices[a]]||""},G9.getId=function(a){return this._idList[this.indices[a]]||this.getRawIndex(a)+""},G9.each=function(p,k,f,h){"function"==typeof p&&(h=f,f=k,k=p,p=[]),p=ZU(ZK(p),this.getDimension,this);var d=[],m=p.length,b=this.indices;h=h||this;for(var q=0;q<b.length;q++){switch(m){case 0:k.call(h,q);break;case 1:k.call(h,this.get(p[0],q,f),q);break;case 2:k.call(h,this.get(p[0],q,f),this.get(p[1],q,f),q);break;default:for(var g=0;m>g;g++){d[g]=this.get(p[g],q,f)}d[g]=q,k.apply(h,d)}}},G9.filterSelf=function(w,p,f,k){"function"==typeof w&&(k=f,f=p,p=w,w=[]),w=ZU(ZK(w),this.getDimension,this);var d=[],q=[],b=w.length,x=this.indices;k=k||this;for(var g=0;g<x.length;g++){var v;if(b){if(1===b){v=p.call(k,this.get(w[0],g,f),g)}else{for(var m=0;b>m;m++){q[m]=this.get(w[m],g,f)}q[m]=g,v=p.apply(k,q)}}else{v=p.call(k,g)}v&&d.push(x[g])}return this.indices=d,this._extent={},this},G9.mapArray=function(b,d,g,a){"function"==typeof b&&(a=g,g=d,d=b,b=[]);var f=[];return this.each(b,function(){f.push(d&&d.apply(this,arguments))},g,a),f},G9.map=function(f,k,m,d){f=ZU(ZK(f),this.getDimension,this);var l=X4(this,f),b=l.indices=this.indices,h=l._storage,g=[];return this.each(f,function(){var t=arguments[arguments.length-1],p=k&&k.apply(this,arguments);if(null!=p){"number"==typeof p&&(g[0]=p,p=g);for(var s=0;s<p.length;s++){var a=f[s],e=h[a],q=b[t];e&&(e[q]=p[s])}}},m,d),l},G9.downSample=function(q,H,A,D){for(var z=X4(this,[q]),K=this._storage,x=z._storage,w=this.indices,C=z.indices=[],k=[],E=[],J=Math.floor(1/H),I=x[q],G=this.count(),F=0;F<K[q].length;F++){x[q][F]=K[q][F]}for(var F=0;G>F;F+=J){J>G-F&&(J=G-F,k.length=J);for(var y=0;J>y;y++){var B=w[F+y];k[y]=I[B],E[y]=B}var b=A(k),B=E[D(k,b)||0];I[B]=b,C.push(B)}return z},G9.getItemModel=function(a){var b=this.hostModel;return a=this.indices[a],new RN(this._rawData.getItem(a),b,b&&b.ecModel)},G9.diff=function(b){var d,g=this._idList,a=b&&b._idList,f="e\x00\x00";return new Jj(b?b.indices:[],this.indices,function(e){return null!=(d=a[e])?d:f+e},function(e){return null!=(d=g[e])?d:f+e})},G9.getVisual=function(a){var b=this._visual;return b&&b[a]},G9.setVisual=function(a,b){if(aaJ(a)){for(var d in a){a.hasOwnProperty(d)&&this.setVisual(d,a[d])}}else{this._visual=this._visual||{},this._visual[a]=b}},G9.setLayout=function(a,b){if(aaJ(a)){for(var d in a){a.hasOwnProperty(d)&&this.setLayout(d,a[d])}}else{this._layout[a]=b}},G9.getLayout=function(a){return this._layout[a]},G9.getItemLayout=function(a){return this._itemLayouts[a]},G9.setItemLayout=function(a,b,d){this._itemLayouts[a]=d?Y2(this._itemLayouts[a]||{},b):b},G9.clearItemLayouts=function(){this._itemLayouts.length=0},G9.getItemVisual=function(b,d,g){var a=this._itemVisuals[b],f=a&&a[d];return null!=f||g?f:this.getVisual(d)},G9.setItemVisual=function(b,d,g){var a=this._itemVisuals[b]||{};if(this._itemVisuals[b]=a,aaJ(d)){for(var f in d){d.hasOwnProperty(f)&&(a[f]=d[f])}}else{a[d]=g}},G9.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var Ej=function(a){a.seriesIndex=this.seriesIndex,a.dataIndex=this.dataIndex,a.dataType=this.dataType};G9.setItemGraphicEl=function(a,b){var d=this.hostModel;b&&(b.dataIndex=a,b.dataType=this.dataType,b.seriesIndex=d&&d.seriesIndex,"group"===b.type&&b.traverse(Ej,b)),this._graphicEls[a]=b},G9.getItemGraphicEl=function(a){return this._graphicEls[a]},G9.eachItemGraphicEl=function(a,b){ZX(this._graphicEls,function(e,d){e&&a&&a.call(b,e,d)})},G9.cloneShallow=function(){var a=ZU(this.dimensions,this.getDimensionInfo,this),b=new P8(a,this.hostModel);return b._storage=this._storage,Hj(b,this),b.indices=this.indices.slice(),this._extent&&(b._extent=Y2({},this._extent)),b},G9.wrapMethod=function(a,b){var d=this[a];"function"==typeof d&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var e=d.apply(this,arguments);return b.apply(this,[e].concat(aa0(arguments)))})},G9.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],G9.CHANGABLE_METHODS=["filterSelf"];var Fj=ZX,a4=Z5,abp=Y0,F9={tooltip:1,label:1,itemName:1},jF=V5.guessOrdinal=function(b,d){for(var g=0,a=b.length;a>g;g++){var f=U5(b[g]);if(!YO(f)){return !1}var f=f[d];if(null!=f&&isFinite(f)&&""!==f){return !1}if(a4(f)&&"-"!==f){return !0}}return !1},pE={cartesian2d:function(z,q,g,m){var f=ZU(["xAxis","yAxis"],function(a){return g.queryComponents({mainType:a,index:q.get(a+"Index"),id:q.get(a+"Id")})[0]}),x=f[0],b=f[1],A=x.get("type"),k=b.get("type"),y=[{name:"x",type:Ek(A),stackable:Dk(A)},{name:"y",type:Ek(k),stackable:Dk(k)}],p="category"===A,w="category"===k;y=V5(y,z,m);var v={};return p&&(v.x=x),w&&(v.y=b),{dimensions:y,categoryIndex:p?0:w?1:-1,categoryAxesModels:v}},singleAxis:function(p,k,f,h){var d=f.queryComponents({mainType:"singleAxis",index:k.get("singleAxisIndex"),id:k.get("singleAxisId")})[0],m=d.get("type"),b="category"===m,q=[{name:"single",type:Ek(m),stackable:Dk(m)}];q=V5(q,p,h);var g={};return b&&(g.single=d),{dimensions:q,categoryIndex:b?0:-1,categoryAxesModels:g}},polar:function(z,q,g,m){var f=g.queryComponents({mainType:"polar",index:q.get("polarIndex"),id:q.get("polarId")})[0],x=f.findAxisModel("angleAxis"),b=f.findAxisModel("radiusAxis"),A=b.get("type"),k=x.get("type"),y=[{name:"radius",type:Ek(A),stackable:Dk(A)},{name:"angle",type:Ek(k),stackable:Dk(k)}],p="category"===k,w="category"===A;y=V5(y,z,m);var v={};return w&&(v.radius=b),p&&(v.angle=x),{dimensions:y,categoryIndex:p?1:w?0:-1,categoryAxesModels:v}},geo:function(b,d,f,a){return{dimensions:V5([{name:"lng"},{name:"lat"}],b,a)}}},tB=QW.extend({type:"series.__base_bar__",getInitialData:function(a,b){return Gj(a.data,this,b)},getMarkerPosition:function(f){var h=this.coordinateSystem;if(h){var l=h.dataToPoint(f,!0),d=this.getData(),k=d.getLayout("offset"),b=d.getLayout("size"),g=h.getBaseAxis().isHorizontal()?0:1;return l[g]+=k+b/2,l}return[0/0,0/0]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{}}});tB.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});var iG=UK([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),A1={getBarItemStyle:function(a){var b=iG(this,a);if(this.getBorderLineDash){var d=this.getBorderLineDash();d&&(b.lineDash=d)}return b}},yB=["itemStyle","normal","barBorderWidth"];Y2(RN.prototype,A1),E2({type:"bar",render:function(b,d,f){var a=b.get("coordinateSystem");return("cartesian2d"===a||"polar"===a)&&this._render(b,d,f),this.group},dispose:aaW,_render:function(f){var k,m=this.group,d=f.getData(),l=this._data,b=f.coordinateSystem,h=b.getBaseAxis();"cartesian2d"===b.type?k=h.isHorizontal():"polar"===b.type&&(k="angle"===h.dim);var g=f.isAnimationEnabled()?f:null;d.diff(l).add(function(p){if(d.hasValue(p)){var n=d.getItemModel(p),a=qB[b.type](d,p,n),e=zz[b.type](d,p,n,a,k,g);d.setItemGraphicEl(p,e),m.add(e),sE(e,d,p,n,a,f,k,"polar"===b.type)}}).update(function(o,a){var e=l.getItemGraphicEl(a);if(!d.hasValue(o)){return void m.remove(e)}var n=d.getItemModel(o),p=qB[b.type](d,o,n);e?i0(e,{shape:p},g,o):e=zz[b.type](d,o,n,p,k,g,!0),d.setItemGraphicEl(o,e),m.add(e),sE(e,d,o,n,p,f,k,"polar"===b.type)}).remove(function(a){var n=l.getItemGraphicEl(a);"cartesian2d"===b.type?n&&iH(a,g,n):n&&oF(a,g,n)}).execute(),this._data=d},remove:function(a){var b=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(f){"sector"===f.type?oF(f.dataIndex,a,f):iH(f.dataIndex,a,f)}):b.removeAll()}});var zz={cartesian2d:function(w,m,d,g,b,q,x){var f=new hZ({shape:Y2({},g)});if(q){var v=f.shape,k=b?"height":"width",p={};v[k]=0,p[k]=g[k],uW[x?"updateProps":"initProps"](f,{shape:p},q,m)}return f},polar:function(w,m,d,g,b,q,x){var f=new aY({shape:Y2({},g)});if(q){var v=f.shape,k=b?"r":"endAngle",p={};v[k]=b?0:g.startAngle,p[k]=g[k],uW[x?"updateProps":"initProps"](f,{shape:p},q,m)}return f}},qB={cartesian2d:function(f,h,l){var d=f.getItemLayout(h),k=hH(l,d),b=d.width>0?1:-1,g=d.height>0?1:-1;return{x:d.x+b*k/2,y:d.y+g*k/2,width:d.width-b*k,height:d.height-g*k}},polar:function(a,b){var d=a.getItemLayout(b);return{cx:d.cx,cy:d.cy,r0:d.r0,r:d.r,startAngle:d.startAngle,endAngle:d.endAngle}}},mE=bG({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(f,g){var k=g.cx,d=g.cy,h=g.width/2,b=g.height/2;f.moveTo(k,d-b),f.lineTo(k+h,d+b),f.lineTo(k-h,d+b),f.closePath()}}),R7=bG({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(f,g){var k=g.cx,d=g.cy,h=g.width/2,b=g.height/2;f.moveTo(k,d-b),f.lineTo(k+h,d),f.lineTo(k,d+b),f.lineTo(k-h,d),f.closePath()}}),nE=bG({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(D,y){var m=y.x,q=y.y,k=y.width/5*3,B=Math.max(k,y.height),b=k/2,E=b*b/(B-b),p=q-B+b+E,C=Math.asin(E/b),v=Math.cos(C)*b,A=Math.sin(C),z=Math.cos(C),x=0.6*b,w=0.7*b;D.moveTo(m-v,p+E),D.arc(m,p,b,Math.PI-C,2*Math.PI+C),D.bezierCurveTo(m+v-A*x,p+E+z*x,m,q-w,m,q),D.bezierCurveTo(m,q-w,m-v+A*x,p+E+z*x,m-v,p+E),D.closePath()}}),Dj=bG({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(f,h){var l=h.height,d=h.width,k=h.x,b=h.y,g=d/3*2;f.moveTo(k,b),f.lineTo(k+g,b+l),f.lineTo(k,b+l/4*3),f.lineTo(k-g,b+l),f.lineTo(k,b),f.closePath()}}),oE={line:AU,rect:hZ,roundRect:hZ,square:hZ,circle:GO,diamond:R7,pin:nE,arrow:Dj,triangle:mE},xB={line:function(b,d,g,a,f){f.x1=b,f.y1=d+a/2,f.x2=b+g,f.y2=d+a/2},rect:function(b,d,g,a,f){f.x=b,f.y=d,f.width=g,f.height=a},roundRect:function(b,d,g,a,f){f.x=b,f.y=d,f.width=g,f.height=a,f.r=Math.min(g,a)/4},square:function(f,g,k,d,h){var b=Math.min(k,d);h.x=f,h.y=g,h.width=b,h.height=b},circle:function(b,d,g,a,f){f.cx=b+g/2,f.cy=d+a/2,f.r=Math.min(g,a)/2},diamond:function(b,d,g,a,f){f.cx=b+g/2,f.cy=d+a/2,f.width=g,f.height=a},pin:function(b,d,g,a,f){f.x=b+g/2,f.y=d+a/2,f.width=g,f.height=a},arrow:function(b,d,g,a,f){f.x=b+g/2,f.y=d+a/2,f.width=g,f.height=a},triangle:function(b,d,g,a,f){f.cx=b+g/2,f.cy=d+a/2,f.width=g,f.height=a}},kE={};ZX(oE,function(a,b){kE[b]=new a});var At=bG({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style,b=this.shape;"pin"===b.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textVerticalAlign="middle")},buildPath:function(b,d,g){var a=d.symbolType,f=kE[a];"none"!==d.symbolType&&(f||(a="rect",f=kE[a]),xB[a](d.x,d.y,d.width,d.height,f.shape),f.buildPath(b,f.shape,g))}}),gG=Math.PI,vB=function(a,b){this.opt=b,this.axisModel=a,Y0(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new TO;var d=new TO({position:b.position.slice(),rotation:b.rotation});d.updateTransform(),this._transform=d.transform,this._dumbGroup=d};vB.prototype={constructor:vB,hasBuilder:function(a){return !!fG[a]},add:function(a){fG[a].call(this)},getGroup:function(){return this.group}};var fG={axisLine:function(){var w=this.opt,m=this.axisModel;if(m.get("axisLine.show")){var d=this.axisModel.axis.getExtent(),g=this._transform,b=[d[0],0],q=[d[1],0];g&&(aaK(b,b,g),aaK(q,q,g));var x=Y2({lineCap:"round"},m.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new AU(BB({anid:"line",shape:{x1:b[0],y1:b[1],x2:q[0],y2:q[1]},style:x,strokeContainThreshold:w.strokeContainThreshold||5,silent:!0,z2:1})));var f=m.get("axisLine.symbol"),v=m.get("axisLine.symbolSize");if(null!=f){"string"==typeof f&&(f=[f,f]),("string"==typeof v||"number"==typeof v)&&(v=[v,v]);var k=v[0],p=v[1];ZX([[w.rotation+Math.PI/2,b],[w.rotation-Math.PI/2,q]],function(a,h){if("none"!==f[h]&&null!=f[h]){var l=xE(f[h],-k/2,-p/2,k,p,x.stroke,!0);l.attr({rotation:a[0],position:a[1],silent:!0}),this.group.add(l)}},this)}}},axisTickLabel:function(){var b=this.axisModel,d=this.opt,f=wE(this,b,d),a=jG(this,b,d);Q9(b,a,f)},axisName:function(){var C=this.opt,N=this.axisModel,G=aaq(C.axisName,N.get("name"));if(G){var J,F=N.get("nameLocation"),R=C.nameDirection,D=N.getModel("nameTextStyle"),I=N.get("nameGap")||0,B=this.axisModel.axis.getExtent(),K=B[0]>B[1]?-1:1,P=["start"===F?B[0]-K*I:"end"===F?B[1]+K*I:(B[0]+B[1])/2,nF(F)?C.labelOffset+R*I:0],O=N.get("nameRotate");null!=O&&(O=O*gG/180);var M;nF(F)?J=uB(C.rotation,null!=O?O:C.rotation,R):(J=pF(C,F,O||0,B),M=C.axisNameAvailableWidth,null!=M&&(M=Math.abs(M/Math.sin(J.rotation)),!isFinite(M)&&(M=null)));var L=D.getFont(),E=N.get("nameTruncate",!0)||{},H=E.ellipsis,A=aaq(C.nameTruncateMaxWidth,E.maxWidth,M),k=null!=H&&null!=A?KU(G,A,L,H,{minChar:2,placeholder:E.placeholder}):G,q=N.get("tooltip",!0),S=N.mainType,Q={componentType:S,name:G,$vars:["name"]};Q[S+"Index"]=N.componentIndex;var z=new PN({anid:"name",__fullText:G,__truncatedText:k,position:P,rotation:J.rotation,silent:lF(N),z2:1,tooltip:q&&q.show?Y2({content:G,formatter:function(){return G},formatterParams:Q},q):null});WH(z.style,D,{text:k,textFont:L,textFill:D.getTextColor()||N.get("axisLine.lineStyle.color"),textAlign:J.textAlign,textVerticalAlign:J.textVerticalAlign}),N.get("triggerEvent")&&(z.eventData=yE(N),z.eventData.targetType="axisName",z.eventData.name=G),this._dumbGroup.add(z),z.updateTransform(),this.group.add(z),z.decomposeTransform()}}},uB=vB.innerTextLayout=function(f,g,k){var d,h,b=yG(g-f);return pH(b)?(h=k>0?"top":"bottom",d="center"):pH(b-gG)?(h=k>0?"bottom":"top",d="center"):(h="middle",d=b>0&&gG>b?k>0?"right":"left":k>0?"left":"right"),{rotation:b,textAlign:d,textVerticalAlign:h}},wB=vB.ifIgnoreOnTick=function(f,k,m,d,l,b){if(0===k&&l||k===d-1&&b){return !1}var h,g=f.scale;return"ordinal"===g.type&&("function"==typeof m?(h=g.getTicks()[k],!m(h,g.getLabel(h))):k%(m+1))},cB=vB.getInterval=function(a,b){var d=a.get("interval");return(null==d||"auto"==d)&&(d=b),d},eG=ZX,dG=YN,hG=aE({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(b,d,f,a){this.axisPointerClass&&bK(b),hG.superApply(this,"render",arguments),R8(this,b,d,f,a,!0)},updateAxisPointer:function(b,d,f,a){R8(this,b,d,f,a,!1)},remove:function(a,b){var d=this._axisPointer;d&&d.remove(b),hG.superApply(this,"remove",arguments)},dispose:function(a,b){BG(this,b),hG.superApply(this,"dispose",arguments)}}),L8=[];hG.registerAxisPointerClass=function(a,b){L8[a]=b},hG.getAxisPointerClass=function(a){return a&&L8[a]};var S5=vB.ifIgnoreOnTick,B0=vB.getInterval,rB=["axisLine","axisTickLabel","axisName"],sB=["splitArea","splitLine"],lE=hG.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(f,k,m,d){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new TO,this.group.add(this._axisGroup),f.get("show")){var b=f.getCoordSysModel(),h=qE(b,f),g=new vB(f,h);ZX(rB,g.add,g),this._axisGroup.add(g.getGroup()),ZX(sB,function(a){f.get(a+".show")&&this["_"+a](f,b,h.labelInterval)},this),xX(l,this._axisGroup,f),lE.superCall(this,"render",f,k,m,d)}},_splitLine:function(z,K,D){var G=z.axis;if(!G.scale.isBlank()){var C=z.getModel("splitLine"),O=C.getModel("lineStyle"),A=O.get("color"),F=B0(C,D);A=YO(A)?A:[A];for(var x=K.coordinateSystem.getRect(),H=G.isHorizontal(),M=0,L=G.getTicksCoords(),J=G.scale.getTicks(),I=z.get("axisLabel.showMinLabel"),B=z.get("axisLabel.showMaxLabel"),E=[],s=[],k=O.getLineStyle(),P=0;P<L.length;P++){if(!S5(G,P,F,L.length,I,B)){var N=G.toGlobalCoord(L[P]);H?(E[0]=N,E[1]=x.y,s[0]=N,s[1]=x.y+x.height):(E[0]=x.x,E[1]=N,s[0]=x.x+x.width,s[1]=N);var q=M++%A.length;this._axisGroup.add(new AU(BB({anid:"line_"+J[P],shape:{x1:E[0],y1:E[1],x2:s[0],y2:s[1]},style:Y0({stroke:A[q]},k),silent:!0})))}}}},_splitArea:function(C,P,G){var K=C.axis;if(!K.scale.isBlank()){var F=C.getModel("splitArea"),U=F.getModel("areaStyle"),D=U.get("color"),J=P.coordinateSystem.getRect(),B=K.getTicksCoords(),L=K.scale.getTicks(),R=K.toGlobalCoord(B[0]),Q=K.toGlobalCoord(B[0]),O=0,N=B0(F,G),E=U.getAreaStyle();D=YO(D)?D:[D];for(var H=C.get("axisLabel.showMinLabel"),A=C.get("axisLabel.showMaxLabel"),s=1;s<B.length;s++){if(!S5(K,s,N,B.length,H,A)){var V,T,z,k,q=K.toGlobalCoord(B[s]);K.isHorizontal()?(V=R,T=J.y,z=q-V,k=J.height):(V=J.x,T=Q,z=J.width,k=q-T);var x=O++%D.length;this._axisGroup.add(new hZ({anid:"area_"+L[s],shape:{x:V,y:T,width:z,height:k},style:Y0({fill:D[x]},E),silent:!0})),R=V+z,Q=T+k}}}}});lE.extend({type:"xAxis"}),lE.extend({type:"yAxis"}),aE({type:"grid",render:function(a){this.group.removeAll(),a.get("show")&&this.group.add(new hZ({shape:a.coordinateSystem.getRect(),style:Y0({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),TW(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),O0(YN(k7,"bar")),F1(function(a){a.eachSeriesByType("bar",function(b){var d=b.getData();d.setVisual("legendSymbol","roundRect")})}),QW.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,b){return Gj(a.data,this,b)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Jz=WU.prototype;Jz._createSymbol=function(f,g,k,d){this.removeAll();var h=g.getItemVisual(k,"color"),b=xE(f,-1,-1,2,2,h);b.attr({z2:100,culling:!0,scale:HZ(d)}),b.drift=NY,this._symbolType=f,this.add(b)},Jz.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)},Jz.getSymbolPath=function(){return this.childAt(0)},Jz.getScale=function(){return this.childAt(0).scale},Jz.highlight=function(){this.childAt(0).trigger("emphasis")},Jz.downplay=function(){this.childAt(0).trigger("normal")},Jz.setZ=function(a,b){var d=this.childAt(0);d.zlevel=a,d.z=b},Jz.setDraggable=function(a){var b=this.childAt(0);b.draggable=a,b.cursor=a?"move":"pointer"},Jz.updateData=function(q,k,f){this.silent=!1;var h=q.getItemVisual(k,"symbol")||"circle",d=q.hostModel,m=kF(q,k),b=h!==this._symbolType;if(b){this._createSymbol(h,q,k,m)}else{var v=this.childAt(0);v.silent=!1,i0(v,{scale:HZ(m)},d,k)}if(this._updateCommon(q,k,m,f),b){var v=this.childAt(0),g=f&&f.fadeIn,p={scale:v.scale.slice()};g&&(p.style={opacity:v.style.opacity}),v.scale=[0,0],g&&(v.style.opacity=0),oY(v,p,d,k)}this._seriesModel=d};var X8=["itemStyle","normal"],Pt=["itemStyle","emphasis"],T9=["label","normal"],Ot=["label","emphasis"];Jz._updateCommon=function(D,O,H,K){var G=this.childAt(0),T=D.hostModel,E=D.getItemVisual(O,"color");"image"!==G.type&&G.useStyle({strokeNoScale:!0});var J=K&&K.itemStyle,C=K&&K.hoverItemStyle,L=K&&K.symbolRotate,Q=K&&K.symbolOffset,P=K&&K.labelModel,N=K&&K.hoverLabelModel,M=K&&K.hoverAnimation,F=K&&K.cursorStyle;if(!K||D.hasItemOption){var I=K&&K.itemModel?K.itemModel:D.getItemModel(O);J=I.getModel(X8).getItemStyle(["color"]),C=I.getModel(Pt).getItemStyle(),L=I.getShallow("symbolRotate"),Q=I.getShallow("symbolOffset"),P=I.getModel(T9),N=I.getModel(Ot),M=I.getShallow("hoverAnimation"),F=I.getShallow("cursor")}else{C=Y2({},C)}var B=G.style;G.attr("rotation",(L||0)*Math.PI/180||0),Q&&G.attr("position",[Ft(Q[0],H[0]),Ft(Q[1],H[1])]),F&&G.attr("cursor",F),G.setColor(E,K&&K.symbolInnerColor),G.setStyle(J);var q=D.getItemVisual(O,"opacity");null!=q&&(B.opacity=q);var z=K&&K.useNameLabel,U=!z&&rE(D);(z||null!=U)&&YG(B,C,P,N,{labelFetcher:T,labelDataIndex:O,defaultText:z?D.getName(O):D.get(U,O),isRectText:!0,autoColor:E}),G.off("mouseover").off("mouseout").off("emphasis").off("normal"),G.hoverStyle=C,aad(G);var R=HZ(H);if(M&&T.isAnimationEnabled()){var A=function(){var a=R[1]/R[0];this.animateTo({scale:[Math.max(1.1*R[0],R[0]+3),Math.max(1.1*R[1],R[1]+3*a)]},400,"elasticOut")},k=function(){this.animateTo({scale:R},400,"elasticOut")};G.on("mouseover",A).on("mouseout",k).on("emphasis",A).on("normal",k)}},Jz.fadeOut=function(a,b){var d=this.childAt(0);this.silent=d.silent=!0,!(b&&b.keepLabel)&&(d.style.text=null),i0(d,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,a)},ZR(WU,TO);var abN=SW.prototype;abN.updateData=function(f,h){var l=this.group,d=f.hostModel,k=this._data,b=this._symbolCtor,g={itemStyle:d.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:d.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:d.get("symbolRotate"),symbolOffset:d.get("symbolOffset"),hoverAnimation:d.get("hoverAnimation"),labelModel:d.getModel("label.normal"),hoverLabelModel:d.getModel("label.emphasis"),cursorStyle:d.get("cursor")};f.diff(k).add(function(a){var m=f.getItemLayout(a);if(MY(f,a,h)){var e=new b(f,a,g);e.attr("position",m),f.setItemGraphicEl(a,e),l.add(e)}}).update(function(n,a){var e=k.getItemGraphicEl(a),m=f.getItemLayout(n);return MY(f,n,h)?(e?(e.updateData(f,n,g),i0(e,{position:m},d)):(e=new b(f,n),e.attr("position",m)),l.add(e),void f.setItemGraphicEl(n,e)):void l.remove(e)}).remove(function(a){var m=k.getItemGraphicEl(a);m&&m.fadeOut(function(){l.remove(m)})}).execute(),this._data=f},abN.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(d,f){var b=a.getItemLayout(f);d.attr("position",b)})},abN.remove=function(a){var b=this.group,d=this._data;d&&(a?d.eachItemGraphicEl(function(e){e.fadeOut(function(){b.remove(e)})}):b.removeAll())};var Lt=function(G,W,N,Q,L,aa){for(var J=IZ(G,W),H=[],P=[],F=[],R=[],Y=[],X=[],V=[],U=aa.dimensions,K=0;K<J.length;K++){var O=J[K],E=!0;switch(O.cmd){case"=":var A=G.getItemLayout(O.idx),C=W.getItemLayout(O.idx1);(isNaN(A[0])||isNaN(A[1]))&&(A=C.slice()),H.push(A),P.push(C),F.push(N[O.idx]),R.push(Q[O.idx1]),V.push(W.getRawIndex(O.idx1));break;case"+":var ab=O.idx;H.push(L.dataToPoint([W.get(U[0],ab,!0),W.get(U[1],ab,!0)])),P.push(W.getItemLayout(ab).slice()),F.push(JZ(L,W,ab)),R.push(Q[ab]),V.push(W.getRawIndex(ab));break;case"-":var ab=O.idx,Z=G.getRawIndex(ab);Z!==ab?(H.push(G.getItemLayout(ab)),P.push(aa.dataToPoint([G.get(U[0],ab,!0),G.get(U[1],ab,!0)])),F.push(N[ab]),R.push(JZ(aa,G,ab)),V.push(Z)):E=!1}E&&(Y.push(O),X.push(X.length))}X.sort(function(a,b){return V[a]-V[b]});for(var D=[],q=[],z=[],B=[],k=[],K=0;K<X.length;K++){var ab=X[K];D[K]=H[ab],q[K]=P[ab],z[K]=F[ab],B[K]=R[ab],k[K]=Y[ab]}return{current:D,next:q,stackedOnCurrent:z,stackedOnNext:B,status:k}},Kz=aaN,Rq=aax,Iz=aaP,U9=aa3,aaR=[],ZW=[],W9=[],V9=Cz.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:EQ(Cz.prototype.brush),buildPath:function(f,g){var k=g.points,d=0,h=k.length,b=TU(k,g.smoothConstraint);if(g.connectNulls){for(;h>0&&PY(k[h-1]);h--){}for(;h>d&&PY(k[d]);d++){}}for(;h>d;){d+=GZ(f,k,d,h,h,1,b.min,b.max,g.smooth,g.smoothMonotone,g.connectNulls)+1}}}),Nt=Cz.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:EQ(Cz.prototype.brush),buildPath:function(q,k){var f=k.points,h=k.stackedOnPoints,d=0,m=f.length,b=k.smoothMonotone,v=TU(f,k.smoothConstraint),g=TU(h,k.smoothConstraint);if(k.connectNulls){for(;m>0&&PY(f[m-1]);m--){}for(;m>d&&PY(f[d]);d++){}}for(;m>d;){var p=GZ(q,f,d,m,m,1,v.min,v.max,k.smooth,b,k.connectNulls);GZ(q,h,d+p-1,p,m,-1,g.min,g.max,k.stackedOnSmooth,b,k.connectNulls),d+=p+1,q.closePath()}}});k9.extend({type:"line",init:function(){var a=new TO,b=new SW;this.group.add(b.group),this._symbolDraw=b,this._lineGroup=a},render:function(G,W,N){var Q=G.coordinateSystem,L=this.group,aa=G.getData(),H=G.getModel("lineStyle.normal"),P=G.getModel("areaStyle.normal"),F=aa.mapArray(aa.getItemLayout,!0),R="polar"===Q.type,Y=this._coordSys,X=this._symbolDraw,V=this._polyline,U=this._polygon,K=this._lineGroup,O=G.get("animation"),E=!P.isEmpty(),z=LY(Q,aa),C=G.get("showSymbol"),ab=C&&!R&&!G.get("showAllSymbol")&&this._getSymbolIgnoreFunc(aa,Q),Z=this._data;Z&&Z.eachItemGraphicEl(function(a,b){a.__temp&&(L.remove(a),Z.setItemGraphicEl(b,null))}),C||X.remove(),L.add(K);var D=!R&&G.get("step");V&&Y.type===Q.type&&D===this._step?(E&&!U?U=this._newPolygon(F,z,Q,O):U&&!E&&(K.remove(U),U=this._polygon=null),K.setClipPath(C0(Q,!1,G)),C&&X.updateData(aa,ab),aa.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),Y1(this._stackedOnPoints,z)&&Y1(this._points,F)||(O?this._updateAnimation(aa,z,Q,N,D):(D&&(F=D0(F,Q,D),z=D0(z,Q,D)),V.setShape({points:F}),U&&U.setShape({points:F,stackedOnPoints:z})))):(C&&X.updateData(aa,ab),D&&(F=D0(F,Q,D),z=D0(z,Q,D)),V=this._newPolyline(F,Q,O),E&&(U=this._newPolygon(F,z,Q,O)),K.setClipPath(C0(Q,!0,G)));var q=aB(aa,Q)||aa.getVisual("color");V.useStyle(Y0(H.getLineStyle(),{fill:"none",stroke:q,lineJoin:"bevel"}));var s=G.get("smooth");if(s=XU(G.get("smooth")),V.setShape({smooth:s,smoothMonotone:G.get("smoothMonotone"),connectNulls:G.get("connectNulls")}),U){var B=aa.stackedOn,k=0;if(U.useStyle(Y0(P.getAreaStyle(),{fill:q,opacity:0.7,lineJoin:"bevel"})),B){var J=B.hostModel;k=XU(J.get("smooth"))}U.setShape({smooth:s,stackedOnSmooth:k,smoothMonotone:G.get("smoothMonotone"),connectNulls:G.get("connectNulls")})}this._data=aa,this._coordSys=Q,this._stackedOnPoints=z,this._points=F,this._step=D},dispose:function(){},highlight:function(f,k,m,d){var l=f.getData(),b=bY(l,d);if(!(b instanceof Array)&&null!=b&&b>=0){var h=l.getItemGraphicEl(b);if(!h){var g=l.getItemLayout(b);if(!g){return}h=new WU(l,b),h.position=g,h.setZ(f.get("zlevel"),f.get("z")),h.ignore=isNaN(g[0])||isNaN(g[1]),h.__temp=!0,l.setItemGraphicEl(b,h),h.stopSymbolAnimation(!0),this.group.add(h)}h.highlight()}else{k9.prototype.highlight.call(this,f,k,m,d)}},downplay:function(f,h,l,d){var k=f.getData(),b=bY(k,d);if(null!=b&&b>=0){var g=k.getItemGraphicEl(b);g&&(g.__temp?(k.setItemGraphicEl(b,null),this.group.remove(g)):g.downplay())}else{k9.prototype.downplay.call(this,f,h,l,d)}},_newPolyline:function(a){var b=this._polyline;return b&&this._lineGroup.remove(b),b=new V9({shape:{points:a},silent:!0,z2:10}),this._lineGroup.add(b),this._polyline=b,b},_newPolygon:function(a,b){var d=this._polygon;return d&&this._lineGroup.remove(d),d=new Nt({shape:{points:a,stackedOnPoints:b},silent:!0}),this._lineGroup.add(d),this._polygon=d,d},_getSymbolIgnoreFunc:function(a,b){var d=b.getAxesByScale("ordinal")[0];return d&&d.isLabelIgnored?YU(d.isLabelIgnored,d):void 0},_updateAnimation:function(q,H,A,D,z){var K=this._polyline,x=this._polygon,w=q.hostModel,C=Lt(this._data,q,this._stackedOnPoints,H,this._coordSys,A),k=C.current,E=C.stackedOnCurrent,J=C.next,I=C.stackedOnNext;z&&(k=D0(C.current,A,z),E=D0(C.stackedOnCurrent,A,z),J=D0(C.next,A,z),I=D0(C.stackedOnNext,A,z)),K.shape.__points=C.current,K.shape.points=k,i0(K,{shape:{points:J}},w),x&&(x.setShape({points:k,stackedOnPoints:E}),i0(x,{shape:{points:J,stackedOnPoints:I}},w));for(var G=[],F=C.status,y=0;y<F.length;y++){var B=F[y].cmd;if("="===B){var b=q.getItemGraphicEl(F[y].idx1);b&&G.push({el:b,ptIdx:y})}}K.animators&&K.animators.length&&K.animators[0].during(function(){for(var a=0;a<G.length;a++){var d=G[a].el;d.attr("position",K.shape.__points[G[a].ptIdx])}})},remove:function(){var a=this.group,b=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),b&&b.eachItemGraphicEl(function(e,d){e.__temp&&(a.remove(e),b.setItemGraphicEl(d,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Qt=function(b,d,f,a){a.eachRawSeriesByType(b,function(g){var k=g.getData(),e=g.get("symbol")||d,h=g.get("symbolSize");k.setVisual({legendSymbol:f||e,symbol:e,symbolSize:h}),a.isSeriesFiltered(g)||("function"==typeof h&&k.each(function(m){var o=g.getRawValue(m),l=g.getDataParams(m);k.setItemVisual(m,"symbolSize",h(o,l))}),k.each(function(m){var o=k.getItemModel(m),p=o.getShallow("symbol",!0),l=o.getShallow("symbolSize",!0);null!=p&&k.setItemVisual(m,"symbol",p),null!=l&&k.setItemVisual(m,"symbolSize",l)}))})},Hz=function(a,b){b.eachSeriesByType(a,function(g){var h=g.getData(),l=g.coordinateSystem;if(l){for(var f=[],k=l.dimensions,d=0;d<k.length;d++){f.push(g.coordDimToDataDim(l.dimensions[d])[0])}1===f.length?h.each(f[0],function(m,e){h.setItemLayout(e,isNaN(m)?[0/0,0/0]:l.dataToPoint(m))}):2===f.length&&h.each(f,function(m,e,n){h.setItemLayout(n,isNaN(m)||isNaN(e)?[0/0,0/0]:l.dataToPoint([m,e]))},!0)}})},EB={average:function(b){for(var d=0,f=0,a=0;a<b.length;a++){isNaN(b[a])||(d+=b[a],f++)}return 0===f?0/0:d/f},sum:function(a){for(var b=0,d=0;d<a.length;d++){b+=a[d]||0}return b},max:function(a){for(var b=-1/0,d=0;d<a.length;d++){a[d]>b&&(b=a[d])}return b},min:function(a){for(var b=1/0,d=0;d<a.length;d++){a[d]<b&&(b=a[d])}return b},nearest:function(a){return a[0]}},Fz=function(a){return Math.round(a.length/2)},a6=function(a,b){b.eachSeriesByType(a,function(v){var m=v.getData(),g=v.get("sampling"),k=v.coordinateSystem;if("cartesian2d"===k.type&&g){var f=k.getBaseAxis(),p=k.getOtherAxis(f),d=f.getExtent(),w=d[1]-d[0],h=Math.round(m.count()/w);if(h>1){var q;"string"==typeof g?q=EB[g]:"function"==typeof g&&(q=g),q&&(m=m.downSample(p.dim,1/h,q,Fz),v.setData(m))}}},this)};F1(YN(Qt,"line","circle","line")),O0(YN(Hz,"line")),Y5(j4.PROCESSOR.STATISTIC,YN(a6,"line"));var abu={updateSelectedMap:function(a){this._targetList=a.slice(),this._selectTargetMap=Y7(a||[],function(b,d){return b.set(d.name,d),b},aaD())},select:function(b,d){var f=null!=d?this._targetList[d]:this._selectTargetMap.get(b),a=this.get("selectedMode");"single"===a&&this._selectTargetMap.each(function(e){e.selected=!1}),f&&(f.selected=!0)},unSelect:function(a,b){var d=null!=b?this._targetList[b]:this._selectTargetMap.get(a);d&&(d.selected=!1)},toggleSelected:function(a,b){var d=null!=b?this._targetList[b]:this._selectTargetMap.get(a);return null!=d?(this[d.selected?"unSelect":"select"](a,b),d.selected):void 0},isSelected:function(a,b){var d=null!=b?this._targetList[b]:this._selectTargetMap.get(a);return d&&d.selected}},Gz=aav({type:"series.pie",init:function(a){Gz.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(a.data),this._defaultLabelLine(a)},mergeOption:function(a){Gz.superCall(this,"mergeOption",a),this.updateSelectedMap(this.option.data)},getInitialData:function(a){var b=V5(["value"],a.data),d=new P8(b,this);return d.initData(a.data),d},getDataParams:function(b){var d=this.getData(),f=Gz.superCall(this,"getDataParams",b),a=[];return d.each("value",function(e){a.push(e)}),f.percent=xG(a,b,d.hostModel.get("percentPrecision")),f.$vars.push("percent"),f},_defaultLabelLine:function(a){wX(a.labelLine,["show"]);var b=a.labelLine.normal,d=a.labelLine.emphasis;b.show=b.show&&a.label.normal.show,d.show=d.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"60%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});Z3(Gz,abu);var jK=h7.prototype;jK.updateData=function(D,y,m){function s(){B.stopAnimation(!0),B.animateTo({shape:{r:v.r+q.get("hoverOffset")}},300,"elasticOut")}function k(){B.stopAnimation(!0),B.animateTo({shape:{r:v.r}},300,"elasticOut")}var B=this.childAt(0),q=D.hostModel,C=D.getItemModel(y),v=D.getItemLayout(y),A=Y2({},v);if(A.label=null,m){B.setShape(A);var z=q.getShallow("animationType");"scale"===z?(B.shape.r=v.r0,oY(B,{shape:{r:v.r}},q,y)):(B.shape.endAngle=v.startAngle,i0(B,{shape:{endAngle:v.endAngle}},q,y))}else{i0(B,{shape:A},q,y)}var x=C.getModel("itemStyle"),w=D.getItemVisual(y,"color");B.useStyle(Y0({lineJoin:"bevel",fill:w},x.getModel("normal").getItemStyle())),B.hoverStyle=x.getModel("emphasis").getItemStyle();var b=C.getShallow("cursor");b&&B.attr("cursor",b),E0(this,D.getItemLayout(y),C.get("selected"),q.get("selectedOffset"),q.get("animation")),B.off("mouseover").off("mouseout").off("emphasis").off("normal"),C.get("hoverAnimation")&&q.isAnimationEnabled()&&B.on("mouseover",s).on("mouseout",k).on("emphasis",s).on("normal",k),this._updateLabel(D,y),aad(this)},jK._updateLabel=function(B,w){var k=this.childAt(1),p=this.childAt(2),g=B.hostModel,z=B.getItemModel(w),b=B.getItemLayout(w),C=b.label,m=B.getItemVisual(w,"color");i0(k,{shape:{points:C.linePoints||[[C.x,C.y],[C.x,C.y],[C.x,C.y]]}},g,w),i0(p,{style:{x:C.x,y:C.y}},g,w),p.attr({rotation:C.rotation,origin:[C.x,C.y],z2:10});var A=z.getModel("label.normal"),q=z.getModel("label.emphasis"),y=z.getModel("labelLine.normal"),x=z.getModel("labelLine.emphasis"),m=B.getItemVisual(w,"color");YG(p.style,p.hoverStyle={},A,q,{labelFetcher:B.hostModel,labelDataIndex:w,defaultText:B.getName(w),autoColor:m,useInsideStyle:!!C.inside},{textAlign:C.textAlign,textVerticalAlign:C.verticalAlign,opacity:B.getItemVisual(w,"opacity")}),p.ignore=p.normalIgnore=!A.get("show"),p.hoverIgnore=!q.get("show"),k.ignore=k.normalIgnore=!y.get("show"),k.hoverIgnore=!x.get("show"),k.setStyle({stroke:m,opacity:B.getItemVisual(w,"opacity")}),k.setStyle(y.getModel("lineStyle").getLineStyle()),k.hoverStyle=x.getModel("lineStyle").getLineStyle();var v=y.get("smooth");v&&v===!0&&(v=0.4),k.setShape({smooth:v})},ZR(h7,TO);var pJ=(k9.extend({type:"pie",init:function(){var a=new TO;this._sectorGroup=a},render:function(D,y,m,q){if(!q||q.from!==this.uid){var k=D.getData(),B=this._data,b=this.group,E=y.get("animation"),p=!B,C=D.get("animationType"),v=YN(aar,this.uid,D,E,m),A=D.get("selectedMode");if(k.diff(B).add(function(a){var d=new h7(k,a);p&&"scale"!==C&&d.eachChild(function(e){e.stopAnimation(!0)}),A&&d.on("click",v),k.setItemGraphicEl(a,d),b.add(d)}).update(function(a,d){var f=B.getItemGraphicEl(d);f.updateData(k,a),f.off("click"),A&&f.on("click",v),b.add(f),k.setItemGraphicEl(a,f)}).remove(function(a){var d=B.getItemGraphicEl(a);b.remove(d)}).execute(),E&&p&&k.count()>0&&"scale"!==C){var z=k.getItemLayout(0),x=Math.max(m.getWidth(),m.getHeight())/2,w=YU(b.removeClipPath,b);b.setClipPath(this._createClipPath(z.cx,z.cy,x,z.startAngle,z.clockwise,w,D))}this._data=k}},dispose:function(){},_createClipPath:function(f,k,m,d,l,b,h){var g=new aY({shape:{cx:f,cy:k,r0:0,r:m,startAngle:d,endAngle:d,clockwise:l}});return oY(g,{shape:{endAngle:d+(l?1:-1)*Math.PI*2}},h,b),g},containPoint:function(f,h){var l=h.getData(),d=l.getItemLayout(0);if(d){var k=f[0]-d.cx,b=f[1]-d.cy,g=Math.sqrt(k*k+b*b);return g<=d.r&&g>=d.r0}}}),function(a,b){ZX(b,function(d){d.update="updateView",VW(d,function(g,e){var f={};return e.eachComponent({mainType:"series",subType:a,query:g},function(k){k[d.method]&&k[d.method](g.name,g.dataIndex);var h=k.getData();h.each(function(l){var m=h.getName(l);f[m]=k.isSelected(m)||!1})}),{name:g.name,selected:f}})})}),tH=function(a,b){var d={};b.eachRawSeriesByType(a,function(g){var f=g.getRawData(),h={};if(!b.isSeriesFiltered(g)){var e=g.getData();e.each(function(k){var l=e.getRawIndex(k);h[l]=k}),f.each(function(p){var o=h[p],n=null!=o&&e.getItemVisual(o,"color",!0);if(n){f.setItemVisual(p,"color",n)}else{var k=f.getItemModel(p),m=k.get("itemStyle.normal.color")||g.getColorFromPalette(f.getName(p),d);f.setItemVisual(p,"color",m),null!=o&&e.setItemVisual(o,"color",m)}})}})},iN=function(p,k,f,h){var d,m,b=p.getData(),q=[],g=!1;b.each(function(O){var U,G,V,Z,Y=b.getItemLayout(O),X=b.getItemModel(O),W=X.getModel("label.normal"),N=W.get("position")||X.get("label.emphasis.position"),Q=X.getModel("labelLine.normal"),F=Q.get("length"),t=Q.get("length2"),B=(Y.startAngle+Y.endAngle)/2,ab=Math.cos(B),aa=Math.sin(B);d=Y.cx,m=Y.cy;var E="inside"===N||"inner"===N;if("center"===N){U=Y.cx,G=Y.cy,Z="center"}else{var e=(E?(Y.r+Y.r0)/2*ab:Y.r*ab)+d,o=(E?(Y.r+Y.r0)/2*aa:Y.r*aa)+m;if(U=e+3*ab,G=o+3*aa,!E){var z=e+ab*(F+k-Y.r),a=o+aa*(F+k-Y.r),K=z+(0>ab?-1:1)*t,H=a;U=K+(0>ab?-5:5),G=H,V=[[e,o],[z,a],[K,H]]}Z=E?"center":ab>0?"left":"right"}var J=W.getFont(),s=W.get("rotate")?0>ab?-B+Math.PI:-B:0,l=p.getFormattedLabel(O,"normal")||b.getName(O),R=V2(l,J,Z,"top");g=!!s,Y.label={x:U,y:G,position:N,height:R.height,len:F,len2:t,linePoints:V,textAlign:Z,verticalAlign:"middle",rotation:s,inside:E},E||q.push(Y.label)}),!g&&p.get("avoidLabelOverlap")&&r4(q,d,m,k,f,h)},A3=2*Math.PI,yH=Math.PI/180,zG=function(a,b,d){b.eachSeriesByType(a,function(D){var Q=D.get("center"),L=D.get("radius");YO(L)||(L=[0,L]),YO(Q)||(Q=[Q,Q]);var H=d.getWidth(),W=d.getHeight(),F=Math.min(H,W),E=Ft(Q[0],H),K=Ft(Q[1],W),C=Ft(L[0],F/2),N=Ft(L[1],F/2),U=D.getData(),R=-D.get("startAngle")*yH,P=D.get("minAngle")*yH,O=0;U.each("value",function(e){!isNaN(e)&&O++});var G=U.getSum("value"),J=Math.PI/(G||O)*2,B=D.get("clockwise"),x=D.get("roseType"),X=D.get("stillShowZeroSum"),V=U.getDataExtent("value");V[0]=0;var A=A3,n=0,q=R,z=B?1:-1;if(U.each("value",function(g,h){var l;if(isNaN(g)){return void U.setItemLayout(h,{angle:0/0,startAngle:0/0,endAngle:0/0,clockwise:B,cx:E,cy:K,r0:C,r:x?0/0:N})}l="area"!==x?0===G&&X?J:g*J:A3/O,P>l?(l=P,A-=P):n+=g;var f=q+z*l;U.setItemLayout(h,{angle:l,startAngle:q,endAngle:f,clockwise:B,cx:E,cy:K,r0:C,r:x?aaQ(g,V,[C,N]):N}),q=f},!0),A3>A&&O){if(0.001>=A){var k=A3/O;U.each("value",function(f,g){if(!isNaN(f)){var h=U.getItemLayout(g);h.angle=k,h.startAngle=R+z*g*k,h.endAngle=R+z*(g+1)*k}})}else{J=A/n,q=R,U.each("value",function(g,h){if(!isNaN(g)){var l=U.getItemLayout(h),f=l.angle===P?P:g*J;l.startAngle=q,l.endAngle=q+z*f,q+=z*f}})}}iN(D,N,H,W)})},qH=function(a,b){var d=b.findComponents({mainType:"legend"});d&&d.length&&b.eachSeriesByType(a,function(f){var g=f.getData();g.filterSelf(function(h){for(var e=g.getName(h),k=0;k<d.length;k++){if(!d[k].isSelected(e)){return !1}}return !0},this)},this)};pJ("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),F1(YN(tH,"pie")),O0(YN(zG,"pie")),Y5(YN(qH,"pie")),QW.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,b){return Gj(a.data,this,b)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2000,itemStyle:{normal:{opacity:0.8}}}});var mJ=bG({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(p,k){for(var f=k.points,h=k.sizes,d=this.symbolProxy,m=d.shape,b=0;b<f.length;b++){var q=f[b];if(!isNaN(q[0])&&!isNaN(q[1])){var g=h[b];g[0]<4?p.rect(q[0]-g[0]/2,q[1]-g[1]/2,g[0],g[1]):(m.x=q[0]-g[0]/2,m.y=q[1]-g[1]/2,m.width=g[0],m.height=g[1],d.buildPath(p,m,!0))}}},findDataIndex:function(q,k){for(var f=this.shape,h=f.points,d=f.sizes,m=h.length-1;m>=0;m--){var b=h[m],v=d[m],g=b[0]-v[0]/2,p=b[1]-v[1]/2;if(q>=g&&k>=p&&q<=g+v[0]&&k<=p+v[1]){return m}}return -1}}),Sk=g7.prototype;Sk.updateData=function(b){this.group.removeAll();var d=this._symbolEl,f=b.hostModel;d.setShape({points:b.mapArray(b.getItemLayout),sizes:b.mapArray(function(g){var h=b.getItemVisual(g,"symbolSize");return h instanceof Array||(h=[h,h]),h})}),d.symbolProxy=xE(b.getVisual("symbol"),0,0,0,0),d.setColor=d.symbolProxy.setColor,d.useStyle(f.getModel("itemStyle.normal").getItemStyle(["color"]));var a=b.getVisual("color");a&&d.setColor(a),d.seriesIndex=f.seriesIndex,d.on("mousemove",function(e){d.dataIndex=null;var g=d.findDataIndex(e.offsetX,e.offsetY);g>=0&&(d.dataIndex=g)}),this.group.add(d)},Sk.updateLayout=function(a){var b=a.getData();this._symbolEl.setShape({points:b.mapArray(b.getItemLayout)})},Sk.remove=function(){this.group.removeAll()},E2({type:"scatter",init:function(){this._normalSymbolDraw=new SW,this._largeSymbolDraw=new g7},render:function(f){var g=f.getData(),k=this._largeSymbolDraw,d=this._normalSymbolDraw,h=this.group,b=f.get("large")&&g.count()>f.get("largeThreshold")?k:d;this._symbolDraw=b,b.updateData(g),h.add(b.group),h.remove(b===k?d.group:k.group)},updateLayout:function(a){this._symbolDraw.updateLayout(a)},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b,!0)},dispose:function(){}}),F1(YN(Qt,"scatter","circle",null)),O0(YN(Hz,"scatter"));var nJ=Cz.extend({type:"whiskerInBox",shape:{},buildPath:function(b,d){for(var f in d){if(d.hasOwnProperty(f)&&0===f.indexOf("ends")){var a=d[f];b.moveTo(a[0][0],a[0][1]),b.lineTo(a[1][0],a[1][1])}}}}),DB=z3.prototype;DB._createContent=function(f,h,l){var d=f.getItemLayout(h),k="horizontal"===d.chartLayout?1:0,b=0;this.add(new oX({shape:{points:l?w4(d.bodyEnds,k,d):d.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=b++;var g=ZU(d.whiskerEnds,function(a){return l?w4(a,k,d):a});this.add(new nJ({shape:x4(g),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=b++},DB.updateData=function(f,g,k){var d=this._seriesModel=f.hostModel,h=f.getItemLayout(g),b=uW[k?"initProps":"updateProps"];b(this.childAt(this.bodyIndex),{shape:{points:h.bodyEnds}},d,g),b(this.childAt(this.whiskerIndex),{shape:x4(h.whiskerEnds)},d,g),this.styleUpdater.call(null,this,f,g)},ZR(z3,TO);var oJ=o5.prototype;oJ.updateData=function(b){var d=this.group,f=this._data,a=this.styleUpdater;b.diff(f).add(function(g){if(b.hasValue(g)){var e=new z3(b,g,a,!0);b.setItemGraphicEl(g,e),d.add(e)}}).update(function(h,e){var g=f.getItemGraphicEl(e);return b.hasValue(h)?(g?g.updateData(b,h):g=new z3(b,h,a),d.add(g),void b.setItemGraphicEl(h,g)):void d.remove(g)}).remove(function(g){var e=f.getItemGraphicEl(g);e&&d.remove(e)}).execute(),this._data=b},oJ.remove=function(){var a=this.group,b=this._data;this._data=null,b&&b.eachItemGraphicEl(function(d){d&&a.remove(d)})};var xH={_baseAxisDim:null,getInitialData:function(F,A){var q,x,k=A.getComponent("xAxis",this.get("xAxisIndex")),D=A.getComponent("yAxis",this.get("yAxisIndex")),b=k.get("type"),G=D.get("type");"category"===b?(F.layout="horizontal",q=k.getCategories(),x=!0):"category"===G?(F.layout="vertical",q=D.getCategories(),x=!0):F.layout=F.layout||"horizontal";var w=["x","y"],E="horizontal"===F.layout?0:1,y=this._baseAxisDim=w[E],C=w[1-E],B=F.data;x&&ZX(B,function(a,d){a.value&&YO(a.value)?a.value.unshift(d):YO(a)&&a.unshift(d)});var z=this.defaultValueDimensions,f=[{name:y,otherDims:{tooltip:!1},dimsDef:["base"]},{name:C,dimsDef:z.slice()}];f=V5(f,B,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions"),dimCount:z.length+1});var v=new P8(f,this);return v.initData(B,q?q.slice():null),v},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},kJ={init:function(){var a=this._whiskerBoxDraw=new o5(this.getStyleUpdater());this.group.add(a.group)},render:function(a){this._whiskerBoxDraw.updateData(a.getData())},remove:function(){this._whiskerBoxDraw.remove()}},AF=QW.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(b,d,f){var a=d.getItemLayout(b);return f.rect(a.brushRect)}});Z3(AF,xH,!0);var gN=k9.extend({type:"candlestick",getStyleUpdater:function(){return k5},dispose:aaW});Z3(gN,kJ,!0);var vH=["itemStyle","normal"],fN=["itemStyle","emphasis"],uH=function(a){a&&YO(a.series)&&ZX(a.series,function(b){YQ(b)&&"k"===b.type&&(b.type="candlestick")})},wH=["itemStyle","normal","borderColor"],cH=["itemStyle","normal","borderColor0"],eN=["itemStyle","normal","color"],dN=["itemStyle","normal","color0"],hN=function(a){a.eachRawSeriesByType("candlestick",function(b){var d=b.getData();d.setVisual({legendSymbol:"roundRect"}),a.isSeriesFiltered(b)||d.each(function(g){var h=d.getItemModel(g),f=d.getItemLayout(g).sign;d.setItemVisual(g,{color:h.get(f>0?eN:dN),borderColor:h.get(f>0?wH:cH)})})})},Mt=aa7,Tj=function(a){a.eachSeriesByType("candlestick",function(w){var p,f=w.coordinateSystem,k=w.getData(),d=QY(w,k),q=w.get("layout"),b="horizontal"===q?0:1,x=1-b,g=["x","y"],v=[];if(ZX(k.dimensions,function(e){var l=k.getDimensionInfo(e),h=l.coordDim;h===g[x]?v.push(e):h===g[b]&&(p=e)}),!(null==p||v.length<4)){var m=0;k.each([p].concat(v),function(){function D(l){var y=[];return y[b]=K,y[x]=l,isNaN(K)||isNaN(l)?[0/0,0/0]:f.dataToPoint(y)}function L(y,A){var I=y.slice(),l=y.slice();I[b]=rq(I[b]+d/2,1,!1),l[b]=rq(l[b]-d/2,1,!0),A?h.push(I,l):h.push(l,I)}function H(){var l=D(Math.min(F,G,C,s)),t=D(Math.max(F,G,C,s));return l[b]-=d/2,t[b]-=d/2,{x:l[0],y:l[1],width:x?d:t[0]-l[0],height:x?t[1]-l[1]:d}}function O(e){return e[b]=rq(e[b],1),e}var N=arguments,K=N[0],J=N[v.length+1],F=N[1],G=N[2],C=N[3],s=N[4],z=Math.min(F,G),Q=Math.max(F,G),P=D(z),B=D(Q),n=D(C),o=D(s),u=[[O(o),O(B)],[O(n),O(P)]],h=[];L(B,0),L(P,1);var E;E=F>G?-1:G>F?1:m>0?k.getItemModel(m-1).get()[2]<=G?1:-1:1,k.setItemLayout(J,{chartLayout:q,sign:E,initBaseline:F>G?B[x]:P[x],bodyEnds:h,whiskerEnds:u,brushRect:H()}),++m},!0)}})};TW(uH),F1(hN),O0(Tj),ZR(l5,q7),Cj.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Cj.prototype.dataToPoint=function(a,b){var d=this._indicatorAxes[b];return this.coordToPoint(d.dataToCoord(a),b)},Cj.prototype.coordToPoint=function(f,g){var k=this._indicatorAxes[g],d=k.angle,h=this.cx+f*Math.cos(d),b=this.cy-f*Math.sin(d);return[h,b]},Cj.prototype.pointToData=function(w){var p=w[0]-this.cx,f=w[1]-this.cy,k=Math.sqrt(p*p+f*f);p/=k,f/=k;for(var d,q=Math.atan2(-f,p),b=1/0,x=-1,g=0;g<this._indicatorAxes.length;g++){var v=this._indicatorAxes[g],m=Math.abs(q-v.angle);b>m&&(d=v,x=g,b=m)}return[x,+(d&&d.coodToData(k))]},Cj.prototype.resize=function(f,g){var k=f.get("center"),d=g.getWidth(),h=g.getHeight(),b=Math.min(d,h)/2;this.cx=Ft(k[0],d),this.cy=Ft(k[1],h),this.startAngle=f.get("startAngle")*Math.PI/180,this.r=Ft(f.get("radius"),b),ZX(this._indicatorAxes,function(a,l){a.setExtent(0,this.r);var m=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;m=Math.atan2(Math.sin(m),Math.cos(m)),a.angle=m},this)},Cj.prototype.update=function(b){function d(h){var k=Math.pow(10,Math.floor(Math.log(h)/Math.LN10)),l=h/k;return 2===l?l=5:l*=2,l*k}var g=this._indicatorAxes,a=this._model;ZX(g,function(e){e.scale.setExtent(1/0,-1/0)}),b.eachSeriesByType("radar",function(h){if("radar"===h.get("coordinateSystem")&&b.getComponent("radar",h.get("radarIndex"))===a){var k=h.getData();ZX(g,function(e){e.scale.unionExtentFromData(k,e.dim)})}},this);var f=a.get("splitNumber");ZX(g,function(z){var k=e9(z.scale,z.model);t6(z.scale,z.model);var o=z.model,x=z.scale,e=o.getMin(),A=o.getMax(),m=x.getInterval();if(null!=e&&null!=A){x.setExtent(+e,+A),x.setInterval((A-e)/f)}else{if(null!=e){var y;do{y=e+m*f,x.setExtent(+e,y),x.setInterval(m),m=d(m)}while(y<k[1]&&isFinite(y)&&isFinite(k[1]))}else{if(null!=A){var p;do{p=A-m*f,x.setExtent(p,+A),x.setInterval(m),m=d(m)}while(p>k[0]&&isFinite(p)&&isFinite(k[0]))}else{var w=x.getTicks().length-1;w>f&&(m=d(m));var v=Math.round((k[0]+k[1])/2/m)*m,q=Math.round(f/2);x.setExtent(iK(v-q*m),iK(v+(f-q)*m)),x.setInterval(m)}}}})},Cj.dimensions=[],Cj.create=function(a,b){var d=[];return a.eachComponent("radar",function(e){var f=new Cj(e,a,b);d.push(f),e.coordinateSystem=f}),a.eachSeriesByType("radar",function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=d[e.get("radarIndex")||0])}),d},L2.register("radar",Cj);var B2=I9.valueAxis,rH=(D2({type:"radar",optionUpdated:function(){var A=this.get("boundaryGap"),v=this.get("splitNumber"),g=this.get("scale"),y=this.get("axisLine"),o=this.get("axisTick"),z=this.get("axisLabel"),q=this.get("name"),x=this.get("name.show"),w=this.get("name.formatter"),s=this.get("nameGap"),b=this.get("triggerEvent"),k=ZU(this.get("indicator")||[],function(e){null!=e.max&&e.max>0&&!e.min?e.min=0:null!=e.min&&e.min<0&&!e.max&&(e.max=0);var a=q;if(null!=e.color&&(a=Y0({color:e.color},q)),e=Y9(ZQ(e),{boundaryGap:A,splitNumber:v,scale:g,axisLine:y,axisTick:o,axisLabel:z,name:e.text,nameLocation:"end",nameGap:s,nameTextStyle:a,triggerEvent:b},!1),x||(e.name=""),"string"==typeof w){var d=e.name;e.name=w.replace("{value}",null!=d?d:"")}else{"function"==typeof w&&(e.name=w(e.name,e))}var f=Y2(new RN(e,null,this.ecModel),T4);return f.mainType="radar",f.componentIndex=this.componentIndex,f},this);this.getIndicatorModels=function(){return k}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:Y9({lineStyle:{color:"#bbb"}},B2.axisLine),axisLabel:m5(B2.axisLabel,!1),axisTick:m5(B2.axisTick,!1),splitLine:m5(B2.splitLine,!0),splitArea:m5(B2.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]);aE({type:"radar",render:function(a){var b=this.group;b.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},_buildAxes:function(b){var d=b.coordinateSystem,f=d.getIndicatorAxes(),a=ZU(f,function(e){var g=new vB(e.model,{position:[d.cx,d.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return g});ZX(a,function(e){ZX(rH,e.add,e),this.group.add(e.getGroup())},this)},_buildSplitLineAndArea:function(F){function W(b,d,h){var a=h%d.length;return b[a]=b[a]||[],a}var P=F.coordinateSystem,U=P.getIndicatorAxes();if(U.length){var O=F.get("shape"),aa=F.getModel("splitLine"),J=F.getModel("splitArea"),R=aa.getModel("lineStyle"),E=J.getModel("areaStyle"),V=aa.get("show"),Y=J.get("show"),X=R.get("color"),N=E.get("color");X=YO(X)?X:[X],N=YO(N)?N:[N];var Q=[],B=[];if("circle"===O){for(var s=U[0].getTicksCoords(),ab=P.cx,Z=P.cy,z=0;z<s.length;z++){if(V){var g=W(Q,X,z);Q[g].push(new GO({shape:{cx:ab,cy:Z,r:s[z]}}))}if(Y&&z<s.length-1){var g=W(B,N,z);B[g].push(new aa6({shape:{cx:ab,cy:Z,r0:s[z],r:s[z+1]}}))}}}else{for(var k,x=ZU(U,function(b,d){var a=b.getTicksCoords();return k=null==k?a.length-1:Math.min(a.length-1,k),ZU(a,function(e){return P.coordToPoint(e,d)})}),f=[],z=0;k>=z;z++){for(var K=[],G=0;G<U.length;G++){K.push(x[G][z])}if(K[0]&&K.push(K[0].slice()),V){var g=W(Q,X,z);Q[g].push(new sW({shape:{points:K}}))}if(Y&&f){var g=W(B,N,z-1);B[g].push(new oX({shape:{points:K.concat(f)}}))}f=K.slice().reverse()}}var H=R.getLineStyle(),q=E.getAreaStyle();ZX(B,function(a,b){this.group.add(fZ(a,{style:Y0({stroke:"none",fill:N[b%N.length]},q),silent:!0}))},this),ZX(Q,function(a,b){this.group.add(fZ(a,{style:Y0({fill:"none",stroke:X[b%X.length]},H),silent:!0}))},this)}}});var sH=QW.extend({type:"series.radar",dependencies:["radar"],init:function(){sH.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(b){var d=b.data||[],f=V5([],d,{extraPrefix:"indicator_",extraFromZero:!0}),a=new P8(f,this);return a.initData(d),a},formatTooltip:function(b){var d=this.getRawValue(b),g=this.coordinateSystem,a=g.getIndicatorAxes(),f=this.getData().getName(b);return fK(""===f?this.name:f)+"<br/>"+ZU(a,function(e,h){return fK(e.name+" : "+d[h])}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});E2({type:"radar",render:function(g){function k(s,u){var w=s.getItemVisual(u,"symbol")||"circle",q=s.getItemVisual(u,"color");if("none"!==w){var v=v5(s.getItemVisual(u,"symbolSize")),l=xE(w,-1,-1,2,2,q);return l.attr({style:{strokeNoScale:!0},z2:100,scale:[v[0]/2,v[1]/2]}),l}}function p(z,v,y,q,x,w){y.removeAll();for(var e=0;e<v.length-1;e++){var t=k(q,x);t&&(t.__dimIdx=e,z[e]?(t.attr("position",z[e]),uW[w?"initProps":"updateProps"](t,{position:v[e]},g,x)):t.attr("position",v[e]),y.add(t))}}function m(a){return ZU(a,function(){return[d.cx,d.cy]})}var d=g.coordinateSystem,h=this.group,b=g.getData(),f=this._data;b.diff(f).add(function(w){var o=b.getItemLayout(w);if(o){var l=new oX,v=new sW,t={shape:{points:o}};l.shape.points=m(o),v.shape.points=m(o),oY(l,t,g,w),oY(v,t,g,w);var n=new TO,q=new TO;n.add(v),n.add(l),n.add(q),p(v.shape.points,o,q,b,w,!0),b.setItemGraphicEl(w,n)}}).update(function(v,n){var w=f.getItemGraphicEl(n),l=w.childAt(0),u=w.childAt(1),t=w.childAt(2),q={shape:{points:b.getItemLayout(v)}};q.shape.points&&(p(l.shape.points,q.shape.points,t,b,v,!1),i0(l,q,g),i0(u,q,g),b.setItemGraphicEl(v,w))}).remove(function(a){h.remove(f.getItemGraphicEl(a))}).execute(),b.eachItemGraphicEl(function(L,C){function s(){z.attr("ignore",w)}function q(){z.attr("ignore",l)}var H=b.getItemModel(C),K=L.childAt(0),z=L.childAt(1),E=L.childAt(2),D=b.getItemVisual(C,"color");h.add(L),K.useStyle(Y0(H.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:D})),K.hoverStyle=H.getModel("lineStyle.emphasis").getLineStyle();var B=H.getModel("areaStyle.normal"),A=H.getModel("areaStyle.emphasis"),l=B.isEmpty()&&B.parentModel.isEmpty(),w=A.isEmpty()&&A.parentModel.isEmpty();w=w&&l,z.ignore=l,z.useStyle(Y0(B.getAreaStyle(),{fill:D,opacity:0.7})),z.hoverStyle=A.getAreaStyle();var J=H.getModel("itemStyle.normal").getItemStyle(["color"]),F=H.getModel("itemStyle.emphasis").getItemStyle(),G=H.getModel("label.normal"),I=H.getModel("label.emphasis");E.eachChild(function(a){a.setStyle(J),a.hoverStyle=ZQ(F),YG(a.style,a.hoverStyle,G,I,{labelFetcher:b.hostModel,labelDataIndex:C,labelDimIndex:a.__dimIdx,defaultText:b.get(b.dimensions[a.__dimIdx],C),autoColor:D,isRectText:!0})}),L.off("mouseover").off("mouseout").off("normal").off("emphasis"),L.on("emphasis",s).on("mouseover",s).on("normal",q).on("mouseout",q),aad(L)}),this._data=b},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});var lJ=function(a){a.eachSeriesByType("radar",function(f){function h(m,n){d[n]=d[n]||[],d[n][b]=k.dataToPoint(m,b)}var l=f.getData(),d=[],k=f.coordinateSystem;if(k){for(var b=0;b<k.getIndicatorAxes().length;b++){var g=l.dimensions[b];l.each(g,h)}l.each(function(e){d[e][0]&&d[e].push(d[e][0].slice()),l.setItemLayout(e,d[e])})}})},I0=function(a){var b=a.polar;if(b){YO(b)||(b=[b]);var d=[];ZX(b,function(f){f.indicator?(f.type&&!f.shape&&(f.shape=f.type),a.radar=a.radar||[],YO(a.radar)||(a.radar=[a.radar]),a.radar.push(f)):d.push(f)}),a.polar=d}ZX(a.series,function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)})};F1(YN(tH,"radar")),F1(YN(Qt,"radar","circle",null)),O0(lJ),Y5(YN(qH,"radar")),TW(I0),QW.extend({type:"series.heatmap",getInitialData:function(a,b){return Gj(a.data,this,b)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});var XV=256;i7.prototype={update:function(H,Y,P,U,O,ac){var K=this._getBrush(),J=this._getGradient(H,O,"inRange"),R=this._getGradient(H,O,"outOfRange"),G=this.pointSize+this.blurSize,V=this.canvas,aa=V.getContext("2d"),Z=H.length;V.width=Y,V.height=P;for(var X=0;Z>X;++X){var W=H[X],N=W[0],Q=W[1],F=W[2],B=U(F);aa.globalAlpha=B,aa.drawImage(K,N-G,Q-G)}if(!V.width||!V.height){return V}for(var D=aa.getImageData(0,0,V.width,V.height),ad=D.data,ab=0,E=ad.length,q=this.minOpacity,z=this.maxOpacity,C=z-q;E>ab;){var B=ad[ab+3]/256,k=4*Math.floor(B*(XV-1));if(B>0){var L=ac(B)?J:R;B>0&&(B=B*C+q),ad[ab++]=L[k],ad[ab++]=L[k+1],ad[ab++]=L[k+2],ad[ab++]=L[k+3]*B*256}else{ab+=4}}return aa.putImageData(D,0,0),V},_getBrush:function(){var b=this._brushCanvas||(this._brushCanvas=n1()),d=this.pointSize+this.blurSize,f=2*d;b.width=f,b.height=f;var a=b.getContext("2d");return a.clearRect(0,0,f,f),a.shadowOffsetX=f,a.shadowBlur=this.blurSize,a.shadowColor="#000",a.beginPath(),a.arc(-d,d,this.pointSize,0,2*Math.PI,!0),a.closePath(),a.fill(),b},_getGradient:function(f,k,m){for(var d=this._gradientPixels,l=d[m]||(d[m]=new Uint8ClampedArray(1024)),b=[0,0,0,0],h=0,g=0;256>g;g++){k[m](g/255,!0,b),l[h++]=b[0],l[h++]=b[1],l[h++]=b[2],l[h++]=b[3]}return l}},E2({type:"heatmap",render:function(b,d,g){var a;d.eachComponent("visualMap",function(h){h.eachTargetSeries(function(e){e===b&&(a=h)})}),this.group.removeAll();var f=b.coordinateSystem;"cartesian2d"===f.type||"calendar"===f.type?this._renderOnCartesianAndCalendar(f,b,g):t4(f)&&this._renderOnGeo(f,b,a,g)},dispose:function(){},_renderOnCartesianAndCalendar:function(w,I){if("cartesian2d"===w.type){var B=w.getAxis("x"),E=w.getAxis("y"),A=B.getBandWidth(),L=E.getBandWidth()}var x=this.group,D=I.getData(),q="itemStyle.normal",F="itemStyle.emphasis",K="label.normal",J="label.emphasis",H=I.getModel(q).getItemStyle(["color"]),G=I.getModel(F).getItemStyle(),z=I.getModel("label.normal"),C=I.getModel("label.emphasis"),k=w.type,b="cartesian2d"===k?[I.coordDimToDataDim("x")[0],I.coordDimToDataDim("y")[0],I.coordDimToDataDim("value")[0]]:[I.coordDimToDataDim("time")[0],I.coordDimToDataDim("value")[0]];D.each(function(h){var g;if("cartesian2d"===k){if(isNaN(D.get(b[2],h))){return}var d=w.dataToPoint([D.get(b[0],h),D.get(b[1],h)]);g=new hZ({shape:{x:d[0]-A/2,y:d[1]-L/2,width:A,height:L},style:{fill:D.getItemVisual(h,"color"),opacity:D.getItemVisual(h,"opacity")}})}else{if(isNaN(D.get(b[1],h))){return}g=new hZ({z2:1,shape:w.dataToRect([D.get(b[0],h)]).contentShape,style:{fill:D.getItemVisual(h,"color"),opacity:D.getItemVisual(h,"opacity")}})}var f=D.getItemModel(h);D.hasItemOption&&(H=f.getModel(q).getItemStyle(["color"]),G=f.getModel(F).getItemStyle(),z=f.getModel(K),C=f.getModel(J));var a=I.getRawValue(h),e="-";a&&null!=a[2]&&(e=a[2]),YG(H,G,z,C,{labelFetcher:I,labelDataIndex:h,defaultText:e,isRectText:!0}),g.setStyle(H),aad(g,D.hasItemOption?G:Y2({},G)),x.add(g),D.setItemGraphicEl(h,g)})},_renderOnGeo:function(z,L,E,H){var D=E.targetVisuals.inRange,O=E.targetVisuals.outOfRange,B=L.getData(),A=this._hmLayer||this._hmLayer||new i7;A.blurSize=L.get("blurSize"),A.pointSize=L.get("pointSize"),A.minOpacity=L.get("minOpacity"),A.maxOpacity=L.get("maxOpacity");var G=z.getViewRect().clone(),w=z.getRoamTransform().transform;G.applyTransform(w);var I=Math.max(G.x,0),N=Math.max(G.y,0),M=Math.min(G.width+G.x,H.getWidth()),K=Math.min(G.height+G.y,H.getHeight()),J=M-I,C=K-N,F=B.mapArray(["lng","lat","value"],function(d,g,a){var f=z.dataToPoint([d,g]);return f[0]-=I,f[1]-=N,f.push(a),f}),q=E.getExtent(),b="visualMap.continuous"===E.type?e7(q,E.option.range):y4(q,E.getPieceList(),E.option.selected);A.update(F,J,C,D.color.getNormalizer(),{inRange:D.color.getColorMapper(),outOfRange:O.color.getColorMapper()},b);var k=new R5({style:{width:J,height:C,x:I,y:N,image:A.canvas},silent:!0});this.group.add(k)}});var OZ=ZX,TV="\x00__link_datas",NZ="\x00__link_mainData",abI=function(a,b){this.name=a||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=b};abI.prototype={constructor:abI,isRemoved:function(){return this.dataIndex<0},eachNode:function(f,h,l){"function"==typeof f&&(l=h,h=f,f=null),f=f||{},Z5(f)&&(f={order:f});var d,k=f.order||"preorder",b=this[f.attr||"children"];"preorder"===k&&(d=h.call(l,this));for(var g=0;!d&&g<b.length;g++){b[g].eachNode(f,h,l)}"postorder"===k&&h.call(l,this)},updateDepthAndHeight:function(b){var d=0;this.depth=b;for(var f=0;f<this.children.length;f++){var a=this.children[f];a.updateDepthAndHeight(b+1),a.height>d&&(d=a.height)}this.height=d+1},getNodeById:function(b){if(this.getId()===b){return this}for(var d=0,g=this.children,a=g.length;a>d;d++){var f=g[d].getNodeById(b);if(f){return f}}},contains:function(b){if(b===this){return !0}for(var d=0,g=this.children,a=g.length;a>d;d++){var f=g[d].contains(b);if(f){return f}}},getAncestors:function(a){for(var b=[],d=a?this:this.parentNode;d;){b.push(d),d=d.parentNode}return b.reverse(),b},getValue:function(a){var b=this.hostTree.data;return b.get(b.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(b){if(!(this.dataIndex<0)){var d,g=this.hostTree,a=g.data.getItemModel(this.dataIndex),f=this.getLevelModel();return f||0!==this.children.length&&(0===this.children.length||this.isExpand!==!1)||(d=this.getLeavesModel()),a.getModel(b,(f||d||g.hostModel).getModel(b))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},getVisual:function(a,b){return this.hostTree.data.getItemVisual(this.dataIndex,a,b)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},RX.prototype={constructor:RX,type:"tree",eachNode:function(a,b,d){this.root.eachNode(a,b,d)},getNodeByDataIndex:function(a){var b=this.data.getRawIndex(a);return this._nodes[b]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){for(var b=this.data,d=this._nodes,f=0,a=d.length;a>f;f++){d[f].dataIndex=-1}for(var f=0,a=b.count();a>f;f++){d[b.getRawIndex(f)].dataIndex=f}},clearLayouts:function(){this.data.clearItemLayouts()}},RX.createTree=function(p,k,f){function h(v,x){var y=v.value;b=Math.max(b,YO(y)?y.length:1),m.push(v);var w=new abI(v.name,d);x?Bk(w,x):d.root=w,d._nodes.push(w);var a=v.children;if(a){for(var o=0;o<a.length;o++){h(a[o],w)}}}var d=new RX(k,f.levels,f.leaves),m=[],b=1;h(p),d.root.updateDepthAndHeight(0);var q=V5([{name:"value"}],m,{dimCount:b}),g=new P8(q,k);return g.initData(m),d7({mainData:g,struct:d,structAttr:"tree"}),d.update(),d},QW.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(f){var k={name:f.name,children:f.data},m=f.leaves||{},d={};d.leaves=m;var l=RX.createTree(k,this,d),b=0;l.eachNode("preorder",function(a){a.depth>b&&(b=a.depth)});var h=f.expandAndCollapse,g=h&&f.initialTreeDepth>=0?f.initialTreeDepth:b;return l.root.eachNode("preorder",function(a){var n=a.hostTree.data.getRawDataItem(a.dataIndex);a.isExpand=n&&null!=n.collapsed?!n.collapsed:a.depth<=g}),l.data},formatTooltip:function(f){for(var g=this.getData().tree,k=g.root.children[0],d=g.getNodeByDataIndex(f),h=d.getValue(),b=d.name;d&&d!==k;){b=d.parentNode.name+"."+b,d=d.parentNode}return fK(b+(isNaN(h)||null==h?"":" : "+h))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{normal:{color:"#ccc",width:1.5,curveness:0.5}},itemStyle:{normal:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5}},label:{normal:{show:!0,color:"#555"}},leaves:{label:{normal:{show:!0}}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1000}}),E2({type:"tree",init:function(){this._oldTree,this._mainGroup=new TO,this.group.add(this._mainGroup)},render:function(p,k,f){var h=p.getData(),d=p.layoutInfo,m=this._mainGroup,b=p.get("layout");"radial"===b?m.attr("position",[d.x+d.width/2,d.y+d.height/2]):m.attr("position",[d.x,d.y]);var q=this._data,g={expandAndCollapse:p.get("expandAndCollapse"),layout:b,orient:p.get("orient"),curvature:p.get("lineStyle.normal.curveness"),symbolRotate:p.get("symbolRotate"),symbolOffset:p.get("symbolOffset"),hoverAnimation:p.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};h.diff(q).add(function(a){Uj(h,a)&&X9(h,a,null,m,p,g)}).update(function(a,s){var l=q.getItemGraphicEl(s);return Uj(h,a)?void X9(h,a,l,m,p,g):void (l&&Wj(h,a,l,m,p,g))}).remove(function(a){var l=q.getItemGraphicEl(a);Wj(h,a,l,m,p,g)}).execute(),g.expandAndCollapse===!0&&h.eachItemGraphicEl(function(l,a){l.off("click").on("click",function(){f.dispatchAction({type:"treeExpandAndCollapse",seriesId:p.id,dataIndex:a})})}),this._data=h},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}}),VW({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"tree",query:a},function(f){var h=a.dataIndex,d=f.getData().tree,g=d.getNodeByDataIndex(h);g.isExpand=!g.isExpand})});var K0=function(q,H){var A=Oz(q,H);q.layoutInfo=A;var D=q.get("layout"),z=0,K=0,x=null;"radial"===D?(z=2*Math.PI,K=Math.min(A.height,A.width)/2,x=IB(function(a,d){return(a.parentNode===d.parentNode?1:2)/a.depth})):(z=A.width,K=A.height,x=IB());var w=q.getData().tree.root,C=w.children[0];p5(w),Mz(C,q4,x),w.hierNode.modifier=-C.hierNode.prelim,Pz(C,j6);var k=C,E=C,J=C;Pz(C,function(a){var d=a.getLayout().x;d<k.getLayout().x&&(k=a),d>E.getLayout().x&&(E=a),a.depth>J.depth&&(J=a)});var I=k===E?1:x(k,E)/2,G=I-k.getLayout().x,F=0,y=0,B=0,b=0;"radial"===D?(F=z/(E.getLayout().x+I+G),y=K/(J.depth-1||1),Pz(C,function(a){B=(a.getLayout().x+G)*F,b=(a.depth-1)*y;var d=Xj(B,b);a.setLayout({x:d.x,y:d.y,rawX:B,rawY:b},!0)})):"horizontal"===q.get("orient")?(y=K/(E.getLayout().x+I+G),F=z/(J.depth-1||1),Pz(C,function(a){b=(a.getLayout().x+G)*y,B=(a.depth-1)*F,a.setLayout({x:B,y:b},!0)})):(F=z/(E.getLayout().x+I+G),y=K/(J.depth-1||1),Pz(C,function(a){B=(a.getLayout().x+G)*F,b=(a.depth-1)*y,a.setLayout({x:B,y:b},!0)}))},J0=function(a,b){a.eachSeriesByType("tree",function(d){K0(d,b)})},QZ=function(a,b){a.eachSeriesByType("tree",function(d){K0(d,b)})};F1(YN(Qt,"tree","circle",null)),O0(J0),O0(QZ),QW.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:0.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0}},upperLabel:{normal:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},emphasis:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(b,d){var g={name:b.name,children:b.data};aaT(g);var a=b.levels||[];a=b.levels=FB(a,d);var f={};return f.levels=a,RX.createTree(g,this,f).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(b){var d=this.getData(),g=this.getRawValue(b),a=jJ(YO(g)?g[0]:g),f=d.getName(b);return fK(f+": "+a)},getDataParams:function(a){var b=QW.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(a);return b.treePathInfo=aQ(d,this),b},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{},Y2(this.layoutInfo,a)},mapIdToIndex:function(a){var b=this._idIndexMap;b||(b=this._idIndexMap=aaD(),this._idIndexMapCount=0);var d=b.get(a);return null==d&&b.set(a,d=this._idIndexMapCount++),d},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getData().tree.root;(!a||a!==b&&!b.contains(a))&&(this._viewRoot=b)}});var H0=8,UV=8,aat=5;iO.prototype={constructor:iO,render:function(p,k,f,h){var d=p.getModel("breadcrumb"),m=this.group;if(m.removeAll(),d.get("show")&&f){var b=d.getModel("itemStyle.normal"),q=b.getModel("textStyle"),g={pos:{left:d.get("left"),right:d.get("right"),top:d.get("top"),bottom:d.get("bottom")},box:{width:k.getWidth(),height:k.getHeight()},emptyItemWidth:d.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(f,g,q),this._renderContent(p,g,b,q,h),N2(m,g.pos,g.box)}},_prepare:function(f,h,l){for(var d=f;d;d=d.parentNode){var k=d.getModel().get("name"),b=l.getTextRect(k),g=Math.max(b.width+2*H0,h.emptyItemWidth);h.totalWidth+=g+UV,h.renderList.push({node:d,text:k,width:g})}},_renderContent:function(I,C,s,y,q){for(var F=0,b=C.emptyItemWidth,x=I.get("breadcrumb.height"),H=H3(C.pos,C.box),z=C.totalWidth,E=C.renderList,D=E.length-1;D>=0;D--){var B=E[D],A=B.node,k=B.width,w=B.text;z>H.width&&(z-=k-b,k=b,w=null);var G=new oX({shape:{points:oK(F,0,k,x,D===E.length-1,0===D)},style:Y0(s.getItemStyle(),{lineJoin:"bevel",text:w,textFill:y.getTextColor(),textFont:y.getFont()}),z:10,onclick:YN(q,A)});this.group.add(G),sJ(G,I,A),F+=k+UV}},remove:function(){this.group.removeAll()}};var Y3="\x00_ec_interaction_mutex";VW({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),Z3(pK,l1);var WV=YU,VV=TO,MZ=hZ,PZ=ZX,G0=3,D1=["label","normal"],E1=["label","emphasis"],a1=["upperLabel","normal"],abg=["upperLabel","emphasis"],F0=10,i8=1,o6=2,s5=UK([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),h8=function(a){var b=s5(a);return b.stroke=b.fill=b.lineWidth=null,b};E2({type:"treemap",init:function(){this._containerGroup,this._storage=fO(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(z,v,k,p){var g=v.findComponents({mainType:"series",subType:"treemap",query:p});if(!(YX(g,z)<0)){this.seriesModel=z,this.api=k,this.ecModel=v;var y=GB(p,z),b=p&&p.type,A=z.layoutInfo,m=!this._oldTree,q=this._storage,x="treemapRootToNode"===b&&y&&q?{rootNodeGroup:q.nodeGroup[y.node.getRawIndex()],direction:p.direction}:null,w=this._giveContainerGroup(A),u=this._doRender(w,z,x);m||b&&"treemapZoomToNode"!==b&&"treemapRootToNode"!==b?u.renderFinally():this._doAnimation(w,u,z,x),this._resetController(k),this._renderBreadcrumb(z,k,y)}},_giveContainerGroup:function(a){var b=this._containerGroup;return b||(b=this._containerGroup=new VV,this._initEvents(b),this.group.add(b)),b.attr("position",[a.x,a.y]),b},_doRender:function(B,w,k){function p(f,u,E,D,d){function l(a){return a.getId()}function h(t,o){var a=null!=t?f[t]:null,e=null!=o?u[o]:null,n=x(a,e,E,d);n&&p(a&&a.viewChildren||[],e&&e.viewChildren||[],n,D,d+1)}D?(u=f,PZ(f,function(a,n){!a.isRemoved()&&h(n,n)})):new Jj(u,f,l,l).add(h).update(h).remove(YN(h,null)).execute()}function g(a){var d=fO();return a&&PZ(a,function(f,h){var e=d[h];PZ(f,function(l){l&&(e.push(l),l.__tmWillDelete=1)})}),d}function z(){PZ(v,function(a){PZ(a,function(d){d.parent&&d.parent.remove(d)})}),PZ(y,function(a){a.invisible=!0,a.dirty()})}var b=w.getData().tree,C=this._oldTree,m=fO(),A=fO(),q=this._storage,y=[],x=YN(uJ,w,A,q,k,m,y);p(b.root?[b.root]:[],C&&C.root?[C.root]:[],B,b===C||!C,0);var v=g(q);return this._oldTree=b,this._storage=A,{lastsForAnimation:m,willDeleteEls:v,renderFinally:z}},_doAnimation:function(f,h,l,d){if(l.get("animation")){var k=l.get("animationDurationUpdate"),b=l.get("animationEasing"),g=zH();PZ(h.willDeleteEls,function(a,m){PZ(a,function(p){if(!p.invisible){var s,q=p.parent;if(d&&"drillDown"===d.direction){s=q===d.rootNodeGroup?{shape:{x:0,y:0,width:q.__tmNodeWidth,height:q.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var e=0,o=0;q.__tmWillDelete||(e=q.__tmNodeWidth/2,o=q.__tmNodeHeight/2),s="nodeGroup"===m?{position:[e,o],style:{opacity:0}}:{shape:{x:e,y:o,width:0,height:0},style:{opacity:0}}}s&&g.add(p,s,k,b)}})}),PZ(this._storage,function(a,e){PZ(a,function(p,o){var m=h.lastsForAnimation[e][o],n={};m&&("nodeGroup"===e?m.old&&(n.position=p.position.slice(),p.attr("position",m.old)):(m.old&&(n.shape=Y2({},p.shape),p.setShape(m.old)),m.fadein?(p.setStyle("opacity",0),n.style={opacity:1}):1!==p.style.opacity&&(n.style={opacity:1})),g.add(p,n,k,b))})},this),this._state="animating",g.done(WV(function(){this._state="ready",h.renderFinally()},this)).start()}},_resetController:function(a){var b=this._controller;b||(b=this._controller=new pK(a.getZr()),b.enable(this.seriesModel.get("roam")),b.on("pan",WV(this._onPan,this)),b.on("zoom",WV(this._onZoom,this)));var d=new gU(0,0,a.getWidth(),a.getHeight());b.setPointerChecker(function(g,h,f){return d.contain(h,f)})},_clearController:function(){var a=this._controller;a&&(a.dispose(),a=null)},_onPan:function(b,d){if("animating"!==this._state&&(Math.abs(b)>G0||Math.abs(d)>G0)){var f=this.seriesModel.getData().tree.root;if(!f){return}var a=f.getLayout();if(!a){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+b,y:a.y+d,width:a.width,height:a.height}})}},_onZoom:function(f,k,m){if("animating"!==this._state){var d=this.seriesModel.getData().tree.root;if(!d){return}var l=d.getLayout();if(!l){return}var b=new gU(l.x,l.y,l.width,l.height),h=this.seriesModel.layoutInfo;k-=h.x,m-=h.y;var g=aby();HG(g,g,[-k,-m]),Z4(g,g,[f,f]),HG(g,g,[k,m]),b.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:b.x,y:b.y,width:b.width,height:b.height}})}},_initEvents:function(a){a.on("click",function(f){if("ready"===this._state){var h=this.seriesModel.get("nodeClick",!0);if(h){var l=this.findTarget(f.offsetX,f.offsetY);if(l){var d=l.node;if(d.getLayout().isLeafRoot){this._rootToNode(l)}else{if("zoomToNode"===h){this._zoomToNode(l)}else{if("link"===h){var k=d.hostTree.data.getItemModel(d.dataIndex),b=k.get("link",!0),g=k.get("target",!0)||"blank";b&&window.open(b,g)}}}}}}},this)},_renderBreadcrumb:function(b,d,f){function a(g){"animating"!==this._state&&(EE(b.getViewRoot(),g)?this._rootToNode({node:g}):this._zoomToNode({node:g}))}f||(f=null!=b.get("leafDepth",!0)?{node:b.getViewRoot()}:this.findTarget(d.getWidth()/2,d.getHeight()/2),f||(f={node:b.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new iO(this.group))).render(b,d,f.node,WV(a,this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=fO(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(b,d){var f,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(g){var k=this._storage.background[g.getRawIndex()];if(k){var e=k.transformCoordToLocal(b,d),h=k.shape;if(!(h.x<=e[0]&&e[0]<=h.x+h.width&&h.y<=e[1]&&e[1]<=h.y+h.height)){return !1}f={node:g,offsetX:e[0],offsetY:e[1]}}},this),f}});for(var AY=function(){},x5=["treemapZoomToNode","treemapRender","treemapMove"],y5=0;y5<x5.length;y5++){VW({type:x5[y5],update:"updateView"},AY)}VW({type:"treemapRootToNode",update:"updateView"},function(a,b){function d(g){var h=GB(a,g);if(h){var f=g.getViewRoot();f&&(a.direction=EE(f,h.node)?"rollUp":"drillDown"),g.resetViewRoot(h.node)}}b.eachComponent({mainType:"series",subType:"treemap",query:a},d)});var p6=ZX,l6=YQ,RY=-1,m6=function(d){var f=d.mappingMethod,h=d.type,g=this.option=ZQ(d);this.type=h,this.mappingMethod=f,this._normalizeData=n6[f];var b=C1[h];this.applyVisual=b.applyVisual,this.getColorMapper=b.getColorMapper,this._doMap=b._doMap[f],"piecewise"===f?(bO(g),tJ(g)):"category"===f?g.categories?vJ(g):bO(g,!0):(aaz("linear"!==f||g.dataExtent),bO(g))};m6.prototype={constructor:m6,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return YU(this._normalizeData,this)}};var C1=m6.visualHandlers={color:{applyVisual:gO("color"),getColorMapper:function(){var a=this.option;return YU("category"===a.mappingMethod?function(b,d){return !d&&(b=this._normalizeData(b)),Lz.call(this,b)}:function(d,g,b){var f=!!b;return !g&&(d=this._normalizeData(d)),b=pQ(d,a.parsedVisual,b),f?b:mQ(b,"rgba")},this)},_doMap:{linear:function(a){return mQ(pQ(a,this.option.parsedVisual),"rgba")},category:Lz,piecewise:function(a,b){var d=qJ.call(this,b);return null==d&&(d=mQ(pQ(a,this.option.parsedVisual),"rgba")),d},fixed:Sq}},colorHue:dO(function(a,b){return lQ(a,b)}),colorSaturation:dO(function(a,b){return lQ(a,null,b)}),colorLightness:dO(function(a,b){return lQ(a,null,null,b)}),colorAlpha:dO(function(a,b){return RE(a,b)}),opacity:{applyVisual:gO("opacity"),_doMap:BJ([0,1])},symbol:{applyVisual:function(b,d,g){var a=this.mapValueToVisual(b);if(Z5(a)){g("symbol",a)}else{if(l6(a)){for(var f in a){a.hasOwnProperty(f)&&g(f,a[f])}}}},_doMap:{linear:cJ,category:Lz,piecewise:function(a,b){var d=qJ.call(this,b);return null==d&&(d=cJ.call(this,a)),d},fixed:Sq}},symbolSize:{applyVisual:gO("symbolSize"),_doMap:BJ([0,1])}},n6={linear:function(a){return aaQ(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList,d=m6.findPieceIndex(a,b,!0);return null!=d?aaQ(d,[0,b.length-1],[0,1],!0):void 0},category:function(a){var b=this.option.categories?this.option.categoryMap[a]:a;return null==b?RY:b},fixed:aaW};m6.listVisualTypes=function(){var a=[];return ZX(C1,function(b,d){a.push(d)}),a},m6.addVisualHandler=function(a,b){C1[a]=b},m6.isValidType=function(a){return C1.hasOwnProperty(a)},m6.eachVisual=function(a,b,d){YQ(a)?ZX(a,b,d):b.call(d,a)},m6.mapVisual=function(b,d,g){var a,f=YO(b)?[]:YQ(b)?{}:(a=!0,null);return m6.eachVisual(b,function(h,e){var k=d.call(g,h,e);a?f=k:f[e]=k}),f},m6.retrieveVisuals=function(a){var b,d={};return a&&p6(C1,function(e,f){a.hasOwnProperty(f)&&(d[f]=a[f],b=!0)}),b?d:null},m6.prepareVisualTypes=function(a){if(l6(a)){var b=[];p6(a,function(d,e){b.push(e)}),a=b}else{if(!YO(a)){return[]}a=a.slice()}return a.sort(function(d,f){return"color"===f&&"color"!==d&&0===d.indexOf("color")?1:-1}),a},m6.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b},m6.findPieceIndex=function(x,p,f){function k(h,l){var a=Math.abs(h-x);v>a&&(v=a,d=l)}for(var d,v=1/0,b=0,y=p.length;y>b;b++){var g=p[b].value;if(null!=g){if(g===x||"string"==typeof g&&g===x+""){return b}f&&k(g,b)}}for(var b=0,y=p.length;y>b;b++){var w=p[b],m=w.interval,q=w.close;if(m){if(m[0]===-1/0){if(kK(q[1],x,m[1])){return b}}else{if(1/0===m[1]){if(kK(q[0],m[0],x)){return b}}else{if(kK(q[0],m[0],x)&&kK(q[1],x,m[1])){return b}}}f&&k(m[0],b),f&&k(m[1],b)}}return f?1/0===x?p.length-1:x===-1/0?0:d:void 0};var w5=YO,j7="itemStyle.normal",z4=function(b,d,f){var a={mainType:"series",subType:"treemap",query:f};b.eachComponent(a,function(h){var k=h.getData().tree,m=k.root,g=h.getModel(j7);if(!m.isRemoved()){var l=ZU(k.levelModels,function(e){return e?e.get(j7):null});IK(m,{},l,g,h.getViewRoot().getAncestors(),h)}})},f8=Math.max,u5=Math.min,e8=aaq,t5=ZX,v6=["itemStyle","normal","borderWidth"],b5=["itemStyle","normal","gapWidth"],d8=["upperLabel","normal","show"],c8=["upperLabel","normal","height"],g8=function(b,d,f){var a={mainType:"series",subType:"treemap",query:f};b.eachComponent(a,function(w){var E=d.getWidth(),B=d.getHeight(),K=w.option,z=WY(w.getBoxLayoutParams(),{width:d.getWidth(),height:d.getHeight()}),D=K.size||[],q=Ft(e8(z.width,D[0]),E),F=Ft(e8(z.height,D[1]),B),J=f&&f.type,I=GB(f,w),H="treemapRender"===J||"treemapMove"===J?f.rootRect:null,G=w.getViewRoot(),A=DE(G);if("treemapMove"!==J){var C="treemapZoomToNode"===J?MJ(w,I,G,q,F):H?[H.width,H.height]:[q,F],n=K.sort;n&&"asc"!==n&&"desc"!==n&&(n="desc");var e={squareRatio:K.squareRatio,sort:n,leafDepth:K.leafDepth};G.hostTree.clearLayouts();var k={x:0,y:0,width:C[0],height:C[1],area:C[0]*C[1]};G.setLayout(k),QJ(G,e,!1,0);var k=G.getLayout();t5(A,function(g,h){var l=(A[h+1]||G).getValue();g.setLayout(Y2({dataExtent:[l,l],borderWidth:0,upperHeight:0},k))})}var L=w.getData().tree.root;L.setLayout(PJ(z,H,I),!0),w.setLayoutInfo(z),GK(L,new gU(-z.x,-z.y,E,B),A,G,0)})};F1(z4),O0(g8);var LZ=1e-8;aa4.prototype={constructor:aa4,properties:null,getBoundingRect:function(){var p=this._rect;if(p){return p}for(var k=Number.MAX_VALUE,f=[k,k],h=[-k,-k],d=[],m=[],b=this.geometries,q=0;q<b.length;q++){if("polygon"===b[q].type){var g=b[q].exterior;L5(g,d,m),aaN(f,f,d),aax(h,h,m)}}return 0===q&&(f[0]=f[1]=h[0]=h[1]=0),this._rect=new gU(f[0],f[1],h[0]-f[0],h[1]-f[1])},contain:function(f){var k=this.getBoundingRect(),m=this.geometries;if(!k.contain(f[0],f[1])){return !1}f:for(var d=0,l=m.length;l>d;d++){if("polygon"===m[d].type){var b=m[d].exterior,h=m[d].interiors;if(aX(b,f[0],f[1])){for(var g=0;g<(h?h.length:0);g++){if(aX(h[g])){continue f}}return !0}}}return !1},transformTo:function(B,w,k,p){var g=this.getBoundingRect(),z=g.width/g.height;k?p||(p=k/z):k=z*p;for(var b=new gU(B,w,k,p),C=g.calculateTransform(b),m=this.geometries,A=0;A<m.length;A++){if("polygon"===m[A].type){for(var q=m[A].exterior,y=m[A].interiors,x=0;x<q.length;x++){aaK(q[x],q[x],C)}for(var v=0;v<(y?y.length:0);v++){for(var x=0;x<y[v].length;x++){aaK(y[v][x],y[v][x],C)}}}}g=this._rect,g.copy(b),this.center=[g.x+g.width/2,g.y+g.height/2]}};var SX=function(a){return FK(a),ZU(Zt(a.features,function(b){return b.geometry&&b.properties&&b.geometry.coordinates.length>0}),function(f){var g=f.properties,k=f.geometry,d=k.coordinates,h=[];"Polygon"===k.type&&h.push({type:"polygon",exterior:d[0],interiors:d.slice(1)}),"MultiPolygon"===k.type&&ZX(d,function(e){e[0]&&h.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})});var b=new aa4(g.name,h,g.cp);return b.properties=g,b})},BX=aaK;Z3(oV,t0),sU.prototype={constructor:sU,type:"view",dimensions:["x","y"],setBoundingRect:function(b,d,f,a){return this._rect=new gU(b,d,f,a),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(b,d,f,a){this.transformTo(b,d,f,a),this._viewRect=new gU(b,d,f,a)},transformTo:function(f,g,k,d){var h=this.getBoundingRect(),b=this._viewTransform;b.transform=h.calculateTransform(new gU(f,g,k,d)),b.decomposeTransform(),this._updateTransform()},setCenter:function(a){a&&(this._center=a,this._updateCenterAndZoom())},setZoom:function(a){a=a||1;var b=this.zoomLimit;b&&(null!=b.max&&(a=Math.min(b.max,a)),null!=b.min&&(a=Math.max(b.min,a))),this._zoom=a,this._updateCenterAndZoom()},getDefaultCenter:function(){var a=this.getBoundingRect(),b=a.x+a.width/2,d=a.y+a.height/2;return[b,d]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var b=this._viewTransform.getLocalTransform(),d=this._roamTransform,g=this.getDefaultCenter(),a=this.getCenter(),f=this.getZoom();a=aaK([],a,b),g=aaK([],g,b),d.origin=a,d.position=[g[0]-a[0],g[1]-a[1]],d.scale=[f,f],this._updateTransform()},_updateTransform:function(){var a=this._roamTransform,b=this._viewTransform;b.parent=a,a.updateTransform(),b.updateTransform(),b.transform&&JG(this.transform||(this.transform=[]),b.transform),this.transform?(this.invTransform=this.invTransform||[],Yq(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},dataToPoint:function(a){var b=this.transform;return b?BX([],a,b):[a[0],a[1]]},pointToData:function(a){var b=this.invTransform;return b?BX([],a,b):[a[0],a[1]]},convertToPixel:YN(hX,"dataToPoint"),convertFromPixel:YN(hX,"pointToData"),containPoint:function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])}},Z3(sU,t0);for(var q5=[126,25],r5=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],k6=0;k6<r5.length;k6++){for(var JR=0;JR<r5[k6].length;JR++){r5[k6][JR][0]/=10.5,r5[k6][JR][1]/=-14,r5[k6][JR][0]+=q5[0],r5[k6][JR][1]+=q5[1]}}var YH=function(a){"china"===a.map&&a.regions.push(new aa4("南海诸岛",ZU(r5,function(b){return{type:"polygon",exterior:b}}),q5))},PQ={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]},UJ=function(a){ZX(a.regions,function(b){var d=PQ[b.name];if(d){var f=b.center;f[0]+=d[0]/10.5,f[1]+=-d[1]/14}})},OQ={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},abQ=function(a){ZX(a.regions,function(b){var d=OQ[b.name];if(d){var f=b.center;f[0]=d[0],f[1]=d[1]}})},LQ=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],KR=function(a){if("china"===a.map){for(var b=0,d=a.regions.length;d>b;++b){"台湾"===a.regions[b].name&&a.regions[b].geometries.push({type:"polygon",exterior:LQ[0]})}}},RO=[YH,UJ,abQ,KR];AQ.prototype={constructor:AQ,type:"geo",dimensions:["lng","lat"],containCoord:function(a){for(var b=this.regions,d=0;d<b.length;d++){if(b[d].contain(a)){return !0}}return !1},loadGeoJson:function(p,k,f){try{this.regions=p?SX(p):[]}catch(h){throw"Invalid geoJson format\n"+h.message}k=k||{},f=f||{};for(var d=this.regions,m=aaD(),b=0;b<d.length;b++){var q=d[b].name;q=f.hasOwnProperty(q)?f[q]:q,d[b].name=q,m.set(q,d[b]),this.addGeoCoord(q,d[b].center);var g=k[q];g&&d[b].transformTo(g.left,g.top,g.width,g.height)}this._regionsMap=m,this._rect=null,ZX(RO,function(a){a(this)},this)},transformTo:function(f,h,l,d){var k=this.getBoundingRect();k=k.clone(),k.y=-k.y-k.height;var b=this._viewTransform;b.transform=k.calculateTransform(new gU(f,h,l,d)),b.decomposeTransform();var g=b.scale;g[1]=-g[1],b.updateTransform(),this._updateTransform()},getRegion:function(a){return this._regionsMap.get(a)},getRegionByCoord:function(a){for(var b=this.regions,d=0;d<b.length;d++){if(b[d].contain(a)){return b[d]}}},addGeoCoord:function(a,b){this._nameCoordMap.set(a,b)},getGeoCoord:function(a){return this._nameCoordMap.get(a)},getBoundingRect:function(){if(this._rect){return this._rect}for(var b,d=this.regions,f=0;f<d.length;f++){var a=d[f].getBoundingRect();b=b||a.clone(),b.union(a)}return this._rect=b||new gU(0,0,0,0)},dataToPoint:function(a){return"string"==typeof a&&(a=this.getGeoCoord(a)),a?sU.prototype.dataToPoint.call(this,a):void 0},convertToPixel:YN(xU,"dataToPoint"),convertFromPixel:YN(xU,"pointToData")},Z3(AQ,sU);var IR={dimensions:AQ.prototype.dimensions,create:function(b,d){var f=[];b.eachComponent("geo",function(h,g){var l=h.get("map"),e=r6(l),k=new AQ(l+g,l,e&&e.geoJson,e&&e.specialAreas,h.get("nameMap"));k.zoomLimit=h.get("scaleLimit"),f.push(k),pV(k,h),h.coordinateSystem=k,k.model=h,k.resize=yU,k.resize(h,d)}),b.eachSeries(function(h){var k=h.get("coordinateSystem");if("geo"===k){var g=h.get("geoIndex")||0;h.coordinateSystem=f[g]}});var a={};return b.eachSeriesByType("map",function(g){if(!g.getHostGeoModel()){var h=g.getMapType();a[h]=a[h]||[],a[h].push(g)}}),ZX(a,function(g,e){var l=r6(e),k=ZU(g,function(m){return m.get("nameMap")}),h=new AQ(e,e,l&&l.geoJson,l&&l.specialAreas,Z8(k));h.zoomLimit=aaq.apply(null,ZU(g,function(m){return m.get("scaleLimit")})),f.push(h),h.resize=yU,h.resize(g[0],d),ZX(g,function(m){m.coordinateSystem=h,pV(h,m)})}),f},getFilledRegions:function(q,k,f){var h=(q||[]).slice();f=f||{};var d=r6(k),m=d&&d.geoJson;if(!m){return q}for(var b=aaD(),v=m.features,g=0;g<h.length;g++){b.set(h[g].name,h[g])}for(var g=0;g<v.length;g++){var p=v[g].properties.name;b.get(p)||(f.hasOwnProperty(p)&&(p=f[p]),h.push({name:p}))}return h}};UW("geo",IR);var VJ=QW.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(a){this._fillOption(a,this.getMapType()),VJ.superApply(this,"init",arguments),this.updateSelectedMap(a.data)},getInitialData:function(a){var b=V5(["value"],a.data||[]),d=new P8(b,this);return d.initData(a.data),d},mergeOption:function(a){this._fillOption(a,this.getMapType()),VJ.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var a=this.option.geoIndex;return null!=a?this.dependentModels.geo[a]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(a,b){a.data=IR.getFilledRegions(a.data,b,a.nameMap)},getRawValue:function(a){return this.getData().get("value",a)},getRegionModel:function(a){var b=this.getData();return b.getItemModel(b.indexOfName(a))},formatTooltip:function(f){for(var k=this.getData(),m=jJ(this.getRawValue(f)),d=k.getName(f),l=this.seriesGroup,b=[],h=0;h<l.length;h++){var g=l[h].originalData.indexOfName(d);isNaN(l[h].originalData.get("value",g))||b.push(fK(l[h].name))}return b.join(", ")+"<br />"+fK(d+" : "+m)},getTooltipPosition:function(b){if(null!=b){var d=this.getData().getName(b),f=this.coordinateSystem,a=f.getRegion(d);return a&&f.dataToPoint(a.center)}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:0.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:0.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});Z3(VJ,abu);var aa9={axisPointer:1,tooltip:1,brush:1};jW.prototype={constructor:jW,draw:function(F,A,q,x,k){var D="geo"===F.mainType,b=F.getData&&F.getData();D&&A.eachComponent({mainType:"series",subType:"map"},function(a){b||a.getHostGeoModel()!==F||(b=a.getData())});var G=F.coordinateSystem,w=this.group,E=G.scale,y={position:G.position,scale:E};!w.childAt(0)||k?w.attr(y):i0(w,y,F),w.removeAll();var C=["itemStyle","normal"],B=["itemStyle","emphasis"],z=["label","normal"],f=["label","emphasis"],v=aaD();ZX(G.regions,function(V){var Q=v.get(V.name)||v.set(V.name,new TO),R=new lX({shape:{paths:[]}});Q.add(R);var P,K=F.getRegionModel(V.name)||F,U=K.getModel(C),H=K.getModel(B),m=CQ(U,E),t=CQ(H,E),X=K.getModel(z),W=K.getModel(f);if(b){P=b.indexOfName(V.name);var u=b.getItemVisual(P,"color",!0);u&&(m.fill=u)}ZX(V.geometries,function(h){if("polygon"===h.type){R.shape.paths.push(new oX({shape:{points:h.exterior}}));for(var n=0;n<(h.interiors?h.interiors.length:0);n++){R.shape.paths.push(new oX({shape:{points:h.interiors[n]}}))}}}),R.setStyle(m),R.style.strokeNoScale=!0,R.culling=!0;var d=X.get("show"),g=W.get("show"),p=b&&isNaN(b.get("value",P)),a=b&&b.getItemLayout(P);if(D||p&&(d||g)||a&&a.showLabel){var O,J=D?V.name:P;(!b||P>=0)&&(O=F);var N=new PN({position:V.center.slice(),scale:[1/E[0],1/E[1]],z2:10,silent:!0});YG(N.style,N.hoverStyle={},X,W,{labelFetcher:O,labelDataIndex:J,defaultText:V.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),Q.add(N)}if(b){b.setItemGraphicEl(P,Q)}else{var K=F.getRegionModel(V.name);R.eventData={componentType:"geo",geoIndex:F.componentIndex,name:V.name,region:K&&K.option||{}}}var l=Q.__regions||(Q.__regions=[]);l.push(V),aad(Q,t,{hoverSilentOnTouch:!!F.get("selectedMode")}),w.add(Q)}),this._updateController(F,A,q),nV(this,F,w,q,x),wU(F,w)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(g,k,p){function f(){var a={type:"geoRoam",componentType:b};return a[b+"Id"]=g.id,a}var m=g.coordinateSystem,d=this._controller,h=this._controllerHost;h.zoomLimit=g.get("scaleLimit"),h.zoom=m.getZoom(),d.enable(g.get("roam")||!1);var b=g.mainType;d.off("pan").on("pan",function(a,l){this._mouseDownFlag=!1,lV(h,a,l),p.dispatchAction(Y2(f(),{dx:a,dy:l}))},this),d.off("zoom").on("zoom",function(s,u,v){if(this._mouseDownFlag=!1,RH(h,s,u,v),p.dispatchAction(Y2(f(),{zoom:s,originX:u,originY:v})),this._updateGroup){var q=this.group,n=q.scale;q.traverse(function(a){"text"===a.type&&a.attr("scale",[1/n[0],1/n[1]])})}},this),d.setPointerChecker(function(o,n,l){return m.getViewRectAfterRoam().contain(n,l)&&!mV(o,p,g)})}},E2({type:"map",render:function(f,g,k,d){if(!d||"mapToggleSelect"!==d.type||d.from!==this.uid){var h=this.group;if(h.removeAll(),!f.getHostGeoModel()){if(d&&"geoRoam"===d.type&&"series"===d.componentType&&d.seriesId===f.id){var b=this._mapDraw;b&&h.add(b.group)}else{if(f.needsDrawMap){var b=this._mapDraw||new jW(k,!0);h.add(b.group),b.draw(f,g,k,this,d),this._mapDraw=b}else{this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null}}f.get("showLegendSymbol")&&g.getComponent("legend")&&this._renderSymbols(f,g,k)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(a){var b=a.originalData,d=this.group;b.each("value",function(w,n){if(!isNaN(w)){var G=b.getItemLayout(n);if(G&&G.point){var e=G.point,J=G.offset,t=new GO({style:{fill:a.getData().getVisual("color")},shape:{cx:e[0]+9*J,cy:e[1],r:3},silent:!0,z2:J?8:10});if(!J){var I=a.mainSeries.getData(),z=b.getName(n),D=I.indexOfName(z),C=b.getItemModel(n),B=C.getModel("label.normal"),A=C.getModel("label.emphasis"),k=I.getItemGraphicEl(D),q=aa7(a.getFormattedLabel(n,"normal"),z),H=aa7(a.getFormattedLabel(n,"emphasis"),q),E=function(){var f=WH({},A,{text:A.get("show")?H:null},{isRectText:!0,useInsideStyle:!1},!0);t.style.extendFrom(f),t.__mapOriginalZ2=t.z2,t.z2+=1},F=function(){WH(t.style,B,{text:B.get("show")?q:null,textPosition:B.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=t.__mapOriginalZ2&&(t.z2=t.__mapOriginalZ2,t.__mapOriginalZ2=null)};k.on("mouseover",E).on("mouseout",F).on("emphasis",E).on("normal",F),F()}d.add(t)}}})}}),VW({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(a,b){var d=a.componentType||"series";b.eachComponent({mainType:d,query:a},function(g){var f=g.coordinateSystem;if("geo"===f.type){var h=zR(f,a,g.get("scaleLimit"));g.setCenter&&g.setCenter(h.center),g.setZoom&&g.setZoom(h.zoom),"series"===d&&ZX(g.seriesGroup,function(e){e.setCenter(h.center),e.setZoom(h.zoom)})}})});var aae=function(a){var b={};a.eachSeriesByType("map",function(g){var e=g.getMapType();if(!g.getHostGeoModel()&&!b[e]){var f={};ZX(g.seriesGroup,function(k){var l=k.coordinateSystem,h=k.originalData;k.get("showLegendSymbol")&&a.getComponent("legend")&&h.each("value",function(o,u){var n=h.getName(u),q=l.getRegion(n);if(q&&!isNaN(o)){var p=f[n]||0,m=l.dataToPoint(q.center);f[n]=p+1,h.setItemLayout(u,{point:m,offset:p})}})});var d=g.getData();d.each(function(h){var k=d.getName(h),l=d.getItemLayout(h)||{};l.showLabel=!f[k],d.setItemLayout(h,l)}),b[e]=!0}})},XJ=function(a){a.eachSeriesByType("map",function(d){var f=d.get("color"),h=d.getModel("itemStyle.normal"),b=h.get("areaColor"),g=h.get("color")||f[d.seriesIndex%f.length];d.getData().setVisual({areaColor:b,color:g})})},WJ=function(a){var b={};a.eachSeriesByType("map",function(e){var f=e.getHostGeoModel(),d=f?"o"+f.id:"i"+e.getMapType();(b[d]=b[d]||[]).push(e)}),ZX(b,function(d){for(var f=fX(ZU(d,function(e){return e.getData()}),d[0].get("mapValueCalculation")),g=0;g<d.length;g++){d[g].originalData=d[g].getData()}for(var g=0;g<d.length;g++){d[g].seriesGroup=d,d[g].needsDrawMap=0===g&&!d[g].getHostGeoModel(),d[g].setData(f.cloneShallow()),d[g].mainSeries=d[0]}})},NQ=function(a){var b=[];ZX(a.series,function(d){d&&"map"===d.type&&(b.push(d),d.map=d.map||d.mapType,Y0(d,d.mapLocation))})};O0(aae),F1(XJ),Y5(j4.PROCESSOR.STATISTIC,WJ),TW(NQ),pJ("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var QQ=QW.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(a){uU(a),QQ.superApply(this,"init",arguments)},mergeOption:function(a){uU(a),QQ.superApply(this,"mergeOption",arguments)},getInitialData:function(a){var b=new P8(["value"],this);return b.hasItemOption=!1,b.initData(a.data,[],function(f,h,e,g){if(f instanceof Array){return 0/0}b.hasItemOption=!0;var d=f.value;return null!=d?d instanceof Array?d[g]:d:void 0}),b},formatTooltip:function(f){var h=this.getData(),l=h.getItemModel(f),d=l.get("name");if(d){return d}var k=l.get("fromName"),b=l.get("toName"),g=[];return null!=k&&g.push(k),null!=b&&g.push(b),fK(g.join(" > "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:0.2},large:!1,largeThreshold:2000,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:0.5}}}}),HR=AU.prototype,EU=yW.prototype,FR=bG({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,b){(eX(b)?HR:EU).buildPath(a,b)},pointAt:function(a){return eX(this.shape)?HR.pointAt.call(this,a):EU.pointAt.call(this,a)},tangentAt:function(a){var b=this.shape,d=eX(b)?[b.x2-b.x1,b.y2-b.y1]:EU.tangentAt.call(this,a);return aao(d,d)}}),a9=["fromSymbol","toSymbol"],abG=gX.prototype;abG.beforeUpdate=cU,abG._createLine=function(f,h,l){var d=f.hostModel,k=f.getItemLayout(h),b=bW(k);b.shape.percent=0,oY(b,{shape:{percent:1}},d,h),this.add(b);var g=new PN({name:"label"});this.add(g),ZX(a9,function(e){var a=vU(e,f,h);this.add(a),this[tU(e)]=f.getItemVisual(h,e)},this),this._updateCommonStl(f,h,l)},abG.updateData=function(f,h,l){var d=f.hostModel,k=this.childOfName("line"),b=f.getItemLayout(h),g={shape:{}};dX(g.shape,b),i0(k,g,d,h),ZX(a9,function(q){var m=f.getItemVisual(h,q),p=tU(q);if(this[p]!==m){this.remove(this.childOfName(q));var e=vU(q,f,h);this.add(e)}this[p]=m},this),this._updateCommonStl(f,h,l)},abG._updateCommonStl=function(A,K,E){var H=A.hostModel,D=this.childOfName("line"),O=E&&E.lineStyle,B=E&&E.hoverLineStyle,G=E&&E.labelModel,z=E&&E.hoverLabelModel;if(!E||A.hasItemOption){var I=A.getItemModel(K);O=I.getModel("lineStyle.normal").getLineStyle(),B=I.getModel("lineStyle.emphasis").getLineStyle(),G=I.getModel("label.normal"),z=I.getModel("label.emphasis")}var M=A.getItemVisual(K,"color"),L=aaY(A.getItemVisual(K,"opacity"),O.opacity,1);D.useStyle(Y0({strokeNoScale:!0,fill:"none",stroke:M,opacity:L},O)),D.hoverStyle=B,ZX(a9,function(a){var b=this.childOfName(a);b&&(b.setColor(M),b.setStyle({opacity:L}))},this);var J,C,F,s,f=G.getShallow("show"),k=z.getShallow("show"),P=this.childOfName("label");if(f||k){var N=H.getRawValue(K);C=null==N?C=A.getName(K):isFinite(N)?iK(N):N,J=M||"#000",F=aa7(H.getFormattedLabel(K,"normal",A.dataType),C),s=aa7(H.getFormattedLabel(K,"emphasis",A.dataType),F)}if(f){var q=WH(P.style,G,{text:F},{autoColor:J});P.__textAlign=q.textAlign,P.__verticalAlign=q.textVerticalAlign,P.__position=G.get("position")||"middle"}else{P.setStyle("text",null)}P.hoverStyle=k?{text:s,textFill:z.getTextColor(!0),fontStyle:z.getShallow("fontStyle"),fontWeight:z.getShallow("fontWeight"),fontSize:z.getShallow("fontSize"),fontFamily:z.getShallow("fontFamily")}:{text:null},P.ignore=!f&&!k,aad(this)},abG.highlight=function(){this.trigger("emphasis")},abG.downplay=function(){this.trigger("normal")},abG.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))},abG.setLinePoints=function(a){var b=this.childOfName("line");dX(b.shape,a),b.dirty()},ZR(gX,TO);var GR=BR.prototype;GR.updateData=function(f){var g=this._lineData,k=this.group,d=this._ctor,h=f.hostModel,b={lineStyle:h.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:h.getModel("lineStyle.emphasis").getLineStyle(),labelModel:h.getModel("label.normal"),hoverLabelModel:h.getModel("label.emphasis")};f.diff(g).add(function(a){if(SG(f.getItemLayout(a))){var l=new d(f,a,b);f.setItemGraphicEl(a,l),k.add(l)}}).update(function(l,e){var a=g.getItemGraphicEl(e);return SG(f.getItemLayout(l))?(a?a.updateData(f,l,b):a=new d(f,l,b),f.setItemGraphicEl(l,a),void k.add(a)):void k.remove(a)}).remove(function(a){k.remove(g.getItemGraphicEl(a))}).execute(),this._lineData=f},GR.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(b,d){b.updateLayout(a,d)},this)},GR.remove=function(){this.group.removeAll()};var j0=qU.prototype;j0.createLine=function(a,b,d){return new gX(a,b,d)},j0._updateEffectSymbol=function(f,k){var m=f.getItemModel(k),d=m.getModel("effect"),l=d.get("symbolSize"),b=d.get("symbol");YO(l)||(l=[l,l]);var h=d.get("color")||f.getItemVisual(k,"color"),g=this.childAt(1);this._symbolType!==b&&(this.remove(g),g=xE(b,-0.5,-0.5,1,1,h),g.z2=100,g.culling=!0,this.add(g)),g&&(g.setStyle("shadowColor",h),g.setStyle(d.getItemStyle(["color"])),g.attr("scale",l),g.setColor(h),g.attr("scale",l),this._symbolType=b,this._updateEffectAnimation(f,d,k))},j0._updateEffectAnimation=function(z,q,g){var m=this.childAt(1);if(m){var f=this,x=z.getItemLayout(g),b=1000*q.get("period"),A=q.get("loop"),k=q.get("constantSpeed"),y=aaq(q.get("delay"),function(a){return a/z.count()*b/3}),p="function"==typeof y;if(m.ignore=!0,this.updateAnimationPoints(m,x),k>0&&(b=this.getLineLength(m)/k*1000),b!==this._period||A!==this._loop){m.stopAnimation();var w=y;p&&(w=y(g)),m.__t>0&&(w=-b*m.__t),m.__t=0;var v=m.animate("",A).when(b,{__t:1}).delay(w).during(function(){f.updateSymbolPosition(m)});A||v.done(function(){f.remove(m)}),v.start()}this._period=b,this._loop=A}},j0.getLineLength=function(a){return o1(a.__p1,a.__cp1)+o1(a.__cp1,a.__p2)},j0.updateAnimationPoints=function(a,b){a.__p1=b[0],a.__p2=b[1],a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]},j0.updateData=function(a,b,d){this.childAt(0).updateData(a,b,d),this._updateEffectSymbol(a,b)},j0.updateSymbolPosition=function(q){var k=q.__p1,f=q.__p2,h=q.__cp1,d=q.__t,m=q.position,b=P5,v=G6;m[0]=b(k[0],h[0],f[0],d),m[1]=b(k[1],h[1],f[1],d);var g=v(k[0],h[0],f[0],d),p=v(k[1],h[1],f[1],d);q.rotation=-Math.atan2(p,g)-Math.PI/2,q.ignore=!1},j0.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var d=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,d,b)},ZR(qU,TO);var pZ=rU.prototype;pZ._createPolyline=function(b,d,g){var a=b.getItemLayout(d),f=new sW({shape:{points:a}});this.add(f),this._updateCommonStl(b,d,g)},pZ.updateData=function(f,g,k){var d=f.hostModel,h=this.childAt(0),b={shape:{points:f.getItemLayout(g)}};i0(h,b,d,g),this._updateCommonStl(f,g,k)},pZ._updateCommonStl=function(g,k,p){var f=this.childAt(0),m=g.getItemModel(k),d=g.getItemVisual(k,"color"),h=p&&p.lineStyle,b=p&&p.hoverLineStyle;(!p||g.hasItemOption)&&(h=m.getModel("lineStyle.normal").getLineStyle(),b=m.getModel("lineStyle.emphasis").getLineStyle()),f.useStyle(Y0({strokeNoScale:!0,fill:"none",stroke:d},h)),f.hoverStyle=b,aad(this)},pZ.updateLayout=function(a,b){var d=this.childAt(0);d.setShape("points",a.getItemLayout(b))},ZR(rU,TO);var tY=kV.prototype;tY.createLine=function(a,b,d){return new rU(a,b,d)},tY.updateAnimationPoints=function(f,h){this._points=h;for(var l=[0],d=0,k=1;k<h.length;k++){var b=h[k-1],g=h[k];d+=o1(b,g),l.push(d)}if(0!==d){for(var k=0;k<l.length;k++){l[k]/=d}this._offsets=l,this._length=d}},tY.getLineLength=function(){return this._length},tY.updateSymbolPosition=function(q){var k=q.__t,f=this._points,h=this._offsets,d=f.length;if(h){var m,b=this._lastFrame;if(k<this._lastFramePercent){var v=Math.min(b+1,d-1);for(m=v;m>=0&&!(h[m]<=k);m--){}m=Math.min(m,d-2)}else{for(var m=b;d>m&&!(h[m]>k);m++){}m=Math.min(m-1,d-2)}abz(q.position,f[m],f[m+1],(k-h[m])/(h[m+1]-h[m]));var g=f[m+1][0]-f[m][0],p=f[m+1][1]-f[m][1];q.rotation=-Math.atan2(p,g)-Math.PI/2,this._lastFrame=m,this._lastFramePercent=k,q.ignore=!1}},ZR(kV,qU);var i1=bG({shape:{polyline:!1,segs:[]},buildPath:function(f,h){for(var l=h.segs,d=h.polyline,k=0;k<l.length;k++){var b=l[k];if(d){f.moveTo(b[0][0],b[0][1]);for(var g=1;g<b.length;g++){f.lineTo(b[g][0],b[g][1])}}else{f.moveTo(b[0][0],b[0][1]),b.length>2?f.quadraticCurveTo(b[2][0],b[2][1],b[1][0],b[1][1]):f.lineTo(b[1][0],b[1][1])}}},findDataIndex:function(p,k){for(var f=this.shape,h=f.segs,d=f.polyline,m=Math.max(this.style.lineWidth,1),b=0;b<h.length;b++){var q=h[b];if(d){for(var g=1;g<q.length;g++){if(aH(q[g-1][0],q[g-1][1],q[g][0],q[g][1],m,p,k)){return b}}}else{if(q.length>2){if(E7(q[0][0],q[0][1],q[2][0],q[2][1],q[1][0],q[1][1],m,p,k)){return b}}else{if(aH(q[0][0],q[0][1],q[1][0],q[1][1],m,p,k)){return b}}}}return -1}}),A6=IH.prototype;A6.updateData=function(b){this.group.removeAll();var d=this._lineEl,f=b.hostModel;d.setShape({segs:b.mapArray(b.getItemLayout),polyline:f.get("polyline")}),d.useStyle(f.getModel("lineStyle.normal").getLineStyle());var a=b.getVisual("color");a&&d.setStyle("stroke",a),d.setStyle("fill"),d.seriesIndex=f.seriesIndex,d.on("mousemove",function(e){d.dataIndex=null;var g=d.findDataIndex(e.offsetX,e.offsetY);g>0&&(d.dataIndex=g)}),this.group.add(d)},A6.updateLayout=function(a){var b=a.getData();this._lineEl.setShape({segs:b.mapArray(b.getItemLayout)})},A6.remove=function(){this.group.removeAll()},E2({type:"lines",init:function(){},render:function(x,p,f){var k=x.getData(),d=this._lineDraw,v=x.get("effect.show"),b=x.get("polyline"),y=x.get("large")&&k.count()>=x.get("largeThreshold");(v!==this._hasEffet||b!==this._isPolyline||y!==this._isLarge)&&(d&&d.remove(),d=this._lineDraw=y?new IH:new BR(b?v?kV:rU:v?qU:gX),this._hasEffet=v,this._isPolyline=b,this._isLarge=y);var g=x.get("zlevel"),w=x.get("effect.trailLength"),m=f.getZr(),q="svg"===m.painter.getType();q||m.painter.getLayer(g).clear(!0),null==this._lastZlevel||q||m.configLayer(this._lastZlevel,{motionBlur:!1}),v&&w&&(q||m.configLayer(g,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(w/10+0.9,1),0)})),this.group.add(d.group),d.updateData(k),this._lastZlevel=g},updateLayout:function(b,d,g){this._lineDraw.updateLayout(b);var a=g.getZr(),f="svg"===a.painter.getType();f||a.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(b,d){this._lineDraw&&this._lineDraw.remove(d,!0);var f=d.getZr(),a="svg"===f.painter.getType();a||f.painter.getLayer(this._lastZlevel).clear(!0)},dispose:function(){}});var yY=function(a){a.eachSeriesByType("lines",function(b){var d=b.coordinateSystem,f=b.getData();f.each(function(h){var n=f.getItemModel(h),g=n.option instanceof Array?n.option:n.get("coords"),m=[];if(b.get("polyline")){for(var k=0;k<g.length;k++){m.push(d.dataToPoint(g[k]))}}else{m[0]=d.dataToPoint(g[0]),m[1]=d.dataToPoint(g[1]);var e=n.get("lineStyle.normal.curveness");+e&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*e,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*e])}f.setItemLayout(h,m)})})},zX=function(a){a.eachSeriesByType("lines",function(d){var f=d.getData(),h=Xz(d.get("symbol")),b=Xz(d.get("symbolSize")),g="lineStyle.normal.opacity".split(".");f.setVisual("fromSymbol",h&&h[0]),f.setVisual("toSymbol",h&&h[1]),f.setVisual("fromSymbolSize",b&&b[0]),f.setVisual("toSymbolSize",b&&b[1]),f.setVisual("opacity",d.get(g)),f.each(function(l){var o=f.getItemModel(l),k=Xz(o.getShallow("symbol",!0)),e=Xz(o.getShallow("symbolSize",!0)),m=o.get(g);k[0]&&f.setItemVisual(l,"fromSymbol",k[0]),k[1]&&f.setItemVisual(l,"toSymbol",k[1]),e[0]&&f.setItemVisual(l,"fromSymbolSize",e[0]),e[1]&&f.setItemVisual(l,"toSymbolSize",e[1]),f.setItemVisual(l,"opacity",m)})})};O0(yY),F1(zX);var qY=function(a){this._directed=a||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},mZ=qY.prototype;mZ.type="graph",mZ.isDirected=function(){return this._directed},mZ.addNode=function(b,d){b=b||""+d;var f=this._nodesMap;if(!f[OG(b)]){var a=new Tz(b,d);return a.hostGraph=this,this.nodes.push(a),f[OG(b)]=a,a}},mZ.getNodeByIndex=function(a){var b=this.data.getRawIndex(a);return this.nodes[b]},mZ.getNodeById=function(a){return this._nodesMap[OG(a)]},mZ.addEdge=function(f,h,l){var d=this._nodesMap,k=this._edgesMap;if("number"==typeof f&&(f=this.nodes[f]),"number"==typeof h&&(h=this.nodes[h]),f instanceof Tz||(f=d[OG(f)]),h instanceof Tz||(h=d[OG(h)]),f&&h){var b=f.id+"-"+h.id;if(!k[b]){var g=new NG(f,h,l);return g.hostGraph=this,this._directed&&(f.outEdges.push(g),h.inEdges.push(g)),f.edges.push(g),f!==h&&h.edges.push(g),this.edges.push(g),k[b]=g,g}}},mZ.getEdgeByIndex=function(a){var b=this.edgeData.getRawIndex(a);return this.edges[b]},mZ.getEdge=function(a,b){a instanceof Tz&&(a=a.id),b instanceof Tz&&(b=b.id);var d=this._edgesMap;return this._directed?d[a+"-"+b]:d[a+"-"+b]||d[b+"-"+a]},mZ.eachNode=function(b,d){for(var g=this.nodes,a=g.length,f=0;a>f;f++){g[f].dataIndex>=0&&b.call(d,g[f],f)}},mZ.eachEdge=function(b,d){for(var g=this.edges,a=g.length,f=0;a>f;f++){g[f].dataIndex>=0&&g[f].node1.dataIndex>=0&&g[f].node2.dataIndex>=0&&b.call(d,g[f],f)}},mZ.breadthFirstTraverse=function(w,p,f,k){if(p instanceof Tz||(p=this._nodesMap[OG(p)]),p){for(var d="out"===f?"outEdges":"in"===f?"inEdges":"edges",q=0;q<this.nodes.length;q++){this.nodes[q].__visited=!1}if(!w.call(k,p,null)){for(var b=[p];b.length;){for(var x=b.shift(),g=x[d],q=0;q<g.length;q++){var v=g[q],m=v.node1===x?v.node2:v.node1;if(!m.__visited){if(w.call(k,m,x)){return}b.push(m),m.__visited=!0}}}}}},mZ.update=function(){for(var f=this.data,g=this.edgeData,k=this.nodes,d=this.edges,h=0,b=k.length;b>h;h++){k[h].dataIndex=-1}for(var h=0,b=f.count();b>h;h++){k[f.getRawIndex(h)].dataIndex=h}g.filterSelf(function(a){var e=d[g.getRawIndex(a)];return e.node1.dataIndex>=0&&e.node2.dataIndex>=0});for(var h=0,b=d.length;b>h;h++){d[h].dataIndex=-1}for(var h=0,b=g.count();b>h;h++){d[g.getRawIndex(h)].dataIndex=h}},mZ.clone=function(){for(var b=new qY(this._directed),d=this.nodes,g=this.edges,a=0;a<d.length;a++){b.addNode(d[a].id,d[a].dataIndex)}for(var a=0;a<g.length;a++){var f=g[a];b.addEdge(f.node1.id,f.node2.id,f.dataIndex)}return b},Tz.prototype={constructor:Tz,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(this.dataIndex<0)){var b=this.hostGraph,d=b.data.getItemModel(this.dataIndex);return d.getModel(a)}}},NG.prototype.getModel=function(a){if(!(this.dataIndex<0)){var b=this.hostGraph,d=b.edgeData.getItemModel(this.dataIndex);return d.getModel(a)}};var SN=function(a,b){return{getValue:function(e){var d=this[a][b];return d.get(d.getDimension(e||"value"),this.dataIndex)},setVisual:function(e,d){this.dataIndex>=0&&this[a][b].setItemVisual(this.dataIndex,e,d)},getVisual:function(e,d){return this[a][b].getItemVisual(this.dataIndex,e,d)},setLayout:function(e,d){this.dataIndex>=0&&this[a][b].setItemLayout(this.dataIndex,e,d)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}};Z3(Tz,SN("hostGraph","data")),Z3(NG,SN("hostGraph","edgeData")),qY.Node=Tz,qY.Edge=NG;var nZ=function(q,H,A,D,z){for(var K=new qY(D),x=0;x<q.length;x++){K.addNode(aaq(q[x].id,q[x].name,x),x)}for(var w=[],C=[],k=0,x=0;x<H.length;x++){var E=H[x],J=E.source,I=E.target;K.addEdge(J,I,k)&&(C.push(E),w.push(aaq(E.id,J+" > "+I)),k++)}var G,F=A.get("coordinateSystem");if("cartesian2d"===F||"polar"===F){G=Gj(q,A,A.ecModel)}else{var y=L2.get(F),B=V5((y&&"view"!==y.type?y.dimensions||[]:[]).concat(["value"]),q);G=new P8(B,A),G.initData(q)}var b=new P8(["value"],A);return b.initData(C,w),z&&z(G,b),d7({mainData:G,struct:K,structAttr:"graph",datas:{node:G,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),K.update(),K},DU=aav({type:"series.graph",init:function(a){DU.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeOption:function(a){DU.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(a){DU.superApply(this,"mergeDefaultAndTheme",arguments),wX(a.edgeLabel,["show"])},getInitialData:function(f,g){function k(e,p){function a(n){return n=this.parsePath(n),n&&"label"===n[0]?l:this.parentModel}e.wrapMethod("getItemModel",function(q){var s=b._categoriesModels,u=q.getShallow("category"),o=s[u];return o&&(o.parentModel=q.parentModel,q.parentModel=o),q});var m=b.getModel("edgeLabel"),l=new RN({label:m.option},m.parentModel,g);p.wrapMethod("getItemModel",function(n){return n.customizeGetParent(a),n})}var d=f.edges||f.links||[],h=f.data||f.nodes||[],b=this;return h&&d?nZ(h,d,this,!0,k).data:void 0},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(p,k,f){if("edge"===f){var h=this.getData(),d=this.getDataParams(p,f),m=h.graph.getEdgeByIndex(p),b=h.getName(m.node1.dataIndex),q=h.getName(m.node2.dataIndex),g=[];return null!=b&&g.push(b),null!=q&&g.push(q),g=fK(g.join(" > ")),d.value&&(g+=" : "+fK(d.value)),g}return DU.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var a=ZU(this.option.categories||[],function(d){return null!=d.value?d:Y2({value:0},d)}),b=new P8(["value"],this);b.initData(a),this._categoriesData=b,this._categoriesModels=b.mapArray(function(d){return b.getItemModel(d,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},isAnimationEnabled:function(){return DU.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:0.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:0.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:0.5},emphasis:{}}}}),oZ=[],xY=[],kZ=[],AW=P5,g1=k1,vY=Math.abs,f1=function(f,k){function m(a){var n=a.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),n}var d=[],l=V1,b=[[],[],[]],h=[[],[]],g=[];k/=2,f.eachEdge(function(n){var a=n.getLayout(),e=n.getVisual("fromSymbol"),o=n.getVisual("toSymbol");a.__original||(a.__original=[aan(a[0]),aan(a[1])],a[2]&&a.__original.push(aan(a[2])));var s=a.__original;if(null!=a[2]){if(aa3(b[0],s[0]),aa3(b[1],s[2]),aa3(b[2],s[1]),e&&"none"!=e){var q=m(n.node1),p=abA(b,s[0],q*k);l(b[0][0],b[1][0],b[2][0],p,d),b[0][0]=d[3],b[1][0]=d[4],l(b[0][1],b[1][1],b[2][1],p,d),b[0][1]=d[3],b[1][1]=d[4]}if(o&&"none"!=o){var q=m(n.node2),p=abA(b,s[1],q*k);l(b[0][0],b[1][0],b[2][0],p,d),b[1][0]=d[1],b[2][0]=d[2],l(b[0][1],b[1][1],b[2][1],p,d),b[1][1]=d[1],b[2][1]=d[2]}aa3(a[0],b[0]),aa3(a[1],b[2]),aa3(a[2],b[1])}else{if(aa3(h[0],s[0]),aa3(h[1],s[1]),aaU(g,h[1],h[0]),aao(g,g),e&&"none"!=e){var q=m(n.node1);aaP(h[0],h[0],g,q*k)}if(o&&"none"!=o){var q=m(n.node2);aaP(h[1],h[1],g,-q*k)}aa3(a[0],h[0]),aa3(a[1],h[1])}})},uY=["itemStyle","normal","opacity"],wY=["lineStyle","normal","opacity"];E2({type:"graph",init:function(b,d){var g=new SW,a=new BR,f=this.group;this._controller=new pK(d.getZr()),this._controllerHost={target:f},f.add(g.group),f.add(a.group),this._symbolDraw=g,this._lineDraw=a,this._firstRender=!0},render:function(D,y,m){var q=D.coordinateSystem;this._model=D,this._nodeScaleRatio=D.get("nodeScaleRatio");var k=this._symbolDraw,B=this._lineDraw,b=this.group;if("view"===q.type){var E={position:q.position,scale:q.scale};this._firstRender?b.attr(E):i0(b,E,D)}f1(D.getGraph(),this._getNodeGlobalScale(D));var p=D.getData();k.updateData(p);var C=D.getEdgeData();B.updateData(C),this._updateNodeAndLinkScale(),this._updateController(D,y,m),clearTimeout(this._layoutTimeout);var v=D.forceLayout,A=D.get("force.layoutAnimation");v&&this._startForceLayoutIteration(v,A),p.eachItemGraphicEl(function(g,f){var h=p.getItemModel(f);g.off("drag").off("dragend");var d=p.getItemModel(f).get("draggable");d&&g.on("drag",function(){v&&(v.warmUp(),!this._layouting&&this._startForceLayoutIteration(v,A),v.setFixed(f),p.setItemLayout(f,g.position))},this).on("dragend",function(){v&&v.setUnfixed(f)},this),g.setDraggable(d&&v),g.off("mouseover",g.__focusNodeAdjacency),g.off("mouseout",g.__unfocusNodeAdjacency),h.get("focusNodeAdjacency")&&(g.on("mouseover",g.__focusNodeAdjacency=function(){m.dispatchAction({type:"focusNodeAdjacency",seriesId:D.id,dataIndex:g.dataIndex})}),g.on("mouseout",g.__unfocusNodeAdjacency=function(){m.dispatchAction({type:"unfocusNodeAdjacency",seriesId:D.id})}))},this),p.graph.eachEdge(function(d){var a=d.getGraphicEl();a.off("mouseover",a.__focusNodeAdjacency),a.off("mouseout",a.__unfocusNodeAdjacency),d.getModel().get("focusNodeAdjacency")&&(a.on("mouseover",a.__focusNodeAdjacency=function(){m.dispatchAction({type:"focusNodeAdjacency",seriesId:D.id,edgeDataIndex:d.dataIndex})}),a.on("mouseout",a.__unfocusNodeAdjacency=function(){m.dispatchAction({type:"unfocusNodeAdjacency",seriesId:D.id})}))});var z="circular"===D.get("layout")&&D.get("circular.rotateLabel"),x=p.getLayout("cx"),w=p.getLayout("cy");p.eachItemGraphicEl(function(g,l){var u=g.getSymbolPath();if(z){var f=p.getItemLayout(l),s=Math.atan2(f[1]-w,f[0]-x);0>s&&(s=2*Math.PI+s);var d=f[0]<x;d&&(s-=Math.PI);var h=d?"left":"right";u.setStyle({textRotation:-s,textPosition:h,textOrigin:"center"}),u.hoverStyle&&(u.hoverStyle.textPosition=h)}else{u.setStyle({textRotation:0})}}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(q,k,f,h){var d=this._model.getData(),m=d.graph,b=h.dataIndex,v=h.edgeDataIndex,g=m.getNodeByIndex(b),p=m.getEdgeByIndex(v);(g||p)&&(m.eachNode(function(a){JH(a,uY,0.1)}),m.eachEdge(function(a){JH(a,wY,0.1)}),g&&(QG(g,uY),ZX(g.edges,function(a){a.dataIndex<0||(QG(a,wY),QG(a.node1,uY),QG(a.node2,uY))})),p&&(QG(p,wY),QG(p.node1,uY),QG(p.node2,uY)))},unfocusNodeAdjacency:function(){var a=this._model.getData().graph;a.eachNode(function(b){JH(b,uY)}),a.eachEdge(function(b){JH(b,wY)})},_startForceLayoutIteration:function(b,d){var f=this;!function a(){b.step(function(e){f.updateLayout(f._model),(f._layouting=!e)&&(d?f._layoutTimeout=setTimeout(a,16):a())})}()},_updateController:function(f,g,k){var d=this._controller,h=this._controllerHost,b=this.group;return d.setPointerChecker(function(m,a,n){var l=b.getBoundingRect();return l.applyTransform(b.transform),l.contain(a,n)&&!mV(m,k,f)}),"view"!==f.coordinateSystem.type?void d.disable():(d.enable(f.get("roam")),h.zoomLimit=f.get("scaleLimit"),h.zoom=f.coordinateSystem.getZoom(),void d.off("pan").off("zoom").on("pan",function(l,a){lV(h,l,a),k.dispatchAction({seriesId:f.id,type:"graphRoam",dx:l,dy:a})}).on("zoom",function(n,m,l){RH(h,n,m,l),k.dispatchAction({seriesId:f.id,type:"graphRoam",zoom:n,originX:m,originY:l}),this._updateNodeAndLinkScale(),f1(f.getGraph(),this._getNodeGlobalScale(f)),this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var b=this._model,d=b.getData(),f=this._getNodeGlobalScale(b),a=[f,f];d.eachItemGraphicEl(function(e){e.attr("scale",a)})},_getNodeGlobalScale:function(f){var h=f.coordinateSystem;if("view"!==h.type){return 1}var l=this._nodeScaleRatio,d=h.scale,k=d&&d[0]||1,b=h.getZoom(),g=(b-1)*l+1;return g/k},updateLayout:function(a){f1(a.getGraph(),this._getNodeGlobalScale(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});var cY={type:"graphRoam",event:"graphRoam",update:"none"};VW(cY,function(a,b){b.eachComponent({mainType:"series",query:a},function(f){var g=f.coordinateSystem,d=zR(g,a);f.setCenter&&f.setCenter(d.center),f.setZoom&&f.setZoom(d.zoom)})}),VW({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),VW({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var e1=function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.eachSeriesByType("graph",function(f){var h=f.getCategoriesData(),e=f.getGraph(),g=e.data,d=h.mapArray(h.getName);g.filterSelf(function(l){var o=g.getItemModel(l),k=o.getShallow("category");if(null!=k){"number"==typeof k&&(k=d[k]);for(var m=0;m<b.length;m++){if(!b[m].isSelected(k)){return !1}}}return !0})},this)},d1=function(a){var b={};a.eachSeriesByType("graph",function(e){var g=e.getCategoriesData(),d=e.getData(),f={};g.each(function(k){var h=g.getName(k);f["ec-"+h]=k;var m=g.getItemModel(k),l=m.get("itemStyle.normal.color")||e.getColorFromPalette(h,b);g.setItemVisual(k,"color",l)}),g.count()&&d.each(function(k){var l=d.getItemModel(k),h=l.getShallow("category");null!=h&&("string"==typeof h&&(h=f["ec-"+h]),d.getItemVisual(k,"color",!0)||d.setItemVisual(k,"color",g.getItemVisual(h,"color")))})})},h1=function(a){a.eachSeriesByType("graph",function(f){var h=f.getGraph(),l=f.getEdgeData(),d=HH(f.get("edgeSymbol")),k=HH(f.get("edgeSymbolSize")),b="lineStyle.normal.color".split("."),g="lineStyle.normal.opacity".split(".");l.setVisual("fromSymbol",d&&d[0]),l.setVisual("toSymbol",d&&d[1]),l.setVisual("fromSymbolSize",k&&k[0]),l.setVisual("toSymbolSize",k&&k[1]),l.setVisual("color",f.get(b)),l.setVisual("opacity",f.get(g)),l.each(function(p){var n=l.getItemModel(p),w=h.getEdgeByIndex(p),v=HH(n.getShallow("symbol",!0)),e=HH(n.getShallow("symbolSize",!0)),m=n.get(b),q=n.get(g);switch(m){case"source":m=w.node1.getVisual("color");break;case"target":m=w.node2.getVisual("color")}v[0]&&w.setVisual("fromSymbol",v[0]),v[1]&&w.setVisual("toSymbol",v[1]),e[0]&&w.setVisual("fromSymbolSize",e[0]),e[1]&&w.setVisual("toSymbolSize",e[1]),w.setVisual("color",m),w.setVisual("opacity",q)})})},MQ=function(a){a.eachSeriesByType("graph",function(d){var f=d.get("layout"),h=d.coordinateSystem;if(h&&"view"!==h.type){var b=d.getData(),g=h.dimensions;b.each(g,function(){for(var l,o=arguments,k=[],n=0;n<g.length;n++){isNaN(o[n])||(l=!0),k.push(o[n])}var m=o[o.length-1];l?b.setItemLayout(m,h.dataToPoint(k)):b.setItemLayout(m,[0/0,0/0])}),Z6(b.graph)}else{f&&"none"!==f||Uz(d)}})},TJ=function(a){a.eachSeriesByType("graph",function(b){"circular"===b.get("layout")&&Yt(b)})},B5=aaP,rY=function(a){a.eachSeriesByType("graph",function(H){var C=H.coordinateSystem;if(!C||"view"===C.type){if("force"===H.get("layout")){var v=H.preservedPoints||{},y=H.getGraph(),q=y.data,F=y.edgeData,b=H.getModel("force"),I=b.get("initLayout");H.preservedPoints?q.each(function(d){var f=q.getId(d);q.setItemLayout(d,v[f]||[0/0,0/0])}):I&&"none"!==I?"circular"===I&&Yt(H):Uz(H);var x=q.getDataExtent("value"),G=F.getDataExtent("value"),z=b.get("repulsion"),E=b.get("edgeLength");YO(z)||(z=[z,z]),YO(E)||(E=[E,E]),E=[E[1],E[0]];var D=q.mapArray("value",function(f,g){var h=q.getItemLayout(g),d=aaQ(f,x,z);return isNaN(d)&&(d=(z[0]+z[1])/2),{w:d,rep:d,fixed:q.getItemModel(g).get("fixed"),p:!h||isNaN(h[0])||isNaN(h[1])?null:h}}),B=F.mapArray("value",function(d,f){var h=y.getEdgeByIndex(f),g=aaQ(d,G,E);return isNaN(g)&&(g=(E[0]+E[1])/2),{n1:D[h.node1.dataIndex],n2:D[h.node2.dataIndex],d:g,curveness:h.getModel().get("lineStyle.normal.curveness")||0}}),C=H.coordinateSystem,A=C.getBoundingRect(),k=Wz(D,B,{rect:A,gravity:b.get("gravity")}),w=k.step;k.step=function(f){for(var g=0,d=D.length;d>g;g++){D[g].fixed&&aa3(D[g].p,y.getNodeByIndex(g).getLayout())}w(function(t,L,m){for(var N=0,n=t.length;n>N;N++){t[N].fixed||y.getNodeByIndex(N).setLayout(t[N].p),v[q.getId(N)]=t[N].p}for(var N=0,n=L.length;n>N;N++){var M=L[N],o=y.getEdgeByIndex(N),K=M.n1.p,J=M.n2.p,p=o.getLayout();p=p?p.slice():[],p[0]=p[0]||[],p[1]=p[1]||[],aa3(p[0],K),aa3(p[1],J),+M.curveness&&(p[2]=[(K[0]+J[0])/2-(K[1]-J[1])*M.curveness,(K[1]+J[1])/2-(J[0]-K[0])*M.curveness]),o.setLayout(p)}f&&f(m)})},H.forceLayout=k,H.preservedPoints=v,k.step()}else{H.forceLayout=null}}})},sY=function(a,b){var d=[];return a.eachSeriesByType("graph",function(A){var n=A.get("coordinateSystem");if(!n||"view"===n){var k=A.getData(),y=k.mapArray(function(f){var g=k.getItemModel(f);return[+g.get("x"),+g.get("y")]}),e=[],B=[];L5(y,e,B),B[0]-e[0]===0&&(B[0]+=1,e[0]-=1),B[1]-e[1]===0&&(B[1]+=1,e[1]-=1);var m=(B[0]-e[0])/(B[1]-e[1]),z=Vz(A,b,m);isNaN(m)&&(e=[z.x,z.y],B=[z.x+z.width,z.y+z.height]);var p=B[0]-e[0],x=B[1]-e[1],w=z.width,v=z.height,q=A.coordinateSystem=new sU;q.zoomLimit=A.get("scaleLimit"),q.setBoundingRect(e[0],e[1],p,x),q.setViewRect(z.x,z.y,w,v),q.setCenter(A.get("center")),q.setZoom(A.get("zoom")),d.push(q)}}),d};Y5(e1),F1(YN(Qt,"graph","circle",null)),F1(d1),F1(h1),O0(MQ),O0(TJ),O0(rY),UW("graphView",{create:sY});var lZ=QW.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});Z3(lZ,xH,!0);var JJ=k9.extend({type:"boxplot",getStyleUpdater:function(){return MG},dispose:aaW});Z3(JJ,kJ,!0);var Yz=["itemStyle","normal"],PH=["itemStyle","emphasis"],UB=["itemStyle","normal","borderColor"],OH=function(a){var b=a.get("color");a.eachRawSeriesByType("boxplot",function(f){var d=b[f.seriesIndex%b.length],e=f.getData();e.setVisual({legendSymbol:"roundRect",color:f.get(UB)||d}),a.isSeriesFiltered(f)||e.each(function(g){var h=e.getItemModel(g);e.setItemVisual(g,{color:h.get(UB,!0)})})})},abO=ZX,LH=function(a){var b=PG(a);abO(b,function(d){var f=d.seriesModels;f.length&&(GH(d),abO(f,function(g,h){DJ(g,d.boxOffsetList[h],d.boxWidthList[h])}))})};F1(OH),O0(LH);var KJ=function(a){EJ(a),aW(a)},RG=function(b,d,g,a,f){q7.call(this,b,d,g),this.type=a||"value",this.axisIndex=f};RG.prototype={constructor:RG,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},ZR(RG,q7);var IJ=function(w,p,f,k,d,q){p[0]=FH(p[0],f),p[1]=FH(p[1],f),w=w||0;var b=f[1]-f[0];null!=d&&(d=FH(d,[0,b])),null!=q&&(q=Math.max(q,null!=d?d:0)),"all"===k&&(d=q=Math.abs(p[1]-p[0]),k=0);var x=aa1(p,k);p[k]+=w;var g=d||0,v=f.slice();x.sign<0?v[0]+=g:v[1]-=g,p[k]=FH(p[k],v);var m=aa1(p,k);null!=d&&(m.sign!==x.sign||m.span<d)&&(p[1-k]=p[k]+x.sign*d);var m=aa1(p,k);return null!=q&&m.span>q&&(p[1-k]=p[k]+m.sign*q),p},VB=ZX,aa2=Math.min,Z7=Math.max,XB=Math.floor,WB=Math.ceil,NH=iK,QH=Math.PI;iV.prototype={type:"parallel",constructor:iV,_init:function(b,d){var f=b.dimensions,a=b.parallelAxisIndex;VB(f,function(g,m){var l=a[m],e=d.getComponent("parallelAxis",l),k=this._axesMap.set(g,new RG(g,d9(e),[0,0],e.get("type"),l)),h="category"===k.type;k.onBand=h&&e.get("boundaryGap"),k.inverse=e.get("inverse"),e.axis=k,k.model=e,k.coordinateSystem=e.coordinateSystem=this},this)},update:function(a){this._updateAxesFromSeries(this._model,a)},containPoint:function(f){var h=this._makeLayoutInfo(),l=h.axisBase,d=h.layoutBase,k=h.pixelDimIndex,b=f[1-k],g=f[k];return b>=l&&b<=l+h.axisLength&&g>=d&&g<=d+h.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(a,b){b.eachSeries(function(e){if(a.contains(e,b)){var d=e.getData();VB(this.dimensions,function(f){var g=this._axesMap.get(f);g.scale.unionExtentFromData(d,f),t6(g.scale,g.model)},this)}},this)},resize:function(a,b){this._rect=WY(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var q,H=this._model,A=this._rect,D=["x","y"],z=["width","height"],K=H.get("layout"),x="horizontal"===K?0:1,w=A[z[x]],C=[0,w],k=this.dimensions.length,E=oR(H.get("axisExpandWidth"),C),J=oR(H.get("axisExpandCount")||0,[0,k]),I=H.get("axisExpandable")&&k>3&&k>J&&J>1&&E>0&&w>0,G=H.get("axisExpandWindow");if(G){q=oR(G[1]-G[0],C),G[1]=G[0]+q}else{q=oR(E*(J-1),C);var F=H.get("axisExpandCenter")||XB(k/2);G=[E*F-q/2],G[1]=G[0]+q}var y=(w-q)/(k-J);3>y&&(y=0);var B=[XB(NH(G[0]/E,1))+1,WB(NH(G[1]/E,1))-1],b=y/E*G[0];return{layout:K,pixelDimIndex:x,layoutBase:A[D[x]],layoutLength:w,axisBase:A[D[1-x]],axisLength:A[z[1-x]],axisExpandable:I,axisExpandWidth:E,axisCollapseWidth:y,axisExpandWindow:G,axisCount:k,winInnerIndices:B,axisExpandWindow0Pos:b}},_layoutAxes:function(){var b=this._rect,d=this._axesMap,g=this.dimensions,a=this._makeLayoutInfo(),f=a.layout;d.each(function(h){var k=[0,a.axisLength],l=h.inverse?1:0;h.setExtent(k[l],k[1-l])}),VB(g,function(v,k){var q=(a.axisExpandable?hV:sQ)(k,a),p={horizontal:{x:q.position,y:a.axisLength},vertical:{x:0,y:q.position}},e={horizontal:QH/2,vertical:0},m=[p[f].x+b.x,p[f].y+b.y],o=e[f],t=aby();Ut(t,t,o),HG(t,t,m),this._axesLayout[v]={position:m,rotation:o,transform:t,axisNameAvailableWidth:q.axisNameAvailableWidth,axisLabelShow:q.axisLabelShow,nameTruncateMaxWidth:q.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:d.get(v).getLabelInterval()}},this)},getAxis:function(a){return this._axesMap.get(a)},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap.get(b).dataToCoord(a),b)},eachActiveState:function(B,w,k){for(var p=this.dimensions,g=this._axesMap,z=this.hasAxisBrushed(),b=0,C=B.count();C>b;b++){var m,A=B.getValues(p,b);if(z){m="active";for(var q=0,y=p.length;y>q;q++){var x=p[q],v=g.get(x).model.getActiveState(A[q],q);if("inactive"===v){m="inactive";break}}}else{m="normal"}w.call(k,m,b)}},hasAxisBrushed:function(){for(var b=this.dimensions,d=this._axesMap,g=!1,a=0,f=b.length;f>a;a++){"normal"!==d.get(b[a]).model.getActiveState()&&(g=!0)}return g},axisCoordToPoint:function(a,b){var d=this._axesLayout[b];return h0([a,0],d.transform)},getAxisLayout:function(a){return ZQ(this._axesLayout[a])},getSlidedAxisExpandWindow:function(z){var q=this._makeLayoutInfo(),g=q.pixelDimIndex,m=q.axisExpandWindow.slice(),f=m[1]-m[0],x=[0,q.axisExpandWidth*(q.axisCount-1)];if(!this.containPoint(z)){return{behavior:"none",axisExpandWindow:m}}var b,A=z[g]-q.layoutBase-q.axisExpandWindow0Pos,k="slide",y=q.axisCollapseWidth,p=this._model.get("axisExpandSlideTriggerArea"),w=null!=p[0];if(y){w&&y&&A<f*p[0]?(k="jump",b=A-f*p[2]):w&&y&&A>f*(1-p[0])?(k="jump",b=A-f*(1-p[2])):(b=A-f*p[1])>=0&&(b=A-f*(1-p[1]))<=0&&(b=0),b*=q.axisExpandWidth/y,b?IJ(b,m,x,"all"):k="none"}else{var f=m[1]-m[0],v=x[1]*A/f;m=[Z7(0,v-f/2)],m[1]=aa2(x[1],m[0]+f),m[0]=m[1]-f}return{axisExpandWindow:m,behavior:k}}},L2.register("parallel",{create:AN});var HJ=abd.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return UK([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){var b=this.activeIntervals=ZQ(a);if(b){for(var d=b.length-1;d>=0;d--){oH(b[d])}}},getActiveState:function(b){var d=this.activeIntervals;if(!d.length){return"normal"}if(null==b){return"inactive"}for(var f=0,a=d.length;a>f;f++){if(d[f][0]<=b&&b<=d[f][1]){return"active"}}return"inactive"}}),EK={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:0.3},realtime:!0,z:10};Y9(HJ.prototype,T4),O8("parallel",HJ,xQ,EK),abd.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){abd.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var b=this.option;a&&Y9(b,a,!0),this._initDimensions()},contains:function(a,b){var d=a.get("parallelIndex");return null!=d&&b.getComponent("parallel",d)===this},setAxisExpand:function(a){ZX(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(b){a.hasOwnProperty(b)&&(this.option[b]=a[b])},this)},_initDimensions:function(){var a=this.dimensions=[],b=this.parallelAxisIndex=[],d=Zt(this.dependentModels.parallelAxis,function(e){return(e.get("parallelIndex")||0)===this.componentIndex},this);ZX(d,function(e){a.push("dim"+e.get("dim")),b.push(e.componentIndex)})}});var FJ={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};VW(FJ,function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(d){d.axis.model.setActiveIntervals(a.intervals)})}),VW("parallelAxisExpand",function(a,b){b.eachComponent({mainType:"parallel",query:a},function(d){d.setAxisExpand(a)})});var a7=YN,abB=ZX,GJ=ZU,jV=Math.min,pU=Math.max,tR=Math.pow,iW=10000,A4=6,yR=6,zQ="globalPan",qR={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},mU={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},SF={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},nU=0;yQ.prototype={constructor:yQ,enableBrush:function(a){return this._brushType&&lR(this),a.brushType&&pR(this,a),this},setPanels:function(a){if(a&&a.length){var b=this._panels={};ZX(a,function(d){b[d.panelId]=ZQ(d)})}else{this._panels=null}return this},mount:function(a){a=a||{},this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]}),this._transform=b.getLocalTransform(),this},eachCover:function(a,b){abB(this._covers,a,b)},updateCovers:function(q){function k(a,h){return(null!=a.id?a.id:v+h)+"-"+a.brushType}function d(a,e){return k(a.__brushOption,e)}function o(h,s){var a=q[h];if(null!=s&&f[s]===m){p[h]=f[s]}else{var l=p[h]=null!=s?(f[s].__brushOption=a,f[s]):mR(g,RF(g,a));wQ(g,l)}}function b(a){f[a]!==m&&g.group.remove(f[a])}q=ZU(q,function(a){return Y9(ZQ(SF),a,!0)});var v="\x00-brush-index-",f=this._covers,p=this._covers=[],g=this,m=this._creatingCover;return new Jj(f,q,d,k).add(o).update(o).remove(b).execute(),this},unmount:function(){return this.enableBrush(!1),uQ(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},Z3(yQ,l1);var DK={mousedown:function(a){if(this._dragging){HF.call(this,a)}else{if(!a.target||!a.target.draggable){abx(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;var d=this._creatingPanel=zO(this,a,b);d&&(this._dragging=!0,this._track=[b.slice()])}}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);if(NE(this,a,b),this._dragging){abx(a);var d=JF(this,a,b,!1);d&&eV(this,d)}},mouseup:HF},oU={lineX:Uq(0),lineY:Uq(1),rect:{createCover:function(a,b){return bV(a7(rQ,function(d){return d},function(d){return d}),a,b,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(a){var b=vQ(a);return SE(b[1][0],b[1][1],b[0][0],b[0][1])},updateCoverShape:function(b,d,f,a){dV(b,d,f,a)},updateCommon:cQ,contain:KF},polygon:{createCover:function(a,b){var d=new TO;return d.add(new sW({name:"main",style:LG(b),silent:!0})),d},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0)),b.add(new oX({name:"main",draggable:!0,drift:a7(kR,a,b),ondragend:a7(eV,a,{isEnd:!0})}))},updateCoverShape:function(a,b,d){b.childAt(0).setShape({points:Xq(a,b,d)})},updateCommon:cQ,contain:KF}},xR=["axisLine","axisTickLabel","axisName"],kU=aE({type:"parallelAxis",init:function(a,b){kU.superApply(this,"init",arguments),(this._brushController=new yQ(b.getZr())).on("brush",YU(this._onBrush,this))},render:function(C,x,k,q){if(!ME(C,x,q)){this.axisModel=C,this.api=k,this.group.removeAll();var f=this._axisGroup;if(this._axisGroup=new TO,this.group.add(this._axisGroup),C.get("show")){var A=GF(C,x),D=A.coordinateSystem,m=C.getAreaSelectStyle(),B=m.width,v=C.axis.dim,z=D.getAxisLayout(v),y=Y2({strokeContainThreshold:B},z),w=new vB(C,y);ZX(xR,w.add,w),this._axisGroup.add(w.getGroup()),this._refreshBrushController(y,m,C,A,B,k);var b=q&&q.animation===!1?null:C;xX(f,this._axisGroup,b)}}},updateVisual:function(a){this._brushController&&this._brushController.updateCovers(PE(a))},_refreshBrushController:function(q,k,f,h,d,m){var b=f.axis.getExtent(),v=b[1]-b[0],g=Math.min(30,0.1*Math.abs(v)),p=gU.create({x:b[0],y:-d/2,width:v,height:d});p.x-=g,p.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:q.rotation,position:q.position}).setPanels([{panelId:"pl",clipPath:Z2(p),isTargetByCursor:Wq(p,m,h),getLinearBrushOtherExtent:Yk(p,0)}]).enableBrush({brushType:"lineX",brushStyle:k,removeOnClick:!0}).updateCovers(PE(f))},_onBrush:function(b,d){var g=this.axisModel,a=g.axis,f=ZU(b,function(e){return[a.coordToData(e.range[0],!0),a.coordToData(e.range[1],!0)]});(!g.option.realtime===d.isEnd||d.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:g.id,intervals:f})},dispose:function(){this._brushController.dispose()}}),AO=5;aE({type:"parallel",render:function(a,b,d){this._model=a,this._api=d,this._handlers||(this._handlers={},ZX(gW,function(f,g){d.getZr().on(g,this._handlers[g]=YU(f,this))},this)),m9(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},dispose:function(a,b){ZX(this._handlers,function(d,e){b.getZr().off(e,d)}),this._handlers=null},_throttledDispatchExpand:function(a){this._dispatchExpand(a)},_dispatchExpand:function(a){a&&this._api.dispatchAction(Y2({type:"parallelAxisExpand"},a))}});var gW={mousedown:function(a){DG(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(b){var d=this._mouseDownPoint;if(DG(this,"click")&&d){var g=[b.offsetX,b.offsetY],a=Math.pow(d[0]-g[0],2)+Math.pow(d[1]-g[1],2);if(a>AO){return}var f=this._model.coordinateSystem.getSlidedAxisExpandWindow([b.offsetX,b.offsetY]);"none"!==f.behavior&&this._dispatchExpand({axisExpandWindow:f.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(b){if(!this._mouseDownPoint&&DG(this,"mousemove")){var d=this._model,f=d.coordinateSystem.getSlidedAxisExpandWindow([b.offsetX,b.offsetY]),a=f.behavior;"jump"===a&&this._throttledDispatchExpand.debounceNextCall(d.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===a?null:{axisExpandWindow:f.axisExpandWindow,animation:"jump"===a?null:!1})}}};TW(KJ),QW.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function(p,k){var f=k.getComponent("parallel",this.get("parallelIndex")),h=f.parallelAxisIndex,d=p.data,m=f.dimensions,b=aaX(m,d),q=ZU(b,function(a,o){var l=YX(m,a),e=l>=0&&k.getComponent("parallelAxis",h[l]);return e&&"category"===e.get("type")?(EG(e,a,d),{name:a,type:"ordinal"}):0>l&&V5.guessOrdinal(d,o)?{name:a,type:"ordinal"}:a}),g=new P8(q,this);return g.initData(d),this.option.progressive&&(this.option.animation=!1),g},getRawIndicesByActiveState:function(b){var d=this.coordinateSystem,f=this.getData(),a=[];return d.eachActiveState(f,function(g,h){b===g&&a.push(f.getRawIndex(h))}),a},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:0.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}});var vR=0.3,fW=(k9.extend({type:"parallel",init:function(){this._dataGroup=new TO,this.group.add(this._dataGroup),this._data},render:function(b,d,f,a){this._renderForNormal(b,a)},dispose:function(){},_renderForNormal:function(z,q){function g(a){oO(b,x,a,y,k,null,w)}function m(t,e){var s=A.getItemGraphicEl(e),d=iR(b,t,y,k);b.setItemGraphicEl(t,s);var l=q&&q.animation===!1?null:z;i0(s,{shape:{points:d}},l,t)}function f(a){var d=A.getItemGraphicEl(a);x.remove(d)}var x=this._dataGroup,b=z.getData(),A=this._data,k=z.coordinateSystem,y=k.dimensions,p=z.option,w=p.smooth?vR:null;if(b.diff(A).add(g).update(m).remove(f).execute(),sN(b,w),!this._data){var v=FF(k,z,function(){setTimeout(function(){x.removeClipPath()})});x.setClipPath(v)}this._data=b},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),["lineStyle","normal","opacity"]),uR=function(a){a.eachSeriesByType("parallel",function(p){var f=p.getModel("itemStyle.normal"),k=p.getModel("lineStyle.normal"),d=a.get("color"),t=k.get("color")||f.get("color")||d[p.seriesIndex%d.length],b=p.get("inactiveOpacity"),w=p.get("activeOpacity"),g=p.getModel("lineStyle.normal").getLineStyle(),v=p.coordinateSystem,m=p.getData(),q={normal:g.opacity,active:w,inactive:b};v.eachActiveState(m,function(l,s){var x=m.getItemModel(s),h=q[l];if("normal"===l){var u=x.get(fW,!0);null!=u&&(h=u)}m.setItemVisual(s,"opacity",h)}),m.setVisual("color",t)})};F1(uR);var wR=(QW.extend({type:"series.gauge",getInitialData:function(a){var b=new P8(["value"],this),d=a.data||[];return YO(d)||(d=[d]),b.initData(d),b},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[0.2,"#91c7ae"],[0.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),Cz.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(p,k){var f=Math.cos,h=Math.sin,d=k.r,m=k.width,b=k.angle,q=k.x-f(b)*m*(m>=d/3?1:2),g=k.y-h(b)*m*(m>=d/3?1:2);b=k.angle-Math.PI/2,p.moveTo(q,g),p.lineTo(k.x+f(b)*m,k.y+h(b)*m),p.lineTo(k.x+f(k.angle)*d,k.y+h(k.angle)*d),p.lineTo(k.x-f(b)*m,k.y-h(b)*m),p.lineTo(q,g)}})),cR=2*Math.PI,eW=(k9.extend({type:"gauge",render:function(b,d,g){this.group.removeAll();var a=b.get("axisLine.lineStyle.color"),f=AJ(b,g);this._renderMain(b,d,g,a,f)},dispose:function(){},_renderMain:function(w,J,C,F,B){for(var M=this.group,z=w.getModel("axisLine"),x=z.getModel("lineStyle"),E=w.get("clockwise"),q=-w.get("startAngle")/180*Math.PI,G=-w.get("endAngle")/180*Math.PI,L=(G-q)%cR,K=q,I=x.get("width"),H=0;H<F.length;H++){var A=Math.min(Math.max(F[H][0],0),1),G=q+L*A,D=new aY({shape:{startAngle:K,endAngle:G,cx:B.cx,cy:B.cy,clockwise:E,r0:B.r-I,r:B.r},silent:!0});D.setStyle({fill:F[H][1]}),D.setStyle(x.getLineStyle(["color","borderWidth","borderColor"])),M.add(D),K=G}var k=function(a){if(0>=a){return F[0][1]}for(var d=0;d<F.length;d++){if(F[d][0]>=a&&(0===d?0:F[d-1][0])<a){return F[d][1]}}return F[d-1][1]};if(!E){var b=q;q=G,G=b}this._renderTicks(w,J,C,k,B,q,G,E),this._renderPointer(w,J,C,k,B,q,G,E),this._renderTitle(w,J,C,k,B),this._renderDetail(w,J,C,k,B)},_renderTicks:function(U,al,ac,ag,ab,ap,Y){for(var W=this.group,ae=ab.cx,R=ab.cy,ah=ab.r,an=+U.get("min"),am=+U.get("max"),ak=U.getModel("splitLine"),ai=U.getModel("axisTick"),aa=U.getModel("axisLabel"),ad=U.get("splitNumber"),Q=ai.get("splitNumber"),H=Ft(ak.get("length"),ah),K=Ft(ai.get("length"),ah),ar=ap,ao=(Y-ap)/ad,N=ao/Q,z=ak.getModel("lineStyle").getLineStyle(),F=ai.getModel("lineStyle").getLineStyle(),J=0;ad>=J;J++){var q=Math.cos(ar),Z=Math.sin(ar);if(ak.get("show")){var V=new AU({shape:{x1:q*ah+ae,y1:Z*ah+R,x2:q*(ah-H)+ae,y2:Z*(ah-H)+R},style:z,silent:!0});"auto"===z.stroke&&V.setStyle({stroke:ag(J/ad)}),W.add(V)}if(aa.get("show")){var X=xN(iK(J/ad*(am-an)+an),aa.get("formatter")),G=aa.get("distance"),B=ag(J/ad);W.add(new PN({style:WH({},aa,{text:X,x:q*(ah-H-G)+ae,y:Z*(ah-H-G)+R,textVerticalAlign:-0.4>Z?"top":Z>0.4?"bottom":"middle",textAlign:-0.4>q?"left":q>0.4?"right":"center"},{autoColor:B}),silent:!0}))}if(ai.get("show")&&J!==ad){for(var af=0;Q>=af;af++){var q=Math.cos(ar),Z=Math.sin(ar),E=new AU({shape:{x1:q*ah+ae,y1:Z*ah+R,x2:q*(ah-K)+ae,y2:Z*(ah-K)+R},silent:!0,style:F});"auto"===F.stroke&&E.setStyle({stroke:ag((J+af/Q)/ad)}),W.add(E),ar+=N}ar-=N}else{ar+=ao}}},_renderPointer:function(x,p,f,k,d,v,b){var y=this.group,g=this._data;if(!x.get("pointer.show")){return void (g&&g.eachItemGraphicEl(function(a){y.remove(a)}))}var w=[+x.get("min"),+x.get("max")],m=[v,b],q=x.getData();q.diff(g).add(function(a){var h=new wR({shape:{angle:v}});oY(h,{shape:{angle:aaQ(q.get("value",a),w,m,!0)}},x),y.add(h),q.setItemGraphicEl(a,h)}).update(function(h,l){var a=g.getItemGraphicEl(l);i0(a,{shape:{angle:aaQ(q.get("value",h),w,m,!0)}},x),y.add(a),q.setItemGraphicEl(h,a)}).remove(function(a){var h=g.getItemGraphicEl(a);y.remove(h)}).execute(),q.eachItemGraphicEl(function(l,o){var s=q.getItemModel(o),h=s.getModel("pointer");l.setShape({x:d.cx,y:d.cy,width:Ft(h.get("width"),d.r),r:Ft(h.get("length"),d.r)}),l.useStyle(s.getModel("itemStyle.normal").getItemStyle()),"auto"===l.style.fill&&l.setStyle("fill",k(aaQ(q.get("value",o),w,[0,1],!0))),aad(l,s.getModel("itemStyle.emphasis").getItemStyle())}),this._data=q},_renderTitle:function(z,q,g,m,f){var x=z.getModel("title");if(x.get("show")){var b=x.get("offsetCenter"),A=f.cx+Ft(b[0],f.r),k=f.cy+Ft(b[1],f.r),y=+z.get("min"),p=+z.get("max"),w=z.getData().get("value",0),v=m(aaQ(w,[y,p],[0,1],!0));this.group.add(new PN({silent:!0,style:WH({},x,{x:A,y:k,text:z.getData().getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:v,forceRich:!0})}))}},_renderDetail:function(D,y,m,q,k){var B=D.getModel("detail"),b=+D.get("min"),E=+D.get("max");if(B.get("show")){var p=B.get("offsetCenter"),C=k.cx+Ft(p[0],k.r),v=k.cy+Ft(p[1],k.r),A=Ft(B.get("width"),k.r),z=Ft(B.get("height"),k.r),x=D.getData().get("value",0),w=q(aaQ(x,[b,E],[0,1],!0));this.group.add(new PN({silent:!0,style:WH({},B,{x:C,y:v,text:xN(x,B.get("formatter")),textWidth:isNaN(A)?null:A,textHeight:isNaN(z)?null:z,textAlign:"center",textVerticalAlign:"middle"},{autoColor:w,forceRich:!0})}))}}}),aav({type:"series.funnel",init:function(a){eW.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(a)},getInitialData:function(a){var b=V5(["value"],a.data),d=new P8(b,this);return d.initData(a.data),d},_defaultLabelLine:function(a){wX(a.labelLine,["show"]);var b=a.labelLine.normal,d=a.labelLine.emphasis;b.show=b.show&&a.label.normal.show,d.show=d.show&&a.label.emphasis.show},getDataParams:function(b){var d=this.getData(),f=eW.superCall(this,"getDataParams",b),a=d.getSum("value");return f.percent=a?+(d.get("value",b)/a*100).toFixed(2):0,f.$vars.push("percent"),f},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}})),dW=yN.prototype,hW=["itemStyle","normal","opacity"];dW.updateData=function(v,p,f){var k=this.childAt(0),d=v.hostModel,q=v.getItemModel(p),b=v.getItemLayout(p),g=v.getItemModel(p).get(hW);g=null==g?1:g,k.useStyle({}),f?(k.setShape({points:b.points}),k.setStyle({opacity:0}),oY(k,{style:{opacity:g}},d,p)):i0(k,{style:{opacity:g},shape:{points:b.points}},d,p);var s=q.getModel("itemStyle"),m=v.getItemVisual(p,"color");k.setStyle(Y0({lineJoin:"round",fill:m},s.getModel("normal").getItemStyle(["opacity"]))),k.hoverStyle=s.getModel("emphasis").getItemStyle(),this._updateLabel(v,p),aad(this)},dW._updateLabel=function(z,q){var g=this.childAt(1),m=this.childAt(2),f=z.hostModel,x=z.getItemModel(q),b=z.getItemLayout(q),A=b.label,k=z.getItemVisual(q,"color");i0(g,{shape:{points:A.linePoints||A.linePoints}},f,q),i0(m,{style:{x:A.x,y:A.y}},f,q),m.attr({rotation:A.rotation,origin:[A.x,A.y],z2:10});var y=x.getModel("label.normal"),p=x.getModel("label.emphasis"),w=x.getModel("labelLine.normal"),v=x.getModel("labelLine.emphasis"),k=z.getItemVisual(q,"color");YG(m.style,m.hoverStyle={},y,p,{labelFetcher:z.hostModel,labelDataIndex:q,defaultText:z.getName(q),autoColor:k,useInsideStyle:!!A.inside},{textAlign:A.textAlign,textVerticalAlign:A.verticalAlign}),m.ignore=m.normalIgnore=!y.get("show"),m.hoverIgnore=!p.get("show"),g.ignore=g.normalIgnore=!w.get("show"),g.hoverIgnore=!v.get("show"),g.setStyle({stroke:k}),g.setStyle(w.getModel("lineStyle").getLineStyle()),g.hoverStyle=v.getModel("lineStyle").getLineStyle()},ZR(yN,TO);var MH=(k9.extend({type:"funnel",render:function(b){var d=b.getData(),f=this._data,a=this.group;d.diff(f).add(function(e){var g=new yN(d,e);d.setItemGraphicEl(e,g),a.add(g)}).update(function(g,h){var e=f.getItemGraphicEl(h);e.updateData(d,g),a.add(e),d.setItemGraphicEl(g,e)}).remove(function(g){var h=f.getItemGraphicEl(g);a.remove(h)}).execute(),this._data=d},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),function(a,b){a.eachSeriesByType("funnel",function(z){var E=z.getData(),H=z.get("sort"),D=pO(z,b),N=lO(E,H),B=[Ft(z.get("minSize"),D.width),Ft(z.get("maxSize"),D.width)],A=E.getDataExtent("value"),G=z.get("min"),w=z.get("max");null==G&&(G=Math.min(A[0],0)),null==w&&(w=A[1]);var I=z.get("funnelAlign"),M=z.get("gap"),L=(D.height-M*(E.count()-1))/E.count(),K=D.y,J=function(g,l){var f,d=E.get("value",g)||0,h=aaQ(d,[G,w],B,!0);switch(I){case"left":f=D.x;break;case"center":f=D.x+(D.width-h)/2;break;case"right":f=D.x+D.width-h}return[[f,l],[f+h,l]]};"ascending"===H&&(L=-L,M=-M,K+=D.height,N=N.reverse());for(var C=0;C<N.length;C++){var F=N[C],q=N[C+1],e=J(F,K),k=J(q,K+L);K+=L+M,E.setItemLayout(F,{points:e.concat(k.slice().reverse())})}RB(E)})});F1(YN(tH,"funnel")),O0(MH),Y5(YN(qH,"funnel"));var TB=QW.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(b){var d=b.edges||b.links,f=b.data||b.nodes;if(f&&d){var a=nZ(f,d,this,!0);return a.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(f,g,k){if("edge"===k){var d=this.getDataParams(f,k),h=d.data,b=h.source+" -- "+h.target;return d.value&&(b+=" : "+d.value),fK(b)}return TB.superCall(this,"formatTooltip",f,g)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",color:"#000",fontSize:12},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:0.2,curveness:0.5},emphasis:{opacity:0.6}},animationEasing:"linear",animationDuration:1000}}),B3=bG({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(a,b){var d=b.extent/2;a.moveTo(b.x1,b.y1-d),a.bezierCurveTo(b.cpx1,b.cpy1-d,b.cpx2,b.cpy2-d,b.x2,b.y2-d),a.lineTo(b.x2,b.y2+d),a.bezierCurveTo(b.cpx2,b.cpy2+d,b.cpx1,b.cpy1+d,b.x1,b.y1+d),a.closePath()}});E2({type:"sankey",_model:null,render:function(f){var g=f.getGraph(),k=this.group,d=f.layoutInfo,h=f.getData(),b=f.getData("edge");this._model=f,k.removeAll(),k.attr("position",[d.x,d.y]),g.eachEdge(function(B){var x=new B3;x.dataIndex=B.dataIndex,x.seriesIndex=f.seriesIndex,x.dataType="edge";var q=B.getModel("lineStyle.normal"),a=q.get("curveness"),G=B.node1.getLayout(),w=B.node2.getLayout(),F=B.getLayout();x.shape.extent=Math.max(1,F.dy);var y=G.x+G.dx,D=G.y+F.sy+F.dy/2,C=w.x,A=w.y+F.ty+F.dy/2,z=y*(1-a)+C*a,n=D,t=y*a+C*(1-a),E=A;switch(x.setShape({x1:y,y1:D,x2:C,y2:A,cpx1:z,cpy1:n,cpx2:t,cpy2:E}),x.setStyle(q.getItemStyle()),x.style.fill){case"source":x.style.fill=B.node1.getVisual("color");break;case"target":x.style.fill=B.node2.getVisual("color")}aad(x,B.getModel("lineStyle.emphasis").getItemStyle()),k.add(x),b.setItemGraphicEl(B.dataIndex,x)}),g.eachNode(function(v){var p=v.getLayout(),n=v.getModel(),t=n.getModel("label.normal"),q=n.getModel("label.emphasis"),m=new hZ({shape:{x:p.x,y:p.y,width:v.getLayout().dx,height:v.getLayout().dy},style:n.getModel("itemStyle.normal").getItemStyle()}),o=v.getModel("itemStyle.emphasis").getItemStyle();YG(m.style,o,t,q,{labelFetcher:f,labelDataIndex:v.dataIndex,defaultText:v.id,isRectText:!0}),m.setStyle("fill",v.getVisual("color")),aad(m,o),k.add(m),h.setItemGraphicEl(v.dataIndex,m),m.dataType="node"}),!this._data&&f.get("animation")&&k.setClipPath(mO(k.getBoundingRect(),f,function(){k.removeClipPath()})),this._data=f.getData()},dispose:function(){}});var rR=function(a,b){a.eachSeriesByType("sankey",function(w){var f=w.get("nodeWidth"),k=w.get("nodeGap"),e=nO(w,b);w.layoutInfo=e;var q=e.width,d=e.height,x=w.getGraph(),g=x.nodes,v=x.edges;jQ(g);var m=Zt(g,function(h){return 0===h.getLayout().value}),p=0!==m.length?0:w.get("layoutIterations");wN(g,v,f,k,q,d,p)})},sR=function(a){a.eachSeriesByType("sankey",function(d){var f=d.getGraph(),h=f.nodes;h.sort(function(k,l){return k.getLayout().value-l.getLayout().value});var b=h[0].getLayout().value,g=h[h.length-1].getLayout().value;ZX(h,function(o){var p=new m6({type:"color",mappingMethod:"linear",dataExtent:[b,g],visual:d.get("color")}),k=p.mapValueToVisual(o.getLayout().value);o.setVisual("color",k);var m=o.getModel(),l=m.get("itemStyle.normal.color");null!=l&&o.setVisual("color",l)})})};O0(rR),F1(sR);var lU=function(b,d,g,a,f){q7.call(this,b,d,g),this.type=a||"value",this.position=f||"bottom",this.orient=null,this._labelInterval=null};lU.prototype={constructor:lU,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},pointToData:function(a,b){return this.coordinateSystem.pointToData(a,b)[0]},toGlobalCoord:null,toLocalCoord:null},ZR(lU,q7),OB.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:OB,_init:function(b){var d=this.dimension,f=new lU(d,d9(b),[0,0],b.get("type"),b.get("position")),a="category"===f.type;f.onBand=a&&b.get("boundaryGap"),f.inverse=b.get("inverse"),f.orient=b.get("orient"),b.axis=f,f.model=b,f.coordinateSystem=this,this._axis=f},update:function(a){a.eachSeries(function(b){if(b.coordinateSystem===this){var d=b.getData(),f=this.dimension;this._axis.scale.unionExtentFromData(d,b.coordDimToDataDim(f)),t6(this._axis.scale,this._axis.model)}},this)},resize:function(a,b){this._rect=WY({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:b.getWidth(),height:b.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var b=this._rect,d=this._axis,g=d.isHorizontal(),a=g?[0,b.width]:[0,b.height],f=d.reverse?1:0;d.setExtent(a[f],a[1-f]),this._updateAxisTransform(d,g?b.x:b.y)},_updateAxisTransform:function(b,d){var g=b.getExtent(),a=g[0]+g[1],f=b.isHorizontal();b.toGlobalCoord=f?function(e){return e+d}:function(e){return a-e+d},b.toLocalCoord=f?function(e){return e-d}:function(e){return a-e+d}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(b){var d=this.getRect(),f=this.getAxis(),a=f.orient;return"horizontal"===a?f.contain(f.toLocalCoord(b[0]))&&b[1]>=d.y&&b[1]<=d.y+d.height:f.contain(f.toLocalCoord(b[1]))&&b[0]>=d.y&&b[0]<=d.y+d.height},pointToData:function(a){var b=this.getAxis();return[b.coordToData(b.toLocalCoord(a["horizontal"===b.orient?0:1]))]},dataToPoint:function(b){var d=this.getAxis(),g=this.getRect(),a=[],f="horizontal"===d.orient?0:1;return b instanceof Array&&(b=b[0]),a[f]=d.toGlobalCoord(d.dataToCoord(+b)),a[1-f]=0===f?g.y+g.height/2:g.x+g.width/2,a}},L2.register("single",{create:Tq,dimensions:OB.prototype.dimensions});var JN=vB.getInterval,YE=vB.ifIgnoreOnTick,PK=["axisLine","axisTickLabel","axisName"],UF="splitLine",OK=hG.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(f,h,l,d){var k=this.group;k.removeAll();var b=NB(f),g=new vB(f,b);ZX(PK,g.add,g),k.add(g.getGroup()),f.get(UF+".show")&&this["_"+UF](f,b.labelInterval),OK.superCall(this,"render",f,h,l,d)},_splitLine:function(z,L){var E=z.axis;if(!E.scale.isBlank()){var H=z.getModel("splitLine"),D=H.getModel("lineStyle"),O=D.get("width"),B=D.get("color"),A=JN(H,L);B=B instanceof Array?B:[B];for(var G=z.coordinateSystem.getRect(),w=E.isHorizontal(),I=[],N=0,M=E.getTicksCoords(),K=[],J=[],C=z.get("axisLabel.showMinLabel"),F=z.get("axisLabel.showMaxLabel"),q=0;q<M.length;++q){if(!YE(E,q,A,M.length,C,F)){var b=E.toGlobalCoord(M[q]);w?(K[0]=b,K[1]=G.y,J[0]=b,J[1]=G.y+G.height):(K[0]=G.x,K[1]=b,J[0]=G.x+G.width,J[1]=b);var k=N++%B.length;I[k]=I[k]||[],I[k].push(new AU(BB({shape:{x1:K[0],y1:K[1],x2:J[0],y2:J[1]},style:{lineWidth:O},silent:!0})))}}for(var q=0;q<I.length;++q){this.group.add(fZ(I[q],{style:{stroke:B[q%B.length],lineDash:D.getLineDash(O),lineWidth:O},silent:!0}))}}}}),abP=abd.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),LK={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:0.2}}};Y9(abP.prototype,T4),O8("single",abP,abw,LK);var KN=function(q,k){var f,h=[],d=q.seriesIndex;if(null==d||!(f=k.getSeriesByIndex(d))){return{point:[]}}var m=f.getData(),b=bY(m,q);if(null==b||YO(b)){return{point:[]}}var v=m.getItemGraphicEl(b),g=f.coordinateSystem;if(f.getTooltipPosition){h=f.getTooltipPosition(b)||[]}else{if(g&&g.dataToPoint){h=g.dataToPoint(m.getValues(ZU(g.dimensions,function(a){return f.coordDimToDataDim(a)[0]}),b,!0))||[]}else{if(v){var p=v.getBoundingRect().clone();p.applyTransform(v.transform),h=[p.x+p.width/2,p.y+p.height/2]}}}return{point:h,el:v}},RJ=ZX,IN=YN,VF=BU(),aa5=function(H,C,v){var y=H.currTrigger,q=[H.x,H.y],F=H,b=H.dispatchAction||YU(v.dispatchAction,v),I=C.getComponent("axisPointer").coordSysAxesInfo;if(I){MB(q)&&(q=KN({seriesIndex:F.seriesIndex,dataIndex:F.dataIndex},C).point);var x=MB(q),G=F.axesInfo,z=I.axesInfo,E="leave"===y||MB(q),D={},B={},A={list:[],map:{}},k={showPointer:IN(QB,B),showTooltip:IN(HE,A)};RJ(I.coordSysMap,function(a,d){var f=x||a.containPoint(q);RJ(I.coordSysAxesInfo[d],function(l){var m=l.axis,h=Wk(G,l);if(!E&&f&&(!G||h)){var g=h&&h.value;null!=g||x||(g=m.pointToData(q)),null!=g&&KE(l,g,k,!1,D)}})});var w={};return RJ(z,function(a,d){var f=a.linkGroup;f&&!B[d]&&RJ(f.axesInfo,function(l,h){var m=B[h];if(l!==a&&m){var g=m.value;f.mapper&&(g=a.axis.scale.parse(f.mapper(g,Vk(l),Vk(a)))),w[a.key]=g}})}),RJ(w,function(a,d){KE(z[d],a,k,!0,D)}),Uk(B,z,D),Z0(A,q,H,b),Yj(z,b,v),D}},aaa=(D2({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),BU()),XF=ZX,WF=aE({type:"axisPointer",render:function(b,d,g){var a=d.getComponent("tooltip"),f=b.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";PB("axisPointer",g,function(h,k,l){"none"!==f&&("leave"===h||f.indexOf(h)>=0)&&l({type:"updateAxisPointer",currTrigger:h,x:k&&k.offsetX,y:k&&k.offsetY})})},remove:function(a,b){FE(b.getZr(),"axisPointer"),WF.superApply(this._model,"remove",arguments)},dispose:function(a,b){FE("axisPointer",b),WF.superApply(this._model,"dispose",arguments)}}),NK=BU(),QK=ZQ,HN=YU;iQ.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(x,p,f,k){var d=p.get("value"),v=p.get("status");if(this._axisModel=x,this._axisPointerModel=p,this._api=f,k||this._lastValue!==d||this._lastStatus!==v){this._lastValue=d,this._lastStatus=v;var b=this._group,y=this._handle;if(!v||"hide"===v){return b&&b.hide(),void (y&&y.hide())}b&&b.show(),y&&y.show();var g={};this.makeElOption(g,d,x,p,f);var w=g.graphicKey;w!==this._lastGraphicKey&&this.clear(f),this._lastGraphicKey=w;var m=this._moveAnimation=this.determineAnimation(x,p);if(b){var q=YN(oN,p,m);this.updatePointerEl(b,g,q,p),this.updateLabelEl(b,g,q,p)}else{b=this._group=new TO,this.createPointerEl(b,g,x,p),this.createLabelEl(b,g,x,p),f.getZr().add(b)}xK(b,p,!0),this._renderHandle(d)}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(p,k){var f=k.get("animation"),h=p.axis,d="category"===h.type,m=k.get("snap");if(!m&&!d){return !1}if("auto"===f||null==f){var b=this.animationThreshold;if(d&&h.getBandWidth()>b){return !0}if(m){var q=dH(p).seriesDataCount,g=h.getExtent();return Math.abs(g[0]-g[1])/q>b}return !1}return f===!0},makeElOption:function(){},createPointerEl:function(b,d){var f=d.pointer;if(f){var a=NK(b).pointerEl=new uW[f.type](QK(d.pointer));b.add(a)}},createLabelEl:function(b,d,g,a){if(d.label){var f=NK(b).labelEl=new hZ(QK(d.label));b.add(f),hQ(f,a)}},updatePointerEl:function(b,d,f){var a=NK(b).pointerEl;a&&(a.setStyle(d.pointer.style),f(a,{shape:d.pointer.shape}))},updateLabelEl:function(b,d,g,a){var f=NK(b).labelEl;f&&(f.setStyle(d.label.style),g(f,{shape:d.label.shape,position:d.label.position}),hQ(f,a))},_renderHandle:function(p){if(!this._dragging&&this.updateHandleTransform){var k=this._axisPointerModel,f=this._api.getZr(),h=this._handle,d=k.getModel("handle"),m=k.get("status");if(!d.get("show")||!m||"hide"===m){return h&&f.remove(h),void (this._handle=null)}var b;this._handle||(b=!0,h=this._handle=lY(d.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){e4(a.event)},onmousedown:HN(this._onHandleDragMove,this,0,0),drift:HN(this._onHandleDragMove,this),ondragend:HN(this._onHandleDragEnd,this)}),f.add(h)),xK(h,k,!1);var q=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];h.setStyle(d.getItemStyle(null,q));var g=d.get("size");YO(g)||(g=[g,g]),h.attr("scale",[g[0]/2,g[1]/2]),m9(this,"_doDispatchAxisPointer",d.get("throttle")||0,"fixRate"),this._moveHandleToValue(p,b)}},_moveHandleToValue:function(a,b){oN(this._axisPointerModel,!b&&this._moveAnimation,this._handle,AH(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(b,d){var f=this._handle;if(f){this._dragging=!0;var a=this.updateHandleTransform(AH(f),[b,d],this._axisModel,this._axisPointerModel);this._payloadInfo=a,f.stopAnimation(),f.attr(AH(a)),NK(f).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var a=this._handle;if(a){var b=this._payloadInfo,d=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:b.cursorPoint[0],y:b.cursorPoint[1],tooltipOption:b.tooltipOption,axesInfo:[{axisDim:d.axis.dim,axisIndex:d.componentIndex}]})}},_onHandleDragEnd:function(){this._dragging=!1;var a=this._handle;if(a){var b=this._axisPointerModel.get("value");this._moveHandleToValue(b),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(b){this._lastValue=null,this._lastStatus=null;var d=b.getZr(),f=this._group,a=this._handle;d&&f&&(this._lastGraphicKey=null,f&&d.remove(f),a&&d.remove(a),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(a,b,d){return d=d||0,{x:a[d],y:a[1-d],width:b[d],height:b[1-d]}}},iQ.prototype.constructor=iQ,BH(iQ);var EO=iQ.extend({makeElOption:function(z,q,g,m,f){var x=g.axis,b=x.grid,A=m.get("type"),k=zJ(b,x).getOtherAxis(x).getGlobalExtent(),y=x.toGlobalCoord(x.dataToCoord(q,!0));if(A&&"none"!==A){var p=yK(m),w=FN[A](x,y,k,p);w.style=p,z.graphicKey=w.type,z.pointer=w}var v=qE(b.model,g);CJ(q,z,v,g,m,f)},getHandleTransform:function(b,d,f){var a=qE(d.axis.grid.model,d,{labelInside:!1});return a.labelMargin=f.get("handle.margin"),{position:mN(d.axis,b,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(x,p,f){var k=f.axis,d=k.grid,v=k.getGlobalExtent(!0),b=zJ(d,k).getOtherAxis(k).getGlobalExtent(),y="x"===k.dim?0:1,g=x.position;g[y]+=p[y],g[y]=Math.min(v[1],g[y]),g[y]=Math.max(v[0],g[y]);var w=(b[1]+b[0])/2,m=[w,w];m[y]=g[y];var q=[{verticalAlign:"middle"},{align:"center"}];return{position:g,rotation:x.rotation,cursorPoint:m,tooltipOption:q[y]}}}),FN={line:function(b,d,g,a){var f=nN([d,g[0]],[d,g[1]],fQ(b));return BB({shape:f,style:a}),{type:"Line",shape:f}},shadow:function(b,d,g){var a=b.getBandWidth(),f=g[1]-g[0];return{type:"Rect",shape:wK([d-a/2,g[0]],[a,f],fQ(b))}}};hG.registerAxisPointerClass("CartesianAxisPointer",EO),TW(function(a){if(a){(!a.axisPointer||0===a.axisPointer.length)&&(a.axisPointer={});var b=a.axisPointer.link;b&&!YO(b)&&(a.axisPointer.link=[b])}}),Y5(j4.PROCESSOR.STATISTIC,function(a,b){a.getComponent("axisPointer").coordSysAxesInfo=zB(a,b)}),VW({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},aa5);var a8=["x","y"],abD=["width","height"],GN=iQ.extend({makeElOption:function(z,q,g,m,f){var x=g.axis,b=x.coordinateSystem,A=eQ(b,1-uK(x)),k=b.dataToPoint(q)[0],y=m.get("type");if(y&&"none"!==y){var p=yK(m),w=jX[y](x,k,A,p);w.style=p,z.graphicKey=w.type,z.pointer=w}var v=NB(g);CJ(q,z,v,g,m,f)},getHandleTransform:function(b,d,f){var a=NB(d,{labelInside:!1});return a.labelMargin=f.get("handle.margin"),{position:mN(d.axis,b,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(w,p,f){var k=f.axis,d=k.coordinateSystem,q=uK(k),b=eQ(d,q),x=w.position;x[q]+=p[q],x[q]=Math.min(b[1],x[q]),x[q]=Math.max(b[0],x[q]);var g=eQ(d,1-q),v=(g[1]+g[0])/2,m=[v,v];return m[q]=x[q],{position:x,rotation:w.rotation,cursorPoint:m,tooltipOption:{verticalAlign:"middle"}}}}),jX={line:function(b,d,g,a){var f=nN([d,g[0]],[d,g[1]],uK(b));return BB({shape:f,style:a}),{type:"Line",shape:f}},shadow:function(b,d,g){var a=b.getBandWidth(),f=g[1]-g[0];return{type:"Rect",shape:wK([d-a/2,g[0]],[a,f],uK(b))}}};hG.registerAxisPointerClass("SingleAxisPointer",GN),aE({type:"single"});var pW=2,tV=QW.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(){tV.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(H){for(var B=H.length,q=CK().key(function(a){return a[2]}).entries(H),y=ZU(q,function(a){return{name:a.key,dataList:a.values}}),k=y.length,E=-1,b=-1,I=0;k>I;++I){var x=y[I].dataList.length;x>E&&(E=x,b=I)}for(var G=0;k>G;++G){if(G!==b){for(var z=y[G].name,D=0;E>D;++D){for(var C=y[b].dataList[D][0],A=y[G].dataList.length,g=-1,w=0;A>w;++w){var F=y[G].dataList[w][0];if(F===C){g=w;break}}-1===g&&(H[B]=[],H[B][0]=C,H[B][1]=0,H[B][2]=z,B++)}}}return H},getInitialData:function(x,p){var f=[],k=p.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],d=k.get("type");f=[{name:"time",type:"category"===d?"ordinal":"time"===d?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}];for(var v=Zt(x.data,function(a){return void 0!==a[2]}),b=this.fixData(v||[]),y=[],g=this.nameMap=aaD(),w=0,m=0;m<b.length;++m){y.push(b[m][pW]),g.get(b[m][pW])||(g.set(b[m][pW],w),w++)}f=V5(f,b);var q=new P8(f,this);return q.initData(b,y),q},coordDimToDataDim:function(){return["time"]},getLayerSeries:function(){function f(a,e){return k.get("time",a)-k.get("time",e)}for(var k=this.getData(),m=k.count(),d=[],l=0;m>l;++l){d[l]=l}for(var b=CK().key(function(a){return k.get("name",a)}).entries(d),h=ZU(b,function(a){return{name:a.key,indices:a.values}}),g=0;g<h.length;++g){h[g].indices.sort(f)}return h},getAxisTooltipData:function(B,w){YO(B)||(B=B?[B]:[]);for(var k,p=this.getData(),g=this.getLayerSeries(),z=[],b=g.length,C=0;b>C;++C){for(var m=Number.MAX_VALUE,A=-1,q=g[C].indices.length,y=0;q>y;++y){var x=p.get(B[0],g[C].indices[y]),v=Math.abs(x-w);m>=v&&(k=x,m=v,A=g[C].indices[y])}z.push(A)}return{dataIndices:z,nestestValue:k}},formatTooltip:function(b){var d=this.getData(),f=d.get("name",b),a=d.get("value",b);return(isNaN(a)||null==a)&&(a="-"),fK(f+" : "+a)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",color:"#000",fontSize:11},emphasis:{show:!0}}}});E2({type:"themeRiver",init:function(){this._layers=[]},render:function(w){function m(a){return a.name}function d(R,K,G){var N=this._layers;if("remove"===R){return void b.remove(N[K])}for(var F,O=[],U=[],Q=q[K].indices,P=0;P<Q.length;P++){var J=g.getItemLayout(Q[P]),L=J.x,E=J.y0,z=J.y;O.push([L,E]),U.push([L,E+z]),F=g.getItemVisual(Q[P],"color")}var C,W,V=g.getItemLayout(Q[0]),D=g.getItemModel(Q[P-1]),o=D.getModel("label.normal"),t=o.get("margin");if("add"===R){var B=p[K]=new TO;C=new Nt({shape:{points:O,stackedOnPoints:U,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:!1},z2:0}),W=new PN({style:{x:V.x-t,y:V.y0+V.y/2}}),B.add(C),B.add(W),b.add(B),C.setClipPath(tK(C.getBoundingRect(),w,function(){C.removeClipPath()}))}else{var B=N[G];C=B.childAt(0),W=B.childAt(1),b.add(B),p[K]=B,i0(C,{shape:{points:O,stackedOnPoints:U}},w),i0(W,{style:{x:V.x-t,y:V.y0+V.y/2}},w)}var a=D.getModel("itemStyle.emphasis"),H=D.getModel("itemStyle.normal");WH(W.style,o,{text:o.get("show")?w.getFormattedLabel(Q[P-1],"normal")||g.getName(Q[P-1]):null,textVerticalAlign:"middle"}),C.setStyle(Y2({fill:F},H.getItemStyle(["color"]))),aad(C,a.getItemStyle())}var g=w.getData(),b=this.group,q=w.getLayerSeries(),x=g.getLayout("layoutInfo"),f=x.rect,v=x.boundaryGap;b.attr("position",[0,f.y+v[0]]);var k=new Jj(this._layersSeries||[],q,m,m),p={};k.add(YU(d,this,"add")).update(YU(d,this,"update")).remove(YU(d,this,"remove")).execute(),this._layersSeries=q,this._layers=p},dispose:function(){}});var iY=function(a){a.eachSeriesByType("themeRiver",function(p){var k=p.getData(),f=p.coordinateSystem,h={},d=f.getRect();h.rect=d;var m=p.get("boundaryGap"),b=f.getAxis();if(h.boundaryGap=m,"horizontal"===b.orient){m[0]=Ft(m[0],d.height),m[1]=Ft(m[1],d.height);var q=d.height-m[0]-m[1];vK(k,p,q)}else{m[0]=Ft(m[0],d.width),m[1]=Ft(m[1],d.width);var g=d.width-m[0]-m[1];vK(k,p,g)}k.setLayout("layoutInfo",h)})},A5=function(a){a.eachSeriesByType("themeRiver",function(d){var f=d.getData(),h=d.getRawData(),b=d.get("color"),g=aaD();f.each(function(e){g.set(f.getRawIndex(e),e)}),h.each(function(k){var n=h.getName(k),m=b[(d.nameMap.get(n)-1)%b.length];h.setItemVisual(k,"color",m);var e=g.get(k);null!=e&&f.setItemVisual(e,"color",m)})})};O0(iY),F1(A5),Y5(YN(qH,"themeRiver"));var yV=tB.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,yV.superApply(this,"getInitialData",arguments)}}),zU=["itemStyle","normal","borderWidth"],qV=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],mW=new GO;E2({type:"pictorialBar",render:function(w,p,f){var k=this.group,d=w.getData(),q=this._data,b=w.coordinateSystem,x=b.getBaseAxis(),g=!!x.isHorizontal(),v=b.grid.getRect(),m={ecSize:{width:f.getWidth(),height:f.getHeight()},seriesModel:w,coordSys:b,coordSysExtent:[[v.x,v.x+v.width],[v.y,v.y+v.height]],isHorizontal:g,valueDim:qV[+g],categoryDim:qV[1-g]};return d.diff(q).add(function(l){if(d.hasValue(l)){var o=N3(d,l),s=dQ(d,l,o,m),h=J4(d,m,s);d.setItemGraphicEl(l,h),k.add(h),XZ(h,m,s)}}).update(function(h,y){var z=q.getItemGraphicEl(y);if(!d.hasValue(h)){return void k.remove(z)}var u=N3(d,h),o=dQ(d,h,u,m),a=G4(d,o);z&&a!==z.__pictorialShapeStr&&(k.remove(z),d.setItemGraphicEl(h,null),z=null),z?I4(z,m,o):z=J4(d,m,o,!0),d.setItemGraphicEl(h,z),z.__pictorialSymbolMeta=o,k.add(z),XZ(z,m,o)}).remove(function(a){var h=q.getItemGraphicEl(a);h&&P3(q,a,h.__pictorialSymbolMeta.animationModel,h)}).execute(),this._data=d,this.group},dispose:aaW,remove:function(a){var b=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(f){P3(d,f.dataIndex,a,f)}):b.removeAll()}});O0(YN(k7,"pictorialBar")),F1(YN(Qt,"pictorialBar","roundRect",null)),C5.prototype={constructor:C5,pointToData:function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},dataToRadius:q7.prototype.dataToCoord,radiusToData:q7.prototype.coordToData},ZR(C5,q7),D5.prototype={constructor:D5,pointToData:function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},dataToAngle:q7.prototype.dataToCoord,angleToData:q7.prototype.coordToData},ZR(D5,q7);var SH=function(a){this.name=a||"",this.cx=0,this.cy=0,this._radiusAxis=new C5,this._angleAxis=new D5,this._radiusAxis.polar=this._angleAxis.polar=this};SH.prototype={type:"polar",axisPointerEnabled:!0,constructor:SH,dimensions:["radius","angle"],model:null,containPoint:function(a){var b=this.pointToCoord(a);return this._radiusAxis.contain(b[0])&&this._angleAxis.contain(b[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(b){var d=[],f=this._angleAxis,a=this._radiusAxis;return f.scale.type===b&&d.push(f),a.scale.type===b&&d.push(a),d},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var b=this._angleAxis;return a===b?this._radiusAxis:b},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(a){var b=null!=a&&"auto"!==a?this.getAxis(a):this.getBaseAxis();return{baseAxes:[b],otherAxes:[this.getOtherAxis(b)]}},dataToPoint:function(a,b){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)])},pointToData:function(a,b){var d=this.pointToCoord(a);return[this._radiusAxis.radiusToData(d[0],b),this._angleAxis.angleToData(d[1],b)]},pointToCoord:function(q){var k=q[0]-this.cx,f=q[1]-this.cy,h=this.getAngleAxis(),d=h.getExtent(),m=Math.min(d[0],d[1]),b=Math.max(d[0],d[1]);h.inverse?m=b-360:b=m+360;var v=Math.sqrt(k*k+f*f);k/=v,f/=v;for(var g=Math.atan2(-f,k)/Math.PI*180,p=m>g?1:-1;m>g||g>b;){g+=360*p}return[v,g]},coordToPoint:function(b){var d=b[0],g=b[1]/180*Math.PI,a=Math.cos(g)*d+this.cx,f=-Math.sin(g)*d+this.cy;return[a,f]}};var nW=abd.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});Y9(nW.prototype,T4);var DO={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};O8("angle",nW,aG,DO.angle),O8("radius",nW,aG,DO.radius),D2({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var b,d=this.ecModel;return d.eachComponent(a,function(e){e.getCoordSysModel()===this&&(b=e)},this),b},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});var oW={dimensions:SH.prototype.dimensions,create:function(a,b){var d=[];return a.eachComponent("polar",function(h,g){var n=new SH(g);n.update=E5;var f=n.getRadiusAxis(),m=n.getAngleAxis(),k=h.findAxisModel("radiusAxis"),e=h.findAxisModel("angleAxis");it(f,k),it(m,e),aaB(n,h,b),d.push(n),h.coordinateSystem=n,n.model=h}),a.eachSeries(function(f){if("polar"===f.get("coordinateSystem")){var g=a.queryComponents({mainType:"polar",index:f.get("polarIndex"),id:f.get("polarId")})[0];f.coordinateSystem=g.coordinateSystem}}),d}};L2.register("polar",oW);var xV=["axisLine","axisLabel","axisTick","splitLine","splitArea"];hG.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(b){if(this.group.removeAll(),b.get("show")){var d=b.axis,g=d.polar,a=g.getRadiusAxis().getExtent(),f=d.getTicksCoords();"category"!==d.type&&f.pop(),ZX(xV,function(e){!b.get(e+".show")||d.scale.isBlank()&&"axisLine"!==e||this["_"+e](b,g,f,a)},this)}},_axisLine:function(f,g,k,d){var h=f.getModel("axisLine.lineStyle"),b=new GO({shape:{cx:g.cx,cy:g.cy,r:d[r9(g)]},style:h.getLineStyle(),z2:1,silent:!0});b.style.fill=null,this.group.add(b)},_axisTick:function(g,k,p,f){var m=g.getModel("axisTick"),d=(m.get("inside")?-1:1)*m.get("length"),h=f[r9(k)],b=ZU(p,function(a){return new AU({shape:oj(k,[h,h+d],a)})});this.group.add(fZ(b,{style:Y0(m.getModel("lineStyle").getLineStyle(),{stroke:g.get("axisLine.lineStyle.color")})}))},_axisLabel:function(q,H,A,D){for(var z=q.axis,K=q.get("data"),x=q.getModel("axisLabel"),w=q.getFormattedLabels(),C=x.get("margin"),k=z.getLabelsCoords(),E=0;E<A.length;E++){var J=D[r9(H)],I=H.coordToPoint([J+C,k[E]]),G=H.cx,F=H.cy,y=Math.abs(I[0]-G)/J<0.3?"center":I[0]>G?"left":"right",B=Math.abs(I[1]-F)/J<0.3?"middle":I[1]>F?"top":"bottom";K&&K[E]&&K[E].textStyle&&(x=new RN(K[E].textStyle,x,x.ecModel));var b=new PN({silent:!0});this.group.add(b),WH(b.style,x,{x:I[0],y:I[1],textFill:x.getTextColor()||q.get("axisLine.lineStyle.color"),text:w[E],textAlign:y,textVerticalAlign:B})}},_splitLine:function(w,p,f,k){var d=w.getModel("splitLine"),s=d.getModel("lineStyle"),b=s.get("color"),g=0;b=b instanceof Array?b:[b];for(var v=[],m=0;m<f.length;m++){var q=g++%b.length;v[q]=v[q]||[],v[q].push(new AU({shape:oj(p,k,f[m])}))}for(var m=0;m<v.length;m++){this.group.add(fZ(v[m],{style:Y0({stroke:b[m%b.length]},s.getLineStyle()),silent:!0,z:w.get("z")}))}},_splitArea:function(G,B,s,x){var q=G.getModel("splitArea"),E=q.getModel("areaStyle"),b=E.get("color"),w=0;b=b instanceof Array?b:[b];for(var F=[],y=Math.PI/180,D=-s[0]*y,C=Math.min(x[0],x[1]),A=Math.max(x[0],x[1]),z=G.get("clockwise"),k=1;k<s.length;k++){var v=w++%b.length;F[v]=F[v]||[],F[v].push(new aY({shape:{cx:B.cx,cy:B.cy,r0:C,r:A,startAngle:D,endAngle:-s[k]*y,clockwise:z},silent:!0})),D=-s[k]*y}for(var k=0;k<F.length;k++){this.group.add(fZ(F[k],{style:Y0({fill:b[k%b.length]},E.getAreaStyle()),silent:!0}))}}});var kW=["axisLine","axisTickLabel","axisName"],AR=["splitLine","splitArea"];hG.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(p){if(this.group.removeAll(),p.get("show")){var k=p.axis,f=k.polar,h=f.getAngleAxis(),d=k.getTicksCoords(),m=h.getExtent()[0],b=k.getExtent(),q=ht(f,p,m),g=new vB(p,q);ZX(kW,g.add,g),this.group.add(g.getGroup()),ZX(AR,function(a){p.get(a+".show")&&!k.scale.isBlank()&&this["_"+a](p,f,m,b,d)},this)}},_splitLine:function(y,q,g,m,f){var w=y.getModel("splitLine"),b=w.getModel("lineStyle"),k=b.get("color"),x=0;k=k instanceof Array?k:[k];for(var p=[],v=0;v<f.length;v++){var s=x++%k.length;p[s]=p[s]||[],p[s].push(new GO({shape:{cx:q.cx,cy:q.cy,r:f[v]},silent:!0}))}for(var v=0;v<p.length;v++){this.group.add(fZ(p[v],{style:Y0({stroke:k[v%k.length],fill:null},b.getLineStyle()),silent:!0}))}},_splitArea:function(A,v,k,p,g){var y=A.getModel("splitArea"),b=y.getModel("areaStyle"),m=b.get("color"),z=0;m=m instanceof Array?m:[m];for(var q=[],x=g[0],w=1;w<g.length;w++){var s=z++%m.length;q[s]=q[s]||[],q[s].push(new aY({shape:{cx:v.cx,cy:v.cy,r0:x,r:g[w],startAngle:0,endAngle:2*Math.PI},silent:!0})),x=g[w]}for(var w=0;w<q.length;w++){this.group.add(fZ(q[w],{style:Y0({fill:m[w%m.length]},b.getAreaStyle()),silent:!0}))}}});var gY=iQ.extend({makeElOption:function(D,y,m,q,k){var B=m.axis;"angle"===B.dim&&(this.animationThreshold=Math.PI/18);var b,E=B.polar,p=E.getOtherAxis(B),C=p.getExtent();b=B["dataTo"+bN(B.dim)](y);var v=q.get("type");if(v&&"none"!==v){var A=yK(q),z=vV[v](B,E,b,C,A);z.style=A,D.graphicKey=z.type,D.pointer=z}var x=q.get("label.margin"),w=z8(y,m,q,E,x);pN(D,m,q,k,w)}}),vV={line:function(b,d,f,a){return"angle"===b.dim?{type:"Line",shape:nN(d.coordToPoint([a[0],f]),d.coordToPoint([a[1],f]))}:{type:"Circle",shape:{cx:d.cx,cy:d.cy,r:f}}},shadow:function(f,g,k,d){var h=f.getBandWidth(),b=Math.PI/180;return"angle"===f.dim?{type:"Sector",shape:jO(g.cx,g.cy,d[0],d[1],(-k-h/2)*b,(-k+h/2)*b)}:{type:"Sector",shape:jO(g.cx,g.cy,k-h/2,k+h/2,0,2*Math.PI)}}};hG.registerAxisPointerClass("PolarAxisPointer",gY),O0(YN(O3,"bar")),aE({type:"polar"});var fY=abd.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){abd.prototype.init.apply(this,arguments),wX(a.label,["show"])},optionUpdated:function(){var a=this.option,b=this;a.regions=IR.getFilledRegions(a.regions,a.map,a.nameMap),this._optionModelMap=Y7(a.regions||[],function(d,e){return e.name&&d.set(e.name,new RN(e,b)),d},aaD()),this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:0.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:0.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap.get(a)||new RN(null,this,this.ecModel)},getFormattedLabel:function(b,d){var g=this.getRegionModel(b),a=g.get("label."+d+".formatter"),f={name:b};return"function"==typeof a?(f.status=d,a(f)):"string"==typeof a?a.replace("{a}",null!=b?b:""):void 0},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});Z3(fY,abu),aE({type:"geo",init:function(a,b){var d=new jW(b,!0);this._mapDraw=d,this.group.add(d.group)},render:function(b,d,g,a){if(!a||"geoToggleSelect"!==a.type||a.from!==this.uid){var f=this._mapDraw;b.get("show")?f.draw(b,d,g,this,a):this._mapDraw.group.removeAll(),this.group.silent=b.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),w9("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),w9("select",{type:"geoSelect",event:"geoselected"}),w9("unSelect",{type:"geoUnSelect",event:"geounselected"});var uV=86400000;x9.prototype={constructor:x9,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(b){b=lH(b);var d=b.getFullYear(),g=b.getMonth()+1;g=10>g?"0"+g:g;var a=b.getDate();a=10>a?"0"+a:a;var f=b.getDay();return f=Math.abs((f+7-this.getFirstDayOfWeek())%7),{y:d,m:g,d:a,day:f,time:b.getTime(),formatedDate:d+"-"+g+"-"+a,date:b}},getNextNDay:function(a,b){return b=b||0,0===b?this.getDateInfo(a):(a=new Date(this.getDateInfo(a).time),a.setDate(a.getDate()+b),this.getDateInfo(a))},update:function(q,k){function f(a,l){return null!=a[l]&&"auto"!==a[l]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var h=this._rangeInfo.weeks||1,d=["width","height"],m=this._model.get("cellSize").slice(),b=this._model.getBoxLayoutParams(),v="horizontal"===this._orient?[h,7]:[7,h];ZX([0,1],function(a){f(m,a)&&(b[d[a]]=m[a]*v[a])});var g={width:k.getWidth(),height:k.getHeight()},p=this._rect=WY(b,g);ZX([0,1],function(a){f(m,a)||(m[a]=p[d[a]]/v[a])}),this._sw=m[0],this._sh=m[1]},dataToPoint:function(f,h){YO(f)&&(f=f[0]),null==h&&(h=!0);var l=this.getDateInfo(f),d=this._rangeInfo,k=l.formatedDate;if(h&&!(l.time>=d.start.time&&l.time<=d.end.time)){return[0/0,0/0]}var b=l.day,g=this._getRangeInfo([d.start.time,k]).nthWeek;return"vertical"===this._orient?[this._rect.x+b*this._sw+this._sw/2,this._rect.y+g*this._sh+this._sh/2]:[this._rect.x+g*this._sw+this._sw/2,this._rect.y+b*this._sh+this._sh/2]},pointToData:function(a){var b=this.pointToDate(a);return b&&b.time},dataToRect:function(a,b){var d=this.dataToPoint(a,b);return{contentShape:{x:d[0]-(this._sw-this._lineWidth)/2,y:d[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:d,tl:[d[0]-this._sw/2,d[1]-this._sh/2],tr:[d[0]+this._sw/2,d[1]-this._sh/2],br:[d[0]+this._sw/2,d[1]+this._sh/2],bl:[d[0]-this._sw/2,d[1]+this._sh/2]}},pointToDate:function(b){var d=Math.floor((b[0]-this._rect.x)/this._sw)+1,f=Math.floor((b[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(f,d-1,a):this._getDateByWeeksAndDay(d,f-1,a)},convertToPixel:YN(pj,"dataToPoint"),convertFromPixel:YN(pj,"pointToData"),_initRangeOption:function(){var f=this._model.get("range"),g=f;if(YO(g)&&1===g.length&&(g=g[0]),/^\d{4}$/.test(g)&&(f=[g+"-01-01",g+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(g)){var k=this.getDateInfo(g),d=k.date;d.setMonth(d.getMonth()+1);var h=this.getNextNDay(d,-1);f=[k.formatedDate,h.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(g)&&(f=[g,g]);var b=this._getRangeInfo(f);return b.start.time>b.end.time&&f.reverse(),f},_getRangeInfo:function(p){p=[this.getDateInfo(p[0]),this.getDateInfo(p[1])];var k;p[0].time>p[1].time&&(k=!0,p.reverse());var f=Math.floor(p[1].time/uV)-Math.floor(p[0].time/uV)+1,h=new Date(p[0].time),d=h.getDate(),m=p[1].date.getDate();if(h.setDate(d+f-1),h.getDate()!==m){for(var b=h.getTime()-p[1].time>0?1:-1;h.getDate()!==m&&(h.getTime()-p[1].time)*b>0;){f-=b,h.setDate(d+f-1)}}var q=Math.floor((f+p[0].day+6)/7),g=k?-q+1:q-1;return k&&p.reverse(),{range:[p[0].formatedDate,p[1].formatedDate],start:p[0],end:p[1],allDay:f,weeks:q,nthWeek:g,fweek:p[0].day,lweek:p[1].day}},_getDateByWeeksAndDay:function(f,g,k){var d=this._getRangeInfo(k);if(f>d.weeks||0===f&&g<d.fweek||f===d.weeks&&g>d.lweek){return !1}var h=7*(f-1)-d.fweek+g,b=new Date(d.start.time);return b.setDate(d.start.d+h),this.getDateInfo(b)}},x9.dimensions=x9.prototype.dimensions,x9.getDimensionsInfo=x9.prototype.getDimensionsInfo,x9.create=function(a,b){var d=[];return a.eachComponent("calendar",function(e){var f=new x9(e,a,b);d.push(f),e.coordinateSystem=f}),a.eachSeries(function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=d[e.get("calendarIndex")||0])}),d},L2.register("calendar",x9);var wV=abd.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(a){var b=abj(a);wV.superApply(this,"init",arguments),lj(a,b)},mergeOption:function(a){wV.superApply(this,"mergeOption",arguments),lj(this.option,a)}}),cV={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},eY={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]};aE({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(b){var d=this.group;d.removeAll();var g=b.coordinateSystem,a=g.getRangeInfo(),f=g.getOrient();this._renderDayRect(b,a,d),this._renderLines(b,a,f,d),this._renderYearText(b,a,f,d),this._renderMonthText(b,f,d),this._renderWeekText(b,a,f,d)},_renderDayRect:function(q,k,f){for(var h=q.coordinateSystem,d=q.getModel("itemStyle.normal").getItemStyle(),m=h.getCellWidth(),b=h.getCellHeight(),v=k.start.time;v<=k.end.time;v=h.getNextNDay(v,1).time){var g=h.dataToRect([v],!1).tl,p=new hZ({shape:{x:g[0],y:g[1],width:m,height:b},cursor:"default",style:d});f.add(p)}},_renderLines:function(z,q,g,m){function f(a){x._firstDayOfMonth.push(b.getDateInfo(a)),x._firstDayPoints.push(b.dataToRect([a],!1).tl);var d=x._getLinePointsOfOneWeek(z,a,g);x._tlpoints.push(d[0]),x._blpoints.push(d[d.length-1]),k&&x._drawSplitline(d,A,m)}var x=this,b=z.coordinateSystem,A=z.getModel("splitLine.lineStyle").getLineStyle(),k=z.get("splitLine.show"),y=A.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var p=q.start,w=0;p.time<=q.end.time;w++){f(p.formatedDate),0===w&&(p=b.getDateInfo(q.start.y+"-"+q.start.m));var v=p.date;v.setMonth(v.getMonth()+1),p=b.getDateInfo(v)}f(b.getNextNDay(q.end.time,1).formatedDate),k&&this._drawSplitline(x._getEdgesPoints(x._tlpoints,y,g),A,m),k&&this._drawSplitline(x._getEdgesPoints(x._blpoints,y,g),A,m)},_getEdgesPoints:function(b,d,g){var a=[b[0].slice(),b[b.length-1].slice()],f="horizontal"===g?0:1;return a[0][f]=a[0][f]-d/2,a[1][f]=a[1][f]+d/2,a},_drawSplitline:function(b,d,f){var a=new sW({z2:20,shape:{points:b},style:d});f.add(a)},_getLinePointsOfOneWeek:function(f,k,m){var d=f.coordinateSystem;k=d.getDateInfo(k);for(var l=[],b=0;7>b;b++){var h=d.getNextNDay(k.time,b),g=d.dataToRect([h.time],!1);l[2*h.day]=g.tl,l[2*h.day+1]=g["horizontal"===m?"bl":"tr"]}return l},_formatterLabel:function(a,b){return"string"==typeof a&&a?eK(a,b):"function"==typeof a?a(b):b.nameMap},_yearTextPositionControl:function(f,h,l,d,k){h=h.slice();var b=["center","bottom"];"bottom"===d?(h[1]+=k,b=["center","top"]):"left"===d?h[0]-=k:"right"===d?(h[0]+=k,b=["center","top"]):h[1]-=k;var g=0;return("left"===d||"right"===d)&&(g=Math.PI/2),{rotation:g,position:h,style:{textAlign:b[0],textVerticalAlign:b[1]}}},_renderYearText:function(H,C,v,y){var q=H.getModel("yearLabel");if(q.get("show")){var F=q.get("margin"),b=q.get("position");b||(b="horizontal"!==v?"top":"left");var I=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],x=(I[0][0]+I[1][0])/2,G=(I[0][1]+I[1][1])/2,z="horizontal"===v?0:1,E={top:[x,I[z][1]],bottom:[x,I[1-z][1]],left:[I[1-z][0],G],right:[I[z][0],G]},D=C.start.y;+C.end.y>+C.start.y&&(D=D+"-"+C.end.y);var B=q.get("formatter"),A={start:C.start.y,end:C.end.y,nameMap:D},k=this._formatterLabel(B,A),w=new PN({z2:30});WH(w.style,q,{text:k}),w.attr(this._yearTextPositionControl(w,E[b],v,b,F)),y.add(w)}},_monthTextPositionControl:function(p,k,f,h,d){var m="left",b="top",q=p[0],g=p[1];return"horizontal"===f?(g+=d,k&&(m="center"),"start"===h&&(b="bottom")):(q+=d,k&&(b="middle"),"start"===h&&(m="right")),{x:q,y:g,textAlign:m,textVerticalAlign:b}},_renderMonthText:function(B,M,F){var I=B.getModel("monthLabel");if(I.get("show")){var E=I.get("nameMap"),P=I.get("margin"),C=I.get("position"),H=I.get("align"),A=[this._tlpoints,this._blpoints];Z5(E)&&(E=cV[E.toUpperCase()]||[]);var J="start"===C?0:1,O="horizontal"===M?0:1;P="start"===C?-P:P;for(var N="center"===H,L=0;L<A[J].length-1;L++){var K=A[J][L].slice(),D=this._firstDayOfMonth[L];if(N){var G=this._firstDayPoints[L];K[O]=(G[O]+A[0][L+1][O])/2}var z=I.get("formatter"),b=E[+D.m-1],k={yyyy:D.y,yy:(D.y+"").slice(2),MM:D.m,M:+D.m,nameMap:b},Q=this._formatterLabel(z,k),q=new PN({z2:30});Y2(WH(q.style,I,{text:Q}),this._monthTextPositionControl(K,N,M,C,P)),F.add(q)}}},_weekTextPositionControl:function(q,k,f,h,d){var m="center",b="middle",v=q[0],g=q[1],p="start"===f;return"horizontal"===k?(v=v+h+(p?1:-1)*d[0]/2,m=p?"right":"left"):(g=g+h+(p?1:-1)*d[1]/2,b=p?"bottom":"top"),{x:v,y:g,textAlign:m,textVerticalAlign:b}},_renderWeekText:function(I,C,q,y){var k=I.getModel("dayLabel");if(k.get("show")){var F=I.coordinateSystem,J=k.get("position"),x=k.get("nameMap"),H=k.get("margin"),z=F.getFirstDayOfWeek();Z5(x)&&(x=eY[x.toUpperCase()]||[]);var E=F.getNextNDay(C.end.time,7-C.lweek).time,D=[F.getCellWidth(),F.getCellHeight()];H=Ft(H,D["horizontal"===q?0:1]),"start"===J&&(E=F.getNextNDay(C.start.time,-(7+C.fweek)).time,H=-H);for(var B=0;7>B;B++){var A=F.getNextNDay(E,B),b=F.dataToRect([A.time],!1).center,w=B;w=Math.abs((B+z)%7);var G=new PN({z2:30});Y2(WH(G.style,k,{text:x[w]}),this._weekTextPositionControl(b,q,J,H,D)),y.add(G)}}}}),D2({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),aE({type:"title",render:function(z,L,E){if(this.group.removeAll(),z.get("show")){var H=this.group,D=z.getModel("textStyle"),O=z.getModel("subtextStyle"),B=z.get("textAlign"),A=z.get("textBaseline"),G=new PN({style:WH({},D,{text:z.get("text"),textFill:D.getTextColor()},{disableBox:!0}),z2:10}),w=G.getBoundingRect(),I=z.get("subtext"),N=new PN({style:WH({},O,{text:I,textFill:O.getTextColor(),y:w.height+z.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),M=z.get("link"),K=z.get("sublink");G.silent=!M,N.silent=!K,M&&G.on("click",function(){window.open(M,"_"+z.get("target"))}),K&&N.on("click",function(){window.open(K,"_"+z.get("subtarget"))}),H.add(G),I&&H.add(N);var J=H.getBoundingRect(),C=z.getBoxLayoutParams();C.width=J.width,C.height=J.height;var F=WY(C,{width:E.getWidth(),height:E.getHeight()},z.get("padding"));B||(B=z.get("left")||z.get("right"),"middle"===B&&(B="center"),"right"===B?F.x+=F.width:"center"===B&&(F.x+=F.width/2)),A||(A=z.get("top")||z.get("bottom"),"center"===A&&(A="middle"),"bottom"===A?F.y+=F.height:"middle"===A&&(F.y+=F.height/2),A=A||"top"),H.attr("position",[F.x,F.y]);var q={textAlign:B,textVerticalAlign:A};G.setStyle(q),N.setStyle(q),J=H.getBoundingRect();var b=F.margin,k=z.getItemStyle(["color","opacity"]);k.fill=z.get("backgroundColor");var P=new hZ({shape:{x:J.x-b[3],y:J.y-b[0],width:J.width+b[1]+b[3],height:J.height+b[0]+b[2],r:z.get("borderRadius")},style:k,silent:!0});qq(P),H.add(P)}}});var dY=D2({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,b,d){this.mergeDefaultAndTheme(a,d),a.selected=a.selected||{}},mergeOption:function(a){dY.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var b=this._data;if(b[0]&&"single"===this.get("selectedMode")){for(var d=!1,f=0;f<b.length;f++){var a=b[f].get("name");if(this.isSelected(a)){this.select(a),d=!0;break}}!d&&this.select(b[0].get("name"))}},_updateData:function(a){var b=ZU(this.get("data")||[],function(e){return("string"==typeof e||"number"==typeof e)&&(e={name:e}),new RN(e,this,this.ecModel)},this);this._data=b;var d=ZU(a.getSeries(),function(e){return e.name});a.eachSeries(function(f){if(f.legendDataProvider){var g=f.legendDataProvider();d=d.concat(g.mapArray(g.getName))}}),this._availableNames=d},getData:function(){return this._data},select:function(b){var d=this.option.selected,f=this.get("selectedMode");if("single"===f){var a=this._data;ZX(a,function(e){d[e.get("name")]=!1})}d[b]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0),this[b[a]?"unSelect":"select"](a)},isSelected:function(a){var b=this.option.selected;return !(b.hasOwnProperty(a)&&!b[a])&&YX(this._availableNames,a)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});VW("legendToggleSelect","legendselectchanged",YN(Q3,"toggleSelected")),VW("legendSelect","legendselected",YN(Q3,"select")),VW("legendUnSelect","legendunselected",YN(Q3,"unSelect"));var hY=YN,MK=ZX,TF=TO,B4=aE({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new TF),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(v,p,f){if(this.resetInner(),v.get("show",!0)){var k=v.get("align");k&&"auto"!==k||(k="right"===v.get("left")&&"vertical"===v.get("orient")?"right":"left"),this.renderInner(k,v,p,f);var d=v.getBoxLayoutParams(),q={width:f.getWidth(),height:f.getHeight()},b=v.get("padding"),g=WY(d,q,b),s=this.layoutInner(v,k,g),m=WY(Y0({width:s.width,height:s.height},d),q,b);this.group.attr("position",[m.x-s.x,m.y-s.y]),this.group.add(this._backgroundEl=Ct(s,v))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(f,h,l,d){var k=this.getContentGroup(),b=aaD(),g=h.get("selectedMode");MK(h.getData(),function(w,e){var v=w.get("name");if(!this.newlineDisabled&&(""===v||"\n"===v)){return void k.add(new TF({newline:!0}))}var m=l.getSeriesByName(v)[0];if(!b.get(v)){if(m){var t=m.getData(),q=t.getVisual("color");"function"==typeof q&&(q=q(m.getDataParams(0)));var o=t.getVisual("legendSymbol")||"roundRect",n=t.getVisual("symbol"),a=this._createItem(v,e,w,h,o,n,f,q,g);a.on("click",hY(nj,v,d)).on("mouseover",hY(wj,m,null,d)).on("mouseout",hY(jq,m,null,d)),b.set(v,!0)}else{l.eachRawSeries(function(z){if(!b.get(v)&&z.legendDataProvider){var x=z.legendDataProvider(),p=x.indexOfName(v);if(0>p){return}var y=x.getItemVisual(p,"color"),u="roundRect",s=this._createItem(v,e,w,h,u,null,f,y,g);s.on("click",hY(nj,v,d)).on("mouseover",hY(wj,z,v,d)).on("mouseout",hY(jq,z,v,d)),b.set(v,!0)}},this)}}},this)},_createItem:function(E,Q,I,L,H,V,F,K,D){var N=L.get("itemWidth"),T=L.get("itemHeight"),R=L.get("inactiveColor"),P=L.isSelected(E),O=new TF,G=I.getModel("textStyle"),J=I.get("icon"),C=I.getModel("tooltip"),z=C.parentModel;if(H=J||H,O.add(xE(H,0,0,N,T,P?K:R,!0)),!J&&V&&(V!==H||"none"==V)){var A=0.8*T;"none"===V&&(V="circle"),O.add(xE(V,(N-A)/2,(T-A)/2,A,A,P?K:R))}var W="left"===F?N+5:-5,U=F,B=L.get("formatter"),k=E;"string"==typeof B&&B?k=B.replace("{name}",null!=E?E:""):"function"==typeof B&&(k=B(E)),O.add(new PN({style:WH({},G,{text:k,x:W,y:T/2,textFill:P?G.getTextColor():R,textAlign:U,textVerticalAlign:"middle"})}));var q=new hZ({shape:O.getBoundingRect(),invisible:!0,tooltip:C.get("show")?Y2({content:E,formatter:z.get("formatter",!0)||function(){return E},formatterParams:{componentType:"legend",legendIndex:L.componentIndex,name:E,$vars:["name"]}},C.option):null});return O.add(q),O.eachChild(function(a){a.silent=!0}),q.silent=!D,this.getContentGroup().add(O),aad(O),O.__legendDataIndex=Q,O},layoutInner:function(b,d,g){var a=this.getContentGroup();NW(b.get("orient"),a,b.get("itemGap"),g.width,g.height);var f=a.getBoundingRect();return a.attr("position",[-f.x,-f.y]),this.group.getBoundingRect()}}),rV=function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(d){for(var e=0;e<b.length;e++){if(!b[e].isSelected(d.name)){return !1}}return !0})};Y5(rV),abd.registerSubTypeDefaulter("legend",function(){return"plain"});var sV=dY.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(b,d,g,a){var f=abj(b);sV.superCall(this,"init",b,d,g,a),y9(this,b,f)},mergeOption:function(a,b){sV.superCall(this,"mergeOption",a,b),y9(this,this.option,a)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),lW=TO,Jq=["width","height"],X6=["x","y"],Pk=B4.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){Pk.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new lW),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new lW),this._showController},resetInner:function(){Pk.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(p,k,f,h){function d(e,u){var s=e+"DataIndex",a=lY(k.get("pageIcons",!0)[k.getOrient().name][u],{onclick:YU(m._pageGo,m,s,k,h)},{x:-q[0]/2,y:-q[1]/2,width:q[0],height:q[1]});a.name=e,b.add(a)}var m=this;Pk.superCall(this,"renderInner",p,k,f,h);var b=this._controllerGroup,q=k.get("pageIconSize",!0);YO(q)||(q=[q,q]),d("pagePrev",0);var g=k.getModel("pageTextStyle");b.add(new PN({name:"pageText",style:{textFill:g.getTextColor(),font:g.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),d("pageNext",1)},layoutInner:function(z,L,E){var H=this.getContentGroup(),D=this._containerGroup,O=this._controllerGroup,B=z.getOrient().index,A=Jq[B],G=Jq[1-B],w=X6[1-B];NW(z.get("orient"),H,z.get("itemGap"),B?E.width:null,B?null:E.height),NW("horizontal",O,z.get("pageButtonItemGap",!0));var I=H.getBoundingRect(),N=O.getBoundingRect(),M=this._showController=I[A]>E[A],K=[-I.x,-I.y];K[B]=H.position[B];var J=[0,0],C=[-N.x,-N.y],F=aa7(z.get("pageButtonGap",!0),z.get("itemGap",!0));if(M){var q=z.get("pageButtonPosition",!0);"end"===q?C[B]+=E[A]-N[A]:J[B]+=N[A]+F}C[1-B]+=I[G]/2-N[G]/2,H.attr("position",K),D.attr("position",J),O.attr("position",C);var b=this.group.getBoundingRect(),b={x:0,y:0};if(b[A]=M?E[A]:I[A],b[G]=Math.max(I[G],N[G]),b[w]=Math.min(0,N[w]+C[1-B]),D.__rectSize=E[A],M){var k={x:0,y:0};k[A]=Math.max(E[A]-N[A]-F,0),k[G]=b[G],D.setClipPath(new hZ({shape:k})),D.__rectSize=k[A]}else{O.eachChild(function(a){a.attr({invisible:!0,silent:!0})})}var P=this._getPageInfo(z);return null!=P.pageIndex&&i0(H,{position:P.contentPosition},M?z:!1),this._updatePageInfoView(z,P),b},_pageGo:function(b,d,f){var a=this._getPageInfo(d)[b];null!=a&&f.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:d.id})},_updatePageInfoView:function(f,k){var m=this._controllerGroup;ZX(["pagePrev","pageNext"],function(n){var p=null!=k[n+"DataIndex"],e=m.childOfName(n);e&&(e.setStyle("fill",p?f.get("pageIconColor",!0):f.get("pageIconInactiveColor",!0)),e.cursor=p?"pointer":"default")});var d=m.childOfName("pageText"),l=f.get("pageFormatter"),b=k.pageIndex,h=null!=b?b+1:0,g=k.pageCount;d&&l&&d.setStyle("text",Z5(l)?l.replace("{current}",h).replace("{total}",g):l({current:h,total:g}))},_getPageInfo:function(C){function O(a){var b=a.getBoundingRect().clone();return b[N]+=a.position[L],b}var H,K,G,S,E=C.get("scrollDataIndex",!0),D=this.getContentGroup(),J=D.getBoundingRect(),B=this._containerGroup.__rectSize,L=C.getOrient().index,Q=Jq[L],P=Jq[1-L],N=X6[L],M=D.position.slice();this._showController?D.eachChild(function(a){a.__legendDataIndex===E&&(S=a)}):S=D.childAt(0);var F=B?Math.ceil(J[Q]/B):0;if(S){var I=S.getBoundingRect(),A=S.position[L]+I[N];M[L]=-A-J[N],H=Math.floor(F*(A+I[N]+B/2)/J[Q]),H=J[Q]&&F?Math.max(0,Math.min(F-1,H)):-1;var k={x:0,y:0};k[Q]=B,k[P]=J[P],k[N]=-M[L]-J[N];var q,T=D.children();if(D.eachChild(function(b,d){var a=O(b);a.intersect(k)&&(null==q&&(q=d),G=b.__legendDataIndex),d===T.length-1&&a[N]+a[Q]<=k[N]+k[Q]&&(G=null)}),null!=q){var R=T[q],z=O(R);if(k[N]=z[N]+z[Q]-k[Q],0>=q&&z[N]>=k[N]){K=null}else{for(;q>0&&O(T[q-1]).intersect(k);){q--}K=T[q].__legendDataIndex}}}return{contentPosition:M,pageIndex:H,pageCount:F,pagePrevDataIndex:K,pageNextDataIndex:G}}});VW("legendScroll","legendscroll",function(a,b){var d=a.scrollDataIndex;null!=d&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(e){e.setScrollDataIndex(d)})}),D2({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:0.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var T7=ZX,Ok=zF,abM=["","-webkit-","-moz-","-o-"],Lk="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";s9.prototype={constructor:s9,_enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),d=a.style;"absolute"!==d.position&&"absolute"!==b.position&&(d.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var d=this.el;var b=document.querySelector("div[data-dojo-type='mui/tabbar/TabBarGroup']");if(b){b.onclick=function(){d.style.display="none"}}d.style.cssText=Lk+et(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||""),d.style.display=d.innerHTML?"block":"none",this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(b,d){var g,a=this._zr;a&&a.painter&&(g=a.painter.getViewportRootOffset())&&(b+=g.offsetLeft,d+=g.offsetTop);var f=this.el.style;f.left=b+"px",f.top=d+"px",this._x=b,this._y=d},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(YU(this.hide,this),a)):this.hide())},isShow:function(){return this._show}};var Kq=YU,Rj=ZX,Iq=Ft,U7=new hZ({shape:{x:-1,y:-1,width:2,height:2}});aE({type:"tooltip",init:function(a,b){if(!VN.node){var d=new s9(b.getDom(),b);this._tooltipContent=d}},render:function(b,d,f){if(!VN.node){this.group.removeAll(),this._tooltipModel=b,this._ecModel=d,this._api=f,this._lastDataByCoordSys=null,this._alwaysShowContent=b.get("alwaysShowContent");var a=this._tooltipContent;a.update(),a.setEnterable(b.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var a=this._tooltipModel,b=a.get("triggerOn");PB("itemTooltip",this._api,Kq(function(e,f,d){"none"!==b&&(b.indexOf(e)>=0?this._tryShow(f,d):"leave"===e&&this._hide(d))},this))},_keepShow:function(){var b=this._tooltipModel,d=this._ecModel,f=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==b.get("triggerOn")){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){a.manuallyShowTip(b,d,f,{x:a._lastX,y:a._lastY})})}},manuallyShowTip:function(q,k,f,h){if(h.from!==this.uid&&!VN.node){var d=bF(h,f);this._ticket="";var m=h.dataByCoordSys;if(h.tooltip&&null!=h.x&&null!=h.y){var b=U7;b.position=[h.x,h.y],b.update(),b.tooltip=h.tooltip,this._tryShow({offsetX:h.x,offsetY:h.y,target:b},d)}else{if(m){this._tryShow({offsetX:h.x,offsetY:h.y,position:h.position,event:{},dataByCoordSys:h.dataByCoordSys,tooltipOption:h.tooltipOption},d)}else{if(null!=h.seriesIndex){if(this._manuallyAxisShowTip(q,k,f,h)){return}var v=KN(h,k),g=v.point[0],p=v.point[1];null!=g&&null!=p&&this._tryShow({offsetX:g,offsetY:p,position:h.position,target:v.el,event:{}},d)}else{null!=h.x&&null!=h.y&&(f.dispatchAction({type:"updateAxisPointer",x:h.x,y:h.y}),this._tryShow({offsetX:h.x,offsetY:h.y,position:h.position,target:f.getZr().findHover(h.x,h.y).target,event:{}},d))}}}}},manuallyHideTip:function(b,d,g,a){var f=this._tooltipContent;this._alwaysShowContent||f.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,a.from!==this.uid&&this._hide(bF(a,g))},_manuallyAxisShowTip:function(p,k,f,h){var d=h.seriesIndex,m=h.dataIndex,b=k.getComponent("axisPointer").coordSysAxesInfo;if(null!=d&&null!=m&&null!=b){var q=k.getSeriesByIndex(d);if(q){var g=q.getData(),p=u9([g.getItemModel(m),q,(q.coordinateSystem||{}).model,p]);if("axis"===p.get("trigger")){return f.dispatchAction({type:"updateAxisPointer",seriesIndex:d,dataIndex:m,position:h.position}),!0}}}},_tryShow:function(b,d){var g=b.target,a=this._tooltipModel;if(a){this._lastX=b.offsetX,this._lastY=b.offsetY;var f=b.dataByCoordSys;f&&f.length?this._showAxisTooltip(f,b):g&&null!=g.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(b,g,d)):g&&g.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(b,g,d)):(this._lastDataByCoordSys=null,this._hide(d))}},_showOrMove:function(a,b){var d=a.get("showDelay");b=YU(b,this),clearTimeout(this._showTimout),d>0?this._showTimout=setTimeout(b,d):b()},_showAxisTooltip:function(p,k){var f=this._ecModel,h=this._tooltipModel,d=[k.offsetX,k.offsetY],m=[],b=[],q=u9([k.tooltipOption,h]);Rj(p,function(a){Rj(a.dataByAxis,function(v){var x=f.getComponent(v.axisDim+"Axis",v.axisIndex),u=v.value,y=[];if(x&&null!=u){var w=Rz(u,x.axis,f,v.seriesDataIndices,v.valueLabelOpt);ZX(v.seriesDataIndices,function(o){var e=f.getSeriesByIndex(o.seriesIndex),s=o.dataIndexInside,t=e&&e.getDataParams(s);t.axisDim=v.axisDim,t.axisIndex=v.axisIndex,t.axisType=v.axisType,t.axisId=v.axisId,t.axisValue=c9(x.axis,u),t.axisValueLabel=w,t&&(b.push(t),y.push(e.formatTooltip(s,!0)))});var n=w;m.push((n?fK(n)+"<br />":"")+y.join("<br />"))}})},this),m.reverse(),m=m.join("<br /><br />");var g=k.position;this._showOrMove(q,function(){this._updateContentNotChangedOnAxis(p)?this._updatePosition(q,g,d[0],d[1],this._tooltipContent,b):this._showTooltipContent(q,m,b,Math.random(),d[0],d[1],g)})},_showSeriesItemTooltip:function(D,y,m){var q=this._ecModel,k=y.seriesIndex,B=q.getSeriesByIndex(k),b=y.dataModel||B,E=y.dataIndex,p=y.dataType,C=b.getData(),v=u9([C.getItemModel(E),b,B&&(B.coordinateSystem||{}).model,this._tooltipModel]),A=v.get("trigger");if(null==A||"item"===A){var z=b.getDataParams(E,p),x=b.formatTooltip(E,!1,p),w="item_"+b.name+"_"+E;this._showOrMove(v,function(){this._showTooltipContent(v,x,z,w,D.offsetX,D.offsetY,D.position,D.target)}),m({type:"showTip",dataIndexInside:E,dataIndex:C.getRawIndex(E),seriesIndex:k,from:this.uid})}},_showComponentItemTooltip:function(f,k,m){var d=k.tooltip;if("string"==typeof d){var l=d;d={content:l,formatter:l}}var b=new RN(d,this._tooltipModel,this._ecModel),h=b.get("content"),g=Math.random();this._showOrMove(b,function(){this._showTooltipContent(b,h,b.get("formatterParams")||{},g,f.offsetX,f.offsetY,f.position,k)}),m({type:"showTip",from:this.uid})},_showTooltipContent:function(x,p,f,k,d,v,b,y){if(this._ticket="",x.get("showContent")&&x.get("show")){var g=this._tooltipContent,w=x.get("formatter");b=b||x.get("position");var m=p;if(w&&"string"==typeof w){m=uG(w,f,!0)}else{if("function"==typeof w){var q=Kq(function(h,a){h===this._ticket&&(g.setContent(a),this._updatePosition(x,b,d,v,g,f,y))},this);this._ticket=k,m=w(f,k,q)}}g.setContent(m),g.show(x),this._updatePosition(x,b,d,v,g,f,y)}},_updatePosition:function(D,y,m,q,k,B,b){var E=this._api.getWidth(),p=this._api.getHeight();y=y||D.get("position");var C=k.getSize(),v=D.get("align"),A=D.get("verticalAlign"),z=b&&b.getBoundingRect().clone();if(b&&z.applyTransform(b.transform),"function"==typeof y&&(y=y([m,q],B,k.el,z,{viewSize:[E,p],contentSize:C.slice()})),YO(y)){m=Iq(y[0],E),q=Iq(y[1],p)}else{if(YQ(y)){y.width=C[0],y.height=C[1];var x=WY(y,{width:E,height:p});m=x.x,q=x.y,v=null,A=null}else{if("string"==typeof y&&b){var w=K4(y,z,C);m=w[0],q=w[1]}else{var w=dt(m,q,k.el,E,p,v?null:20,A?null:20);m=w[0],q=w[1]}}}if(v&&(m-=R2(v)?C[0]/2:"right"===v?C[0]:0),A&&(q-=R2(A)?C[1]/2:"bottom"===A?C[1]:0),D.get("confine")){var w=b9(m,q,k.el,E,p);m=w[0],q=w[1]}k.moveTo(m,q)},_updateContentNotChangedOnAxis:function(a){var b=this._lastDataByCoordSys,d=!!b&&b.length===a.length;return d&&Rj(b,function(k,g){var l=k.dataByAxis||{},f=a[g]||{},h=f.dataByAxis||[];d&=l.length===h.length,d&&Rj(l,function(p,q){var n=h[q]||{},s=p.seriesDataIndices||[],m=n.seriesDataIndices||[];d&=p.value===n.value&&p.axisType===n.axisType&&p.axisId===n.axisId&&s.length===m.length,d&&Rj(s,function(u,v){var o=m[v];d&=u.seriesIndex===o.seriesIndex&&u.dataIndex===o.dataIndex})})}),this._lastDataByCoordSys=a,!!d},_hide:function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},dispose:function(a,b){VN.node||(this._tooltipContent.hide(),FE("itemTooltip",b))}}),VW({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),VW({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var aaM=jJ,ZO=fK,W7=D2({type:"marker",dependencies:["series","grid","polar","geo"],init:function(b,d,f,a){this.mergeDefaultAndTheme(b,f),this.mergeOption(b,f,a.createdBySelf,!0)},isAnimationEnabled:function(){if(VN.node){return !1}var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(f,g,k,d){var h=this.constructor,b=this.mainType+"Model";k||g.eachSeries(function(a){var l=a.get(this.mainType),e=a[b];return l&&l.data?(e?e.mergeOption(l,g,!0):(d&&Bz(l),ZX(l.data,function(m){m instanceof Array?(Bz(m[0]),Bz(m[1])):Bz(m)}),e=new h(l,this,g),Y2(e,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),e.__hostSeries=a),void (a[b]=e)):void (a[b]=null)},this)},formatTooltip:function(f){var g=this.getData(),k=this.getRawValue(f),d=YO(k)?ZU(k,aaM).join(", "):aaM(k),h=g.getName(f),b=ZO(this.name);return(null!=k||h)&&(b+="<br />"),h&&(b+=ZO(h),null!=k&&(b+=" : ")),null!=k&&(b+=ZO(d)),b},getData:function(){return this._data},setData:function(a){this._data=a}});Z3(W7,SJ),W7.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}});var V7=YX,Nk=YN,Qk={min:Nk(H8,"min"),max:Nk(H8,"max"),average:Nk(H8,"average")},Hq=aE({type:"marker",init:function(){this.markerGroupMap=aaD()},render:function(b,d,g){var a=this.markerGroupMap;a.each(function(e){e.__keep=!1});var f=this.type+"Model";d.eachSeries(function(h){var e=h[f];e&&this.renderSeries(h,e,d,g)},this),a.each(function(e){!e.__keep&&this.group.remove(e.group)},this)},renderSeries:function(){}});Hq.extend({type:"markPoint",updateLayout:function(a,b,d){b.eachSeries(function(f){var g=f.markPointModel;g&&(J8(g.getData(),f,d),this.markerGroupMap.get(f.id).updateLayout(g))},this)},renderSeries:function(q,k,f,h){var d=q.coordinateSystem,m=q.id,b=q.getData(),v=this.markerGroupMap,g=v.get(m)||v.set(m,new SW),p=I8(d,q,k);k.setData(p),J8(k.getData(),q,h),p.each(function(e){var l=p.getItemModel(e),a=l.getShallow("symbolSize");"function"==typeof a&&(a=a(k.getRawValue(e),k.getDataParams(e))),p.setItemVisual(e,{symbolSize:a,color:l.get("itemStyle.normal.color")||b.getVisual("color"),symbol:l.getShallow("symbol")})}),g.updateData(p),this.group.add(g.group),p.eachItemGraphicEl(function(a){a.traverse(function(e){e.dataModel=k})}),g.__keep=!0,g.group.silent=k.get("silent")||q.get("silent")}}),TW(function(a){a.markPoint=a.markPoint||{}}),W7.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});var Et=function(F,z,k,C){var G=F.getData(),q=C.type;if(!YO(C)&&("min"===q||"max"===q||"average"===q||null!=C.xAxis||null!=C.yAxis)){var E,w,B;if(null!=C.yAxis||null!=C.xAxis){w=null!=C.yAxis?"y":"x",E=z.getAxis(w),B=aaq(C.yAxis,C.xAxis)}else{var A=N7(C,G,z,F);w=A.valueDataDim,E=A.valueAxis,B=abo(G,w,q)}var y="x"===w?0:1,x=1-y,b=ZQ(C),o={};b.type=null,b.coord=[],o.coord=[],b.coord[x]=-1/0,o.coord[x]=1/0;var D=k.get("precision");D>=0&&"number"==typeof B&&(B=+B.toFixed(Math.min(D,20))),b.coord[y]=o.coord[y]=B,C=[b,o,{type:q,valueIndex:C.valueIndex,value:B}]}return C=[W3(F,C[0]),W3(F,C[1]),Y2({},C[2])],C[2].type=C[2].type||"",Y9(C[2],C[0]),Y9(C[2],C[1]),C};Hq.extend({type:"markLine",updateLayout:function(a,b,d){b.eachSeries(function(h){var k=h.markLineModel;if(k){var g=k.getData(),l=k.__from,f=k.__to;l.each(function(m){ZG(l,m,!0,h,d),ZG(f,m,!1,h,d)}),g.each(function(e){g.setItemLayout(e,[l.getItemLayout(e),f.getItemLayout(e)])}),this.markerGroupMap.get(h.id).updateLayout()}},this)},renderSeries:function(F,A,q,w){function m(f,h,g){var d=f.getItemModel(h);ZG(f,h,g,F,w),f.setItemVisual(h,{symbolSize:d.get("symbolSize")||k[g?0:1],symbol:d.get("symbol",!0)||y[g?0:1],color:d.get("itemStyle.normal.color")||G.getVisual("color")})}var D=F.coordinateSystem,b=F.id,G=F.getData(),v=this.markerGroupMap,E=v.get(b)||v.set(b,new BR);this.group.add(E.group);var x=X2(D,F,A),C=x.from,B=x.to,z=x.line;A.__from=C,A.__to=B,A.setData(z);var y=A.get("symbol"),k=A.get("symbolSize");YO(y)||(y=[y,y]),"number"==typeof k&&(k=[k,k]),x.from.each(function(a){m(C,a,!0),m(B,a,!1)}),z.each(function(a){var d=z.getItemModel(a).get("lineStyle.normal.color");z.setItemVisual(a,{color:d||C.getItemVisual(a,"color")}),z.setItemLayout(a,[C.getItemLayout(a),B.getItemLayout(a)]),z.setItemVisual(a,{fromSymbolSize:C.getItemVisual(a,"symbolSize"),fromSymbol:C.getItemVisual(a,"symbol"),toSymbolSize:B.getItemVisual(a,"symbolSize"),toSymbol:B.getItemVisual(a,"symbol")})}),E.updateData(z),x.line.eachItemGraphicEl(function(a){a.traverse(function(d){d.dataModel=A})}),E.__keep=!0,E.group.silent=A.get("silent")||F.get("silent")}}),TW(function(a){a.markLine=a.markLine||{}}),W7.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}});var Fq=function(q,m,d,g){var b=W3(q,g[0]),a=W3(q,g[1]),v=aaq,f=b.coord,p=a.coord;f[0]=v(f[0],-1/0),f[1]=v(f[1],-1/0),p[0]=v(p[0],1/0),p[1]=v(p[1],1/0);var k=Z8([{},b,a]);return k.coord=[b.coord,a.coord],k.x0=b.x,k.y0=b.y,k.x1=a.x,k.y1=a.y,k},a5=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];Hq.extend({type:"markArea",updateLayout:function(a,b,d){b.eachSeries(function(g){var h=g.markAreaModel;if(h){var f=h.getData();f.each(function(l){var m=ZU(a5,function(e){return O7(f,l,e,g,d)});f.setItemLayout(l,m);var k=f.getItemGraphicEl(l);k.setShape("points",m)})}},this)},renderSeries:function(v,p,f,k){var d=v.coordinateSystem,q=v.name,b=v.getData(),g=this.markerGroupMap,s=g.get(q)||g.set(q,{group:new TO});this.group.add(s.group),s.__keep=!0;var m=F8(d,v,p);p.setData(m),m.each(function(a){m.setItemLayout(a,ZU(a5,function(e){return O7(m,a,e,v,k)})),m.setItemVisual(a,{color:b.getVisual("color")})}),m.diff(s.__data).add(function(a){var h=new oX({shape:{points:m.getItemLayout(a)}});m.setItemGraphicEl(a,h),s.group.add(h)}).update(function(e,h){var a=s.__data.getItemGraphicEl(h);i0(a,{shape:{points:m.getItemLayout(e)}},p,e),s.group.add(a),m.setItemGraphicEl(e,a)}).remove(function(a){var h=s.__data.getItemGraphicEl(a);s.group.remove(h)}).execute(),m.eachItemGraphicEl(function(l,x){var h=m.getItemModel(x),w=h.getModel("label.normal"),e=h.getModel("label.emphasis"),u=m.getItemVisual(x,"color");l.useStyle(Y0(h.getModel("itemStyle.normal").getItemStyle(),{fill:RE(u,0.4),stroke:u})),l.hoverStyle=h.getModel("itemStyle.emphasis").getItemStyle(),YG(l.style,l.hoverStyle,w,e,{labelFetcher:p,labelDataIndex:x,defaultText:m.getName(x)||"",isRectText:!0,autoColor:u}),aad(l,{}),l.dataModel=p}),s.__data=m,s.group.silent=p.get("silent")||v.get("silent")}}),TW(function(a){a.markArea=a.markArea||{}});var abs=function(a){var b=a&&a.timeline;YO(b)||(b=b?[b]:[]),ZX(b,function(d){d&&C9(d)})};abd.registerSubTypeDefaulter("timeline",function(){return"slider"}),VW({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,b){var d=b.getComponent("timeline");return d&&null!=a.currentIndex&&(d.setCurrentIndex(a.currentIndex),!d.get("loop",!0)&&d.isIndexMax()&&d.setPlayState(!1)),b.resetOption("timeline"),Y0({currentIndex:d.option.currentIndex},a)}),VW({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,b){var d=b.getComponent("timeline");d&&null!=a.playState&&d.setPlayState(a.playState)});var Gq=abd.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2000,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{color:"#000"},emphasis:{}},data:[]},init:function(a,b,d){this._data,this._names,this.mergeDefaultAndTheme(a,d),this._initData()},mergeOption:function(){Gq.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),0>a&&(a=0)),this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return !!this.option.autoPlay},_initData:function(){var d=this.option,h=d.data||[],l=d.axisType,k=this._names=[];if("category"===l){var b=[];ZX(h,function(a,o){var p,m=jZ(a);YQ(a)?(p=ZQ(a),p.value=o):p=o,b.push(p),Z5(m)||null!=m&&!isNaN(m)||(m=""),k.push(m+"")}),h=b}var g={category:"ordinal",time:"time"}[l]||"number",f=this._data=new P8([{name:"value",type:g}],this);f.initData(h,k)},getData:function(){return this._data},getCategories:function(){return"category"===this.get("axisType")?this._names.slice():void 0}}),jH=Gq.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,color:"#304654"},emphasis:{show:!0,color:"#c23531"}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});Z3(jH,SJ);var pG=l3.extend({type:"timeline"}),tF=function(b,d,f,a){q7.call(this,b,d,f),this.type=a||"value",this._autoLabelInterval,this.model=null};tF.prototype={constructor:tF,getLabelInterval:function(){var a=this.model,b=a.getModel("label.normal"),d=b.get("interval");if(null!=d&&"auto"!=d){return d}var d=this._autoLabelInterval;return d||(d=this._autoLabelInterval=u6(ZU(this.scale.getTicks(),this.dataToCoord,this),bB(this,b.get("formatter")),b.getFont(),"horizontal"===a.get("orient")?0:90,b.get("rotate"))),d},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}}},ZR(tF,q7);var iJ=YU,A2=ZX,yF=Math.PI;pG.extend({type:"timeline.slider",init:function(a,b){this.api=b,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(f,h,l){if(this.model=f,this.api=l,this.ecModel=h,this.group.removeAll(),f.get("show",!0)){var d=this._layout(f,l),k=this._createGroup("mainGroup"),b=this._createGroup("labelGroup"),g=this._axis=this._createAxis(d,f);f.formatTooltip=function(a){return fK(g.scale.getLabel(a))},A2(["AxisLine","AxisTick","Control","CurrentPointer"],function(a){this["_render"+a](d,k,g,f)},this),this._renderAxisLabel(d,b,g,f),this._position(d,f)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(E,R){var J=E.get("label.normal.position"),N=E.get("orient"),I=aaI(E,R);null==J||"auto"===J?J="horizontal"===N?I.y+I.height/2<R.getHeight()/2?"-":"+":I.x+I.width/2<R.getWidth()/2?"+":"-":isNaN(J)&&(J={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[N][J]);var W={horizontal:"center",vertical:J>=0||"+"===J?"left":"right"},G={horizontal:J>=0||"+"===J?"top":"bottom",vertical:"middle"},F={horizontal:0,vertical:yF/2},L="vertical"===N?I.height:I.width,D=E.getModel("controlStyle"),O=D.get("show"),U=O?D.get("itemSize"):0,T=O?D.get("itemGap"):0,Q=U+T,P=E.get("label.normal.rotate")||0;P=P*yF/180;var H,K,C,z,A=D.get("position",!0),O=D.get("show",!0),X=O&&D.get("showPlayBtn",!0),V=O&&D.get("showPrevBtn",!0),B=O&&D.get("showNextBtn",!0),k=0,q=L;return"left"===A||"bottom"===A?(X&&(H=[0,0],k+=Q),V&&(K=[k,0],k+=Q),B&&(C=[q-U,0],q-=Q)):(X&&(H=[q-U,0],q-=Q),V&&(K=[0,0],k+=Q),B&&(C=[q-U,0],q-=Q)),z=[k,q],E.get("inverse")&&z.reverse(),{viewRect:I,mainLength:L,orient:N,rotation:F[N],labelRotation:P,labelPosOpt:J,labelAlign:E.get("label.normal.align")||W[N],labelBaseline:E.get("label.normal.verticalAlign")||E.get("label.normal.baseline")||G[N],playPosition:H,prevBtnPosition:K,nextBtnPosition:C,axisExtent:z,controlSize:U,controlGap:T}},_position:function(H){function C(a){var d=a.position;a.origin=[z[0][0]-d[0],z[1][0]-d[1]]}function v(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function y(d,f,h,a,g){d[a]+=h[a][g]-f[a][g]}var q=this._mainGroup,F=this._labelGroup,b=H.viewRect;if("vertical"===H.orient){var I=aby(),x=b.x,G=b.y+b.height;HG(I,I,[-x,-G]),Ut(I,I,-yF/2),HG(I,I,[x,G]),b=b.clone(),b.applyTransform(I)}var z=v(b),E=v(q.getBoundingRect()),D=v(F.getBoundingRect()),B=q.position,A=F.position;A[0]=B[0]=z[0][0];var k=H.labelPosOpt;if(isNaN(k)){var w="+"===k?0:1;y(B,E,z,1,w),y(A,D,z,1,1-w)}else{var w=k>=0?0:1;y(B,E,z,1,w),A[1]=B[1]+k}q.attr("position",B),F.attr("position",A),q.rotation=F.rotation=H.rotation,C(q),C(F)},_createAxis:function(f,h){var l=h.getData(),d=h.get("axisType"),k=d9(h,d),b=l.getDataExtent("value");k.setExtent(b[0],b[1]),this._customizeScale(k,l),k.niceTicks();var g=new tF("value",k,f.axisExtent,d);return g.model=h,g},_customizeScale:function(a,b){a.getTicks=function(){return b.mapArray(["value"],function(d){return d})},a.getTicksLabels=function(){return ZU(this.getTicks(),a.getLabel,a)}},_createGroup:function(a){var b=this["_"+a]=new TO;return this.group.add(b),b},_renderAxisLine:function(b,d,g,a){var f=g.getExtent();a.get("lineStyle.show")&&d.add(new AU({shape:{x1:f[0],y1:0,x2:f[1],y2:0},style:Y2({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(f,g,k,d){var h=d.getData(),b=k.scale.getTicks();A2(b,function(o,m){var v=k.dataToCoord(o),q=h.getItemModel(m),e=q.getModel("itemStyle.normal"),n=q.getModel("itemStyle.emphasis"),p={position:[v,0],onclick:iJ(this._changeTimeline,this,m)},w=iF(q,e,g,p);aad(w,n.getItemStyle()),q.get("tooltip")?(w.dataIndex=m,w.dataModel=d):w.dataIndex=w.dataModel=null},this)},_renderAxisLabel:function(p,k,f,h){var d=h.getModel("label.normal");if(d.get("show")){var m=h.getData(),b=f.scale.getTicks(),q=bB(f,d.get("formatter")),g=f.getLabelInterval();A2(b,function(e,t){if(!f.isLabelIgnored(t,g)){var n=m.getItemModel(t),a=n.getModel("label.normal"),l=n.getModel("label.emphasis"),v=f.dataToCoord(e),s=new PN({position:[v,0],rotation:p.labelRotation-p.rotation,onclick:iJ(this._changeTimeline,this,t),silent:!1});WH(s.style,a,{text:q[t],textAlign:p.labelAlign,textVerticalAlign:p.labelBaseline}),k.add(s),aad(s,WH({},l))}},this)}},_renderControl:function(x,p,f,k){function d(a,z,s,e){if(a){var u={position:a,origin:[v/2,0],rotation:e?-b:0,rectHover:!0,style:y,onclick:s},l=E9(k,z,w,u);p.add(l),aad(l,g)}}var v=x.controlSize,b=x.rotation,y=k.getModel("controlStyle.normal").getItemStyle(),g=k.getModel("controlStyle.emphasis").getItemStyle(),w=[0,-v/2,v,v],m=k.getPlayState(),q=k.get("inverse",!0);d(x.nextBtnPosition,"controlStyle.nextIcon",iJ(this._changeTimeline,this,q?"-":"+")),d(x.prevBtnPosition,"controlStyle.prevIcon",iJ(this._changeTimeline,this,q?"+":"-")),d(x.playPosition,"controlStyle."+(m?"stopIcon":"playIcon"),iJ(this._handlePlayClick,this,!m),!0)},_renderCurrentPointer:function(p,k,f,h){var d=h.getData(),m=h.getCurrentIndex(),b=d.getItemModel(m).getModel("checkpointStyle"),q=this,g={onCreate:function(a){a.draggable=!0,a.drift=iJ(q._handlePointerDrag,q),a.ondragend=iJ(q._handlePointerDragend,q),oB(a,m,f,h,!0)},onUpdate:function(a){oB(a,m,f,h)}};this._currentPointer=iF(b,b,this._mainGroup,{},this._currentPointer,g)},_handlePlayClick:function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,d){this._clearTimer(),this._pointerChangeTimeline([d.offsetX,d.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(f,h){var l=this._toAxisCoord(f)[0],d=this._axis,k=oH(d.getExtent().slice());l>k[1]&&(l=k[1]),l<k[0]&&(l=k[0]),this._currentPointer.position[0]=l,this._currentPointer.dirty();var b=this._findNearestTick(l),g=this.model;(h||b!==g.getCurrentIndex()&&g.get("realtime"))&&this._changeTimeline(b)},_doPlayStop:function(){function a(){var b=this.model;this._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(iJ(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return h0(a,b,!0)},_findNearestTick:function(b){var d,g=this.model.getData(),a=1/0,f=this._axis;return g.each(["value"],function(l,e){var k=f.dataToCoord(l),h=Math.abs(k-b);a>h&&(a=h,d=e)}),d},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}}),TW(abs),abd.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var zE=["x","y","z","radius","angle","single"],qF=["cartesian2d","polar","singleAxis"],mG=hF(zE,["axisIndex","axis","index","id"]),R9=ZX,nG=oH,Dt=function(b,d,f,a){this._dimName=b,this._axisIndex=d,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=a,this._dataZoomModel=f};Dt.prototype={constructor:Dt,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;return b.eachSeries(function(f){if(sz(f.get("coordinateSystem"))){var d=this._dimName,e=b.queryComponents({mainType:d+"Axis",index:f.get(d+"AxisIndex"),id:f.get(d+"AxisId")})[0];this._axisIndex===(e&&e.componentIndex)&&a.push(f)}},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var f,h,l=this._dimName,d=this.ecModel,k=this.getAxisModel(),b="x"===l||"y"===l;b?(h="gridIndex",f="x"===l?"y":"x"):(h="polarIndex",f="angle"===l?"radius":"angle");var g;return d.eachComponent(f+"Axis",function(a){(a.get(h)||0)===(k.get(h)||0)&&(g=a)}),g},getMinMaxSpan:function(){return ZQ(this._minMaxSpan)},calculateDataWindow:function(f){var k=this._dataExtent,m=this.getAxisModel(),d=m.axis.scale,l=this._dataZoomModel.getRangePropMode(),b=[0,100],h=[f.start,f.end],g=[];return R9(["startValue","endValue"],function(a){g.push(null!=f[a]?d.parse(f[a]):null)}),R9([0,1],function(e){var o=g[e],a=h[e];"percent"===l[e]?(null==a&&(a=b[e]),o=d.parse(aaQ(a,b,k,!0))):a=aaQ(o,k,b,!0),g[e]=o,h[e]=a}),{valueWindow:nG(g),percentWindow:nG(h)}},reset:function(a){if(a===this._dataZoomModel){this._dataExtent=xz(this,this._dimName,this.getTargetSeriesModels());var b=this.calculateDataWindow(a.option);this._valueWindow=b.valueWindow,this._percentWindow=b.percentWindow,lB(this),pB(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,pB(this,!0))},filterData:function(f){function h(a){return a>=b[0]&&a<=b[1]}if(f===this._dataZoomModel){var l=this._dimName,d=this.getTargetSeriesModels(),k=f.get("filterMode"),b=this._valueWindow;if("none"!==k){var g=this.getOtherAxisModel();f.get("$fromToolbox")&&g&&"category"===g.get("type")&&(k="empty"),R9(d,function(e){var a=e.getData(),m=e.coordDimToDataDim(l);"weakFilter"===k?a&&a.filterSelf(function(A){for(var x,q,p,B=0;B<m.length;B++){var v=a.get(m[B],A),z=!isNaN(v),w=v<b[0],y=v>b[1];if(z&&!w&&!y){return !0}z&&(p=!0),w&&(x=!0),y&&(q=!0)}return p&&x&&q}):a&&R9(m,function(o){"empty"===k?e.setData(a.map(o,function(n){return h(n)?n:0/0})):a.filterSelf(o,h)})})}}}};var oG=ZX,xF=mG,kG=D2({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(b,d,f){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var a=Q7(b);this.mergeDefaultAndTheme(b,f),this.doInit(a)},mergeOption:function(a){var b=Q7(a);Y9(this.option,a,!0),this.doInit(b)},doInit:function(a){var b=this.option;VN.canvasSupported||(b.realtime=!1),this._setDefaultThrottle(a),mB(this,a),oG([["start","startValue"],["end","endValue"]],function(d,e){"value"===this._rangePropMode[e]&&(b[d[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(g,k,d,h){var b=this.dependentModels[g.axis][k],f=b.__dzAxisProxy||(b.__dzAxisProxy=new Dt(g.name,k,this,h));a[g.name+"_"+k]=f},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();xF(function(d){var f=d.axisIndex;a[f]=nY(a[f])},this),"axisIndex"===b?this._autoSetAxisIndex():"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1;xF(function(e){null!=a[e.axisIndex]&&(b=!0)},this);var d=a.orient;return null==d&&b?"orient":b?void 0:(null==d&&(a.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var b=!0,d=this.get("orient",!0),g=this.option,a=this.dependentModels;if(b){var f="vertical"===d?"y":"x";a[f+"Axis"].length?(g[f+"AxisIndex"]=[0],b=!1):oG(a.singleAxis,function(e){b&&e.get("orient",!0)===d&&(g.singleAxisIndex=[e.componentIndex],b=!1)})}b&&xF(function(m){if(b){var k=[],n=this.dependentModels[m.axis];if(n.length&&!k.length){for(var h=0,l=n.length;l>h;h++){"category"===n[h].get("type")&&k.push(h)}}g[m.axisIndex]=k,k.length&&(b=!1)}},this),b&&this.ecModel.eachSeries(function(e){this._isSeriesHasAllAxesTypeOf(e,"value")&&xF(function(m){var k=g[m.axisIndex],n=e.get(m.axisIndex),h=e.get(m.axisId),l=e.ecModel.queryComponents({mainType:m.axis,index:n,id:h})[0];n=l.componentIndex,YX(k,n)<0&&k.push(n)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this),this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var d=!0;return xF(function(f){var g=a.get(f.axisIndex),e=this.dependentModels[f.axis][g];e&&e.get("type")===b||(d=!1)},this),d},_setDefaultThrottle:function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var b=this.ecModel.option;this.option.throttle=b.animation&&b.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var a;return xF(function(b){if(null==a){var d=this.get(b.axisIndex);d.length&&(a=this.dependentModels[b.axis][d[0]])}},this),a},eachTargetAxis:function(a,b){var d=this.ecModel;xF(function(e){oG(this.get(e.axisIndex),function(f){a.call(b,e,f,this,d)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(a,b){var d=this.getAxisProxy(a,b);return d&&d.getAxisModel()},setRawRange:function(a,b){var d=this.option;oG([["start","startValue"],["end","endValue"]],function(f){(null!=a[f[0]]||null!=a[f[1]])&&(d[f[0]]=a[f[0]],d[f[1]]=a[f[1]])},this),!b&&mB(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();return a?a.getDataPercentWindow():void 0},getValueRange:function(a,b){if(null!=a||null!=b){return this.getAxisProxy(a,b).getDataValueWindow()}var d=this.findRepresentativeAxisProxy();return d?d.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(a){if(a){return a.__dzAxisProxy}var b=this._axisProxies;for(var d in b){if(b.hasOwnProperty(d)&&b[d].hostedBy(this)){return b[d]}}for(var d in b){if(b.hasOwnProperty(d)&&!b[d].hostedBy(this)){return b[d]}}},getRangePropMode:function(){return this._rangePropMode.slice()}}),AB=l3.extend({type:"dataZoom",render:function(a,b,d){this.dataZoomModel=a,this.ecModel=b,this.api=d},getTargetCoordInfo:function(){function b(k,l,p,h){for(var m,g=0;g<p.length;g++){if(p[g].model===k){m=p[g];break}}m||p.push(m={model:k,axisModels:[],coordIndex:h}),m.axisModels.push(l)}var d=this.dataZoomModel,f=this.ecModel,a={};return d.eachTargetAxis(function(k,l){var g=f.getComponent(k.axis,l);if(g){var h=g.getCoordSysModel();h&&b(h,g,a[h.mainType]||(a[h.mainType]=[]),h.componentIndex)}},this),a}}),gJ=(kG.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:0.5,opacity:0.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:0.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),hZ),vF=aaQ,fJ=oH,uF=YU,wF=ZX,cF=7,eJ=1,dJ=30,hJ="horizontal",Mk="vertical",S8=5,B1=["line","bar","candlestick","scatter"],rF=AB.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=b},render:function(b,d,f,a){return rF.superApply(this,"render",arguments),m9(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=b.get("orient"),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(a&&"dataZoom"===a.type&&a.from===this.uid||this._buildView(),void this._updateView())},remove:function(){rF.superApply(this,"remove",arguments),v9(this,"_dispatchZoomAction")},dispose:function(){rF.superApply(this,"dispose",arguments),v9(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll(),this._resetLocation(),this._resetInterval();var b=this._displayables.barGroup=new TO;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(b),this._positionGroup()},_resetLocation:function(){var f=this.dataZoomModel,h=this.api,l=this._findCoordRect(),d={width:h.getWidth(),height:h.getHeight()},k=this._orient===hJ?{right:d.width-l.x-l.width,top:d.height-dJ-cF,width:l.width,height:dJ}:{right:cF,top:l.y,width:dJ,height:l.height},b=abj(f.option);ZX(["right","top","width","height"],function(a){"ph"===b[a]&&(b[a]=k[a])});var g=WY(b,d,f.padding);this._location={x:g.x,y:g.y},this._size=[g.width,g.height],this._orient===Mk&&this._size.reverse()},_positionGroup:function(){var f=this.group,k=this._location,m=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),l=d&&d.get("inverse"),b=this._displayables.barGroup,h=(this._dataShadowInfo||{}).otherAxisInverse;b.attr(m!==hJ||l?m===hJ&&l?{scale:h?[-1,1]:[-1,-1]}:m!==Mk||l?{scale:h?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:h?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:h?[1,1]:[1,-1]});var g=f.getBoundingRect([b]);f.attr("position",[k.x-g.x,k.y-g.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this.dataZoomModel,b=this._size,d=this._displayables.barGroup;d.add(new gJ({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:a.get("backgroundColor")},z2:-40})),d.add(new gJ({shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:"transparent"},z2:0,onclick:YU(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var G=this._dataShadowInfo=this._prepareDataShadowInfo();if(G){var B=this._size,s=G.series,x=s.getRawData(),q=s.getShadowDim?s.getShadowDim():G.otherDim;if(null!=q){var E=x.getDataExtent(q),b=0.3*(E[1]-E[0]);E=[E[0]-b,E[1]+b];var w,F=[0,B[1]],y=[0,B[0]],D=[[B[0],0],[0,0]],C=[],A=y[1]/(x.count()-1),z=0,k=Math.round(x.count()/B[0]);x.each([q],function(d,f){if(k>0&&f%k){return void (z+=A)}var g=null==d||isNaN(d)||""===d,a=g?0:vF(d,E,F,!0);g&&!w&&f?(D.push([D[D.length-1][0],0]),C.push([C[C.length-1][0],0])):!g&&w&&(D.push([z,0]),C.push([z,0])),D.push([z,a]),C.push([z,a]),z+=A,w=g});var v=this.dataZoomModel;this._displayables.barGroup.add(new oX({shape:{points:D},style:Y0({fill:v.get("dataBackgroundColor")},v.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new sW({shape:{points:C},style:v.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var b=this.dataZoomModel,d=b.get("showDataShadow");if(d!==!1){var f,a=this.ecModel;return b.eachTargetAxis(function(h,e){var g=b.getAxisProxy(h.name,e).getTargetSeriesModels();ZX(g,function(m){if(!(f||d!==!0&&YX(B1,m.get("type"))<0)){var p,o=a.getComponent(h.axis,e).axis,k=CE(h.name),n=m.coordinateSystem;null!=k&&n.getOtherAxis&&(p=n.getOtherAxis(o).inverse),f={thisAxis:o,series:m,thisDim:h.name,otherDim:k,otherAxisInverse:p}}},this)},this),f}},_renderHandle:function(){var f=this._displayables,g=f.handles=[],k=f.handleLabels=[],d=this._displayables.barGroup,h=this._size,b=this.dataZoomModel;d.add(f.filler=new gJ({draggable:!0,cursor:nB(this._orient),drift:uF(this._onDragMove,this,"all"),onmousemove:function(a){e4(a.event)},ondragstart:uF(this._showDataInfo,this,!0),ondragend:uF(this._onDragEnd,this),onmouseover:uF(this._showDataInfo,this,!0),onmouseout:uF(this._showDataInfo,this,!1),style:{fill:b.get("fillerColor"),textPosition:"inside"}})),d.add(new gJ(qq({silent:!0,shape:{x:0,y:0,width:h[0],height:h[1]},style:{stroke:b.get("dataBackgroundColor")||b.get("borderColor"),lineWidth:eJ,fill:"rgba(0,0,0,0)"}}))),wF([0,1],function(e){var p=lY(b.get("handleIcon"),{cursor:nB(this._orient),draggable:!0,drift:uF(this._onDragMove,this,e),onmousemove:function(l){e4(l.event)},ondragend:uF(this._onDragEnd,this),onmouseover:uF(this._showDataInfo,this,!0),onmouseout:uF(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),n=p.getBoundingRect();this._handleHeight=Ft(b.get("handleSize"),this._size[1]),this._handleWidth=n.width/n.height*this._handleHeight,p.setStyle(b.getModel("handleStyle").getItemStyle());var m=b.get("handleColor");null!=m&&(p.style.fill=m),d.add(g[e]=p);var a=b.textStyleModel;this.group.add(k[e]=new PN({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:a.getTextColor(),textFont:a.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[vF(a[0],[0,100],b,!0),vF(a[1],[0,100],b,!0)]},_updateInterval:function(f,h){var l=this.dataZoomModel,d=this._handleEnds,k=this._getViewExtent(),b=l.findRepresentativeAxisProxy().getMinMaxSpan(),g=[0,100];IJ(h,d,k,l.get("zoomLock")?"all":f,null!=b.minSpan?vF(b.minSpan,g,k,!0):null,null!=b.maxSpan?vF(b.maxSpan,g,k,!0):null),this._range=fJ([vF(d[0],k,g,!0),vF(d[1],k,g,!0)])},_updateView:function(b){var d=this._displayables,g=this._handleEnds,a=fJ(g.slice()),f=this._size;wF([0,1],function(k){var h=d.handles[k],e=this._handleHeight;h.attr({scale:[e/2,e/2],position:[g[k],f[1]/2-e/2]})},this),d.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:f[1]}),this._updateDataInfo(b)},_updateDataInfo:function(x){function p(h){var u=sX(k.handles[h].parent,this.group),z=AV(0===h?"right":"left",u),o=this._handleWidth/2+S8,a=h0([q[h]+(0===h?-o:o),this._size[1]/2],u);d[h].setStyle({x:a[0],y:a[1],textVerticalAlign:v===hJ?"middle":z,textAlign:v===hJ?z:"center",text:b[h]})}var f=this.dataZoomModel,k=this._displayables,d=k.handleLabels,v=this._orient,b=["",""];if(f.get("showDetail")){var y=f.findRepresentativeAxisProxy();if(y){var g=y.getAxisModel().axis,w=this._range,m=x?y.calculateDataWindow({start:w[0],end:w[1]}).valueWindow:y.getDataValueWindow();b=[this._formatLabel(m[0],g),this._formatLabel(m[1],g)]}}var q=fJ(this._handleEnds.slice());p.call(this,0),p.call(this,1)},_formatLabel:function(f,g){var k=this.dataZoomModel,d=k.get("labelFormatter"),h=k.get("labelPrecision");(null==h||"auto"===h)&&(h=g.getPixelPrecision());var b=null==f||isNaN(f)?"":"category"===g.type||"time"===g.type?g.scale.getLabel(Math.round(f)):f.toFixed(Math.min(h,20));return aac(d)?d(f,b):Z5(d)?d.replace("{value}",b):b},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a),b[1].attr("invisible",!a)},_onDragMove:function(f,g,k){this._dragging=!0;var d=this._displayables.barGroup.getLocalTransform(),h=h0([g,k],d,!0);this._updateInterval(f,h[0]);var b=this.dataZoomModel.get("realtime");this._updateView(!b),b&&b&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_onClickPanelClick:function(b){var d=this._size,g=this._displayables.barGroup.transformCoordToLocal(b.offsetX,b.offsetY);if(!(g[0]<0||g[0]>d[0]||g[1]<0||g[1]>d[1])){var a=this._handleEnds,f=(a[0]+a[1])/2;this._updateInterval("all",g[0]-f),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){var a;if(wF(this.getTargetCoordInfo(),function(f){if(!a&&f.length){var g=f[0].model.coordinateSystem;a=g.getRect&&g.getRect()}}),!a){var b=this.api.getWidth(),d=this.api.getHeight();a={x:0.2*b,y:0.2*d,width:0.6*b,height:0.6*d}}return a}});kG.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var sF=YN,lG="\x00_ec_dataZoom_roams",I5=YU,X0=AB.extend({type:"dataZoom.inside",init:function(){this._range},render:function(b,d,f,a){X0.superApply(this,"render",arguments),zt(a,b.id)&&(this._range=b.getPercentRange()),ZX(this.getTargetCoordInfo(),function(h,g){var k=ZU(h,function(e){return fF(e.model)});ZX(h,function(n){var l=n.model,m=b.option;wz(f,{coordId:fF(l),allCoordIds:k,containsPoint:function(o,p,q){return l.coordinateSystem.containPoint([p,q])},dataZoomId:b.id,throttleRate:b.get("throttle",!0),panGetRange:I5(this._onPan,this,n,g),zoomGetRange:I5(this._onZoom,this,n,g),zoomLock:m.zoomLock,disabled:m.disabled,roamControllerOpt:{zoomOnMouseWheel:m.zoomOnMouseWheel,moveOnMouseMove:m.moveOnMouseMove,preventDefaultMouseMove:m.preventDefaultMouseMove}})},this)},this)},dispose:function(){jE(this.api,this.dataZoomModel.id),X0.superApply(this,"dispose",arguments),this._range=null},_onPan:function(z,q,g,m,f,x,b,A,k){var y=this._range.slice(),p=z.axisModels[0];if(p){var w=O4[q]([x,b],[A,k],p,g,z),v=w.signal*(y[1]-y[0])*w.pixel/w.pixelLength;return IJ(v,y,[0,100],"all"),this._range=y}},_onZoom:function(w,p,f,k,d,q){var b=this._range.slice(),x=w.axisModels[0];if(x){var g=O4[p](null,[d,q],x,f,w),v=(g.signal>0?g.pixelStart+g.pixelLength-g.pixel:g.pixel-g.pixelStart)/g.pixelLength*(b[1]-b[0])+b[0];k=Math.max(1/k,0),b[0]=(b[0]-v)*k+v,b[1]=(b[1]-v)*k+v;var m=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return IJ(0,b,[0,100],0,m.minSpan,m.maxSpan),this._range=b}}}),O4={grid:function(f,k,m,d,l){var b=m.axis,h={},g=l.model.coordinateSystem.getRect();return f=f||[0,0],"x"===b.dim?(h.pixel=k[0]-f[0],h.pixelLength=g.width,h.pixelStart=g.x,h.signal=b.inverse?1:-1):(h.pixel=k[1]-f[1],h.pixelLength=g.height,h.pixelStart=g.y,h.signal=b.inverse?-1:1),h},polar:function(q,k,f,h,d){var m=f.axis,b={},v=d.model.coordinateSystem,g=v.getRadiusAxis().getExtent(),p=v.getAngleAxis().getExtent();return q=q?v.pointToCoord(q):[0,0],k=v.pointToCoord(k),"radiusAxis"===f.mainType?(b.pixel=k[0]-q[0],b.pixelLength=g[1]-g[0],b.pixelStart=g[0],b.signal=m.inverse?1:-1):(b.pixel=k[1]-q[1],b.pixelLength=p[1]-p[0],b.pixelStart=p[0],b.signal=m.inverse?-1:1),b},singleAxis:function(f,k,m,d,l){var b=m.axis,h=l.model.coordinateSystem.getRect(),g={};return f=f||[0,0],"horizontal"===b.orient?(g.pixel=k[0]-f[0],g.pixelLength=h.width,g.pixelStart=h.x,g.signal=b.inverse?1:-1):(g.pixel=k[1]-f[1],g.pixelLength=h.height,g.pixelStart=h.y,g.signal=b.inverse?-1:1),g}};Y5(function(a){a.eachComponent("dataZoom",function(b){b.eachTargetAxis(K8),b.eachTargetAxis(R6)}),a.eachComponent("dataZoom",function(d){var f=d.findRepresentativeAxisProxy(),g=f.getDataPercentWindow(),b=f.getDataValueWindow();d.setRawRange({start:g[0],end:g[1],startValue:b[0],endValue:b[1]},!0)})}),VW("dataZoom",function(b,d){var f=Aq(YU(d.eachComponent,d,"dataZoom"),mG,function(g,h){return g.get(h.axisIndex)}),a=[];d.eachComponent({mainType:"dataZoom",query:b},function(e){a.push.apply(a,f(e).nodes)}),ZX(a,function(g){g.setRawRange({start:b.start,end:b.end,startValue:b.startValue,endValue:b.endValue})})});var T0=["rect","polygon","keep","clear"],N4=function(f,k){var m=f&&f.brush;if(YO(m)||(m=m?[m]:[]),m.length){var d=[];ZX(m,function(a){var n=a.hasOwnProperty("toolbox")?a.toolbox:[];n instanceof Array&&(d=d.concat(n))});var l=f&&f.toolbox;YO(l)&&(l=l[0]),l||(l={feature:{}},f.toolbox=[l]);var b=l.feature||(l.feature={}),h=b.brush||(b.brush={}),g=h.type||(h.type=[]);g.push.apply(g,d),BF(g),k&&!g.length&&g.push.apply(g,T0)}},abK=ZX,K5={lineX:WR(0),lineY:WR(1),rect:{point:function(a,b,d){return a&&d.boundingRect.contain(a[0],a[1])},rect:function(a,b,d){return a&&d.boundingRect.intersect(a)}},polygon:{point:function(a,b,d){return a&&d.boundingRect.contain(a[0],a[1])&&aX(d.range,a[0],a[1])},rect:function(p,k,f){var h=f.range;if(!p||h.length<=1){return !1}var d=p.x,m=p.y,b=p.width,q=p.height,g=h[0];return aX(h,d,m)||aX(h,d+b,m)||aX(h,d,m+q)||aX(h,d+b,m+q)||gU.create(p).contain(g[0],g[1])||SV(d,m,d+b,m,h)||SV(d,m,d,m+q,h)||SV(d+b,m,d+b,m+q,h)||SV(d,m+q,d+b,m+q,h)?!0:void 0}}},J5=ZX,Q4=YX,H5=YN,U0=["dataToPoint","pointToData"],aaC=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Zq=IY.prototype;Zq.setOutputRanges=function(a,b){this.matchOutputRanges(a,b,function(f,g,h){if((f.coordRanges||(f.coordRanges=[])).push(g),!f.coordRange){f.coordRange=g;var d=P4[f.brushType](0,h,g);f.__rangeOffset={offset:G5[f.brushType](d.values,f.range,[1,1]),xyMinMax:d.xyMinMax}}})},Zq.matchOutputRanges=function(a,b,d){J5(a,function(f){var e=this.findTargetInfo(f,b);e&&e!==!0&&ZX(e.coordSyses,function(g){var h=P4[f.brushType](1,g,f.range);d(f,h.values,g,b)})},this)},Zq.setInputRanges=function(a,b){J5(a,function(e){var g=this.findTargetInfo(e,b);if(e.range=e.range||[],g&&g!==!0){e.panelId=g.panelId;var d=P4[e.brushType](0,g.coordSys,e.coordRange),f=e.__rangeOffset;e.range=f?G5[e.brushType](d.values,f.offset,XR(d.xyMinMax,f.xyMinMax)):d.values}},this)},Zq.makePanelOpts=function(a,b){return ZU(this._targetInfoList,function(e){var d=e.getPanelRect();return{panelId:e.panelId,defaultBrushType:b&&b(e),clipPath:Z2(d),isTargetByCursor:Wq(d,a,e.coordSysModel),getLinearBrushOtherExtent:Yk(d)}})},Zq.controlSeries=function(b,d,f){var a=this.findTargetInfo(b,f);return a===!0||a&&Q4(a.coordSyses,d.coordinateSystem)>=0},Zq.findTargetInfo=function(f,h){for(var l=this._targetInfoList,d=GY(h,f),k=0;k<l.length;k++){var b=l[k],g=f.panelId;if(g){if(b.panelId===g){return b}}else{for(var k=0;k<V0.length;k++){if(V0[k](d,b)){return b}}}}return !0};var W0={grid:function(f,k){var m=f.xAxisModels,d=f.yAxisModels,l=f.gridModels,b=aaD(),h={},g={};(m||d||l)&&(J5(m,function(a){var n=a.axis.grid.model;b.set(n.id,n),h[n.id]=!0}),J5(d,function(a){var n=a.axis.grid.model;b.set(n.id,n),g[n.id]=!0}),J5(l,function(a){b.set(a.id,a),h[a.id]=!0,g[a.id]=!0}),b.each(function(n){var p=n.coordinateSystem,e=[];J5(p.getCartesians(),function(a){(Q4(m,a.getAxis("x").model)>=0||Q4(d,a.getAxis("y").model)>=0)&&e.push(a)}),k.push({panelId:"grid--"+n.id,gridModel:n,coordSysModel:n,coordSys:e[0],coordSyses:e,getPanelRect:M4.grid,xAxisDeclared:h[n.id],yAxisDeclared:g[n.id]})}))},geo:function(a,b){J5(a.geoModels,function(d){var e=d.coordinateSystem;b.push({panelId:"geo--"+d.id,geoModel:d,coordSysModel:d,coordSys:e,coordSyses:[e],getPanelRect:M4.geo})})}},V0=[function(b,d){var g=b.xAxisModel,a=b.yAxisModel,f=b.gridModel;return !f&&g&&(f=g.axis.grid.model),!f&&a&&(f=a.axis.grid.model),f&&f===d.gridModel},function(a,b){var d=a.geoModel;return d&&d===b.geoModel}],M4={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();return b.applyTransform(sX(a)),b}},P4={lineX:H5(TR,0),lineY:H5(TR,1),rect:function(f,g,k){var d=g[U0[f]]([k[0][0],k[1][0]]),h=g[U0[f]]([k[0][1],k[1][1]]),b=[PX([d[0],h[0]]),PX([d[1],h[1]])];return{values:b,xyMinMax:b}},polygon:function(b,d,g){var a=[[1/0,-1/0],[1/0,-1/0]],f=ZU(g,function(h){var e=d[U0[b]](h);return a[0][0]=Math.min(a[0][0],e[0]),a[1][0]=Math.min(a[1][0],e[1]),a[0][1]=Math.max(a[0][1],e[0]),a[1][1]=Math.max(a[1][1],e[1]),e});return{values:f,xyMinMax:a}}},G5={lineX:H5(YZ,0),lineY:H5(YZ,1),rect:function(a,b,d){return[[a[0][0]-d[0]*b[0][0],a[0][1]-d[0]*b[0][1]],[a[1][0]-d[1]*b[1][0],a[1][1]-d[1]*b[1][1]]]},polygon:function(a,b,d){return ZU(a,function(f,e){return[f[0]-d[0]*b[e][0],f[1]-d[1]*b[e][1]]})}},D6=["inBrush","outOfBrush"],E6="__ecBrushSelect",a3="__ecInBrushSelectEvent",abl=j4.VISUAL.BRUSH;O0(abl,function(a,b,d){a.eachComponent({mainType:"brush"},function(g){d&&"takeGlobalCursor"===d.type&&g.setBrushOption("brush"===d.key?d.brushOption:{brushType:!1});var f=g.brushTargetManager=new IY(g.option,a);f.setInputRanges(g.areas,a)})}),F1(abl,function(d,g,k){var h,b,f=[];d.eachComponent({mainType:"brush"},function(z,o){function s(e){return"all"===q||G[e]}function H(e){return !!e.length}function x(l,m){var p=l.coordinateSystem;C|=p.hasAxisBrushed(),s(m)&&p.eachActiveState(l.getData(),function(n,u){"active"===n&&(D[u]=1)})}function B(u,l,p){var e=FY(u);if(e&&!CZ(z,l)&&(ZX(E,function(n){e[n.brushType]&&z.brushTargetManager.controlSeries(n,u,d)&&p.push(n),C|=H(p)}),s(l)&&H(p))){var m=u.getData();m.each(function(n){OX(e,p,m,n)&&(D[n]=1)})}}var A={brushId:z.id,brushIndex:o,brushName:z.name,areas:ZQ(z.areas),selected:[]};f.push(A);var a=z.option,q=a.brushLink,G=[],D=[],F=[],C=0;o||(h=a.throttleType,b=a.throttleDelay);var E=ZU(z.areas,function(e){return DZ(Y0({boundingRect:F5[e.brushType](e)},e))}),t=rz(z.option,D6,function(e){e.mappingMethod="fixed"});YO(q)&&ZX(q,function(e){G[e]=1}),d.eachSeries(function(l,m){var p=F[m]=[];"parallel"===l.subType?x(l,m,p):B(l,m,p)}),d.eachSeries(function(p,v){var y={seriesId:p.id,seriesIndex:v,seriesName:p.name,dataIndex:[]};A.selected.push(y);var m=FY(p),w=F[v],l=p.getData(),u=s(v)?function(e){return D[e]?(y.dataIndex.push(l.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(e){return OX(m,w,l,e)?(y.dataIndex.push(l.getRawIndex(e)),"inBrush"):"outOfBrush"};(s(v)?C:H(w))&&HY(D6,t,l,u)})}),UR(g,h,b,f,k)});var F5={lineX:aaW,lineY:aaW,rect:function(a){return az(a.range)},polygon:function(f){for(var g,k=f.range,d=0,h=k.length;h>d;d++){g=g||[[1/0,-1/0],[1/0,-1/0]];var b=k[d];b[0]<g[0][0]&&(g[0][0]=b[0]),b[0]>g[0][1]&&(g[0][1]=b[0]),b[1]<g[1][0]&&(g[1][0]=b[1]),b[1]>g[1][1]&&(g[1][1]=b[1])}return g&&az(g)}},jt=["#ddd"];D2({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:10000},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(a,b){var d=this.option;!b&&kB(d,a,["inBrush","outOfBrush"]),d.inBrush=d.inBrush||{},d.outOfBrush=d.outOfBrush||{color:jt}},setAreas:function(a){a&&(this.areas=ZU(a,function(b){return aap(this.option,b)},this))},setBrushOption:function(a){this.brushOption=aap(this.option,a),this.brushType=this.brushOption.brushType}});aE({type:"brush",init:function(a,b){this.ecModel=a,this.api=b,this.model,(this._brushController=new yQ(b.getZr())).on("brush",YU(this._onBrush,this)).mount()},render:function(a){return this.model=a,EZ.apply(this,arguments)},updateView:EZ,updateLayout:EZ,updateVisual:EZ,dispose:function(){this._brushController.dispose()},_onBrush:function(a,b){var d=this.model.id;this.model.brushTargetManager.setOutputRanges(a,this.ecModel),(!b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:d,areas:ZQ(a),$from:d})}}),VW({type:"brush",event:"brush",update:"updateView"},function(a,b){b.eachComponent({mainType:"brush",query:a},function(d){d.setAreas(a.areas)})}),VW({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var pq={},tj={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}}},iz=tj.toolbox.brush;r3.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:ZQ(iz.title)};var A0=r3.prototype;A0.render=A0.updateView=A0.updateLayout=function(b,d){var g,a,f;d.eachComponent({mainType:"brush"},function(e){g=e.brushType,a=e.brushOption.brushMode||"single",f|=e.areas.length}),this._brushType=g,this._brushMode=a,ZX(b.get("type",!0),function(h){b.setIconStatus(h,("keep"===h?"multiple"===a:"clear"===h?f:h===g)?"emphasis":"normal")})},A0.getIcons=function(){var a=this.model,b=a.get("icon",!0),d={};return ZX(a.get("type",!0),function(e){b[e]&&(d[e]=b[e])}),d},A0.onclick=function(b,d,g){var a=this._brushType,f=this._brushMode;"clear"===g?(d.dispatchAction({type:"axisAreaSelect",intervals:[]}),d.dispatchAction({type:"brush",command:"clear",areas:[]})):d.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===g?a:a===g?!1:g,brushMode:"keep"===g?"multiple"===f?"single":"multiple":f}})},h6("brush",r3),TW(N4);var yj=ZX,zj=function(a){var b=a&&a.visualMap;YO(b)||(b=b?[b]:[]),yj(b,function(d){if(d){g6(d,"splitList")&&!g6(d,"pieces")&&(d.pieces=d.splitList,delete d.splitList);var f=d.pieces;f&&YO(f)&&yj(f,function(e){YQ(e)&&(g6(e,"start")&&!g6(e,"min")&&(e.min=e.start),g6(e,"end")&&!g6(e,"max")&&(e.max=e.end))})}})};abd.registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?a.pieces.length>0:a.splitNumber>0)&&!a.calculable?"piecewise":"continuous"}),F1(j4.VISUAL.COMPONENT,function(a){a.eachComponent("visualMap",function(b){z2(b,a)}),w3(a)});var qk={get:function(a,b,f){var d=ZQ((mq[a]||{})[b]);return f&&YO(d)?d[d.length-1]:d}},mq={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},R3=m6.mapVisual,nq=m6.eachVisual,C6=YO,oq=ZX,xj=oH,kq=aaQ,z9=aaW,gz=["#f6efa6","#d88273","#bf444c"],vj=D2({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,d){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(a,d)},optionUpdated:function(a,b){var d=this.option;VN.canvasSupported||(d.realtime=!1),!b&&kB(d,a,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=YU(a,this),this.controllerVisuals=rz(this.option.controller,b,a),this.targetVisuals=rz(this.option.target,b,a)},getTargetSeriesIndices:function(){var a=this.option.seriesIndex,b=[];return null==a||"all"===a?this.ecModel.eachSeries(function(d,e){b.push(e)}):b=nY(a),b},eachTargetSeries:function(a,b){ZX(this.getTargetSeriesIndices(),function(d){a.call(b,this.ecModel.getSeriesByIndex(d))},this)},isTargetSeries:function(a){var b=!1;return this.eachTargetSeries(function(d){d===a&&(b=!0)}),b},formatValueText:function(q,k,f){function h(a){return a===g[0]?"min":a===g[1]?"max":(+a).toFixed(Math.min(v,20))}var d,m,b=this.option,v=b.precision,g=this.dataBound,p=b.formatter;return f=f||["<",">"],YO(q)&&(q=q.slice(),d=!0),m=k?q:d?[h(q[0]),h(q[1])]:h(q),Z5(p)?p.replace("{value}",d?m[0]:m).replace("{value2}",d?m[1]:m):aac(p)?d?p(q[0],q[1]):p(q):d?q[0]===g[0]?f[0]+" "+m[1]:q[1]===g[1]?f[1]+" "+m[0]:m[0]+" - "+m[1]:m},resetExtent:function(){var a=this.option,b=xj([a.min,a.max]);this._dataExtent=b},getDataDimension:function(a){var b=this.option.dimension;return null!=b?b:a.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function g(a){C6(d.color)&&!a.inRange&&(a.inRange={color:d.color.slice().reverse()}),a.inRange=a.inRange||{color:gz},oq(this.stateList,function(p){var q=a[p];if(Z5(q)){var l=qk.get(q,"active",f);l?(a[p]={},a[p][q]=l):delete a[p]}},this)}function m(l,p,s){var a=l[p],q=l[s];a&&!q&&(q=l[s]={},oq(a,function(u,v){if(m6.isValidType(v)){var w=qk.get(v,"inactive",f);null!=w&&(q[v]=w,"color"!==v||q.hasOwnProperty("opacity")||q.hasOwnProperty("colorAlpha")||(q.opacity=[0,0]))}}))}function o(a){var l=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,q=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,p=this.get("inactiveColor");oq(this.stateList,function(n){var v=this.itemSize,u=a[n];u||(u=a[n]={color:f?p:[p]}),null==u.symbol&&(u.symbol=l&&ZQ(l)||(f?"roundRect":["roundRect"])),null==u.symbolSize&&(u.symbolSize=q&&ZQ(q)||(f?v[0]:[v[0],v[0]])),u.symbol=R3(u.symbol,function(s){return"none"===s||"square"===s?"roundRect":s});var e=u.symbolSize;if(null!=e){var t=-1/0;nq(e,function(s){s>t&&(t=s)}),u.symbolSize=R3(e,function(s){return kq(s,[0,t],[0,v[0]],!0)})}},this)}var d=this.option,k={inRange:d.inRange,outOfRange:d.outOfRange},h=d.target||(d.target={}),b=d.controller||(d.controller={});Y9(h,k),Y9(b,k);var f=this.isCategory();g.call(this,h),g.call(this,b),m.call(this,h,"inRange","outOfRange"),o.call(this,b)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return !!this.option.categories},setSelected:z9,getValueState:z9,getVisualMeta:z9}),fz=[20,140],uj=vj.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(){uj.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){uj.superApply(this,"resetItemSize",arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse(),(null==a[0]||isNaN(a[0]))&&(a[0]=fz[0]),(null==a[1]||isNaN(a[1]))&&(a[1]=fz[1])},_resetRange:function(){var a=this.getExtent(),b=this.option.range;!b||b.auto?(a.auto=1,this.option.range=a):YO(b)&&(b[0]>b[1]&&b.reverse(),b[0]=Math.max(b[0],a[0]),b[1]=Math.min(b[1],a[1]))},completeVisualOption:function(){vj.prototype.completeVisualOption.apply(this,arguments),ZX(this.stateList,function(a){var b=this.option.controller[a].symbolSize;b&&b[0]!==b[1]&&(b[0]=0)},this)},setSelected:function(a){this.option.range=a.slice(),this._resetRange()},getSelected:function(){var a=this.getExtent(),b=oH((this.get("range")||[]).slice());return b[0]>a[1]&&(b[0]=a[1]),b[1]>a[1]&&(b[1]=a[1]),b[0]<a[0]&&(b[0]=a[0]),b[1]<a[0]&&(b[1]=a[0]),b},getValueState:function(a){var b=this.option.range,d=this.getExtent();return(b[0]<=d[0]||b[0]<=a)&&(b[1]>=d[1]||a<=b[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];return this.eachTargetSeries(function(f){var d=[],e=f.getData();e.each(this.getDataDimension(e),function(g,h){a[0]<=g&&g<=a[1]&&d.push(h)},!0,this),b.push({seriesId:f.id,dataIndex:d})},this),b},getVisualMeta:function(w){function p(a,h){d.push({value:a,color:w(a,h)})}for(var f=o4(this,"outOfRange",this.getExtent()),k=o4(this,"inRange",this.option.range.slice()),d=[],q=0,b=0,x=k.length,g=f.length;g>b&&(!k.length||f[b]<=k[0]);b++){f[b]<k[q]&&p(f[b],"outOfRange")}for(var v=1;x>q;q++,v=0){v&&d.length&&p(k[q],"outOfRange"),p(k[q],"inRange")}for(var v=1;g>b;b++){(!k.length||k[k.length-1]<f[b])&&(v&&(d.length&&p(d[d.length-1].value,"outOfRange"),v=0),p(f[b],"outOfRange"))}var m=d.length;return{stops:d,outerColors:[m?d[0].color:"transparent",m?d[m-1].color:"transparent"]}}}),wk=aE({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,b){this.ecModel=a,this.api=b,this.visualMapModel},render:function(a){return this.visualMapModel=a,a.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},renderBackground:function(b){var d=this.visualMapModel,f=OR(d.get("padding")||0),a=b.getBoundingRect();b.add(new hZ({z2:-1,silent:!0,shape:{x:a.x-f[3],y:a.y-f[0],width:a.width+f[3]+f[1],height:a.height+f[0]+f[2]},style:{fill:d.get("backgroundColor"),stroke:d.get("borderColor"),lineWidth:d.get("borderWidth")}}))},getControllerVisual:function(w,p,f){function k(a){return x[a]}function d(a,h){x[a]=h}f=f||{};var q=f.forceState,b=this.visualMapModel,x={};if("symbol"===p&&(x.symbol=b.get("itemSymbol")),"color"===p){var g=b.get("contentColor");x.color=g}var v=b.controllerVisuals[q||b.getValueState(w)],m=m6.prepareVisualTypes(v);return ZX(m,function(e){var h=v[e];f.convertOpacityToAlpha&&"opacity"===e&&(e="colorAlpha",h=v.__alphaForOpacity),m6.dependsOn(e,p)&&h&&h.applyVisual(w,k,d)}),x[p]},positionGroup:function(a){var b=this.visualMapModel,d=this.api;N2(a,b.getBoxLayoutParams(),{width:d.getWidth(),height:d.getHeight()})},doRender:aaW}),cj=aaQ,ez=ZX,dz=Math.min,hz=Math.max,L4=12,S2=6,BZ=wk.extend({type:"visualMap.continuous",init:function(){BZ.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(b,d,f,a){a&&"selectDataRange"===a.type&&a.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient"),this._useHandle=a.get("calculable"),this._resetInterval(),this._renderBar(b);var d=a.get("text");this._renderEndsText(b,d,0),this._renderEndsText(b,d,1),this._updateView(!0),this.renderBackground(b),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(b)},_renderEndsText:function(x,p,f){if(p){var k=p[1-f];k=null!=k?k+"":"";var d=this.visualMapModel,v=d.get("textGap"),b=d.itemSize,y=this._shapes.barGroup,g=this._applyTransform([b[0]/2,0===f?-v:b[1]+v],y),w=this._applyTransform(0===f?"bottom":"top",y),m=this._orient,q=this.visualMapModel.textStyleModel;this.group.add(new PN({style:{x:g[0],y:g[1],textVerticalAlign:"horizontal"===m?"middle":w,textAlign:"horizontal"===m?w:"center",text:k,textFont:q.getFont(),textFill:q.getTextColor()}}))}},_renderBar:function(q){var k=this.visualMapModel,f=this._shapes,h=k.itemSize,d=this._orient,m=this._useHandle,b=k4(k,this.api,h),v=f.barGroup=this._createBarGroup(b);v.add(f.outOfRange=l4()),v.add(f.inRange=l4(null,m?y3(this._orient):null,YU(this._dragHandle,this,"all",!1),YU(this._dragHandle,this,"all",!0)));var g=k.textStyleModel.getTextRect("国"),p=hz(g.width,g.height);m&&(f.handleThumbs=[],f.handleLabels=[],f.handleLabelPoints=[],this._createHandle(v,0,h,p,d,b),this._createHandle(v,1,h,p,d,b)),this._createIndicator(v,h,p,d),q.add(v)},_createHandle:function(x,p,f,k,d){var v=YU(this._dragHandle,this,p,!1),b=YU(this._dragHandle,this,p,!0),y=l4(B9(p,k),y3(this._orient),v,b);y.position[0]=f[0],x.add(y);var g=this.visualMapModel.textStyleModel,w=new PN({draggable:!0,drift:v,onmousemove:function(a){e4(a.event)},ondragend:b,style:{x:0,y:0,text:"",textFont:g.getFont(),textFill:g.getTextColor()}});this.group.add(w);var m=["horizontal"===d?k/2:1.5*k,"horizontal"===d?0===p?-(1.5*k):1.5*k:0===p?-k/2:k/2],q=this._shapes;q.handleThumbs[p]=y,q.handleLabelPoints[p]=m,q.handleLabels[p]=w},_createIndicator:function(p,k,f,h){var d=l4([[0,0]],"move");d.position[0]=k[0],d.attr({invisible:!0,silent:!0}),p.add(d);var m=this.visualMapModel.textStyleModel,b=new PN({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:m.getFont(),textFill:m.getTextColor()}});this.group.add(b);var q=["horizontal"===h?f/2:S2+3,0],g=this._shapes;g.indicator=d,g.indicatorLabel=b,g.indicatorLabelPoint=q},_dragHandle:function(b,d,g,a){if(this._useHandle){if(this._dragging=!d,!d){var f=this._applyTransform([g,a],this._shapes.barGroup,!0);this._updateInterval(b,f[1]),this._updateView()}d===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),d?!this._hovering&&this._clearHoverLinkToSeries():i6(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[b],!1)}},_resetInterval:function(){var b=this.visualMapModel,d=this._dataInterval=b.getSelected(),f=b.getExtent(),a=[0,b.itemSize[1]];this._handleEnds=[cj(d[0],f,a,!0),cj(d[1],f,a,!0)]},_updateInterval:function(f,g){g=g||0;var k=this.visualMapModel,d=this._handleEnds,h=[0,k.itemSize[1]];IJ(g,d,h,f,0);var b=k.getExtent();this._dataInterval=[cj(d[0],h,b,!0),cj(d[1],h,b,!0)]},_updateView:function(f){var k=this.visualMapModel,m=k.getExtent(),d=this._shapes,l=[0,k.itemSize[1]],b=f?l:this._handleEnds,h=this._createBarVisual(this._dataInterval,m,b,"inRange"),g=this._createBarVisual(m,m,l,"outOfRange");d.inRange.setStyle({fill:h.barColor,opacity:h.opacity}).setShape("points",h.barPoints),d.outOfRange.setStyle({fill:g.barColor,opacity:g.opacity}).setShape("points",g.barPoints),this._updateHandle(b,h)},_createBarVisual:function(f,k,m,d){var l={forceState:d,convertOpacityToAlpha:!0},b=this._makeColorGradient(f,l),h=[this.getControllerVisual(f[0],"symbolSize",l),this.getControllerVisual(f[1],"symbolSize",l)],g=this._createBarPoints(m,h);return{barColor:new mX(0,0,0,1,b),barPoints:g,handlesColor:[b[0].color,b[b.length-1].color]}},_makeColorGradient:function(f,h){var l=100,d=[],k=(f[1]-f[0])/l;d.push({color:this.getControllerVisual(f[0],"color",h),offset:0});for(var b=1;l>b;b++){var g=f[0]+k*b;if(g>f[1]){break}d.push({color:this.getControllerVisual(g,"color",h),offset:b/l})}return d.push({color:this.getControllerVisual(f[1],"color",h),offset:1}),d},_createBarPoints:function(a,b){var d=this.visualMapModel.itemSize;return[[d[0]-b[0],a[0]],[d[0],a[0]],[d[0],a[1]],[d[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,d=this.visualMapModel.get("inverse");return new TO("horizontal"!==b||d?"horizontal"===b&&d?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||d?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(f,g){if(this._useHandle){var k=this._shapes,d=this.visualMapModel,h=k.handleThumbs,b=k.handleLabels;ez([0,1],function(m){var e=h[m];e.setStyle("fill",g.handlesColor[m]),e.position[1]=f[m];var a=h0(k.handleLabelPoints[m],sX(e,this.group));b[m].setStyle({x:a[0],y:a[1],text:d.formatValueText(this._dataInterval[m]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===m?"bottom":"top":"left",k.barGroup)})},this)}},_showIndicator:function(H,C,v,y){var q=this.visualMapModel,F=q.getExtent(),b=q.itemSize,I=[0,b[1]],x=cj(H,F,I,!0),G=this._shapes,z=G.indicator;if(z){z.position[1]=x,z.attr("invisible",!1),z.setShape("points",m4(!!v,y,x,b[1]));var E={convertOpacityToAlpha:!0},D=this.getControllerVisual(H,"color",E);z.setStyle("fill",D);var B=h0(G.indicatorLabelPoint,sX(z,this.group)),A=G.indicatorLabel;A.attr("invisible",!1);var k=this._applyTransform("left",G.barGroup),w=this._orient;A.setStyle({text:(v?v:"")+q.formatValueText(C),textVerticalAlign:"horizontal"===w?k:"middle",textAlign:"horizontal"===w?"center":k,x:B[0],y:B[1]})}},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on("mousemove",function(d){if(a._hovering=!0,!a._dragging){var f=a.visualMapModel.itemSize,b=a._applyTransform([d.offsetX,d.offsetY],a._shapes.barGroup,!0,!0);b[1]=dz(hz(0,b[1]),f[1]),a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=f[0])}}).on("mouseout",function(){a._hovering=!1,!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(z,q){var g=this.visualMapModel,m=g.itemSize;if(g.option.hoverLink){var f=[0,m[1]],x=g.getExtent();z=dz(hz(f[0],z),f[1]);var b=v4(g,x,f),A=[z-b,z+b],k=cj(z,f,x,!0),y=[cj(A[0],f,x,!0),cj(A[1],f,x,!0)];A[0]<f[0]&&(y[0]=-1/0),A[1]>f[1]&&(y[1]=1/0),q&&(y[0]===-1/0?this._showIndicator(k,y[1],"< ",b):1/0===y[1]?this._showIndicator(k,y[0],"> ",b):this._showIndicator(k,k,"≈ ",b));var p=this._hoverLinkDataIndices,w=[];(q||i6(g))&&(w=this._hoverLinkDataIndices=g.findTargetDataIndices(y));var v=vX(p,w);this._dispatchHighDown("downplay",QX(v[0])),this._dispatchHighDown("highlight",QX(v[1]))}},_hoverLinkFromSeriesMouseOver:function(f){var h=f.target,l=this.visualMapModel;if(h&&null!=h.dataIndex){var d=this.ecModel.getSeriesByIndex(h.seriesIndex);if(l.isTargetSeries(d)){var k=d.getData(h.dataType),b=k.getDimension(l.getDataDimension(k)),g=k.get(b,h.dataIndex,!0);isNaN(g)||this._showIndicator(g,g)}}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",QX(a)),a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},_applyTransform:function(b,d,g,a){var f=sX(d,a?null:this.group);return uW[YO(b)?"applyTransform":"transformDirection"](b,f,g)},_dispatchHighDown:function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}}),rj={type:"selectDataRange",event:"dataRangeSelected",update:"update"};VW(rj,function(a,b){b.eachComponent({mainType:"visualMap",query:a},function(d){d.setSelected(a.selected)})}),TW(zj);var sj=vj.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(a,b){sj.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var f=this._mode=this._determineMode();lq[this._mode].call(this),this._resetSelected(a,b);var d=this.option.categories;this.resetVisual(function(g,h){"categories"===f?(g.mappingMethod="category",g.categories=ZQ(d)):(g.dataExtent=this.getExtent(),g.mappingMethod="piecewise",g.pieceList=ZU(this._pieceList,function(e){var e=ZQ(e);return"inRange"!==h&&(e.visual=null),e}))})},completeVisualOption:function(){function b(h,k,l){return h&&h[k]&&(YQ(h[k])?h[k].hasOwnProperty(l):h[k]===l)}var d=this.option,g={},a=m6.listVisualTypes(),f=this.isCategory();ZX(d.pieces,function(e){ZX(a,function(h){e.hasOwnProperty(h)&&(g[h]=1)})}),ZX(g,function(k,h){var e=0;ZX(this.stateList,function(l){e|=b(d,l,h)||b(d.target,l,h)},this),!e&&ZX(this.stateList,function(l){(d[l]||(d[l]={}))[h]=qk.get(h,"inRange"===l?"active":"inactive",f)})},this),vj.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(f,g){var k=this.option,d=this._pieceList,h=(g?k:f).selected||{};if(k.selected=h,ZX(d,function(a){var l=this.getSelectedMapKey(a);h.hasOwnProperty(l)||(h[l]=!0)},this),"single"===k.selectedMode){var b=!1;ZX(d,function(a){var l=this.getSelectedMapKey(a);h[l]&&(b?h[l]=!1:b=!0)},this)}},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=ZQ(a)},getValueState:function(a){var b=m6.findPieceIndex(a,this._pieceList);return null!=b&&this.option.selected[this.getSelectedMapKey(this._pieceList[b])]?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];return this.eachTargetSeries(function(f){var d=[],e=f.getData();e.each(this.getDataDimension(e),function(g,k){var h=m6.findPieceIndex(g,this._pieceList);h===a&&d.push(k)},!0,this),b.push({seriesId:f.id,dataIndex:d})},this),b},getRepresentValue:function(a){var b;if(this.isCategory()){b=a.value}else{if(null!=a.value){b=a.value}else{var d=a.interval||[];b=d[0]===-1/0&&1/0===d[1]?0:(d[0]+d[1])/2}}return b},getVisualMeta:function(f){function k(q,n){var p=l.getRepresentValue({interval:q});n||(n=l.getValueState(p));var o=f(p,n);q[0]===-1/0?d[0]=o:1/0===q[1]?d[1]=o:m.push({value:q[0],color:o},{value:q[1],color:o})}if(!this.isCategory()){var m=[],d=[],l=this,b=this._pieceList.slice();if(b.length){var h=b[0].interval[0];h!==-1/0&&b.unshift({interval:[-1/0,h]}),h=b[b.length-1].interval[1],1/0!==h&&b.push({interval:[h,1/0]})}else{b.push({interval:[-1/0,1/0]})}var g=-1/0;return ZX(b,function(a){var e=a.interval;e&&(e[0]>g&&k([g,e[0]],"outOfRange"),k(e.slice()),g=e[1])},this),{stops:m,outerColors:d}}}}),lq={splitNumber:function(){var q=this.option,k=this._pieceList,f=Math.min(q.precision,20),h=this.getExtent(),d=q.splitNumber;d=Math.max(parseInt(d,10),1),q.splitNumber=d;for(var m=(h[1]-h[0])/d;+m.toFixed(f)!==m&&5>f;){f++}q.precision=f,m=+m.toFixed(f);var b=0;q.minOpen&&k.push({index:b++,interval:[-1/0,h[0]],close:[0,0]});for(var v=h[0],g=b+d;g>b;v+=m){var p=b===d-1?h[1]:v+m;k.push({index:b++,interval:[v,p],close:[1,1]})}q.maxOpen&&k.push({index:b++,interval:[h[1],1/0],close:[0,0]}),nH(k),ZX(k,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var a=this.option;ZX(a.categories,function(b){this._pieceList.push({text:this.formatValueText(b,!0),value:b})},this),e6(a,this._pieceList)},pieces:function(){var a=this.option,b=this._pieceList;ZX(a.pieces,function(y,g){YQ(y)||(y={value:y});var m={text:"",index:g};if(null!=y.label&&(m.text=y.label),y.hasOwnProperty("value")){var f=m.value=y.value;m.interval=[f,f],m.close=[1,1]}else{for(var w=m.interval=[],e=m.close=[0,0],z=[1,0,1],k=[-1/0,1/0],x=[],p=0;2>p;p++){for(var v=[["gte","gt","min"],["lte","lt","max"]][p],q=0;3>q&&null==w[p];q++){w[p]=y[v[q]],e[p]=z[q],x[p]=2===q}null==w[p]&&(w[p]=k[p])}x[0]&&1/0===w[1]&&(e[0]=0),x[1]&&w[0]===-1/0&&(e[1]=0),w[0]===w[1]&&e[0]&&e[1]&&(m.value=w[0])}m.visual=m6.retrieveVisuals(y),b.push(m)},this),e6(a,b),nH(b),ZX(b,function(d){var f=d.close,g=[["<","≤"][f[1]],[">","≥"][f[0]]];d.text=d.text||this.formatValueText(null!=d.value?d.value:d.interval,!1,g)},this)}};wk.extend({type:"visualMap.piecewise",doRender:function(){function x(e){var s=e.piece,a=new TO;a.onclick=YU(this._onItemClick,this,s),this._enableHoverLink(a,e.indexInModelPieceList);var l=f.getRepresentValue(s);if(this._createItemSymbol(a,l,[0,0,g[0],g[1]]),q){var n=this.visualMapModel.getValueState(l);a.add(new PN({style:{x:"right"===y?-k:g[0]+k,y:g[1]/2,text:s.text,textVerticalAlign:"middle",textAlign:y,textFont:v,textFill:b,opacity:"outOfRange"===n?0.5:1}}))}p.add(a)}var p=this.group;p.removeAll();var f=this.visualMapModel,k=f.get("textGap"),d=f.textStyleModel,v=d.getFont(),b=d.getTextColor(),y=this._getItemAlign(),g=f.itemSize,w=this._getViewData(),m=w.endsText,q=aaq(f.get("showLabel",!0),!m);m&&this._renderEndsText(p,m[0],g,q,y),ZX(w.viewPieceList,x,this),m&&this._renderEndsText(p,m[1],g,q,y),NW(f.get("orient"),p,f.get("itemGap")),this.renderBackground(p),this.positionGroup(p)},_enableHoverLink:function(a,b){function d(e){var f=this.visualMapModel;f.option.hoverLink&&this.api.dispatchAction({type:e,batch:QX(f.findTargetDataIndices(b))})}a.on("mouseover",YU(d,this,"highlight")).on("mouseout",YU(d,this,"downplay"))},_getItemAlign:function(){var a=this.visualMapModel,b=a.option;if("vertical"===b.orient){return k4(a,this.api,a.itemSize)}var d=b.align;return d&&"auto"!==d||(d="left"),d},_renderEndsText:function(f,h,l,d,k){if(h){var b=new TO,g=this.visualMapModel.textStyleModel;b.add(new PN({style:{x:d?"right"===k?l[0]:0:l[0]/2,y:l[1]/2,textVerticalAlign:"middle",textAlign:d?k:"center",text:h,textFont:g.getFont(),textFill:g.getTextColor()}})),f.add(b)}},_getViewData:function(){var b=this.visualMapModel,d=ZU(b.getPieceList(),function(h,k){return{piece:h,indexInModelPieceList:k}}),g=b.get("text"),a=b.get("orient"),f=b.get("inverse");return("horizontal"===a?f:!f)?d.reverse():g&&(g=g.slice().reverse()),{viewPieceList:d,endsText:g}},_createItemSymbol:function(a,b,d){a.add(xE(this.getControllerVisual(b,"symbol"),d[0],d[1],d[2],d[3],this.getControllerVisual(b,"color")))},_onItemClick:function(d){var f=this.visualMapModel,h=f.option,g=ZQ(h.selected),b=f.getSelectedMapKey(d);"single"===h.selectedMode?(g[b]=!0,ZX(g,function(a,k){g[k]=k===b})):g[b]=!g[b],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:g})}});TW(zj);var Ik=D2({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(){Ik.superApply(this,"mergeDefaultAndTheme",arguments),ZX(this.option.feature,function(a,b){var d=n4(b);d&&Y9(a,d.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});aE({type:"toolbox",render:function(w,p,f,k){function d(u,h){var a,y=m[u],t=m[h],l=g[y],e=new RN(l,w,w.ecModel);if(y&&!t){if(t3(y)){a={model:e,onclick:e.option.onclick,featureName:y}}else{var n=n4(y);if(!n){return}a=new n(e,p,f)}v[y]=a}else{if(a=v[t],!a){return}a.model=e,a.ecModel=p,a.api=f}return !y&&t?void (a.dispose&&a.dispose(p,f)):!e.get("show")||a.unusable?void (a.remove&&a.remove(p,f)):(q(e,a,y),e.setIconStatus=function(s,z){var A=this.option,o=this.iconPaths;A.iconStatus=A.iconStatus||{},A.iconStatus[s]=z,o[s]&&o[s].trigger(z)},void (a.render&&a.render(e,p,f,k)))}function q(s,e,B){var n=s.getModel("iconStyle"),C=e.getIcons?e.getIcons():s.get("icon"),t=s.get("title")||{};if("string"==typeof C){var A=C,z=t;C={},t={},C[B]=A,t[B]=z}var y=s.iconPaths={};ZX(C,function(h,l){var o=lY(h,{},{x:-x/2,y:-x/2,width:x,height:x});o.setStyle(n.getModel("normal").getItemStyle()),o.hoverStyle=n.getModel("emphasis").getItemStyle(),aad(o),w.get("showTitle")&&(o.__title=t[l],o.on("mouseover",function(){var a=n.getModel("emphasis").getItemStyle();o.setStyle({text:t[l],textPosition:a.textPosition||"bottom",textFill:a.fill||a.stroke||"#000",textAlign:a.textAlign||"center"})}).on("mouseout",function(){o.setStyle({textFill:null})})),o.trigger(s.get("iconStatus."+l)||"normal"),b.add(o),o.on("click",YU(e.onclick,e,p,f,l)),y[l]=o})}var b=this.group;if(b.removeAll(),w.get("show")){var x=+w.get("itemSize"),g=w.get("feature")||{},v=this._features||(this._features={}),m=[];ZX(g,function(a,h){m.push(h)}),new Jj(this._featureNames||[],m).add(d).update(d).remove(YN(d,null)).execute(),this._featureNames=m,mj(b,w,f),b.add(Ct(b.getBoundingRect(),w)),b.eachChild(function(A){var C=A.__title,z=A.hoverStyle;if(z&&C){var D=V2(C,xt(z)),s=A.position[0]+b.position[0],n=A.position[1]+b.position[1]+x,y=!1;n+D.height>f.getHeight()&&(z.textPosition="top",y=!0);var B=y?-5-D.height:x+8;s+D.width/2>f.getWidth()?(z.textPosition=["100%",B],z.textAlign="right"):s-D.width/2<0&&(z.textPosition=[0,B],z.textAlign="left")}})}},updateView:function(b,d,f,a){ZX(this._features,function(e){e.updateView&&e.updateView(e.model,d,f,a)})},updateLayout:function(b,d,f,a){ZX(this._features,function(e){e.updateLayout&&e.updateLayout(e.model,d,f,a)})},remove:function(a,b){ZX(this._features,function(d){d.remove&&d.remove(a,b)}),this.group.removeAll()},dispose:function(a,b){ZX(this._features,function(d){d.dispose&&d.dispose(a,b)})}});var W6=tj.toolbox.saveAsImage;d6.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:W6.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:W6.lang.slice()},d6.prototype.unusable=!VN.canvasSupported;var Oj=d6.prototype;Oj.onclick=function(D,y){var m=this.model,q=m.get("name")||D.get("title.0.text")||"echarts",k=document.createElement("a"),B=m.get("type",!0)||"png";k.download=q+"."+B,k.target="_blank";var b=y.getConnectedDataURL({type:B,backgroundColor:m.get("backgroundColor",!0)||D.get("backgroundColor")||"#fff",excludeComponents:m.get("excludeComponents"),pixelRatio:m.get("pixelRatio")});if(k.href=b,"function"!=typeof MouseEvent||VN.browser.ie||VN.browser.edge){if(window.navigator.msSaveOrOpenBlob){for(var E=atob(b.split(",")[1]),p=E.length,C=new Uint8Array(p);p--;){C[p]=E.charCodeAt(p)}var v=new Blob([C]);window.navigator.msSaveOrOpenBlob(v,q+"."+B)}else{var A=m.get("lang"),z='<body style="margin:0;"><img src="'+b+'" style="max-width:100%;" title="'+(A&&A[0]||"")+'" /></body>',x=window.open();x.document.write(z)}}else{var w=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});k.dispatchEvent(w)}},h6("saveAsImage",d6);var S7=tj.toolbox.magicType;s3.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:ZQ(S7.title),option:{},seriesIndex:{}};var Nj=s3.prototype;Nj.getIcons=function(){var a=this.model,b=a.get("icon"),d={};return ZX(a.get("type"),function(e){b[e]&&(d[e]=b[e])}),d};var abr={line:function(b,d,f,a){return"bar"===b?Y9({id:d,type:"line",data:f.get("data"),stack:f.get("stack"),markPoint:f.get("markPoint"),markLine:f.get("markLine")},a.get("option.line")||{},!0):void 0},bar:function(b,d,f,a){return"line"===b?Y9({id:d,type:"bar",data:f.get("data"),stack:f.get("stack"),markPoint:f.get("markPoint"),markLine:f.get("markLine")},a.get("option.bar")||{},!0):void 0},stack:function(b,d,f,a){return"line"===b||"bar"===b?Y9({id:d,stack:"__ec_magicType_stack__"},a.get("option.stack")||{},!0):void 0},tiled:function(b,d,f,a){return"line"===b||"bar"===b?Y9({id:d,stack:""},a.get("option.tiled")||{},!0):void 0}},Kk=[["line","bar"],["stack","tiled"]];Nj.onclick=function(f,h,l){var d=this.model,k=d.get("seriesIndex."+l);if(abr[l]){var b={series:[]},g=function(w){var n=w.subType,a=w.id,q=abr[l](n,a,w,d);q&&(Y0(q,w.option),b.series.push(q));var z=w.coordinateSystem;if(z&&"cartesian2d"===z.type&&("line"===l||"bar"===l)){var s=z.getAxesByScale("ordinal")[0];if(s){var y=s.dim,x=y+"Axis",v=f.queryComponents({mainType:x,index:w.get(name+"Index"),id:w.get(name+"Id")})[0],t=v.componentIndex;b[x]=b[x]||[];for(var m=0;t>=m;m++){b[x][t]=b[x][t]||{}}b[x][t].boundaryGap="bar"===l?!0:!1}}};ZX(Kk,function(a){YX(a,l)>=0&&ZX(a,function(e){d.setIconStatus(e,"normal")})}),d.setIconStatus(l,"emphasis"),f.eachComponent({mainType:"series",query:null==k?null:{seriesIndex:k}},g),h.dispatchAction({type:"changeMagicType",currentType:l,newOption:b})}},VW({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)}),h6("magicType",s3);var Jk=tj.toolbox.dataView,Qj=new Array(60).join("-"),Hk="    ",T6=new RegExp("["+Hk+"]+","g");q3.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:ZQ(Jk.title),lang:ZQ(Jk.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},q3.prototype.onclick=function(z,L){function E(){H.removeChild(O),k._dom=null}var H=L.getDom(),D=this.model;this._dom&&H.removeChild(this._dom);var O=document.createElement("div");O.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",O.style.backgroundColor=D.get("backgroundColor")||"#fff";var B=document.createElement("h4"),A=D.get("lang")||[];B.innerHTML=A[0]||D.get("title"),B.style.cssText="margin: 10px 20px;",B.style.color=D.get("textColor");var G=document.createElement("div"),w=document.createElement("textarea");G.style.cssText="display:block;width:100%;overflow:auto;";var I=D.get("optionToContent"),N=D.get("contentToOption"),M=b3(z);if("function"==typeof I){var K=I(L.getOption());"string"==typeof K?G.innerHTML=K:aaF(K)&&G.appendChild(K)}else{G.appendChild(w),w.readOnly=D.get("readOnly"),w.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",w.style.color=D.get("textColor"),w.style.borderColor=D.get("textareaBorderColor"),w.style.backgroundColor=D.get("textareaColor"),w.value=M.value}var J=M.meta,C=document.createElement("div");C.style.cssText="position:absolute;bottom:0;left:0;right:0;";var F="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",q=document.createElement("div"),b=document.createElement("div");F+=";background-color:"+D.get("buttonColor"),F+=";color:"+D.get("buttonTextColor");var k=this;Qq(q,"click",E),Qq(b,"click",function(){var d;try{d="function"==typeof N?N(G,L.getOption()):p4(w.value,J)}catch(a){throw E(),new Error("Data view format error "+a)}d&&L.dispatchAction({type:"changeDataView",newOption:d}),E()}),q.innerHTML=A[1],b.innerHTML=A[2],b.style.cssText=F,q.style.cssText=F,!D.get("readOnly")&&C.appendChild(b),C.appendChild(q),Qq(w,"keydown",function(d){if(9===(d.keyCode||d.which)){var f=this.value,g=this.selectionStart,a=this.selectionEnd;this.value=f.substring(0,g)+Hk+f.substring(a),this.selectionStart=this.selectionEnd=g+1,e4(d)}}),O.appendChild(B),O.appendChild(G),O.appendChild(C),G.style.height=H.clientHeight-80+"px",H.appendChild(O),this._dom=O},q3.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)},q3.prototype.dispose=function(a,b){this.remove(a,b)},h6("dataView",q3),VW({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var d=[];ZX(a.newOption.series,function(f){var e=b.getSeriesByName(f.name)[0];if(e){var g=e.get("data");d.push({name:f.name,data:j5(f.data,g)})}else{d.push(Y2({type:"scatter"},f))}}),b.mergeOption(Y0({series:d},a.newOption))});var ZN=ZX,X5="\x00_ec_hist_store";kG.extend({type:"dataZoom.select"}),AB.extend({type:"dataZoom.select"});var V6=tj.toolbox.dataZoom,U6=ZX,Mj="\x00_ec_\x00toolbox-dataZoom_";abb.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:ZQ(V6.title)};var Pj=abb.prototype;Pj.render=function(b,d,f,a){this.model=b,this.ecModel=d,this.api=f,PU(b,d,this,a,f),IV(b,d)},Pj.onclick=function(a,b,d){Gk[d].call(this)},Pj.remove=function(){this._brushController.unmount()},Pj.dispose=function(){this._brushController.dispose()};var Gk={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(WN(this.ecModel))}};Pj._onBrush=function(f,h){function l(o,v,w){var q=v.getAxis(o),p=q.model,a=d(o,p,b),m=a.findRepresentativeAxisProxy(p).getMinMaxSpan();(null!=m.minValueSpan||null!=m.maxValueSpan)&&(w=IJ(0,w.slice(),q.scale.getExtent(),0,m.minValueSpan,m.maxValueSpan)),a&&(k[a.id]={dataZoomId:a.id,startValue:w[0],endValue:w[1]})}function d(m,o,p){var a;return p.eachComponent({mainType:"dataZoom",subType:"select"},function(q){var e=q.getAxisModel(m,o.componentIndex);e&&(a=q)}),a}if(h.isEnd&&f.length){var k={},b=this.ecModel;this._brushController.updateCovers([]);var g=new IY(JV(this.model.option),b,{include:["grid"]});g.matchOutputRanges(f,b,function(m,n,a){if("cartesian2d"===a.type){var p=m.brushType;"rect"===p?(l("x",a,n[0]),l("y",a,n[1])):l({lineX:"x",lineY:"y"}[p],a,n)}}),HV(b,k),this._dispatchZoomAction(k)}},Pj._dispatchZoomAction=function(a){var b=[];U6(a,function(d){b.push(ZQ(d))}),b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})},h6("dataZoom",abb),TW(function(f){function g(m,n){if(n){var p=m+"Index",l=n[p];null==l||"all"==l||YO(l)||(l=l===!1||"none"===l?[]:[l]),k(m,function(o,q){if(null==l||"all"==l||-1!==YX(l,q)){var a={type:"select",$fromToolbox:!0,id:Mj+m+q};a[p]=q,d.push(a)}})}}function k(l,m){var a=f[l];YO(a)||(a=a?[a]:[]),U6(a,m)}if(f){var d=f.dataZoom||(f.dataZoom=[]);YO(d)||(f.dataZoom=d=[d]);var h=f.toolbox;if(h&&(YO(h)&&(h=h[0]),h&&h.feature)){var b=h.feature.dataZoom;g("xAxis",b),g("yAxis",b)}}});var Dq=tj.toolbox.restore;GV.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:Dq.title};var Eq=GV.prototype;Eq.onclick=function(a,b){NU(a),b.dispatchAction({type:"restore",from:this.uid})},h6("restore",GV),VW({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")}),YY.version=bq,YY.dependencies=c5,YY.PRIORITY=j4,YY.init=SY,YY.connect=M0,YY.disConnect=abh,YY.disconnect=abi,YY.dispose=J1,YY.getInstanceByDom=I1,YY.getInstanceById=P0,YY.registerTheme=G1,YY.registerPreprocessor=TW,YY.registerProcessor=Y5,YY.registerPostUpdate=XW,YY.registerAction=VW,YY.registerCoordinateSystem=UW,YY.getCoordinateSystemDimensions=L0,YY.registerLayout=O0,YY.registerVisual=F1,YY.registerLoading=C2,YY.extendComponentModel=D2,YY.extendComponentView=aE,YY.extendSeriesModel=aav,YY.extendChartView=E2,YY.setCanvasCreator=h9,YY.registerMap=n7,YY.getMap=r6,YY.dataTool=F2})},"sys/mobile/js/mui/device/ereb/adapter":function(){define(["dojo/_base/declare","mui/device/device","mui/util","mui/device/ereb/attachment","mui/device/kk5/_attachment","mui/dialog/Tip","mui/picslide/ImagePreview","dojo/request","lib/kk5/kk5","dojo/Deferred","mui/map","dojo/dom-attr"],function(g,b,h,d,e,p,o,f,k,m,a,l){var n={getSignImage:function(t){var x=k.app.getClientInfo().semver;var u=b.getClientType();if(u==9&&this.kkVersionCompare(x,"6.0.2")<0){return false}var z=t.options;if(!window.AttachmentList){window.AttachmentList={}}var q=window.AttachmentList[z.fdKey];if(!q){z.uploadStream=false;q=new d(z);window.AttachmentList[z.fdKey]=q}var s={width:window.screen.width,height:window.screen.height,penSize:2,penColor:1};if(this.kkVersionCompare(x,"6.0.2")>=0){s={penSize:2,penColor:"black"};var y=window.AttachmentList[z.fdKey+"_rawFile"];if(!y){var v=t.options;y=new d(v);y.uploadStream=false;y.fdKey=z.fdKey+"_rawFile";window.AttachmentList[z.fdKey+"_rawFile"]=y}if(y.rawFilePath){s.rawFilePath=y.rawFilePath}else{y.rawFilePath=""}}var w=this;k.media.getSignImage(s,function(B){var A=B.resultPath;if(!A){A=B.picUri}q.startUploadFile({fullPath:A,href:A,size:"",name:"image.png"});y.startUploadFile({fullPath:A,href:A,size:"",name:"image.png"});y.rawFilePath=B.rawFilePath},function(A,B){if(window.console){window.console.log("错误信息:"+B+",错误代码:"+A)}});return{}}};return n})},"sys/mobile/js/mui/form/Input":function(){define(["dojo/_base/declare","mui/form/_InputBase","dojo/dom-construct","mui/util","dojo/dom-style","dojo/dom-class","dojo/dom-attr"],function(f,h,b,a,e,g,k){var d=f("mui.form.Input",[h],{edit:true,type:"input",name:null,inputClass:"muiInput muiFormItem",originValue:"",optClass:"muis-form-delete-btn",buildRendering:function(){this.inherited(arguments);if(this.isNewDesktopLayout()==true){this.align="left"}if(this.placeholder){this.placeholder=a.decodeHTML(this.placeholder);this.placeholder=this.placeholder.replace(/&#39;/g,"'")}},startup:function(){this.inherited(arguments);this.connect(document.body,"click","_handleBlur")},_handleBlur:function(l){if(this.inputNode&&document.activeElement==this.inputNode){var m=l.srcElement||l.target;if(m!=this.inputNode){this.inputNode.blur()}}},showRight:function(l){if(this.rightIcon){g.toggle(this.rightIcon,"muiSelInputRightShow",l)}},_onInput:function(l){var m=l.target.value;this.showRight(m)},_onFocus:function(){this.showRight(this.value)},_onBlur:function(l){this.set("value",l.target.value);this.defer(function(){this.showRight(false)},400)},buildEdit:function(){this.inputNode=b.create("input",{name:this.name,className:this.inputClass,type:"text"},this.domNode);var l=this.buildXFormStyle();if(l){k.set(this.inputNode,"style",l)}b.create("input",{type:"text",style:"display:none;"},this.domNode);this.contentNode=this.inputNode;if(this.percentFormat){var m=b.toDom("<span style='padding-right: 10px;'>%</span>");b.place(m,this.inputNode,"after");this.inputNode.style.width="80%"}this.showRight(false);if(this.rightIcon){this.connect(this.rightIcon,"click","_onIconClick")}this.connect(this.inputNode,"keyup","_onInput");this.connect(this.inputNode,"focus","_onFocus");this.connect(this.inputNode,"blur","_onBlur")},_onIconClick:function(l){l.preventDefault();l.stopPropagation();this.set("value","");this.inputNode.focus()},_getValueAttr:function(){var l=this._get("value");if(l||l===0){return a.decodeHTML(l)}else{if(this.inputNode){return this.inputNode.value}}return l},buildView:function(){this.textNode=b.create("div",{className:"muiInput_View"},this.domNode);var l=this.buildXFormStyle();if(l){k.set(this.textNode,"style",l)}},buildHiddenEle:function(){this.inputNode=b.create("input",{name:this.name,className:this.inputClass,type:"hidden"},this.domNode)},buildReadOnly:function(){this.inputNode=b.create("input",{name:this.name,className:this.inputClass,readonly:"readonly"},this.domNode);this.connect(this.inputNode,"focus",function(m){m.target.blur()});var l=this.buildXFormStyle();if(l){k.set(this.inputNode,"style",l)}},buildHidden:function(){this.inputNode=b.create("input",{name:this.name,className:this.inputClass,type:"hidden"},this.domNode);e.set(this.domNode,{display:"none"})},viewValueSet:function(l){if(l==null||l.length==0){return""}l=(l+"").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#39;/g,"'").replace(/&amp;/g,"&");this.textNode.innerText=l},editValueSet:function(l){this.inputNode.value=a.decodeHTML(l)},readOnlyValueSet:function(l){this.inputNode.value=a.decodeHTML(l)},hiddenValueSet:function(l){this.inputNode.value=a.decodeHTML(l)},formatHTML:function(l){var m=b.create("div");l=l.replace(/<br\>/g,"\n");m.innerHTML=l;return m.innerText||m.innerContent||""}});return d})},"sys/mobile/js/mui/list/item/CardItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojox/mobile/_ItemBase","mui/util","dojo/on","mui/dialog/Tip","mui/openProxyMixin"],function(g,e,d,b,a,f,k){var h=g("mui.list.item.CardItemMixin",[d,k],{tag:"li",modelNameText:"",created:"",creator:"",icon:"",href:"",lbpmCurrNodeValue:"",summary:"",docPublishTime:"",docDeptName:"",summary:"",docReadCount:"",tagNames:"",buildRendering:function(){this.domNode=e.create("li",{className:"muiCardItem"},this.containerNode);this.inherited(arguments);this.buildInternalRender()},buildInternalRender:function(){var m=this.isJustShowSubject()?"muiCardItemVerticalAlignMiddle":"muiCardItemVerticalAlignTop";var q=e.create("div",{className:"muiCardItemContainer"},this.domNode);var n=e.create("div",{className:"muiCardItemLeft "+m},q);if(this.icon){var o=e.create("div",{className:"muiCardItemPersonIcon"},n);e.create("div",{className:"muiCardItemPersonIconImg",style:{background:"url("+b.formatUrl(this.icon)+") center center no-repeat",backgroundSize:"cover"}},o)}else{var l=this.listIcon?this.listIcon:"muis-official-doc";var v=e.create("div",{className:"muiCardItemIcon"},n);e.create("i",{className:"fontmuis "+l},v)}var u=e.create("div",{className:"muiCardItemRight "+m},q);var t=e.create("div",{className:"muiCardItemSubject muiFontSizeM muiFontColorInfo",innerHTML:this.label},u);if(this.summary){e.create("div",{className:"muiCardItemSummary muiFontSizeS",innerHTML:this.summary},u)}if(this.creator||this.docDeptName||this.created||this.docPublishTime||this.modelNameText||this.lbpmCurrNodeValue||this.docReadCount||this.tagNames||this.arg0||this.arg1||this.arg2){var p=e.create("div",{className:"muiCardItemRightFooter muiFontSizeS muiFontColorMuted "+(this.docReadCount?"muiCardItemHasReadCount":"")},u);if(this.creator){e.create("div",{className:"muiCardItemCreator",innerHTML:this.creator},p)}if(this.docDeptName){e.create("div",{className:"muiCardItemDocDeptName",innerHTML:this.docDeptName},p)}if(this.created){e.create("div",{className:"muiCardItemCreatedTime",innerHTML:this.created},p)}if(this.docPublishTime){e.create("div",{className:"muiCardItemPublishTime",innerHTML:this.docPublishTime},p)}if(this.modelNameText){e.create("div",{className:"muiCardItemModelNameText",innerHTML:this.modelNameText},p)}if(this.lbpmCurrNodeValue){e.create("div",{className:"muiCardItemCurrNodeText",innerHTML:this.lbpmCurrNodeValue},p)}if(this.tagNames){e.create("div",{className:"muiCardItemTagNames",innerHTML:this.tagNames},p)}if(this.arg0){e.create("div",{className:"muiCardItemExtArg extArg0",innerHTML:this.arg0},p)}if(this.arg1){e.create("div",{className:"muiCardItemExtArg extArg1",innerHTML:this.arg1},p)}if(this.arg2){e.create("div",{className:"muiCardItemExtArg extArg2",innerHTML:this.arg2},p)}if(this.docReadCount){e.create("div",{className:"muiCardItemReadInfo",innerHTML:'<span class="muiCardItemReadCount">'+this.docReadCount+'</span><span class="muiCardItemViewText">浏览</span>'},p)}}if(this.href){this.proxyClick(this.domNode,this.href,"_blank")}else{var s=e.create("div",{className:"muiCardItemLock"},this.domNode);this.makeLockLinkTip(this.domNode)}},isJustShowSubject:function(){return !(this.summary||this.creator||this.docDeptName||this.created||this.docPublishTime||this.modelNameText||this.lbpmCurrNodeValue||this.tagNames||this.docReadCount||this.arg0||this.arg1||this.arg2)},makeLockLinkTip:function(l){this.href="javascript:void(0);";a(l,"click",function(m){f.tip({icon:"mui mui-warn",text:"暂不支持移动访问"})})},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(l){if(l){this._set("label",l)}}});return h})},"sys/mobile/js/mui/syscategory/SysCommonCategoryItemMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/topic","dojo/dom-construct","dojo/dom-class","dojo/dom-style","mui/iconUtils","mui/category/CategoryItemMixin"],function(e,h,f,d,k,g,a,b){var l=e("mui.syscategory.SysCommonCategoryItemMixin",[b],{buildRendering:function(){this.fdId=this.value;this.label=this.text;this.canSelect=this.isShowCheckBox;this.icon="";this.type=this.nodeType=="CATEGORY"?window.SYS_CATEGORY_TYPE_CATEGORY:window.SYS_CATEGORY_TYPE_TEMPLATE;this.inherited(arguments)},getTitle:function(){return this.label},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/cate_selected","selected");this.subscribe("/mui/category/cate_unselected","unselected")},selected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){window._curIds=this.fdId;k.add(this.selectNode,"muiCateSeled");if(!this.checkedIcon){this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode)}this.set("entered",true);this.defer(function(){this.set("entered",false)},200)}}}},unselected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){window._curIds="-";if(this.checkedIcon){k.remove(this.selectNode,"muiCateSeled");d.destroy(this.checkedIcon);this.checkedIcon=null}}}}},_setSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){window._curIds=this.fdId;k.add(this.selectNode,"muiCateSeled");if(!this.checkedIcon){this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode)}this.set("entered",true);this.defer(function(){this.set("entered",false)},200);f.publish("/mui/category/selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type});f.publish("/mui/category/commonSelected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})}}}},_cancelSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){window._curIds=null;if(this.checkedIcon){k.remove(this.selectNode,"muiCateSeled");d.destroy(this.checkedIcon);this.checkedIcon=null;f.publish("/mui/category/unselected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type});f.publish("/mui/category/commonUnSelected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})}}}}},showMore:function(){return false},isSelected:function(){var n=this.getParent();if(n&&n.curIds){var m=n.curIds.split(";");if(h.indexOf(m,this.fdId)>-1){return true}}return false},buildIcon:function(m){if(this.icon){a.setIcon(this.icon,null,this._headerIcon,null,m)}else{g.set(m,{display:"none"})}}});return l})},"sys/mobile/js/mui/address/AddressCommonGroupListMixin":function(){define(["dojo/_base/declare","mui/util","./AddressItemListMixin","./AddressCommonGroupItemMixin"],function(d,b,a,e){return d("mui.address.AddressCommonGroupListMixin",[a],{itemRenderer:e,dataUrl:"/sys/organization/mobile/address.do?method=commonGroupCate&parent=!{parentId}&orgType=!{selType}",_cateChange:function(g,f){if(g.key==this.key){if((f.type|window.ORG_TYPE_GROUP_CATE)===window.ORG_TYPE_GROUP_CATE){this.dataUrl="/sys/organization/mobile/address.do?method=commonGroupCate&parent=!{parentId}&orgType=!{selType}"}else{this.dataUrl="/sys/organization/mobile/address.do?method=commonGroupList&groupCate=!{parentId}&nodeType=group&orgType=!{selType}"}}if(this.isExt!=""&&this.isExt!=undefined&&this.isExt=="true"){this.dataUrl+="&isExternal=false"}this.inherited(arguments)},resolveItems:function(){var k=this.inherited(arguments);var g=[];if(k&&k.length>0){var h;if(this.params&&this.params.exceptValue){h=this.params.exceptValue}for(var f=0;f<k.length;f++){if(h&&h.indexOf(k[f].id)!=-1){continue}g.push(this._transformItemProperties(k[f]))}}return g},_transformItemProperties:function(f){if(f.nodeType){f.type=f.nodeType==="cate"?window.ORG_TYPE_GROUP_CATE:window.ORG_TYPE_GROUP;f.fdId=f.value;f.label=f.text}else{f.type=f.orgType;f.fdId=f.id;f.label=f.name;if((f.type|window.ORG_TYPE_PERSON)==window.ORG_TYPE_PERSON){if(!f.dingImg||f.dingImg!=="true"){f.icon=b.urlResolver(this.iconUrl,{orgId:f.fdId})}}}return f}})})},"sys/mobile/js/mui/nav/NavBarMoreMixin":function(){define("mui/nav/NavBarMoreMixin",["dojo/_base/declare","dojo/topic","dojo/_base/array","dojo/dom-style"],function(e,b,f,d){var a=e("mui.nav.NavBarMoreMixin",null,{buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/nav/onComplete","handleMoreItem");this.subscribe("/mui/nav/moreItemChange","handleMoreItemChange");this.subscribe("/mui/navitem/_selected","handleItemSelected");this.subscribe("/sys/mportal/navItem/changed","handleItemSelected");this.subscribe("/sys/mportal/navItem/init","handleItemInit")},handleItemSelected:function(k,g){var h=this.getIndexOfChild(k);if(h==-1){h=this.getIndexOfChild(g)}b.publish("/mui/navitem/_moreSelected",h)},handleItemInit:function(g){b.publish("/mui/navitem/_moreSelected",g.index)},handleMoreItem:function(h,g){var k=[];f.forEach(g,function(n,l){var m={};if(n.text){m.text=n.text}else{m.text=n[1]}m.value=l;k.push(m)});b.publish("/mui/nav/onMoreComplete",k)},handleMoreItemChange:function(g){var h=this.getChildren()[g];h._onClick()}});return a})},"sys/mobile/js/mui/list/_ViewPullReloadMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/dom-construct","dojo/query","dojox/mobile/viewRegistry","dojo/when","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,b,f,n,h,l,g,d){var a='<span><i class="mui mui-down"></i>'+d["mui.list.pull.reload"]+"</span>";var k='<span><i class="mui mui-rotate-180 mui-down pullToUp"></i>'+d["mui.list.pull.release"]+"</span>";var m='<span><i class="mui mui-loading mui-spin"></i>'+d["mui.list.pull.loading"]+"</span>";return e("mui.list._ViewPullReloadMixin",null,{pull:false,_pullItem:null,_pullDom:null,_createPullDom:function(){if(!this._pullDom){this._pullDom=n.toDom('<div class="listPullItem"></div>');n.place(this._pullDom,this.containerNode,"first");this._resetForLoad()}},_readyForLoad:function(){var o=this._pullDom;if(o.innerHTML==k){return}o.innerHTML=k},_pullForLoad:function(){var o=this._pullDom;o.innerHTML=m},_resetForLoad:function(){var o=this._pullDom;if(o.innerHTML==a){return}o.innerHTML=a},_setPullAttr:function(p){var o=this._pullDom;if(p){this._pullForLoad()}else{this._resetForLoad()}this._set("pull",p)},_buildPullHandle:function(){var o=this;return{work:function(){},done:function(){o.pullDone()},error:function(){o.pullDone()}}},pullDone:function(){this.set("pull",false);this.defer(function(){this.slideTo({y:0},0.3,"ease-out")},0)},onAfterScroll:function(o){var p=this._pullDom.offsetHeight;if(o.beforeTopHeight>p){this._readyForLoad()}else{this._resetForLoad()}return this.inherited(arguments)},adjustDestination:function(t,s,q){var o=this._pullDom.offsetHeight;if(s.y>o){this.slideTo({y:o},0.3,"ease-out");var p=this._buildPullHandle();this.onPull(this,p);return false}return this.inherited(arguments)},reload:function(){var o=this._buildPullHandle();this.onReload(this,o)},onReload:function(p,o){f.publish("/mui/list/onReload",this,o)},onPull:function(p,o){this.set("pull",true);f.publish("/mui/list/onPull",this,o)},startup:function(){if(this._started){return}this.inherited(arguments);this._createPullDom();this.set("pull",false)}})})},"sys/mobile/js/mui/datetime/_DatePickerMixin_year":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/date","dojo/date/locale","dojo/date/stamp"],function(g,b,a,f,k,h){var l={format:function(n){return k.format(n,{datePattern:this.pattern,selector:"date",locale:this.picker.lang})}};var e=a.mixin({initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var p=new Date(this.labelFrom,0,1);var o,n;for(o=this.labelFrom,n=0;o<=this.labelTo;o++,n++){p.setFullYear(o);this.labels.push(this.format(p))}}}},l);var d=a.mixin({initLabels:function(){this.labels=[];var o=new Date(2000,0,16);for(var n=0;n<12;n++){o.setMonth(n);this.labels.push(this.format(o))}}},l);var m=a.mixin({initLabels:function(){this.labels=[];var o=new Date(2000,0,1);for(var n=1;n<=31;n++){o.setDate(n);this.labels.push(this.format(o))}}},l);return b("mui/datetime/_DatePickerMixin_year",null,{yearPattern:"yyyy",monthPattern:"MMM",dayPattern:"d",initSlots:function(){var o=this.slotClasses,n=this.slotProps;o[0]=b(o[0],e);o[1]=b(o[1],d);o[2]=b(o[2],m);n[2].picker=n[1].picker=n[0].picker=this;n[0].pattern=this.yearPattern;n[1].pattern=this.monthPattern;n[2].pattern=this.dayPattern;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var n=k._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=g.map(n,function(o){return{y:0,m:1,d:2}[o.charAt(0)]})},reset:function(){var o=new Date();var n=g.map(this.slots,function(p){return p.format(o)});this.set("colors",n);this._disableEndDaysOfMonth();if(this.value){this.set("value",this.value);this.value=null}else{if(this.values){this.set("values",this.values);this.values=null}else{this.set("values",n)}}},_onYearSet:function(){var o=this.slots[0];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){this._disableEndDaysOfMonth();o._previousValue=n;o._set("value",n);this.onYearSet()}},onYearSet:function(){},_onMonthSet:function(){var o=this.slots[1];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){this._disableEndDaysOfMonth();o._previousValue=n;o._set("value",n);this.onMonthSet()}},onMonthSet:function(){},_onDaySet:function(){var o=this.slots[2];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){if(!this._disableEndDaysOfMonth()){o._previousValue=n;o._set("value",n);this.onDaySet()}}},onDaySet:function(){},_disableEndDaysOfMonth:function(){var q=this.slots[0].pattern+"/"+this.slots[1].pattern,o=this.get("values"),p=k.parse(o[0]+"/01",{datePattern:q,selector:"date",locale:this.lang}),n=f.getDaysInMonth(p);var s=false;if(n<o[2]){s=true;this.slots[2]._spinToValue(n,false)}this.disableValues(n);return s},_getDateAttr:function(){var n=this.get("values"),p=this.slots,o=p[0].pattern;return k.parse(n[0],{datePattern:o,selector:"date",locale:this.lang})},_setValuesAttr:function(n){g.forEach(this.getSlots(),function(p,s){var q=n[s];if(typeof q=="number"){var o=[1970,1,1];o.splice(s,1,q-0);q=p.format(new Date(o[0],o[1]-1,o[2]))}p.set("value",q)})},_setValueAttr:function(o){var n=h.fromISOString(o);this.set("values",g.map(this.slots,function(p){return p.format(n)}))},_getValueAttr:function(){return h.toISOString(this.get("date"),{selector:"date"})}})})},"sys/mobile/js/mui/catefilter/NavMixin":function(){define(["dojo/_base/declare","mui/util","mui/catefilter/ConstMixin","dojo/_base/array","dojo/query","dijit/registry","dojo/topic","mui/catefilter/NavFilter"],function(g,a,d,k,h,b,e,f){return g("mui.catefilter.NavMixin",[d],{key:null,filterValue:{},buildRendering:function(){this.inherited(arguments);this.subscribe(this.CONFIRM,"navConfirm")},navConfirm:function(o,l){if(!l){return}if(!(o.getParent() instanceof f)){return}var m=o.getParent().index;if(l.value==this.filterValue[m]){return}this.filterValue[m]=l.value;var n=this.getChildren();k.forEach(n,function(s,p){if(m==p){var q=b.getEnclosingWidget(h(".mblEdgeToEdgeList",s.domNode)[0]);s.rel.url=a.setUrlParameter(s.rel.url,this.key,l.value);q.url=a.formatUrl(s.rel.url);q.reload();e.publish("/mui/list/toTop",this,{t:0})}},this)}})})},"sys/mobile/js/mui/panel/Content":function(){define("mui/panel/Content",["dojo/_base/declare","dojo/dom-style","dijit/_WidgetBase","dijit/_Contained","dijit/_Container"],function(e,d,f,b,a){return e("mui.panel.Content",[f,b,a],{title:"",icon:"",baseClass:"muiContent",expand:true,inited:false,loaded:false,hasChild:true,startup:function(){if(this._started){return}this.inherited(arguments)},initContent:function(){if(this.inited){return}var g=this.getChildren();if(g.length==0){this.set("hasChild",false);if(this.expand){this.show()}return}this.content=g[0];this.expand=this.content.lazy?false:true;this.loaded=this.expand;this.inited=true;if(this.expand){this.show()}},reload:function(){if(this.loaded){return}var g=this.content;if(g.reload){g.reload()}this.loaded=true},hide:function(){d.set(this.domNode,"opacity",0);this.defer(function(){d.set(this.domNode,"display","none");this.expand=false},200)},show:function(){if(this.reload&&!this.loaded&&this.hasChild){this.reload()}d.set(this.domNode,{display:"block",opacity:1});this.expand=true}})})},"sys/mobile/js/mui/panel/_SlidePanelMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/_WidgetBase","mui/panel/SlidePanel","dojo/query","dojo/dom-class","dojo/dom-construct","dojo/topic","dojox/mobile/viewRegistry"],function(d,f,g,a,h,l,b,e,k){return d("mui.panel._SliderPanelMixin",null,{slide:true,SLIDE_PANEL_CLICK:"/mui/panel/slide/click",SLIDE_PANEL_SHOW:"/mui/panel/slidePanel/show",TOTOP:"/mui/list/toTop",startup:function(){this.inherited(arguments);if(!this.slide){return}this.slidePanel();this.subscribe(this.SLIDE_PANEL_CLICK,"onSlideChange");this.subscribe(this.SLIDE_PANEL_SHOW,"topicSlideClick");this.buildTopList()},onSlideChange:function(o,m){var n=this.topList[m.index];e.publish(this.TOTOP,this,{y:-n.top})},slidePanel:function(){var m=[];f.forEach(this.contentList,function(n){m.push(n.claz.title)});this.bindSlide()},bindSlide:function(){var m=k.getEnclosingView(this.domNode);this.connect(m.domNode,"onclick","slideClick")},topicSlideClick:function(n,m){this._showSlidePanel(this.currentDom)},timestamp:0,slideClick:function(m){var n=new Date().getTime();if(n-this.timestamp>350){this.timestamp=n;var o=m.target;if(!l.contains(o,"mui")||!l.contains(o.parentNode,"muiAccordionPanelTitle")){return}this._showSlidePanel(o.parentNode)}},_showSlidePanel:function(n){var o=[];f.forEach(this.topList,function(q){var p=q.dom;var s={text:h("div",p).text(),selected:false,icon:"mui-meeting_path"};if(n&&n===p){s.selected=true}o.push(s)},this);var m=new a({store:o});b.place(m.domNode,document.body,"last");m.startup()}})})},"sys/mobile/js/mui/datetime/_DateMixin":function(){define(["dojo/_base/declare","mui/datetime/_EditDateTimeMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){return b("mui.datetime._DateMixin",[a],{type:"date",tmplStr:'<div data-dojo-type="mui/datetime/DatePicker" id="_date_picker" data-dojo-props="value:\'!{dateValue}\'"></div>',title:d["mui.date.select"],_contentExtendClass:"muiDateDialogDisContent"})})},"sys/mobile/js/mui/list/iframe/NavSwapIframeView":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dijit/registry","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dojox/mobile/SwapView","dojox/mobile/View","dojo/parser","dojo/topic","mui/list/StoreScrollableView","./Iframe"],function(l,g,o,u,t,n,a,k,h,e,q,d,b,m,s,p){var f=l([d],{onAfterTransitionIn:function(){this.inherited(arguments);m.publish("/dojox/mobile/viewChanged",this);this.resize()}});return l("mui.list.iframe.SwapIframeView",[k,h,e],{innerSwapClass:f,currView:null,canStore:true,postCreate:function(){this.inherited(arguments);this.subscribe("/mui/nav/onComplete","handleNavOnComplete");this.subscribe("/dojox/mobile/viewChanged","handleViewChanged")},handleNavOnComplete:function(w,v){this.generateSwapList(w.getChildren(),w)},generateSwapList:function(w,z){var x=0;if(z&&z.selectedItem){x=o.indexOf(w,z.selectedItem)}o.forEach(w,function(C,A){if(C.url){var D=this._createSwap();this.addChild(D);C.moveTo=D.id;var B=new p({url:decodeURIComponent(C.url)});D.addChild(B)}else{if(C.moveTo){var D=a.byId(C.moveTo);this.addChild(D)}}},this);if(window.localStorage&&this.canStore){x=localStorage.getItem("swapIndex:"+location.pathname);if(x==null){x=0}else{x=parseInt(x)}}if(x==0){this.handleViewChanged(this.getChildren()[x])}else{var v=this;require(["dojox/mobile/TransitionEvent"],function(A){new A(document.body,{moveTo:v.getChildren()[x].id}).dispatch()})}var y=z.getChildren()[x];y.setSelected()},handleViewChanged:function(v){if(!(v instanceof d)){return}o.forEach(this.getChildren(),function(A){if(A===v){var x=v.reloadTime||0;var y=new Date().getTime();var w=(this.currView!=v)&&(x==0);this.currView=v;v.containerNode.style.paddingTop="0";if(w){v.reloadTime=y;if(v.getChildren().length>0&&v.getChildren()[0].reload){v.getChildren()[0].reload()}}if(window.localStorage&&this.canStore){try{localStorage.setItem("swapIndex:"+location.pathname,v.getIndexInParent())}catch(z){if(window.console){console.log(z.name)}}}return false}},this)},_createSwap:function(){return new this.innerSwapClass()}})})},"sys/mobile/js/mui/form/SimpleCategory":function(){define(["dojo/_base/declare","mui/form/Category","mui/simplecategory/SimpleCategoryMixin"],function(b,d,e){var a=b("mui.form.SimpleCategory",[d,e],{});return a})},"sys/mobile/js/mui/tabfilter/TabfilterCancel":function(){define(["dojo/_base/declare","dojo/topic"],function(b,a){return b("mui.tabfilter.muiTabfilterCancel",null,{postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"click","_onCancel")},_onCancel:function(){a.publish("/mui/tabfilter/cancel",this)}})})},"sys/mobile/js/mui/commondialog/template/DialogSelection":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/array","dojox/mobile/ScrollableView","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/request","dojo/topic","mui/util","mui/dialog/Tip","mui/iconUtils","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(h,g,n,o,f,d,m,p,e,l,k,s,b,a){var q=h("mui.commondialog.template.DialogSelection",[g],{curIds:null,curNames:null,baseClass:"muiCateSec",cateSelArr:[],itemPrefix:"_CateSecItem_",key:null,buildRendering:function(){this.inherited(arguments);this.cateSelArr=[];this.containerNode=d.create("div",{className:"muiCateSecContainer"},this.domNode);this.leftArea=d.create("div",{className:"muiCateSecLeft"},this.containerNode);this.view=new o({scrollBar:false,threshold:100,scrollDir:"h",dirLock:true});this.leftArea.appendChild(this.view.domNode);this.rightArea=d.create("div",{className:"muiCateSecRight"},this.containerNode);this.buttonNode=d.create("span",{className:"muiCateSecBtn muiCateSecBtnDis",innerHTML:a["mui.button.ok"]},this.rightArea)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/selected","_addSelItme");this.subscribe("/mui/category/unselected","_delSelItem")},startup:function(){if(this._started){return}this.inherited(arguments);this.view.startup();this._initSelection()},destroy:function(){this.inherited(arguments);if(this.view.destroy){this.view.destroy();delete this.view}},_subSelItem:function(){if(this.cateSelArr.length>0){l.publish("/mui/category/submit",this,this._calcCurSel())}else{s.tip({icon:"mui mui-warn",text:a["mui.category.select.one"]})}},_buildSelItem:function(v){var w=d.create("div",{id:this.itemPrefix+v.fdId,className:"muiCateSecItem"});var u=d.create("div",{className:"muiCateSecItemIcon"},w);var t=d.create("div",{className:"muiCateIcon"},u);this.buildIcon(t,v);d.create("div",{className:"muiCateSecItemLabel",innerHTML:v.label},w);this.connect(w,"click",function(x){this._delSelItem(this,v);l.publish("/mui/category/cancelSelected",this,v)});return w},buildIcon:function(t,u){if(u.icon){b.setIcon(u.icon,null,null,null,t)}},_addSelItme:function(u,t){if(u.key==this.key){if(t){this.cateSelArr.push(t);var v=this._buildSelItem(t);if(!this.itemContainer){this.itemContainer=d.create("div",{className:"muiCateSecItems"},this.view.containerNode)}this.itemContainer.appendChild(v)}this._resizeSelection()}},_delSelItem:function(u,t){if(u.key==this.key){if(t&&t.fdId){for(var v=0;v<this.cateSelArr.length;v++){if(this.cateSelArr[v].fdId==t.fdId){this.cateSelArr.splice(v,1);d.destroy(f.byId(this.itemPrefix+t.fdId));break}}this._resizeSelection()}}},_resizeSelection:function(){var w=0;if(this.itemContainer){var u=this.cateSelArr.length;if(u>0){var t=this.itemContainer.children[0].offsetWidth;var v=this.view.domNode.offsetWidth;if(t*u>v){m.set(this.itemContainer,{width:(t*u+10)+"px"});w=-(t*u-v+10)}this.buttonNode.innerHTML=a["mui.button.ok"]+"("+u+")";this.buttonNode.className="muiCateSecBtn";if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}}else{m.set(this.itemContainer,{width:"100%"});this.buttonNode.innerHTML=a["mui.button.ok"];this.buttonNode.className="muiCateSecBtn muiCateSecBtnDis";if(this.subHandle){this.disconnect(this.subHandle);this.subHandle=null}}}if(this.view.resize){this.view.resize()}if(this.view.scrollTo){this.view.scrollTo({y:0,x:w})}l.publish("/mui/category/selChanged",this,this._calcCurSel())},_calcCurSel:function(){var t={curIds:null,curNames:null,key:this.key,data:this.cateSelArr};if(this.cateSelArr.length>0){var u="";var v="";n.forEach(this.cateSelArr,function(w){u+=";"+w.fdId;v+=";"+w.label});if(u!=""){u=u.substring(1);v=v.substring(1);t.curIds=u;t.curNames=v}}return t},_initSelection:function(){var t=this;if(this.curIds){var u=this.curIds.split(";");var v=this.curNames.split(";");n.forEach(u,function(x,w){t._addSelItme(t,{fdId:x,label:v[w]})})}}});return q})},"sys/mobile/js/mui/tabbar/SplitterButton":function(){define(["dojo/_base/declare","mui/tabbar/TabBarButton","dojo/dom-class"],function(b,a,d){return b("mui.tabbar.SplitterButton",[a],{flag:"left",groupIndex:-1,tarbarGruop:null,buildRendering:function(){if(this.flag=="left"){this.icon1="mui mui-splitterLeftShape"}else{this.icon1="mui mui-splitterRightShape"}this.inherited(arguments);d.add(this.domNode,"muiSplitterButton")},startup:function(){if(this._started){return}this.inherited(arguments)},onClick:function(){this.defer(function(){if(this.groupIndex!=-1){if(this.tarbarGruop==null){this.tarbarGruop=this.getParent().getParent()}if(this.tarbarGruop&&this.tarbarGruop.declaredClass=="mui.tabbar.TabBarGroup"){if(this.flag=="left"){this.tarbarGruop.switchTabBar(this.groupIndex-1)}else{this.tarbarGruop.switchTabBar(this.groupIndex+1)}}}},300)}})})},"sys/mobile/js/mui/back/BackButton":function(){define(["dojo/_base/declare","mui/tabbar/TabBarButton","dojo/dom-construct","dojo/dom-style","dojo/dom-class","mui/dialog/Dialog","mui/device/adapter","dojo/_base/lang","mui/util","dojo/dom-attr","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,n,d,g,l,h,m,a,f,k,b){return e("mui.back.BackButton",[n],{icon1:"mui mui-back",edit:false,editTip:b["mui.editor.exit"],buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"muiBarFloatLeftButton");if(this.edit){k.set(this.domNode,"title",b["mui.button.exist"]);if(!this.label&&!this.icon1){this.labelNode.innerHTML=b["mui.button.exist"]}}else{k.set(this.domNode,"title",b["mui.button.back"]);if(!this.label&&!this.icon1){this.labelNode.innerHTML=b["mui.button.back"]}}},startup:function(){this.inherited(arguments);if(!this.icon1){g.set(this.iconDivNode,{width:"0px"})}if(g.get(this.iconDivNode,"float")=="left"){g.set(this.iconDivNode,{"float":"none"})}},_onClick:function(o){this.defer(function(){if(this.edit){var p=d.create("div",{className:"muiBackDialogElement",innerHTML:"<div>"+f.formatText(this.editTip)+"<div>"});h.element({title:b["mui.dialog.tips"],showClass:"muiBackDialogShow",element:p,scrollable:false,parseable:false,buttons:[{title:b["mui.search.cancel"],fn:function(q){q.hide()}},{title:b["mui.button.ok"],fn:a.hitch(this,function(q){this.doBack();q.hide()})}]})}else{this.doBack()}},450)},doBack:function(o){var p=m.goBack();if(p==null){history.back()}}})})},"sys/mobile/js/mui/header/tmpl/emptyTemplate":function(){define([],function(){return""})},"sys/mobile/js/mui/calendar/_HeaderExternalViewMixin":function(){define(["dojo/_base/declare","dojo/date","dojo/topic","dojo/dom-style","dojo/_base/array","dojo/dom-construct","dojo/_base/lang","dojo/dom-class","mui/iconUtils","dojox/mobile/TransitionEvent","mui/util","./item/CardItem"],function(g,f,k,l,n,e,a,p,b,o,h,d){var m=g("mui.calendar._HeaderExternalViewMixin",null,{startup:function(){this.inherited(arguments);this.connect(this.rightNode,"click","onRightClick");this.connect(this.leftNode,"click","onLeftClick");this.subscribe("/mui/calendar/rightNodeDialogClose","onClose")},onTransition:function(q){new o(this.domNode,q).dispatch()},opts:{transition:"scaleOut"},onLeftClick:function(q){if(this.left.href){location.href=h.formatUrl(encodeURI(this.left.href));return false}else{if(this.left.moveTo){this.opts.moveTo=this.left.moveTo;this.onTransition(this.opts)}}},onRightClick:function(q){if(this.right.showDialog=="true"){if(this.right.cards){this.buildDialog(this.right.cards)}}else{if(this.right.href){location.href=h.formatUrl(encodeURI(this.right.href));return false}else{if(this.right.moveTo){this.opts.moveTo=this.right.moveTo;this.onTransition(this.opts)}}}},buildDialog:function(q){if(!this.dialogNode){this.dialogNode=e.create("div",{className:"muiCalendarRightNodeDialog"},document.body);this.buildCover();this.buildCard(q);this.buildClose()}l.set(this.dialogNode,"display","block");this.defer(function(){p.add(this.dialogNode,"muiCalendarRightNodeDialogShow")},1)},buildCard:function(q){if(q.length==0){return}var t=e.create("div",{className:"muiCalendarRightNodeMenu"},this.dialogNode);var u=q.length;if(u>this.maxColumn){u=4}var s=100/u+"%";n.forEach(q,function(w){a.mixin(w,{width:s});var v=new d(w);e.place(v.domNode,t)},this)},buildClose:function(){var s=e.create("div",{className:"muiCalendarRightNodeClose"},this.dialogNode);var q=b.createIcon("muis-pop-close",null,null,null,s);this.connect(q,"click","onClose")},onClose:function(){p.remove(this.dialogNode,"muiCalendarRightNodeDialogShow");this.defer(function(){l.set(this.dialogNode,"display","none")},500)},buildCover:function(){e.create("div",{className:"muiCalendarRightNodeCover"},this.dialogNode)}});return m})},"sys/mobile/js/mui/chart/ChartInfographicMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,e,a,d){return b("mui.chart.chartInfographicMixin",null,{colors:["#C1232B","#27727B","#FCCE10","#E87C25","#B5C334","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],concatDefaultOptions:function(f){this.defaultColor(f);this.defaultXAxis(f)},defaultXAxis:function(f){var h=f.xAxis;if(h instanceof Array){for(var g=0;g<h.length;g++){if(!f.xAxis[g].axisLabel){f.xAxis[g].axisLabel={}}if(!f.xAxis[g].axisLabel.rotate){f.xAxis[g].axisLabel.rotate=30}}}},defaultColor:function(f){if(!f.color){f.color=this.colors}},registerTheme:function(f){var h=this.colors;var g={color:h,title:{textStyle:{fontWeight:"normal",color:"#27727B"}},visualMap:{color:["#C1232B","#FCCE10"]},toolbox:{iconStyle:{normal:{borderColor:h[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:false}},valueAxis:{axisLine:{show:false},splitArea:{show:false},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B",borderColor:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},candlestick:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},graph:{color:h},map:{label:{normal:{textStyle:{color:"#C1232B"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{areaColor:"#ddd",borderColor:"#eee"},emphasis:{areaColor:"#fe994e"}}},gauge:{axisLine:{lineStyle:{color:[[0.2,"#B5C334"],[0.8,"#27727B"],[1,"#C1232B"]]}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},title:{offsetCenter:[0,-20]}}};f.registerTheme("infographic",g)}})})},"sys/mobile/js/mui/device/attachment/_attachmentProxy":function(){define(["dojo/_base/declare","dojo/request","dojo/topic","mui/dialog/Tip","dojo/_base/lang","mui/util","mui/base64","./_md5FileMixin"],function(f,g,e,d,k,b,a,h){return f("mui.device.attachment._attachmentProxy",[h],{rawFilePath:"",fdKey:"",fdModelName:"",fdModelId:"",fdMulti:false,fdAttType:"byte",fdViewType:"byte",editMode:"edit",uploadStream:false,eventPrefix:"attachmentObject_",tokenurl:b.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttUpload&gettype=getuserkey&format=json&isSupportDirect=false",true),attachurl:b.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttUpload&gettype=submit&format=json",true),uploadurl:b.formatUrl("/sys/attachment/uploaderServlet?gettype=upload&format=json",true),uploadStreamUrl:b.formatUrl("/sys/attachment/uploaderServlet?gettype=uploadStream&type=pic&format=json",true),deleteUrl:b.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=delete&format=json",true),md5Url:b.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttUpload&gettype=checkMd5&format=json",true),uploadType:1,rtfUploadUrl:b.formatUrl("/resource/fckeditor/editor/filemanager/upload/simpleuploader?Type=Image",true),downloadUrl:b.formatUrl("/resource/fckeditor/editor/filemanager/download"),FILE_EXT_PIC:"Picture Files|*.gif;*.jpg;*.jpeg;*.bmp;*.png;*.tif|All Files (*.*)|*.*",constructor:function(l){this.init(l)},init:function(l){this.fdKey=l.fdKey;this.fdModelName=l.fdModelName;this.fdModelId=l.fdModelId;this.fdMulti=l.fdMulti;this.fdAttType=l.fdAttType;this.fdSmallMaxSize=l.fdSmallMaxSize;this.fdImageMaxSize=l.fdImageMaxSize;this.fdViewType=this.fdAttType;if(l.uploadType){this.uploadType=l.uploadType}this.editMode=l.editMode;this.uploadStream=l.uploadStream;if(this.fdKey==null||this.fdKey==""){if(window.console){window.console.error("附件机制错误:fdKey信息为空!")}return}if(this.uploadType==1){this.fileLimitType=l.fileLimitType;this.fdDisabledFileType=l.fdDisabledFileType;this.fdSmallMaxSize=l.fdSmallMaxSize;if(l.extParam){this.extParam=new String(l.extParam)}if(this.fdModelName==null||this.fdModelName==""){if(window.console){window.console.error("附件机制错误:fdModelName信息为空!")}return}}else{if(this.uploadType==2){if(this.fdModelName){this.rtfUploadUrl=b.setUrlParameter(this.rtfUploadUrl,"fdModelName",this.fdModelName)}if(this.fdModelId){this.rtfUploadUrl=b.setUrlParameter(this.rtfUploadUrl,"fdModelId",this.fdModelId)}}}this.eventPrefix=this.eventPrefix+this.fdKey+"_";this.UPLOAD_EVENT_START=this.eventPrefix+"start";this.UPLOAD_EVENT_SUCCESS=this.eventPrefix+"success";this.UPLOAD_EVENT_FAIL=this.eventPrefix+"fail";this.UPLOAD_EVENT_PROCESS=this.eventPrefix+"process";this.UPLOAD_EVENT_SHARE=this.eventPrefix+"share"},guid:(function(){var l=0;return function(o){var m=(+new Date().getTime()).toString(32),n=0;for(;n<5;n++){m+=Math.floor(Math.random()*65535).toString(32)}return(o||"mobile_")+m+(l++).toString(32)}})(),isTypeDisable:function(n){if(n.name&&typeof(this.fdDisabledFileType)!="undefined"){var m=null;var l=n.name;m=l.substring(l.lastIndexOf("."));m=m.toLowerCase();var p=new Array();p=this.fdDisabledFileType.split(";");if("1"==this.fileLimitType){var o=true;for(i=0;i<p.length;i++){if(m==p[i]){o=false;break}}if(!o){d.tip({text:"系统不允许上传“"+this.fdDisabledFileType+"”类型附件."});return true}}else{if("2"==this.fileLimitType){var o=false;for(i=0;i<p.length;i++){if(m==p[i]){o=true;break}}if(!o){d.tip({text:"系统只允许上传“"+this.fdDisabledFileType+"”类型附件."});return true}}}}return false},isSizeDisable:function(l){if(null!=this.fdSmallMaxSize&&"pic"!=this.fdAttType){if(l.size>(this.fdSmallMaxSize*1024*1024)){d.tip({text:"单个附件上传最大不超过"+this.fdSmallMaxSize+"MB,请重新选择文件"});return true}}return false},isPicDisable:function(n){var l=n.name;if("pic"==this.fdAttType){if(l.lastIndexOf(".")>-1){var m=l.substring(l.lastIndexOf("."));m=m.toLowerCase();if(".gif"!=m&&".jpg"!=m&&".jpeg"!=m&&".png"!=m){d.tip({text:"仅支持gif、jpg、jpeg、png格式"});return true}}if(null!=this.fdImageMaxSize){if(n.size>(this.fdImageMaxSize*1024*1024)){d.tip({text:"图片上传最大不超过"+this.fdImageMaxSize+"MB,请重新选择图片"});return true}}}return false},tokenSuccess:function(l){},md5Success:function(l,m){if(this.token&&this.token.body){this.token.body.fileMd5=m}},fileUpload:function(o){if(this.isTypeDisable(o)){return"false"}if(this.isSizeDisable(o)){return"false"}if(this.isPicDisable(o)){return"false"}var l=o.name;if(o._fdId==null||o._fdId==""){o._fdId=this.guid()}if(window.console){window.console.log("startUploadFile begin..")}o.edit=this.editMode=="edit";o.key=o.key?o.key:this.fdKey;o.status=-1;var p=encodeURIComponent(o.name);var n="filesize="+o.size+"&fileName="+p;var m=this;m.uploadStart(o,{});if(o.filePath=="dingUpload"){o.status=2;m._uploadSuccess(o)}else{g.post(m.tokenurl,{data:n,handleAs:"json"}).then(function(q){if(window.console){window.console.log("startUploadFile getToken end.. result:"+q.status)}if(q.status=="1"){o.status=1;o.token=q.token;m.tokenSuccess(o);m.loadFromBlob(o)}else{o.status=0;m.uploadError(o,{rtn:q})}},function(q){o.status=0;m.uploadError(o,{rtn:q})})}},md5Next:function(n,o){var m=this;var l="filesize="+n.size+"&fileName="+n.name+"&md5="+o;g.post(m.md5Url,{data:l,handleAs:"json"}).then(function(p){n.filekey=p.fileId;m.md5Success(n,o,p);if(p.md5Exists){n.status=2;m._uploadSuccess(n)}else{m._uploadFile(n,n.token)}})},rtfUpload:function(l){var m=l.name.substring(l.name.lastIndexOf("."));if(this.FILE_EXT_PIC.indexOf(m)<0&&(l.type&&l.type.indexOf("image")<0)){return"false"}if(l._fdId==null||l._fdId==""){l._fdId=this.guid()}l.status=1;this.uploadStart(l,{});this._uploadFile(l)},startUploadFile:function(m){var l=m;if(!(m instanceof File)){if(m.href){l=this.dataURItoBlob(m.href)}if(m.type){l.type=m.type}l.name=m.name;l.href=m.href;l.fullPath=m.fullPath}if(window.attachmentConfig&&window.attachmentConfig.isSupportShare){this.uploadShare(l);return}if(this.uploadType==1){return this.fileUpload(l)}if(this.uploadType==2){return this.rtfUpload(l)}},registFile:function(o,p){if(window.dojo4OfflineKK){return this.registFileOffline(o,p)}var l="filekey="+o.filekey+"&filename="+encodeURIComponent(o.name)+"&fdKey="+this.fdKey+"&fdModelName="+this.fdModelName+"&fdModelId="+this.fdModelId+"&fdAttType="+this.fdAttType;var m=this;var n=a.encode(o.name);n=n.replace(/\+/g,"");n=n.replace(/\//g,"");n=n.replace(/\=/g,"");l=l+"&fdSign="+n;g.post(this.attachurl,{data:l,handleAs:"json",sync:true}).then(function(q){if(q.status=="1"){o.fdId=q.attid;o.status=2;if(p){p(o,{rtn:q})}}else{o.status=0;if(p){p(o,{rtn:q})}}},function(q){o.status=0;if(p){p(o,{rtn:q})}});return o.fdId},registFileOffline:function(q,s){var l="filekey="+q.filekey+"&filename="+encodeURIComponent(q.name)+"&fdKey="+this.fdKey+"&fdModelName="+this.fdModelName+"&fdModelId="+this.fdModelId+"&fdAttType="+this.fdAttType;var m=this;var p=a.encode(q.name);p=p.replace(/\+/g,"");p=p.replace(/\//g,"");p=p.replace(/\=/g,"");l=l+"&fdSign="+p;var o=this.attachurl;var n={url:o,data:l,async:false,dataType:"json",success:function(t){if(t.status=="1"){q.fdId=t.attid;q.status=2;if(s){s(q,{rtn:t})}}else{q.status=0;if(s){s(q,{rtn:t})}}}};n.crossDomain=true;n.xhrFields=n.xhrFields||{};n.xhrFields.withCredentials=true;$.ajax(n);return q.fdId},_uploadFile:function(m,l){},uploadStart:function(m,l){e.publish(this.UPLOAD_EVENT_START,this,k.mixin(l,{file:m}))},uploadSuccess:function(l,m){if(!m.status||m.status=="1"){l.status=2;l.filekey=m.filekey;this._uploadSuccess(l,m)}else{l.status=0;this.uploadError(l,{rtn:m})}},_uploadSuccess:function(m,l){e.publish(this.UPLOAD_EVENT_SUCCESS,this,k.mixin(l,{file:m}))},uploadError:function(m,l){e.publish(this.UPLOAD_EVENT_FAIL,this,k.mixin(l,{file:m}))},uploadProcess:function(l,m){e.publish(this.UPLOAD_EVENT_PROCESS,this,{file:m,loaded:l})},destroy:function(){this.inherited(arguments)},dataURItoBlob:function(m){var p;if(m.indexOf("base64,")>=0){m=m.replace(/\s/g,"");p=atob(m.split("base64,")[1])}else{p=unescape(m.split("base64,")[1])}var l=m.split(",")[0].split(":")[1].split(";")[0];var n=new Uint8Array(p.length);for(var o=0;o<p.length;o++){n[o]=p.charCodeAt(o)}return new Blob([n],{type:l})},buildOptions:function(p,o){var s=null;var l=null;var t=null;if(o){l=o.body;t=o.header}if(window.FormData){s=new FormData;if(l){for(var n in l){s.append(n,l[n])}}if(this.extParam){s.append("extParam",this.extParam)}var q="NewFile";if(window.attachmentConfig&&window.attachmentConfig.fileVal){q=window.attachmentConfig.fileVal}s.append(q,p);this._url=this.uploadurl}else{s={data:p.href,extParam:this.extParam,fileName:p.name};if(l){k.extend(s,l)}this._url=this.uploadStreamUrl}if(this.uploadType==2){this._url=this.rtfUploadUrl}var m={data:s,handleAs:"json"};if(t){m.headers=t}return m},uploadShare:function(m,l){e.publish(this.UPLOAD_EVENT_SHARE,this,k.mixin(l,{file:m}))}})})},"sys/mobile/js/mui/address/AddressSubordinateListMixin":function(){define(["dojo/_base/declare","./AddressItemListMixin"],function(b,a){return b("mui.address.AddressDeptMemberListMixin",[a],{dataUrl:"/sys/organization/mobile/address.do?method=subordinateList&parentId=!{parentId}",searchUrl:"/sys/organization/mobile/address.do?method=subordinateList&keyword=!{keyword}"})})},"sys/mobile/js/mui/form/_StoreFormMixin":function(){define(["dojo/_base/declare","dojox/mobile/_StoreMixin","mui/store/JsonRest","dojo/store/Memory","dojo/_base/array"],function(e,b,d,f,g){var a=e("mui.form._StoreFormMixin",b,{url:"",query:{},queryOptions:{},values:[],onComplete:function(h){this.generateList(h)},addChild:function(h){},generateList:function(h){this.values=h;g.forEach(h,function(m,l){var k=this.createListItem(m);if(k){this.addChild(k)}},this)},createListItem:function(h){},startup:function(){if(this._started){return}this.inherited(arguments);if(!this.store&&!this.url){return}if(!this.store&&this.url){var h=new d({target:this.url})}else{h=new f({data:this.store})}this.setStore(h,this.query,this.queryOptions)}});return a})},"sys/mobile/js/mui/list/MixContentItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/list/item/MixContentItemMixin"],function(a,b,d){return a("mui.list.MixContentItemListMixin",[b],{itemTemplateString:null,itemRenderer:d})})},"sys/mobile/js/mui/device/feishu/adapter":function(){define(["https://sf6-scmcdn-tos.pstatp.com/goofy/ee/lark/h5jssdk/js_sdk/h5-js-sdk-1.4.15.js","dojo/_base/lang","mui/device/device","dojo/request","mui/util","mui/coordtransform","mui/i18n/_i18n!sys/mobile/js/mui/mui","mui/dialog/Tip","dojo/Deferred","dojo/topic","mui/map"],function(o,d,b,g,k,f,e,q,n,h,a){var l=false,m=false;var p={__readyCallbacks:[],__readyfailCallbacks:[],__hasListener__:false,ready:function(t,s){if(m){s&&s.call(this);return}if(l){t&&t.call(this);return}this.__readyCallbacks.push(t);this.__readyfailCallbacks.push(s);if(!this.__hasListener__){this.__hasListener__=true;h.subscribe("/third/feishu/ready",d.hitch(this,function(){var u=null;while(u=this.__readyCallbacks.shift()){u&&u.call(this)}}));h.subscribe("/third/feishu/readyfail",d.hitch(this,function(){var u=null;while(u=this.__readyfailCallbacks.shift()){u&&u.call(this)}}))}},closeWindow:function(){window.h5sdk.ready(function(){window.h5sdk.biz.navigation.close({onSuccess:function(s){console.log(s)},onFail:function(s){console.log(JSON.stringify(s))}})});return{}},setTitle:function(s){if(!s){s=""}s=s.trim();window.h5sdk.biz.navigation.setTitle({title:s,onSuccess:function(t){},onFail:function(t){}});document.title=s},imagePreview:function(s){if(s.curSrc.indexOf("blob:")==0){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,s)}else{window.h5sdk.biz.util.previewImage({current:s.curSrc,urls:s.srcList,onSuccess:function(t){},onFail:function(t){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,s)}})}return{}},open2:function(s,u,t){if("_blank"==u){this.ready(function(){try{window.h5sdk.biz.util.openLink({url:s,title:"ekp",newTab:false,onFail:function(w){window.open(s,"_self")}});return}catch(v){window.open(s,"_self");return}},function(){window.open(s,"_self");return})}else{window.open(s,u);return}},getCurrentCoord2:function(u,t,s){this.ready(function(){window.h5sdk.device.geolocation.get({useCache:false,onSuccess:function(w){var v={lat:w.latitude,lng:w.longitude,coordType:5};u&&u(v)},onFail:function(v){if(window.console){window.console.log(v)}q.tip({icon:"mui mui-warn",text:"飞书地理定位失败"});t&&t(v)}})},function(){if(window.console){window.console.log("调用飞书坐标定位接口授权失败")}this["$super$getCurrentCoord"]&&this["$super$getCurrentCoord"].call(this,u,t)})}};(function(){var t=b.getClientType();if(t!=22){return}if(!o){return}var s=dojoConfig.baseUrl;option={data:{url:location.href},handleAs:"json"};s=s+"third/feishu/jsapi.do?method=jsapiSignature";g.post(s,option).response.then(function(v){var u=v.data;if(u){window.h5sdk.config({appId:u.appId,timeStamp:u.timeStamp,nonceStr:u.nonceStr,signature:u.signature,jsApiList:["tt.getClipboardData","tt.getLocation","tt.chooseLocation","tt.getLocation","biz.navigation.setTitle","biz.navigation.setLeft","biz.navigation.setRight","biz.navigation.setMenu","biz.navigation.goBack","biz.navigation.close","biz.util.previewImage","biz.util.openLink","biz.util.scan","device.geolocation.get","device.geolocation.start","device.geolocation.stop","device.notification.confirm","device.notification.alert","device.geolocation.get","device.geolocation.start","device.geolocation.stop"],onSuccess:function(w){l=true;h.publish("/third/feishu/ready")},onFail:function(w){m=true;h.publish("/third/feishu/ready");console.log(JSON.stringify(u));console.log("location.href:"+location.href);console.log("errCode:"+w.errorCode);console.log("-------- errMsg:"+w.message)}})}else{m=true;h.publish("/third/feishu/readyfail");console.log("signInfo empty(feishu)")}},function(){m=true;h.publish("/third/feishu/readyfail");console.log(JSON.stringify(arguments))})})();return p})},"sys/mobile/js/mui/qrcode/QRcode":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/lang","lib/qrcode/qrcode","dojo/dom-construct"],function(d,f,h,g,a){var e=d("mui.qrcode.QRcode",[f],{url:null,width:128,height:128,buildRendering:function(){this.inherited(arguments);this.QRCodeObj=new g(this.domNode,{text:this.url,width:this.width||128,height:this.height||128,correctLevel:g.CorrectLevel.H})}});var b={make:function(l){var m=a.create("div");var k=new g(m,{text:l.text||l.url,width:l.width||128,height:l.height||128,correctLevel:g.CorrectLevel.H});k.domNode=m;return k}};return h.mixin(e,b)})},"sys/mobile/js/mui/form/_OptionsBase":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-construct","mui/form/_FormBase","dojo/dom-class","dojo/_base/lang","mui/util","mui/form/_GroupBase","dojo/dom-style"],function(e,h,d,k,l,b,f,a,g){var m=e("mui.form._OptionsBase",[k],{text:"",alignment:"",checkedIcon:"active",unCheckedIcon:"",_buildValue:function(){this.inherited(arguments);var o="build"+f.capitalize(this.showStatus);this[o]?this[o]():"";var n=this.showStatus+"ValueSet";this.showStatusSet=this[n]?this[n]:new Function()},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div")}this._buildValue();this.fieldOptions=this.optionContainerNode},postCreate:function(){this.inherited(arguments);this.subscribe("mui/group/valueChage","_changeChecked");g.set(this.domNode,{opacity:"0"})},_changeChecked:function(p,o){if(this.getParent()==p&&p instanceof a&&o!=null&&o!=""){var n=this._get("value");this._extendCheckAction(n==o||h.indexOf(o.split(";"),n)>-1)}},_extendCheckAction:function(n){this._set("checked",n);this.domNode.checked=n},_setCheckedAttr:function(p){this._extendCheckAction(p);var o=p?"add":"remove";var n=this.getParent();if(n&&n instanceof a){n[o+"Value"](this.value)}},_setValueAttr:function(n){this.inherited(arguments);this.showStatusSet(n)},_readOnlyAction:function(n){if(n){if(this._optionHandle){this.disconnect(this._optionHandle)}this._optionHandle=null}else{this._optionHandle=this.connect(this.optionNode,"click","_onClick")}},holdTime:250,lastTime:null,fireClick:function(n){var o=this.lastTime;this.lastTime=new Date().getTime();if(o&&this.lastTime-o<=this.holdTime){return false}return true}});return m})},"sys/mobile/js/mui/calendar/base/CalendarBase":function(){define(["dojo/_base/declare","dojo/topic","dijit/_TemplatedMixin","dojo/date","dojo/_base/window","dojo/dom-attr","dojo/dom-construct","dojo/dom-class"],function(d,e,l,b,f,h,a,k){var g=d("mui.calendar.CalendarBase",[l],{DATA_CHANGE:"/mui/calendar/dataChange",VALUE_CHANGE:"/mui/calendar/valueChange",NOTIFY:"/mui/calendar/notify",firstDayInWeek:isNaN(dojoConfig.calendar.firstDayInWeek)?1:dojoConfig.calendar.firstDayInWeek,MONTH_CHANGE:"mui/calendar/_monthChange",_setText:function(m,n){m.innerHTML=n},buildRendering:function(){this.inherited(arguments);this.subscribe(this.VALUE_CHANGE,"synDate")},synDate:function(m){if(this.getEnclosingCalendarView(m)!==this.getEnclosingCalendarView(this)){return}if(!m){return}this.lastDate=m.lastDate;this.currentDate=m.currentDate},currentDate:new Date(),lastDate:new Date(),_setCurrentDateAttr:function(o,p){var m=false,n=false;if(o){if(b.difference(o,this.currentDate,"month")==0){m=true}if(b.difference(o,this.currentDate,"week")==0){n=true}}this.lastDate=new Date(this.currentDate);this.currentDate=o;e.publish(this.VALUE_CHANGE,this,{currentDate:this.currentDate,lastDate:this.lastDate});if(!m||p){e.publish(this.MONTH_CHANGE,this)}},getScreenHeight:function(){return f.global.innerHeight||f.doc.documentElement.clientHeight||f.doc.documentElement.offsetHeight},getEnclosingCalendarView:function(m){if(m&&m.getParent){m=m.getParent();while(m){if(k.contains(m.domNode,"muiCalendarScrollableView")){return m}m=m.getParent()}}return null}});return g})},"sys/mobile/js/mui/chart/ChartLandrayblueMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,e,a,d){return b("mui.chart.chartLandrayblueMixin",null,{colors:["#166eff","#69a0fd","#9ec2ff","#c4daff","#c8cbd2","#b0b7c4","#98a4b9","#778398","#ffc0a9","#ff9898"],concatDefaultOptions:function(f){this.defaultColor(f);this.defaultXAxis(f)},defaultXAxis:function(f){var h=f.xAxis;if(h instanceof Array){for(var g=0;g<h.length;g++){if(!f.xAxis[g].axisLabel){f.xAxis[g].axisLabel={}}if(!f.xAxis[g].axisLabel.rotate){f.xAxis[g].axisLabel.rotate=30}}}},defaultColor:function(f){if(!f.color){f.color=this.colors}},registerTheme:function(f){f.registerTheme("landrayblue",{color:this.colors,backgroundColor:"rgba(0, 0, 0, 0)",textStyle:{},title:{textStyle:{color:"#333"},subtextStyle:{color:"#999999"}},line:{itemStyle:{normal:{borderWidth:"0"}},lineStyle:{normal:{width:"3"}},symbolSize:"3",symbol:"circle",smooth:false},radar:{itemStyle:{normal:{borderWidth:"0"}},lineStyle:{normal:{width:"3"}},symbolSize:"3",symbol:"circle",smooth:false},bar:{itemStyle:{normal:{barBorderWidth:0,barBorderColor:"#ccc"},emphasis:{barBorderWidth:0,barBorderColor:"#ccc"}}},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},scatter:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},boxplot:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},parallel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},sankey:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},funnel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},gauge:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},candlestick:{itemStyle:{normal:{color:"#69a0fd",color0:"#ffc0a9",borderColor:"#166eff",borderColor0:"#ff9898",borderWidth:1}}},graph:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"}},lineStyle:{normal:{width:1,color:"#aaa"}},symbolSize:"3",symbol:"circle",smooth:false,color:this.colors,label:{normal:{textStyle:{color:"#ffffff"}}}},map:{itemStyle:{normal:{areaColor:"#eee",borderColor:"#4e88e6",borderWidth:0.5},emphasis:{areaColor:"#d1e2ff",borderColor:"#4e90fe",borderWidth:"1"}},label:{normal:{textStyle:{color:"#333333"}},emphasis:{textStyle:{color:"#4e90fe"}}}},geo:{itemStyle:{normal:{areaColor:"#eee",borderColor:"#4e88e6",borderWidth:0.5},emphasis:{areaColor:"#d1e2ff",borderColor:"#4e90fe",borderWidth:"1"}},label:{normal:{textStyle:{color:"#333333"}},emphasis:{textStyle:{color:"#4e90fe"}}}},categoryAxis:{axisLine:{show:true,lineStyle:{color:"#dcdcdc"}},axisTick:{show:true,lineStyle:{color:"#dcdcdc"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:false,lineStyle:{color:["#ccc"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{axisLine:{show:true,lineStyle:{color:"#dcdcdc"}},axisTick:{show:true,lineStyle:{color:"#dcdcdc"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:true,lineStyle:{color:["#f2f2f2"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},logAxis:{axisLine:{show:true,lineStyle:{color:"#333"}},axisTick:{show:true,lineStyle:{color:"#333"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:true,lineStyle:{color:["#ccc"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},timeAxis:{axisLine:{show:true,lineStyle:{color:"#333"}},axisTick:{show:true,lineStyle:{color:"#333"}},axisLabel:{show:true,textStyle:{color:"#333"}},splitLine:{show:true,lineStyle:{color:["#ccc"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999"},emphasis:{borderColor:"#333333"}}},legend:{textStyle:{color:"#999999"}},tooltip:{axisPointer:{lineStyle:{color:"#e9e9e9",width:"1"},crossStyle:{color:"#e9e9e9",width:"1"}}},timeline:{lineStyle:{color:"#999999",width:1},itemStyle:{normal:{color:"#999999",borderWidth:1},emphasis:{color:"#69a0fd"}},controlStyle:{normal:{color:"#999999",borderColor:"#999999",borderWidth:0.5},emphasis:{color:"#999999",borderColor:"#999999",borderWidth:0.5}},checkpointStyle:{color:"#69a0fd",borderColor:"#166eff"},label:{normal:{textStyle:{color:"#999999"}},emphasis:{textStyle:{color:"#999999"}}}},visualMap:{color:["#166eff","#69a0fd","#9ec2ff","#c4daff","#ffc0a9","#ff9898"]},dataZoom:{backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"rgba(47,69,84,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333"}},markPoint:{label:{normal:{textStyle:{color:"#ffffff"}},emphasis:{textStyle:{color:"#ffffff"}}}}})}})})},"sys/mobile/js/mui/listcategory/CategorySelection":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/request","dojo/topic","mui/util","mui/dialog/Dialog","mui/dialog/Tip","mui/iconUtils","mui/history/listener","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(l,a,h,o,g,f,k,n,m,p,s,e,b,d){var q=l("mui.listcategory.CategorySelection",[h],{curIds:null,curNames:null,beforeSelectCateHistoryId:null,detailUrl:"",isMul:true,baseClass:"muiCateSec muiCateSecBottom",cateSelArr:[],itemPrefix:"_CateSecItem_",key:null,buildRendering:function(){this.inherited(arguments);this.cateSelArr=[];this.containerNode=f.create("div",{className:"muiCateSecContainer"},this.domNode);this.leftArea=f.create("div",{className:"muiCateSecLeft"},this.containerNode);this.rightArea=f.create("div",{className:"muiCateSecRight"},this.containerNode);this.clearButtonNode=f.create("span",{className:"muiCateClearBtn",innerHTML:d["mui.button.clear"]},this.rightArea);this.buttonNode=f.create("span",{className:"muiCateSecBtn ",innerHTML:d["mui.button.ok"]},this.rightArea)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/selected","_addSelItme");this.subscribe("/mui/category/unselected","_delSelItem");this.subscribe("/mui/category/clearSelected","_clearSelItem")},startup:function(){if(this._started){return}this.inherited(arguments);this._initSelection()},destroy:function(){this.inherited(arguments)},_subSelItem:function(){n.publish("/mui/category/submit",this,this._calcCurSel())},_clearSelItem:function(w,t){if(w.key!=this.key){return}var x;if(t){x=t.fdId}var u=0;while(this.cateSelArr.length>u){var v=this.cateSelArr[0];if(v.fdId==x){u++;continue}this._delSelItem(this,v);n.publish("/mui/category/cancelSelected",this,v)}},_popSelItem:function(){var v;var u;var x=a.hitch(this,function(){var y=f.create("div",{className:"muiCateSecItems"});o.forEach(this.cateSelArr,function(z){var A=this._buildSelItem(z);y.appendChild(A)},this);u=p.element({canClose:false,element:y,position:"bottom",scrollable:true,parseable:true,showClass:"muiCateSecPop",callback:a.hitch(this,function(){if(v){b.go({historyId:v,callback:function(){}})}u=null;v=null})})});var w=a.hitch(this,function(){if(u){u.hide();u=null;v=null}});var t=b.push({forwardCallback:x,backCallback:w});v=t.previousId},_initSelection:function(){var t=this;if(this.curIds){var v=m.urlResolver(this.detailUrl,this);v=m.formatUrl(v);var y=t.getParent();if(y&&y.curIds){var u=y.curIds.split(";");if(o.indexOf(u,t.fdId)>-1){}}if(v){var z=k.post(v,{handleAs:"json"});z.then(function(A){var B=A.datas?t.formatResult(A.datas):A;if(B.length>0){o.forEach(B,function(C){if(t.curIds==C.value){t._addSelItme(t,C)}})}})}else{var w=this.curIds.split(";");var x=this.curNames.split(";");o.forEach(w,function(B,A){t._addSelItme(t,{fdId:B,label:x[A],labelLevel:x[A]})})}}else{this._resizeSelection()}},formatResult:function(u){var t=[];for(var x=0;x<u.length;x++){var y=u[x];var w={};for(var v=0;v<y.length;v++){if(y[v].col=="fdId"){w.value=y[v].value}if(!w.text&&y[v].col=="docSubject"){w.text=y[v].value}if(!w.text&&y[v].col=="fdName"){w.text=y[v].value}}t.push(w)}return t},buildDesc:function(){},_buildSelItem:function(t){var w=f.create("div",{id:this.itemPrefix+t.fdId,className:"muiCateSecItem"});this.buildIcon(w,t);var u=f.create("div",{className:"muiCateSecItemLabel"},w);f.create("div",{innerHTML:t.label},u);this.buildDesc(u,t);var v=f.create("div",{className:"muiCateSecItemDelArea"},w);f.create("div",{className:"muiCateSecItemDel"},v);this.connect(v,"click",function(x){this._delSelItem(this,t);f.destroy(g.byId(this.itemPrefix+t.fdId));n.publish("/mui/category/cancelSelected",this,t)});return w},buildIcon:function(t,u){if(u.icon){e.setIcon(u.icon,null,null,null,t)}else{e.setIcon("mui mui-file-text",null,null,null,t)}},_checkInSelArr:function(v){var t=false;for(var u=0;u<this.cateSelArr.length;u++){if(this.cateSelArr[u].fdId==v){t=true;break}}return t},_addSelItme:function(u,t){if(u.key==this.key){if(t){if(typeof t.fdId=="undefined"){t.fdId=t.value}if(typeof t.label=="undefined"){t.label=t.text}if(typeof t.labelLevel=="undefined"){t.labelLevel=typeof u.labelLevel!="undefined"?u.labelLevel:u.label}if(!this._checkInSelArr(t.fdId)){this.cateSelArr.push(t)}}this._resizeSelection()}},_delSelItem:function(u,t){if(u.key==this.key){if(t&&t.fdId){for(var v=0;v<this.cateSelArr.length;v++){if(this.cateSelArr[v].fdId==t.fdId){this.cateSelArr.splice(v,1);break}}this._resizeSelection()}}},_resizeSelection:function(){var u=0;var t=this.cateSelArr.length;if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}if(t>0){this.leftArea.className="muiCateSecLeft";this.clearButtonNode.className="muiCateClearBtn";if(this.clearHandle==null){this.clearHandle=this.connect(this.clearButtonNode,"click",a.hitch(this,function(){this._clearSelItem(this);this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}}))}if(this.popHandle==null){this.popHandle=this.connect(this.leftArea,"click","_popSelItem")}}else{this.leftArea.className="muiCateSecLeft muiCateSecBtnDis";this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.popHandle){this.disconnect(this.popHandle);this.popHandle=null}if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}}this.leftArea.innerHTML=d["mui.button.count"].replace("%count%",t);n.publish("/mui/category/selChanged",this,this._calcCurSel())},_calcCurSel:function(){var t={curIds:"",curNames:"",key:this.key};if(this.cateSelArr.length>0){var u="";var v="";o.forEach(this.cateSelArr,function(w){u+=";"+w.fdId;v+=";"+w.label});if(u!=""){u=u.substring(1);v=v.substring(1);t.curIds=u;t.curNames=v}}return t}});return q})},"sys/mobile/js/mui/device/weixin/wxPCAgentConfig":function(){seajs.use(["lui/dialog","sys/mobile/js/lib/weixin/jweixin-1.0.0"],function(b,d){window.livingImmediately=function(e){d.invoke("startLiving",e,function(f){console.log("立即直播：",f);if(f.err_msg=="startLiving:ok"){e.livingId=f.livingId;a(e)}else{if(f.err_msg!="startLiving:cancel"){b.alert("创建直播失败："+f.err_msg)}}})};window.openLiving=function(e){console.log("linvingid:"+e);d.invoke("startLiving",{livingId:e},function(f){console.log("打开直播res",f);if(f.err_msg=="startLiving:ok"){livingId=f.livingId}else{b.alert("打开直播失败:"+JSON.stringify(f))}})}});function a(d){var b=Com_Parameter.ContextPath+"third/weixin/work/third_weixin_work_living/thirdWeixinWorkLiving.do?method=createMapping";$.ajax({url:b,type:"POST",dataType:"json",data:d,error:function(e){console.log("会话校验失败：",e)},success:function(e){console.log("建立mapping",e)}})}window.checkLiving=function(b){url=Com_Parameter.ContextPath+"third/weixin/work/third_weixin_work_living/thirdWeixinWorkLiving.do?method=checkLiving";var d;$.ajax({type:"post",url:url,data:b,async:false,success:function(e){console.log("检查结果：",e);e=JSON.parse(e);if(e.success){d=e.exist;window.__livingid__=e.livingId}else{console.log(e.result)}}});return d};window.getLivingId=function(){return window.__livingid__};(function(){seajs.use(["lui/jquery","lui/dialog","lang!","sys/mobile/js/lib/weixin/jweixin-1.0.0"],function(e,b,g,d){var f=["startLiving","config","agentConfig"];url=Com_Parameter.ContextPath+"third/wxwork/jsapi/wxJsapi.do?method=jsapiSignature&type=agent_config",option={data:{url:location.href},handleAs:"json"};console.log("url:",url);console.log("option:",option);e.ajax({url:url,type:"POST",dataType:"json",data:{url:location.href},async:true,error:function(h){console.log("会话校验失败：",h)},success:function(k){console.log("返回结果:",k);var h=k;if(h&&h.appId){d.agentConfig({beta:true,debug:false,corpid:h.corpid,agentid:h.agentid,timestamp:h.timestamp,nonceStr:h.noncestr,signature:h.signature,jsApiList:f,success:function(l){___ready___=true;console.log("agentConfig鉴权成功",l)},fail:function(l){___ready___=false;console.log("agentConfig失败",l);console.log("agentConfig失败"+JSON.stringify(l))}})}else{console.log("signInfo appId empty(wxwork)")}}})})})()},"sys/mobile/js/mui/form/editor/plugins/lingling/Plugin":function(){define(["dojo/_base/declare","dojo/dom-construct","sys/mobile/js/lib/emoji/emoji","dojo/dom-style","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/text!../tmpl/panelV.html","dojo/html","mui/util","dojo/topic","mui/form/editor/plugins/EditorPluginBaseMixin","mui/form/editor/plugins/lingling/SysFaceConfig","dojo/query"],function(e,d,k,l,a,n,q,s,h,g,f,p,o,m){function b(u){var t=u.lastIndexOf("/");if(t==-1){return t}return u.substring(t+1,u.indexOf("."))}return e("mui.form.editor.plugins.lingling.Plugin",[p],{type:"lingling",icon:"mui-editor-lingling",iconImg:g.formatUrl("/resource/mobile/fix-f.png"),event:function(t){this._linglingShow(t)},_faceIsInit:false,constructor:function(t){this.inherited(arguments)},_linglingFormat:function(t){return t},_linglingSaveHandler:function(t,v){if(!t){return""}var u=v.__textNode;var x=m(".muiEditorTextarea");var w=m("img[data-type='lingling']",x[0]);w.forEach(function(B){var A=B.src;var C=B.outerHTML;var z=b(C);if(z!=-1){var y="[lingling"+z+"]";t=t.replace(C,y)}});return t},startup:function(){this.editor.formatContent.push(this._linglingFormat);this.editor.saveContentHandler.push(this._linglingSaveHandler);this.linglingCfg=o.getByType(this.type)},_linglingBuildPanel:function(){var w="";var v=this.linglingCfg.start;for(var u=this.linglingCfg.start;u<=this.linglingCfg.max;u++){w+='<a href="javascript:;" class="muiEditorFaceItem"><img width="'+this.linglingCfg.width+'"  class="muiEditorFaceItemImg" src="'+this.linglingCfg.path+u+this.linglingCfg.suffix+'" data-type="'+this.linglingCfg.type+'"></a>'}var t=new h._ContentSetter({parseContent:true,cleanContent:true,node:this.linglingNode,onBegin:function(){this.content=this.content.replace(/!{panel}/g,w);this.inherited("onBegin",arguments)}});t.set(s);t.tearDown()},show:function(){this.inherited(arguments);l.set(this.linglingNode,{display:"block"});this.defer(function(){l.set(this.linglingNode,{height:this.panelHeight})},1)},hide:function(){this.inherited(arguments);l.set(this.linglingNode,{height:0});this.defer(function(){l.set(this.linglingNode,{display:"none"})},200)},_linglingShow:function(t){if(this._isShow){this.hide();return}this._isShow=true;if(this._falseIsInit){this.show();return}this.iconNode=t.target;this.linglingNode=d.create("div",{className:"muiEditorFace"},this.editor.domNode,"last");var v=this.editor.domNode.offsetHeight;this.panelHeight="38rem";var u=this;this.connect(this.linglingNode,"click",a.hitch(this,function(w){this.editor.__textNode.blur();if(!this._faceFireClick()){return}var z=w.target;var x=u.linglingCfg.width/2;while(z){if(z.tagName=="IMG"){var A=n.get(z,"src");var y=d.create("img",{width:x,src:A,className:"muiEditorLingLingImg","data-type":u.type});this.editor.insertElement(y);break}z=z.parentNode}}));this._linglingBuildPanel();this.show();this._falseIsInit=true}})})},"sys/mobile/js/mui/list/_JsonStoreListMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojox/mobile/_StoreListMixin","mui/store/JsonRest","mui/store/JsonpRest","dojox/mobile/viewRegistry","dojo/when","dojo/topic","mui/util"],function(b,a,f,h,m,l,k,g,e,d){return b("mui.list._JsonStoreListMixin",[h],{url:"",pageno:1,rowsize:null,busy:false,dataType:"json",lazy:true,filterCondition:{},_setUrlAttr:function(n){this.url=d.formatUrl(n)},handleOnPush:function(q,p){var o=false;var n=k.getEnclosingScrollable(this.domNode);if(q===n){o=true}else{n=k.getEnclosingView(this.domNode);if(q===n){o=true}}if(o){this.loadMore(p)}},handleOnReload:function(q,p){var o=false;var n=k.getEnclosingScrollable(this.domNode);if(q===n){o=true}else{n=k.getEnclosingView(this.domNode);if(q===n){o=true}}if(o){if(!this.url&&n.rel&&n.rel.url){this.set("url",n.rel.url)}this.reload(p)}},handeReSearch:function(n){},startup:function(){if(this._started){return}this.inherited(arguments);if(!this.lazy){this.doLoad()}var n=this;this.subscribe("/mui/list/onPush","handleOnPush");this.subscribe("/mui/list/onPull","handleOnReload");this.subscribe("/mui/list/onReload","handleOnReload")},onComplete:function(n){this.busy=false;var o=this.resolveItems(n);this.generateList(o);e.publish("/mui/list/loaded",this,n)},onError:function(n){this.busy=false},doLoad:function(p,n){if(this.busy){return}if(p){p.work(this)}this.busy=true;this.append=!!n;if(this.append&&this._loadOver){if(p){p.done(this)}this.busy=false;return}var q=null;if(this.store){this.store.target=this.url;q=this.setQuery(this.buildQuery(),{})}else{if(this.dataType=="jsonp"){q=this.setStore(new l({idProperty:"fdId",target:d.urlResolver(this.url,this)}),this.buildQuery(),{})}else{q=this.setStore(new m({idProperty:"fdId",target:d.urlResolver(this.url,this)}),this.buildQuery(),{})}}var o=this;if(p){g(q,function(){p.done(o)},function(){p.error(o)})}return q},reload:function(n){this.pageno=1;this._loadOver=false;return this.doLoad(n,false)},loadMore:function(n){return this.doLoad(n,true)},formatDatas:function(n){var p=[];for(var s=0;s<n.length;s++){var q=n[s];p[s]={};for(var o=0;o<q.length;o++){p[s][q[o].col]=q[o].value}}return p},resolveItems:function(n){this._loadOver=false;var o={};if(n){if(n.datas){this.listDatas=this.formatDatas(n.datas);o=n.page;if(o){this.pageno=parseInt(o.currentPage,10)+1;this.rowsize=parseInt(o.pageSize,10);this.totalSize=parseInt(o.totalSize,10);if(parseInt(o.totalSize||0,10)<=(this.pageno-1)*this.rowsize){this._loadOver=true}}}else{this.listDatas=n;this.totalSize=n.length;this.pageno=1;this._loadOver=true}}if(this._loadOver){e.publish("/mui/list/pushDomHide",this)}else{e.publish("/mui/list/pushDomShow",this)}return this.listDatas},handleFilter:function(p,n,o){this.pageno=1;e.publish("/mui/list/pushDomShow",this);if(!this.url&&n.url){this.set("url",n.url)}return this.doLoad(o,false)},buildQuery:function(){return a.mixin({},{pageno:this.pageno,rowsize:this.rowsize})}})})},"sys/mobile/js/mui/commondialog/template/DialogSearchBar":function(){define(["dojo/_base/declare","mui/search/SearchBar"],function(a,b){return a("mui.commondialog.template.DialogSearchBar",[b],{searchUrl:"",jumpToSearchUrl:false,needPrompt:false})})},"sys/mobile/js/mui/address/AddressRecentItemMixin":function(){define(["dojo/_base/declare","./AddressItemMixin"],function(a,b){return a("mui.address.AddressRecentItemMixin",[b],{showMore:function(){return false}})})},"sys/mobile/js/mui/device/kk/attachment":function(){define(["dojo/_base/declare","dojo/request","mui/device/_attachment","sys/mobile/js/lib/kk/kkapi"],function(a,b,e,d){return a("mui.device.kk.attachment",[e],{_uploadFile:function(h,k){var f=this;var g=this.uploadurl;if(this.uploadStream==true){var m={userkey:k,data:h.href,extParam:this.extParam};if(window.FormData){m=new FormData();m.append("userkey",k);m.append("NewFile",this.dataURItoBlob(h.href));if(this.extParam){m.append("extParam",this.extParam)}g=this.uploadurl}else{g=this.uploadStreamUrl}if(this.uploadType==2){g=this.rtfUploadUrl}var l=b.post(g,{data:m,handleAs:"json"});l.then(function(n){if(n.status=="1"){h.status=2;h.filekey=n.filekey;f.uploadSuccess(h,n)}else{h.status=0;f.uploadError(h,{rtn:n})}},function(n){h.status=0;f.uploadError(h,{rtn:n})},function(n){h.status=1;f.uploadProcess(n.loaded,h)})}else{if(this.uploadType==2){g=this.rtfUploadUrl}f.uploadFile(h,g,k,function(n){h.filekey=n.filekey;h.status=2;f.uploadSuccess(h,n)},function(n){h.status=1;f.uploadProcess(n,h)},function(n){h.status=0;f.uploadError(h,n)})}},uploadFile:function(k,l,m,h,g,n){var f=this;return kkApi.uploadFile({filepath:k.fullpath,userkey:m,uploadurl:l,complete:function(q,p){if(window.console){window.console.log("UploadFile complete cacheId="+q+",fileInfo="+p)}var o=kkApi.formatJson(p);if(h){h(o)}kkApi.clearCache(q)},progress:function(p,o){if(g){g(o)}},cancel:function(o){kkApi.clearCache(o)},error:function(p,o){if(n){n({rtn:{status:"-1",msg:"附件上传错误:"+o}})}if(window.console){window.console.error("UploadFile Error:"+o)}kkApi.clearCache(p)}})}})})},"sys/mobile/js/mui/history/listener":function(){define(["dojo/_base/declare","dojo/_base/lang","mui/hash"],function(e,h,g){var f=function(){};var d=function(o){var n=o?o.split("&"):[],m={};for(var l=0;l<n.length;l++){var k=n[l].split("=");m[k[0]]=decodeURIComponent(k[1])}return m};var a=function(m){var l=[];for(var k in m){l.push(k+"="+encodeURIComponent(m[k]))}return l.join("&")};var b=e("mui.history.listener",null,{key:"listener",currentIndex:0,historyArr:[],historyData:{},tempCallback:null,constructor:function(){var l=this;var m=this.gethash({href:location.href});var k=this.getparam(m,this.key)||"listener";this.historyArr.push(k);this.currentIndex=0;window.onhashchange=h.hitch(this,function(x){var y=this.gethash({href:x.oldURL}),q=this.gethash({href:x.newURL}),v=this.getparam(q,this.key);var n=this.currentIndex;var u=this.historyArr.indexOf(v);if(this.tempCallback){this.tempCallback();this.tempCallback=null}else{var p=u>n;if(p){for(var t=n+1;t<=u;t++){var o=this.historyArr[t];this.historyData[o].forwardCallback&&this.historyData[o].forwardCallback()}}else{for(var t=n;t>u;t--){var o=this.historyArr[t];this.historyData[o].backCallback&&this.historyData[o].backCallback()}}}this.currentIndex=u;var w=d(y);var s=d(q);if(w.listener){delete w.listener}window.history.replaceState(null,null,"#"+a(h.mixin(s,w)))})},get:function(k){if(this.historyArr.indexOf(k)===-1){console.error("不存在或者已经被清除的historyId");return}return this.historyData[k]},go:function(m){if(m&&m.step){var k=this.currentIndex+m.step;if(k>=this.historyArr.length||k<0){console.warn("跳转step失败",m.step);return}if(m&&m.callback){this.tempCallback=m.callback}history.go(m.step);return}if(m&&m.historyId){var l=this.currentIndex;var k=this.historyArr.indexOf(m.historyId);if(k===-1||l===k){console.warn("跳转historyId失败",m.historyId);window.location.reload();return}if(m&&m.callback){this.tempCallback=m.callback}history.go(k-l)}},goNoop:function(k){k=h.mixin({callback:f},k);this.go(k)},push:function(l){var n=l.callback||l.backCallback||f;var k=l.forwardCallback||f;var m=this.getId();this.historyArr=this.historyArr.slice(0,this.currentIndex+1);this.historyArr.push(m);this.historyData[m]={backCallback:n,forwardCallback:k};g.add({listener:m});return{previousId:this.historyArr[this.currentIndex],currentId:this.historyArr[this.currentIndex+1]}},add:function(k){this.push(k)},gethash:function(k){var l=k.href||"",m=k.hash||(l.indexOf("#")>-1?l.substr(l.indexOf("#")):"");m=m?m.substr(1):"";return m},getparam:function(m,o){var n=m?m.split("&"):[];for(var l=0;l<n.length;l++){var k=n[l].split("=");if(k[0]==o){return decodeURIComponent(k[1])}}return"listener"},getId:function(){return"listener"+new Date().getTime()}});return new b()})},"sys/mobile/js/mui/i18n/i18nUtils":function(){define(["dojo/request","dojo/topic","mui/util","dojo/dom-construct","dojo/dom-attr"],function(_request,topic,util,domConstruct,domAttr){var _queue=[];var queue=function(msg){_queue.push(msg)};var request=function(callback){var titleMsg=handleTitle();if(titleMsg){_queue.push(titleMsg)}var url=util.formatUrl("/sys/mobile/js/mui/i18n/i18nbatch.jsp");_request.post(url,{data:{queue:_queue.join(";")},handleAs:"json"}).then(function(msgObj){topic.publish("mui.i18n.complete",msgObj);if(titleMsg){document.title=msgObj[titleMsg]}_queue=[];callback&&callback()})};function handleTitle(){var title=document.title,titlebundle=null,titlekey=null;try{var dom=domConstruct.toDom(title);if(dom){var props=domAttr.get(dom,"data-dojo-props");props=myEval("{"+props+"}");titlebundle=props.bundle;titlekey=props.key;return !titlebundle?titlekey:titlebundle+":"+titlekey}}catch(e){console.log(e)}return null}function myEval(text){return eval("("+text+")")}return{queue:queue,request:request}})},"sys/mobile/js/mui/list/item/DocItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dojox/mobile/_ItemBase","mui/util","dojo/on","mui/dialog/Tip","mui/openProxyMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,b,l,g,k,m,f,h,n,d,a){var o=e("mui.list.item.DocItemMixin",[m,d],{tag:"li",created:"",creator:"",icon:"",href:"",summary:"",docPublishTime:"",docDeptName:"",summary:"",docReadCount:"",tagNames:"",buildRendering:function(){this.domNode=b.create(this.tag,{className:"muiDocItem"},this.containerNode);this.inherited(arguments);this.buildInternalRender()},buildInternalRender:function(){var q=this.isJustShowSubject()?"muiDocItemVerticalAlignMiddle":"muiDocItemVerticalAlignTop";var v=b.create("div",{className:"muiDocItemContainer"},this.domNode);var s=b.create("div",{className:"muiDocItemLeft "+q},v);if(this.icon){var t=b.create("div",{className:"muiDocItemPersonIcon"},s);b.create("div",{className:"muiDocItemPersonIconImg",style:{background:"url("+f.formatUrl(this.icon)+") center center no-repeat",backgroundSize:"cover"}},t)}else{var p=this.listIcon?this.listIcon:"muis-official-doc";var z=b.create("div",{className:"muiDocItemIcon"},s);b.create("i",{className:"fontmuis "+p},z)}var y=b.create("div",{className:"muiDocItemRight "+q},v);var x=b.create("div",{className:"muiDocItemSubject muiFontSizeM muiFontColorInfo",innerHTML:this.label},y);if(this.summary){b.create("div",{className:"muiDocItemSummary muiFontSizeS",innerHTML:this.summary},y)}if(this.creator||this.docDeptName||this.created||this.docPublishTime||this.docReadCount||this.tagNames){var u=b.create("div",{className:"muiDocItemRightFooter muiFontSizeS muiFontColorMuted "+(this.docReadCount?"muiDocItemHasReadCount":"")},y);if(this.creator){b.create("div",{className:"muiDocItemCreator",innerHTML:this.creator},u)}if(this.docDeptName){b.create("div",{className:"muiDocItemDocDeptName",innerHTML:this.docDeptName},u)}if(this.created){b.create("div",{className:"muiDocItemCreatedTime",innerHTML:this.created},u)}if(this.docPublishTime){b.create("div",{className:"muiDocItemPublishTime",innerHTML:this.docPublishTime},u)}if(this.tagNames){b.create("div",{className:"muiDocTagNames mui_DocTagNames",innerHTML:this.tagNames},u)}if(this.docReadCount){b.create("div",{className:"muiDocItemReadInfo",innerHTML:'<span class="muiDocItemReadCount">'+this.docReadCount+'</span><span class="muiDocItemViewText">'+a["mui.mobile.sysMobile.view"]+"</span>"},u)}}if(this.href){this.proxyClick(this.domNode,this.href,"_blank")}else{var w=b.create("div",{className:"muiDocItemLock"},this.domNode);this.makeLockLinkTip(this.domNode)}},isJustShowSubject:function(){return !(this.summary||this.creator||this.docDeptName||this.created||this.docPublishTime||this.tagNames||this.docReadCount)},makeLockLinkTip:function(p){this.href="javascript:void(0);";h(p,"click",function(q){n.tip({icon:"mui mui-warn",text:"暂不支持移动访问"})})},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(p){if(p){this._set("label",p)}}});return o})},"sys/mobile/js/mui/category/_ViewScrollResizeMixin":function(){define(["dojo/_base/declare","dojo/topic"],function(b,a){return b("mui.list._ViewScrollResizeMixin",null,{startup:function(){if(this._started){return}this.inherited(arguments);this.subscribe("/mui/list/loaded","_scrollResize");this.subscribe("/mui/view/scrollTo","_scrollTo")},_scrollTo:function(e,d){this.defer(function(){if(e.key==this.key&&this.slideTo){if(d){if(d.y&&d.y!=0){var g=this.domNode.offsetHeight;var k=this.containerNode.offsetHeight;var f=k+d.y;var h=0;if(f<g){if(k<g){h=0}else{h=0-(k-g)}d.y=h}this.slideTo(d,0.5,"linear");return}}this.slideTo({y:0},0.5,"linear");return}},1)},_runSlideAnimation:function(k,h,f,g,e,d){a.publish("/mui/view/afterScroll",this,{from:k,to:h});this.inherited(arguments)},_scrollResize:function(d){if(d.key==this.key){if(this.resize){this.resize();a.publish("/mui/view/resized",this)}this._scrollTo(d)}}})})},"sys/mobile/js/mui/datetime/DatePicker_yearMonth":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/date/locale","dojo/date/stamp","mui/datetime/SpinWheelDatePicker_yearMonth","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-attr"],function(d,l,n,k,a,o,m,p,b,l){var g=b["mui.datetime.week.shortName"].split(",");var q={minItems:12,format:function(t){return o.format(t,{datePattern:this.pattern,selector:"date"})},setColor:function(B,A,w){var v=this.flag=="date";var y=this.panelNodes.length;for(var x=0;x<y;x++){var t=this.panelNodes[x];var z=t.querySelectorAll(".mblSpinWheelSlotLabelBlue:not([data-mobile-val='"+B+"'])");k.forEach(z,function(D){var C=l.get(D,"data-mobile-val");if(D.innerHTML!=C){n.toggle(D,w||"mblSpinWheelSlotLabelBlue",false);D.innerHTML=C}});var u=t.querySelectorAll("[data-mobile-val='"+B+"']");k.forEach(u,function(F){var C="";var D=o.parse(B,{datePattern:this.pattern,selector:"date"});var E=o.format(D,{datePattern:this.disPattern,selector:"date"});E=E+'<span style="display: none;" class="mblSpainWheelSlotLabelText">'+this.disText+"</span>";if(F.innerHTML!=E){n.toggle(F,w||"mblSpinWheelSlotLabelBlue",true);F.innerHTML=E}},this)}}};var f=a.mixin({flag:"year",initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var v=new Date(this.labelFrom,0,1);var u,t;for(u=this.labelFrom,t=0;u<=this.labelTo;u++,t++){this["currYearFrom"]=u;v.setFullYear(u);this.labels.push(this.format(v))}}}},q);var e=a.mixin({flag:"month",initLabels:function(){this.labels=[];var u=new Date(2000,0,16);for(var t=0;t<12;t++){this["currMonthFrom"]=t;u.setMonth(t);this.labels.push(this.format(u))}}},q);var s=a.mixin({flag:"date",initLabels:function(){this.labels=[];var u=new Date(2000,0,1);for(var t=1;t<=31;t++){this["currDateFrom"]=t;u.setDate(t);this.labels.push(this.format(u))}}},q);var h=d("mui.datetime.DatePicker_yearMonth",[p],{yearPattern:"yyyy",monthPattern:"MM",dayPattern:"dd",disYearPattern:"yyyy",disMonthPattern:"MM",disDayPattern:"dd",disYearText:b["mui.datetime.year"],disMonthText:b["mui.datetime.month"],disDayText:b["mui.datetime.day"],slotProps:[{labelFrom:1899,labelTo:2099},{},{}],initSlots:function(){var u=this.slotClasses,t=this.slotProps;u[0]=d(u[0],f);u[1]=d(u[1],e);u[2]=d(u[2],s);t[0].pattern=this.yearPattern;t[1].pattern=this.monthPattern;t[2].pattern=this.dayPattern;t[0].disPattern=this.disYearPattern;t[1].disPattern=this.disMonthPattern;t[2].disPattern=this.disDayPattern;t[0].disText=this.disYearText;t[1].disText=this.disMonthText;t[2].disText=this.disDayText;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var t=o._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=k.map(t,function(u){return{y:0,m:1,d:2}[u.charAt(0)]});if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){this.slotOrder=[2,1,0]}},reset:function(){this.inherited(arguments);this._resetColors()},onYearSet:function(){this._resetColors()},onMonthSet:function(){this._resetColors()},onDaySet:function(){this._resetColors()},_setColorsAttr:function(t){var u=this.get("date");k.forEach(this.getSlots(),function(v,x){v.setColor&&v.setColor(t[x],u)})},_resetColors:function(){var t=this.get("values");this.set("colors",t)},_setValueAttr:function(w){var u=w;;if(dojoConfig.locale=="en-us"&&w){var v=w.split("/");u=v[1]+"-"+v[0]+"-01"}if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)&&w){var v=w.split("/");u=v[2]+"-"+v[1]+"-"+v[0]}var t=new Date();if(u){t=m.fromISOString(u)}this.set("values",k.map(this.slots,function(x){return x.format(t)}))},_getValueAttr:function(){var v=this.get("date");if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){return o.format(v,{datePattern:"MM/yyyy",selector:"date"})}if(dojoConfig.locale=="en-us"){return o.format(v,{datePattern:"MM/yyyy",selector:"date"})}var u=m.toISOString(v,{selector:"date"});var t=o.format(v,{datePattern:"yyyy-MM",selector:"date"});return t}});return h})},"sys/mobile/js/mui/simplecategory/SimpleCategoryList":function(){define(["dojo/_base/declare","mui/category/CategoryList","dojo/_base/lang","dojo/_base/json","mui/category/CategoryAllSelectMixin"],function(d,a,f,b,e){return d("mui.simplecategory.SimpleCategoryList",[a,e],{modelName:null,authCateIds:null,___urlParam:"",dataUrl:"/sys/category/mobile/sysSimpleCategory.do?method=cateList&categoryId=!{parentId}&getTemplate=!{selType}&modelName=!{modelName}&authType=!{authType}&extProps=!{___urlParam}",buildRendering:function(){this.inherited(arguments);if(this.getParent().getParent()){this.authCateIds=this.getParent().getParent().authCateIds}},buildQuery:function(){var h=null;if(this.___urlParam){try{h=b.fromJson(this.___urlParam)}catch(g){}}var k=this.inherited(arguments);return f.mixin(k,{authCateIds:this.authCateIds},h)}})})},"sys/mobile/js/mui/form/Switch":function(){define(["dojo/_base/declare","./switch/NewSwitch"],function(b,a){return b("mui.form.Switch",[a],{})})},"sys/mobile/js/mui/form/Radio":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-class","mui/form/_OptionsBase","dojo/dom-construct","dojo/topic","dojo/_base/lang","dojo/dom-style","mui/util","mui/form/_GroupBase","mui/form/radio/render/RadioNormal","mui/form/radio/render/RadioBlock","mui/form/radio/render/RadioTable"],function(g,n,o,d,e,l,b,m,k,a,f,p,h){var q=g("mui.form.Radio",[d],{valueField:null,opt:false,edit:true,type:"radio",checked:false,renderOptions:[f,p,h],renderType:"normal",RADIO_CHANGE:"mui/form/radio/change",RENDER_CHECKED_STATUS:"mui/form/radio/renderCheckedStatus",_buildValue:function(){for(var s in this.renderOptions){var t=this.renderOptions[s];this.radioNode=new t()._buildRender(this);if(this.radioNode){break}}this.optionContainerNode=this.radioNode;e.place(this.domNode,this.radioNode,"last");this.inherited(arguments)},_changeChecked:function(u,t){if(this.getParent()==u&&u instanceof a&&t!=null&&t!=""){var s=this._get("value");this._extendCheckAction(s==t)}},checkedChange:function(t,s){if(!s){return}if(s.name==this.name&&t!=this){this.set("checked",false)}},_setCheckedAttr:function(s){this.inherited(arguments);if(this.checked){l.publish(this.RADIO_CHANGE,this,{name:this.name})}l.publish(this.RENDER_CHECKED_STATUS,this,{domNode:this.radioNode,checked:this.checked,checkedIcon:this.checkedIcon,unCheckedIcon:this.unCheckedIcon})},_extendCheckAction:function(s){this.inherited(arguments);l.publish(this.RENDER_CHECKED_STATUS,this,{domNode:this.radioNode,checked:this.checked,checkedIcon:this.checkedIcon,unCheckedIcon:this.unCheckedIcon})},_readOnlyAction:function(s){this.optionNode=this.radioNode;this.inherited(arguments)},_onClick:function(s){if(!this.fireClick()){return}this.set("checked",true)},buildEdit:function(){this._optionHandle=this.connect(this.radioNode,"click","_onClick");this.subscribe(this.RADIO_CHANGE,b.hitch(this,this.checkedChange))},buildHidden:function(){m.set(this.domNode,{display:"none"})},buildReadOnly:function(){m.set(this.domNode,{readOnly:"readOnly"})},buildView:function(){this.buildReadOnly()},viewValueSet:function(s){this.domNode.value=s},editValueSet:function(s){this.viewValueSet(s)},hiddenValueSet:function(s){this.viewValueSet(s)},readOnlyValueSet:function(s){this.viewValueSet(s)}});return q})},"sys/mobile/js/mui/list/item/DocStatusMixin":function(){define(["dojo/_base/declare","dojo/dom-construct"],function(b,a){var d=b("mui.list.item.TextItem.docStatusMixin",null,{statusClass:"",buildTag:function(e){this.inherited(arguments);if(this.status&&e){this.formatStatusData();a.create("span",{className:this.tagClass+this.statusClass,innerHTML:this.status},e)}},formatStatusData:function(){if(this.status){if("00"==this.status){this.status="废弃";this.statusClass=" muiProcessDiscard"}else{if("10"==this.status){this.status="草稿";this.statusClass=" muiProcessDraft"}else{if("11"==this.status){this.status="驳回";this.statusClass=" muiProcessRefuse"}else{if("20"==this.status){this.status="待审";this.statusClass=" muiProcessExamine"}else{if("30"==this.status){this.status="结束";this.statusClass=" muiProcessPublish"}else{if("31"==this.status){this.status="已反馈";this.statusClass=" muiProcessPublish"}}}}}}}}});return d})},"sys/mobile/js/mui/sort/HashMixin":function(){define(["dojo/_base/declare","dojo/topic","mui/hash","mui/ChannelMixin"],function(d,b,e,a){return d("mui.sort.HashMixin",[a],{postMixInProperties:function(){this.inherited(arguments);if(e.matchPath(this.key)){var f=e.getQuery();if(!f||!f.orderby){return}if(f.orderby===this.name){this.value=f.ordertype}else{this.value=""}}},postCreate:function(){this.inherited(arguments);this.subscribe("/dojox/mobile/viewChanged","handleViewChanged")},handleViewChanged:function(f){if(!this.isSameChannel(f.key)){return}e.replaceQuery({orderby:this.name,ordertype:this.value})},submit:function(){this.inherited(arguments);e.replaceQuery({orderby:this.name,ordertype:this.value})}})})},"sys/mobile/js/mui/panel/DelayContent":function(){define("mui/panel/DelayContent",["dojo/_base/declare","dojo/parser","dojo/topic","dojo/query","dojo/dom-style","mui/panel/Content"],function(e,g,a,f,d,b){return e("mui.panel.DelayContent",[b],{stopParser:true,isParser:false,isInFirstScreen:false,startup:function(){d.set(this.domNode,"display","none");this.inherited(arguments);this.subscribe("/mui/panel/delayContent/init","initDelayContent");this.subscribe("/mui/panel/delayContent/loaded","loadedDelayContent")},initDelayContent:function(h){if(h==this&&!this.isParser){d.set(this.domNode,"display","inherit");this._initView();this.isParser=true}},loadedDelayContent:function(k){if(k==this&&!isInFirstScreen){var h=this.getParent();var l=f(".muiAccordionPanelTitle",h.domNode);a.publish("/mui/panel/navPanel/scroll",this.getParent(),{target:l})}},_initView:function(){var h=this;g.parse(h.domNode).then(function(){a.publish("/mui/list/resize")})}})})},"sys/mobile/js/mui/ocr/_OcrMixin":function(){define(["dojo/_base/declare","sys/mobile/js/mui/ocr/OcrConstants","mui/util","mui/dialog/Dialog","mui/dialog/Tip","mui/dialog/Modal","dojo/request","dojo/topic","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/query","dojo/on","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(g,a,k,n,s,o,f,h,b,e,l,q,p,m,d){return g("mui.ocr._OcrMixin",[a],{postCreate:function(){this.inherited(arguments);this.subscribe("attachmentObject_"+this.fdKey+"_start","uploadStart");this.subscribe("attachmentObject_"+this.fdKey+"_success","uploadSuccess");this.subscribe("attachmentObject_"+this.fdKey+"_fail","uploadError");this.subscribe("attachmentObject_"+this.fdKey+"_afterView","_createImg");this.subscribe(this.OCR_EVENT_REUPLOAD+this.fdKey,"reUpload");this.subscribe(this.OCR_EVENT_ONLY_UPLOAD+this.fdKey,"onlyUpload");this.subscribe(this.OCR_EVENT_CANCEL+this.fdKey,"cancelIdentify");this.subscribe(this.OCR_EVENT_OPT_VIEWIMG+this.fdKey,"viewImg");this.subscribe(this.OCR_EVENT_OPT_REPLACEIMG+this.fdKey,"replaceImg");this.subscribe(this.OCR_EVENT_OPT_CANCEL+this.fdKey,"hideOptDialog");this.subscribe(this.OCR_EVENT_FAIL_CANCEL+this.fdKey,"hideFailDialog")},selectImg:function(u){var t=this.showFlag;if(u&&u.showFlag==false){t=false}if(t){this.showOperations()}else{h.publish("attachmentOptListItem_emit_events",this,{eventType:"click",targetName:"uploadDom",key:this.fdKey})}},showOperations:function(){var t=this;var u=this.operDialogJspUrl;if(u.indexOf("?")==-1){u+="?"+this.operDialogJspUrlParams}u=k.formatUrl(k.urlResolver(u,this));require({async:false},["dojo/text!"+u],function(v){v=b.replace(v,{categroy:t});t.dialogDom=e.toDom(v);t.optDialog=n.element({canClose:false,showClass:"muiOcrOptDialog",element:t.dialogDom,position:"bottom",scrollable:false,parseable:true,callback:b.hitch(t,function(){t.optDialog=null}),onDrawed:function(){}})})},uploadStart:function(t,u){this.delItem();if(this.isUpload){this.showUploadStatus()}if(!this.isUpload){this.showProcess()}},uploadSuccess:function(t,u){this.hideUploadStatus();if(this.isUpload){this.showImg(t,u);this.showFlag=true}if(this.toIdentify){this.identify(t,u)}this.toIdentify=true;this.reValidate()},uploadError:function(u,t){this.showFlag=false;if(!this.isUpload){this.hideProcess();s.fail({text:d["mui.ocr.identify.success.tip"]})}},identify:function(w,x){if(this.isUpload){this.showProcess()}this.beforeIdentify(x.file,w);var u=this.identifyUrl;var v=x.file;this.attData=x;var y={};y.type=this.typeNum||"0";y.attId=this.attId||"";y.modelName="";y.formName="";y.docId="";u=k.formatUrl(k.urlResolver(u));var t=this;f(u,{data:y,handleAs:"json",sync:true,method:"POST"}).then(function(z){t.identifySuccess(z);t.afterIdentify(w)},function(z){t.identifyError(z);t.afterIdentify(w)})},identifySuccess:function(u){var t=this.callbackAfterIdentifySuccess(u);this.hideFailTip();this.hideProcess();if(t){s.success({text:d["mui.ocr.identify.success.tip"]})}else{this.identifyError()}h.publish(this.OCR_EVENT_IDENTIFY_SUCCESS+this.fdKey,this,u)},callbackAfterIdentifySuccess:function(t){},identifyError:function(t){this.showFailTip();this.hideProcess();this.callbackAfterIdentifyError();h.publish(this.OCR_EVENT_IDENTIFY_FAIL+this.fdKey,this)},callbackAfterIdentifyError:function(u){var w=d["mui.ocr.identify.fail.dialog.title"];if(!this.isUpload){this.delItem();w=d["mui.ocr.identify.fail.tip"]}var t=this;var v=this.failJsp;if(v.indexOf("?")==-1){v+="?"+this.failJspParams}var v=k.formatUrl(k.urlResolver(v,this));require({async:false},["dojo/text!"+v],function(z){z=b.replace(z,{categroy:t});var y=z;var x=[];t.failDialog=o(y,w,x);t.failDialog.destroyAfterClose=true})},beforeIdentify:function(w,v){if(w){var t=window.AttachmentList[this.fdKey]||v;if(t!=null&&t.fileStatus!=-1){var x=t.fdModelId;var u=t.fdModelName;t.fdModelId="";t.fdModelName="";this.attId=t.registFile({filekey:w.filekey,name:w.name});t.fdModelId=x;t.fdModelName=u}}},afterIdentify:function(v){if(this.attId){var u=window.AttachmentList[this.fdKey]||v;if(u!=null){var t={fdId:this.attId};f.post(u.deleteUrl,{data:t,sync:true}).then(function(w){console.info("删除成功！")},function(){console.info("删除失败！")})}}},onlyUpload:function(){this.hideFailDialog()},cancelIdentify:function(){this.hideFailDialog();this.delItem()},delItem:function(){if(this.isUpload){this.hideFailTip();this.hideFailDialog();this.hideOptDialog();this.deleteImg();this.showFlag=false}this.reValidate();h.publish("attachmentEditListItem_delItem",this,{key:this.fdKey})},viewImg:function(){this.hideOptDialog();h.publish("attachmentListItem_viewItem",this,{key:this.fdKey})},reUpload:function(){this.hideOptDialog();this.hideFailDialog();this.selectImg({showFlag:false})},replaceImg:function(){this.toIdentify=false;this.hideOptDialog();this.selectImg({showFlag:false})},showImg:function(v,t){if(t&&t.file){var u=t.file;this.createImg(u)}},createImg:function(t){if(this.imgNode){this.deleteImg();q.add(this.imgNode,"muiOcrNoBackground");this.imageNode=e.create("img",{className:"muiOcrDefaultImg",align:"middle",src:k.formatUrl(t.href)},this.imgNode)}},_createImg:function(t,u){if(u&&this.isUpload==true){this.createImg(u);if(u.pageType&&u.pageType=="edit"){this.showFlag=true}else{m(this.imageNode,"click",b.hitch(this,this.viewImg))}}},deleteImg:function(){if(this.imageNode){e.destroy(this.imageNode);this.imageNode=null;q.remove(this.imgNode,"muiOcrNoBackground")}},hideFailTip:function(){var t=p(".muiOcrDefaultFail",this.domNode)[0];if(t){l.set(t,{display:"none"})}},showFailTip:function(){var t=p(".muiOcrDefaultFail",this.domNode)[0];if(t){l.set(t,{display:""})}},hideOptDialog:function(){if(this.optDialog){this.optDialog.hide();this.optDialog=null}},hideFailDialog:function(){if(this.failDialog){this.failDialog.hide();this.failDialog=null}},showProcess:function(){if(!this._processing){var t=d["mui.ocr.identify.process"];this._processing=s.progressing({text:t});this._processing.show()}},hideProcess:function(){if(this._processing){this._processing.hide();this._processing=null}},showUploadStatus:function(){this.statusDiv=e.create("div",{className:"muiAttItemStatus"},this.imgNode);e.create("i",{className:"fontmuis mui-spin muis-refresh"},this.statusDiv)},hideUploadStatus:function(){if(this.statusDiv){e.destroy(this.statusDiv);this.statusDiv=null}}})})},"sys/mobile/js/mui/panel/_SlideBtnMixin":function(){define(["dojo/_base/declare","dojo/topic"],function(b,a){return b("mui.panel._SlideBtnMixin",null,{onClick:function(d){this._showLeftSlide(d)},_showLeftSlide:function(d){a.publish("/mui/panel/slidePanel/show",this)}})})},"sys/mobile/js/mui/form/editor/plugins/dnyling/Plugin":function(){define(["dojo/_base/declare","dojo/dom-construct","sys/mobile/js/lib/emoji/emoji","dojo/dom-style","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/text!../tmpl/panelV.html","dojo/html","mui/util","dojo/topic","mui/form/editor/plugins/EditorPluginBaseMixin","mui/form/editor/plugins/lingling/SysFaceConfig","dojo/query"],function(e,d,k,l,a,n,q,s,h,g,f,p,o,m){function b(u){var t=u.lastIndexOf("/");if(t==-1){return t}return u.substring(t+1,u.indexOf("."))}return e("mui.form.editor.plugins.dnyling.Plugin",[p],{type:"dnyling",icon:"mui-editor-dnyling",iconImg:g.formatUrl("/resource/mobile/dny-f.png"),event:function(t){this._linglingShow(t)},_faceIsInit:false,constructor:function(t){this.inherited(arguments)},_linglingFormat:function(t){return t},_linglingSaveHandler:function(t,v){if(!t){return""}var u=v.__textNode;var x=m(".muiEditorTextarea");var w=m("img[data-type='dnyling']",x[0]);w.forEach(function(B){var A=B.src;var C=B.outerHTML;var z=b(C);if(z!=-1){var y="[dnyling"+z+"]";t=t.replace(C,y)}});return t},startup:function(){this.editor.formatContent.push(this._linglingFormat);this.editor.saveContentHandler.push(this._linglingSaveHandler);this.linglingCfg=o.getByType(this.type)},_linglingBuildPanel:function(){var w="";var v=this.linglingCfg.start;for(var u=this.linglingCfg.start;u<=this.linglingCfg.max;u++){w+='<a href="javascript:;" class="muiEditorFaceItem"><img width="'+this.linglingCfg.width+'" class="muiEditorFaceItemImg" src="'+this.linglingCfg.path+u+this.linglingCfg.suffix+'" data-type="'+this.linglingCfg.type+'"></a>'}var t=new h._ContentSetter({parseContent:true,cleanContent:true,node:this.linglingNode,onBegin:function(){this.content=this.content.replace(/!{panel}/g,w);this.inherited("onBegin",arguments)}});t.set(s);t.tearDown()},show:function(){this.inherited(arguments);l.set(this.linglingNode,{display:"block"});this.defer(function(){l.set(this.linglingNode,{height:this.panelHeight})},1)},hide:function(){this.inherited(arguments);l.set(this.linglingNode,{height:0});this.defer(function(){l.set(this.linglingNode,{display:"none"})},200)},_linglingShow:function(t){if(this._isShow){this.hide();return}this._isShow=true;if(this._falseIsInit){this.show();return}this.iconNode=t.target;this.linglingNode=d.create("div",{className:"muiEditorFace"},this.editor.domNode,"last");var v=this.editor.domNode.offsetHeight;this.panelHeight="30rem";var u=this;this.connect(this.linglingNode,"click",a.hitch(this,function(w){this.editor.__textNode.blur();if(!this._faceFireClick()){return}var z=w.target;var x=u.linglingCfg.width/2;while(z){if(z.tagName=="IMG"){var A=n.get(z,"src");var y=d.create("img",{width:x,src:A,className:"muiEditorDnyLingImg","data-type":u.type});this.editor.insertElement(y);break}z=z.parentNode}}));this._linglingBuildPanel();this.show();this._falseIsInit=true}})})},"sys/mobile/js/mui/table/toggle/ScrollableContainer":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/dom-style","dojo/query"],function(e,f,d,a,b,g){return e("mui.table.ScrollableContainer",[f,d,a],{baseClass:"muiScrollableContainer",buildRendering:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},resizeH:function(k){if(k>0){b.set(this.domNode,{height:k+"px"})}}})})},"sys/mobile/js/mui/chart/Chart":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/_WidgetBase","dijit/registry","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/window","dojo/request","dojo/parser","dojo/query","mui/util","lib/echart/echarts","mui/chart/ChartZoomMixin","mui/chart/ChartDefaultMixin"],function(m,q,l,a,d,f,p,t,e,o,k,b,s,n,g,h,u){return m("mui.chart.chart",[l,h,u],{url:"",isLazy:false,dbcenter:false,drawed:false,chartTmpl:'<div data-dojo-type="mui/table/ScrollableHContainer" data-dojo-dom="container"><div data-dojo-dom="view"><div data-dojo-dom="content"></div></div><div data-dojo-dom="list" style="display:none"><div style="text-align:center;width:40px;color:#37ace1;margin:3px 5px;" data-dojo-dom="backlist">lang_comeBack</div><div data-dojo-type="mui/view/DocScrollableView" data-dojo-dom="scrollview"><div data-dojo-type="mui/table/ScrollableHContainer" data-dojo-dom="listview"><div data-dojo-type="mui/table/ScrollableHView"><table cellspacing="0" cellpadding="0" class="detailTableNormal"><tr><td class="detailTableNormalTd"><table class="muiAgendaNormal muiNormal" width="100%" border="0" cellspacing="0" cellpadding="0"></table></td></tr></table></div></div></div></div></div>',chartTheme:null,lang_props:null,_setUrlAttr:function(v){this._set("url",v);this.drawed=false;this.requestChart()},buildRendering:function(){var w=this;this.inherited(arguments);t.add(this.domNode,"muiChart");this.chartTmpl=this.chartTmpl.replace("lang_comeBack",this.getLangProp("lang_comeBack","返回"));var v=d.replace(this.chartTmpl,{});setTimeout(function(){var x=w.globalGeometry();b.parse(f.create("div",{innerHTML:v},w.domNode,"last")).then(function(y){q.forEach(y,function(B,A){if(A==0){w.container=B.domNode;w.view=s('[data-dojo-dom="view"]',B.domNode)[0];w.content=s('[data-dojo-dom="content"]',B.domNode)[0];w.list=s('[data-dojo-dom="list"]',B.domNode)[0];var z=s('[data-dojo-dom="backlist"]',w.list)[0];w.connect(z,"click",function(){w.switchChart("0")});p.set(B.domNode,"height",x.h+"px");p.set(w.content,"width",x.w+"px");p.set(w.content,"height",x.h+"px");if(!w.isLazy){w.requestChart()}}});w.buildRenderingCompleted()})},1)},buildRenderingCompleted:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},globalGeometry:function(){var w=this.getChartDomWidth(this.domNode);if(w>0){return{w:w,h:w}}else{var v=o.getBox(document);return{w:v.w,h:v.w}}},getChartDomWidth:function(w){var v=0;if(w){var v=e.getContentBox(w).w;if(v==0){return this.getChartDomWidth(w.parentNode)}}return v},requestChart:function(w){var w=n.formatUrl(w||this.url),E=this;try{var B=location.href.split("#");console.log("query:"+B);if(B.length>1){var F="";var z=B[1];if(z.indexOf("cri.q=")==0){z=z.substr(6);var y=z.split(";");for(var x=0;x<y.length;x++){var C=y[x].split(":");var v=C[0];var D="";if(C.length>0){D=C[1]}F+="&q."+v+"="+D}}w+=F}}catch(A){console.log(A)}k.post(w).response.then(function(G){var H=E.toJSON(G.data);d.hitch(E,"renderChart")(H)})},switchChart:function(v){if(v=="1"){p.set(this.view,"display","none");this.showList(this.list)}else{p.set(this.view,"display","block");p.set(this.list,"display","none")}},showList:function(D){var B=this;var v=[];var x=[];var N=[];var E=B.result.series;var K=s(".muiAgendaNormal",D)[0];if(E.length==1&&(E[0].type=="pie"||E[0].type=="gauge")){var C=E[0];var M=[];x.push(C.name);for(var O in C.data){var F=C.data[O];v.push(F.name);M.push(F.value)}N.push(M)}else{v=B.result.xAxis[0].data;for(var J=0;J<E.length;J++){var A=E[J];x.push(A.name);N.push(A.data)}}K.innerHTML="";if(N!=null&&N.length>0){var w=f.toDom("<tr></tr>");w.appendChild(f.toDom("<th></th>"));for(var I=0;I<x.length;I++){w.appendChild(f.toDom("<th>"+x[I]+"</th>"))}K.appendChild(w);for(var H=0;H<v.length;H++){var z=f.toDom("<tr></tr>");z.appendChild(f.toDom("<td>"+v[H]+"</td>"));for(var G=0;G<N.length;G++){var L=N[G][H];if(typeof L==="object"){if(L!=null){L=L.value}}z.appendChild(f.toDom("<td>"+L+"</td>"))}K.appendChild(z)}}p.set(D,"display","block");var y=p.get(K,"height");p.set(s('[data-dojo-dom="listview"]',D)[0],"height",(y+40)+"px");p.set(s('[data-dojo-dom="scrollview"]',D)[0],"height",(360-30)+"px")},renderChart:function(w){if(this.content==null||this.drawed){return}var v=this;this.drawed=true;if(this.chartTheme!=null){this.registerTheme(g)}else{this.concatDefaultOptions(w)}this.result=w;if(this.dbcenter&&w.toolbox&&w.toolbox.feature&&!w.toolbox.feature.myDataTableView){var x="/sys/ui/extend/theme/default/images/chart/switch.png";this._merge(w,{toolbox:{right:"25px",itemSize:20,feature:{mark:{show:false},dataZoom:{show:false},dataView:{show:false},magicType:{show:false},restore:{show:true,title:this.getLangProp("lang_restore","还原")},saveAsImage:{show:false},myDataTableView:{show:true,title:this.getLangProp("lang_dataView","数据视图"),icon:"image://"+n.formatUrl(x,true),onclick:function(){v.switchChart("1")}}}}})}this.options=w;this.echart=g.init(this.content,this.chartTheme==null?"landrayblue":this.chartTheme);if(w.on){for(var y in w.on){this.echart.on(y,w.on[y])}delete w.on}if(w.showMode=="dataView"){this.switchChart("1")}if(w.KmssData){this.echart.KmssData=w.KmssData;delete w.KmssData}this.echart.setOption(w)},concatDefaultOptions:function(){this.inherited(arguments)},registerTheme:function(v){this.inherited(v)},refresh:function(){this.echart=g.init(this.content);this.echart.setOption(this.options)},toJSON:function(v){return(new Function("return ("+v+");"))()},_merge:function(v,x){for(var w in x){if(typeof x[w]==="object"){if(!v[w]){v[w]={}}v[w]=this._merge(v[w],x[w])}else{v[w]=x[w]}}return v},getLangProp:function(w,v){if(this.lang_props&&this.lang_props[w]){return this.lang_props[w]}return v}})})},"sys/mobile/js/mui/category/CategoryNavInfo":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style"],function(e,f,a,d){var b=e("mui.category.CategoryNavInfo",[f],{baseClass:"muiCateNavInfo",key:null,top:null,buildRendering:function(){this.inherited(arguments);this.cateContainer=a.create("div",{className:"muiCateContainer"},this.domNode);this.titleNode=a.create("div",{className:"muiCateName muiCateTitle"},this.cateContainer);d.set(this.domNode,{display:"none"})},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/navChange","_changeNavInfo");this.subscribe("/mui/search/submit",function(){d.set(this.domNode,{top:"0px"})});this.subscribe("/mui/search/cancel",function(){d.set(this.domNode,{top:this.top})})},startup:function(){if(this._started){return}this.inherited(arguments);if(!this.top){var g=this.getPrevNode(this.domNode);if(g){this.top=g.offsetHeight+"px"}else{this.top="0px"}}d.set(this.domNode,{top:this.top})},getPrevNode:function(h){var k=h.parentNode.firstChild;if(h==k){return null}var g=h.previousSibling;while(g.nodeType!=1&&g.previousSibling!=null){g=g.previousSibling}return g.nodeType==1?g:null},_changeNavInfo:function(h,g){if(h.key==this.key){if(g){this.titleNode.innerHTML=g.label;d.set(this.domNode,{display:"block"})}else{this.titleNode.innerHTML="";d.set(this.domNode,{display:"none"})}}}});return b})},"sys/mobile/js/mui/device/device":function(){var a={PC:-1,WEB:0,WEB_IPHONE:1,EKP_IPHONE:2,EKP_IPAD:3,EKP_ANDRIOD:4,EKP_ANDRIODPAD:5,THIRD_WEIXIN:6,KK_IPHONE:7,KK_ANDRIOD:8,KK5_IPHONE:9,KK5_ANDRIOD:10,THIRD_DING:11,THIRD_WXWORK:12,THIRD_365:13,THIRD_GOVDING:14,THIRD_FEISHU:22,_UA_MAP:[{type:12,value:"wxwork"},{type:13,value:"coco"},{type:6,value:"micromessenger"},{type:14,value:"taurusapp"},{type:11,value:"dingtalk"},{type:9,value:"ekp-i-kk5"},{type:10,value:"ekp-i-android-kk5"},{type:7,value:"ekp-i-kk"},{type:8,value:"ekp-i-android-kk"},{type:4,value:"ekp-i-android"},{type:5,value:"ekp-i-hd-android"},{type:3,value:"ekp-i-hd"},{type:2,value:"ekp-i"},{type:22,value:"lark"}],__getClientUAKey:function(){var d=window.navigator.userAgent;d=d.toLowerCase();for(var b=0;b<this._UA_MAP.length;b++){var e=this._UA_MAP[b];if(d.indexOf(e.value)>-1){return e}}return null},getClientType:function(){var b=this.__getClientUAKey();if(b!=null){return b.type}return this.WEB}};if(window.dojoConfig&&window.define){window.define(["mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b){a.getClientTypeStr=function(e){var d=e!=null?e:this.getClientType();var f=b["mui.comefrom."+d];if(f!=null){return f}else{return d}};return a})}},"sys/mobile/js/mui/ringProgress/RingProgress":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style","dojo/dom-class"],function(d,g,a,b,f){var e=d("mui.ringProgress.RingProgress",[g],{value:0,_value:0,buildRendering:function(){this.inherited(arguments);this._buildRing()},_buildRing:function(){this._value=this.value>100?100:this.value;f.add(this.domNode,"muiRingProgress");var o=(18*parseInt(this._value)/5);var n=a.create("div",{className:"muiRingProgressLeftPie"},this.domNode);var q=a.create("div",{className:"muiRingProgressLeft"},n);if(o>180){var p=o-180;b.set(q,"transform","rotate("+p+"deg)");b.set(q,"-webkit-transform","rotate("+p+"deg)")}var h=a.create("div",{className:"muiRingProgressRightPie"},this.domNode);var l=a.create("div",{className:"muiRingProgressRight"},h);if(o<180){b.set(l,"transform","rotate("+o+"deg)");b.set(l,"-webkit-transform","rotate("+o+"deg)")}else{b.set(l,"transform","rotate(180deg)");b.set(l,"-webkit-transform","rotate(180deg)")}var k=a.create("div",{className:"muiRingProgressmask",innerHTML:"%"},this.domNode);var m=a.create("span",{innerHTML:this.value});a.place(m,k,"first")}});return e})},"sys/mobile/js/mui/search/SearchButtonBar":function(){define(["dojo/_base/declare","mui/header/HeaderItem","mui/folder/_Folder","mui/search/SearchBarDialogMixin"],function(b,d,a,e){return b("mui.search.SearchButtonBar",[d,a,e],{icon:"fontmuis muis-search",baseClass:"muiSearchButton"})})},"sys/mobile/js/mui/address/AddressSubordinate":function(){define(["dojo/_base/declare","dojo/topic","dijit/_WidgetBase","dojo/dom-construct","dojox/mobile/TransitionEvent","mui/device/adapter","mui/history/listener","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,g,e,d,k,l,a,h,b){return f("mui.address.AddressSubordinate",[e],{buildRendering:function(){var n=this;this.inherited(arguments);if((this.selType&window.ORG_TYPE_PERSON)!=window.ORG_TYPE_PERSON){return}this.dom=d.create("div",{className:"muiAddressItem muiUsualSubordinate"},this.domNode);var m=d.create("div",{className:"muiAddressItemIcon"},this.dom);d.create("img",{src:h.formatUrl("/sys/mobile/css/themes/default/images/address-subordinate.png")},m);d.create("div",{className:"muiAddressItemName",innerHTML:b["mui.mobile.address.subordinate"]},this.dom);var o=d.create("div",{className:"muiAddressItemMore"},this.dom);d.create("i",{className:"mui mui-forward"},o)},startup:function(){this.inherited(arguments);this.dom&&this.connect(this.dom,"click","openView")},openView:function(){var n;var m=this;a.push({forwardCallback:function(){n=document.title;g.publish("/mui/address/swapView",m,{viewKey:"subordinate"});new k(document.body,{moveTo:"subordinateView_"+m.key}).dispatch();l.setTitle(b["mui.mobile.address.subordinate"])},backCallback:function(){g.publish("/mui/address/swapView",m,{viewKey:"default"});new k(document.body,{moveTo:"defaultView_"+m.key}).dispatch();if(n){l.setTitle(n);n=null}}})}})})},"sys/mobile/js/mui/device/kk/adapter":function(){define(["mui/device/device","sys/mobile/js/lib/kk/kkapi","dojo/_base/lang","mui/device/kk/attachment","mui/mime/mime"],function(d,f,g,b,e){var a={closeWindow:function(){return f.closeWindow()},showTitleBar:function(h){return f.showTitleBar(h)},goBack:function(){return f.goBack()},goForward:function(){return f.goForward()},getUserID:function(){return f.getUserID()},_select:function(n,m){if(window.console){window.console.log(n+" begin..")}var l=m.options;if(!window.AttachmentList){window.AttachmentList={}}var k=window.AttachmentList[l.fdKey];if(!k){k=new b(l);window.AttachmentList[l.fdKey]=k}var h=this;f[n]({complete:function(s,q){var o=q;if(typeof(q)=="string"){o=f.formatJson(q)}if(window.console){window.console.log(n+" complete cacheId = "+s+",files="+q)}if(g.isArray(o)){for(var p=0;p<o.length;p++){if(n=="openCamera"||n=="selectFile"){o[p].href=h.readAsDataURL(o[p])}k.startUploadFile(o[p])}}else{if(n=="openCamera"||n=="selectFile"){o.href=h.readAsDataURL(o)}k.startUploadFile(o)}f.clearCache(s)},cancel:function(o){f.clearCache(o)},error:function(p,o){k.uploadError(null,{rtn:{status:"-1",msg:"附件错误:"+o}});f.clearCache(p)}});return{}},openSpeech:function(h){return this._select("openSpeech",h)},openCamera:function(h){return this._select("openCamera",h)},selectFile:function(h){return this._select("selectFile",h)},playSpeech:function(h){return f.playSpeech(h)},captureScreen:function(k){var h=this;f.captureScreen({complete:function(o,m){var l=m;if(typeof(m)=="string"){l=f.formatJson(m)}var n=h.readAsDataURL({fullpath:l.src});if(n){k(n)}f.clearCache(o)},cancel:function(l){f.clearCache(l)},error:function(m,l){if(window.console){window.console.error("截屏出错:"+l)}f.clearCache(m)}});return{}},readAsDataURL:function(l){var m=f.readAsDataURL(l);if(m!=null){var k=m.result;var h=e.getMime(l.fullpath);if(h!=null&&h!=""){k="data:"+h+";base64,"+k}else{k="data:image/jpeg;base64,"+k}return k}return null}};if(d.getClientType()==d.KK_IPHONE){delete a.openSpeech;delete a.captureScreen}return a})},"sys/mobile/js/mui/simplecategory/SimpleCategoryPath":function(){define(["dojo/_base/declare","mui/category/ScrollableCategoryPath"],function(b,a){var d=b("mui.simplecategory.SimpleCategoryPath",[a],{modelName:null,detailUrl:"/sys/category/mobile/sysSimpleCategory.do?method=pathList&cateId=!{curId}&modelName=!{modelName}"});return d})},"sys/mobile/js/mui/nav/_HomeNavBarMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","mui/header/HeaderItem","mui/folder/_Folder","dojo/_base/lang","mui/back/HrefBackMixin","dojo/topic","mui/util"],function(e,b,h,d,l,a,k,g,f){var m=e("mui.nav._HomeNavBarMixin",null,{homeClick:null,homeIcon:"mui mui-home-opposite",addFirstChild:function(n){this.firstItem=n;h.set(n.domNode,"display","none");this.addChild(n);this.subscribe("/mui/nav/onComplete","buildHomeBtn")},homeItemClick:function(o){var n=this.firstItem;g.publish("/mui/navitem/_selected",n,{width:0,left:0,target:n,url:n.url});if(window[this.homeClick]){window[this.homeClick]()}else{if("[object Function]"==Object.prototype.toString.call(this.homeClick)){this.homeClick()}else{new Function(this.homeClick)()}}},buildHomeBtn:function(){var n=[l,k];d=d.createSubclass(n);var o=new d({icon:this.homeIcon,click:a.hitch(this,this.homeItemClick),url:f.formatUrl(this.firstItem.url),moveTo:this.firstItem.moveTo});o.buildRendering();o.startup();b.place(o.domNode,this.domNode,"before")}});return m})},"sys/mobile/js/mui/list/ComplexLItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/list/item/ComplexLItemMixin"],function(b,d,a){return b("mui.list.ComplexLItemListMixin",[d],{itemRenderer:a})})},"sys/mobile/js/mui/form/switch/_SwitchBase":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/topic","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/dom-class","mui/form/_AlignMixin"],function(e,h,b,k,a,d,g,f){return e("mui.form.switch._SwitchBase",[h,f],{isForm:true,baseClass:"",showStatus:"edit",align:"left",property:"",value:"on",realValue:true,disabled:false,leftLabel:"ON",rightLabel:"OFF",buildRendering:function(){this.inherited(arguments);if(this.baseClass){g.add(this.domNode,"muiFormEleWrap");g.add(this.domNode,"muiFormStatus"+this.showStatus.substring(0,1).toUpperCase()+this.showStatus.substring(1));g.add(this.domNode,"muiForm"+this.align.substring(0,1).toUpperCase()+this.align.substring(1));g.add(this.domNode,this.baseClass)}this.switchNode=this.containerNode=a.create("div",{className:"muiSwitch "},this.domNode);if(this.showStatus=="readOnly"){this.disabled=true}if(this.disabled){g.add(this.switchNode,"muiSwitchDisabled")}if(!this.realValue||this.realValue=="false"){this.value="off"}this._onSetSwitchState(this.value);var l=a.create("div",{className:"muiSwitchKnob"},this.switchNode);if(this.leftLabel!=""){a.create("span",{className:"muiSwitchText muiSwitchLeftText",innerHTML:this.leftLabel},this.switchNode)}if(this.rightLabel!=""){a.create("span",{className:"muiSwitchText muiSwitchRightText",innerHTML:this.rightLabel},this.switchNode)}this.propDom=a.create("input",{type:"hidden",name:this.property,value:this.value?(this.value=="on"?true:false):this.realValue},this.domNode)},postCreate:function(){this.inherited(arguments);if(this.showStatus=="edit"&&this.disabled==false){this.connect(this.switchNode,"click",k.hitch(this,function(){this._onSwitchClick()}))}},_onSetSwitchState:function(l){this.state=l;if(l=="on"){g.remove(this.switchNode,"muiSwitchOff");g.add(this.switchNode,"muiSwitchOn")}else{g.remove(this.switchNode,"muiSwitchOn");g.add(this.switchNode,"muiSwitchOff")}},onStateChanged:function(l){var m=l=="on"?true:false;this.propDom.value=m;b.publish("mui/switch/statChanged",this,m)},_onSwitchClick:function(){var m=new Date().getTime();var l=this.ctime;if(l!="undefined"&&(m-l<500)){return false}else{this.set("value",(this.state=="on")?"off":"on");return true}},_setValueAttr:function(l){this.inherited(arguments);if(this.value!=l){this.state=l;this.value=l;this._onSetSwitchState(this.value);this.onStateChanged(this.state)}}})})},"sys/mobile/js/mui/calendar/CalendarHeader":function(){define(["dojo/_base/declare","dijit/_WidgetBase","mui/calendar/base/CalendarBase","mui/calendar/CalendarUtil","dojo/date","dojo/date/locale","dojo/topic","mui/calendar/_HeaderExternalViewMixin","dojo/dom-style","dojo/dom-class","dojo/dom-construct","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/util"],function(f,m,n,e,d,p,h,q,k,o,b,a,g){var l=f("mui.calendar.CalendarHeader",[m,n,q],{status:true,leftNode:null,rightNode:null,preNode:null,preNodeHandler:null,nextNode:null,nextNodeHandler:null,thisNode:null,thisNodeHandler:null,todayNode:null,todayNodeHandler:null,left:null,right:null,isThis:false,showDatePicker:true,_setLeftAttr:function(s){this.left=s},_setRightAttr:function(s){this.right=s},templateString:'<div class="mui_ekp_portal_date_title">		<span data-dojo-attach-point="thisNode" class="muiFontColorInfo muiFontSizeXXXL"></span>		<ul class="mui_ekp_portal_date_btn">			<li data-dojo-attach-point="preNode">				<span><i class="fontmuis muis-to-left muiFontSizeS"></i></span>			</li>			<li class="mui_ekp_portal_date_btn_left" data-dojo-attach-point="nextNode">				<span><i class="fontmuis muis-to-right muiFontSizeS"></i></span>			</li>			<li data-dojo-attach-point="leftNode">				<span></span>			</li>			<li data-dojo-attach-point="rightNode">				<span></span>			</li>			<li class="mui_ekp_portal_date_btn_today"  data-dojo-attach-point="todayNode">				<span class="fontmuis muis-today muiFontSizeS"></span>			</li>		</ul>		<a class="muiFontColorMuted muiFontSizeS" href="javascript:;" style="display:none" data-dojo-attach-point="moreNode">'+a["mui.button.small.more"]+'<i class="mui_ekp_portal_more_arrow fontmuis muis-to-right muiFontSizeXS"></i></a></div>',buildRendering:function(){this.templateString=this.templateString;this.inherited(arguments);this.currentDateDom=b.create("input",{name:"currentDate",type:"hidden"},this.domNode);this.bindEvent();this.subscribe(this.VALUE_CHANGE,"nodeChange");this.subscribe(this.VALUE_CHANGE,"todayNodeChange");this.subscribe("/mui/form/datetime/change","datePickerChange");this.subscribe("/mui/calendar/bottomStatus","statusChange");if(this.moreUrl){k.set(this.moreNode,"display","block");this.connect(this.moreNode,"click",function(){window.location=g.formatUrl(this.moreUrl)})}},startup:function(){this.inherited(arguments);if(this.right){o.add(this.rightNode,this.right.icon||"mui mui-listView")}else{k.set(this.rightNode,"display","none")}if(this.left){o.add(this.leftNode,this.left.icon||"mui-group")}else{k.set(this.leftNode,"display","none")}h.publish("/mui/calendar/headerComplete",this,{height:this.domNode.offsetHeight})},resize:function(){h.publish("/mui/calendar/headerComplete",this,{height:this.domNode.offsetHeight})},_setCurrentDateAttr:function(s,t){this.inherited(arguments);this.currentDateDom.value=e.formatDate(s)},todayNodeChange:function(s){if(this.getEnclosingCalendarView(s)!==this.getEnclosingCalendarView(this)){return}if(!d.compare(new Date(),this.currentDate,"date")){k.set(this.todayNode,{display:"none"})}else{k.set(this.todayNode,{display:"inline-block"})}},nodeChange:function(s){if(this.getEnclosingCalendarView(s)!==this.getEnclosingCalendarView(this)){return}this.stuff(this.currentDate,s)},statusChange:function(t,s){if(this.getEnclosingCalendarView(t)!==this.getEnclosingCalendarView(this)){return}this.status=s.status;this.bindEvent();this.stuff(this.currentDate)},datePickerChange:function(t){if(!this.isThis){if(this.getEnclosingCalendarView(t)!==this.getEnclosingCalendarView(this)){return}}this.currentDateDom.value=t.value;var s=e.parseDate(t.value);this.set("currentDate",s)},bindEvent:function(){if(this.preNodeHandler){this.disconnect(this.preNodeHandler)}if(this.nextNodeHandler){this.disconnect(this.nextNodeHandler)}if(this.status){this.preNodeHandler=this.connect(this.preNode,"click","preMonth");this.nextNodeHandler=this.connect(this.nextNode,"click","nextMonth")}else{this.preNodeHandler=this.connect(this.preNode,"click","preWeek");this.nextNodeHandler=this.connect(this.nextNode,"click","nextWeek")}if(!this.todayNodeHandler){this.todayNodeHandler=this.connect(this.todayNode,"click","toToday")}if(!this.thisNodeHandler&&this.showDatePicker){this.thisNodeHandler=this.connect(this.thisNode,"click","toCustomDate")}},toToday:function(){this.set("currentDate",new Date(),true)},toCustomDate:function(s){o.add(this.thisNode,"selected");this.defer(function(){require(["mui/form/DateTime"],function(t){t.selectDate(s,"currentDate");if(this.thisNode){o.remove(this.thisNode,"selected")}})},1);this.isThis=true},preMonth:function(){this.set("currentDate",d.add(this.currentDate,"month",-1),false,true)},nextMonth:function(){this.set("currentDate",d.add(this.currentDate,"month",1),false,true)},preWeek:function(){this.set("currentDate",d.add(this.currentDate,"week",-1),false,true)},nextWeek:function(){this.set("currentDate",d.add(this.currentDate,"week",1),false,true)},stuff:function(s,v){if(s){var u=e.formatDate(s);var t="y-MM";if(u.indexOf("/")>-1){t="y/MM"}var w=p.format(s,{selector:"date",datePattern:t});this._setText(this.thisNode,w)}}});return l})},"sys/mobile/js/mui/listcategory/SwapCategoryList":function(){define(["dojo/_base/declare","dojo/dom-construct","dojox/mobile/View","dojo/parser","dojo/_base/lang","mui/util","dojo/request","dojo/Deferred"],function(e,b,h,k,g,a,f,d){return e("mui.simplecategory.SwapCategoryList",[h],{mixins:["mui/category/ACategoryListMixin"],index:0,tmpl:"<div data-dojo-type=\"dojox/mobile/ScrollableView\" data-dojo-mixins=\"mui/category/AppBarsMixin\"data-dojo-props=\"scrollBar:false,threshold:100,key:'{key}'\"><ul data-dojo-type=\"mui/listcategory/ListCategoryList\" data-dojo-mixins=\"mui/listcategory/ListCategoryItemListMixin,!{mixin}\" data-dojo-props=\"lazy:false,isMul:{isMul},dataUrl:'{dataUrl}',key:'{key}',parentId:'!{fdId}',selType:{selType},modelName:'{modelName}',authType:'{authType}',curIds:'{curIds}',confirm:{confirm},index:{index}\" ></ul></div>",buildRendering:function(){this.inherited(arguments);this.containerNode=b.create("div",{className:"muiSimpleCateContainer"},this.domNode);this.subscribe("/mui/category/changed","_cateChange")},authed:false,_cateChange:function(m,l){if(m.key==this.key){this.authRequest(l)}},authUrl:"/sys/category/mobile/sysSimpleCategory.do?method=authData",authRequest:function(l){var m=new d();if(this.authed){m.resolve()}else{this.authed=true;f.post(a.formatUrl(this.authUrl),{handleAs:"json",data:{modelName:this.modelName,authType:this.authType}}).then(g.hitch(this,function(n){this.authCateIds=n.authIds;m.resolve()}))}m.promise.then(g.hitch(this,function(){this.generateList(l)}))},generateList:function(m){m.mixin=this.mixins[0];var n=this.tmpl;n=a.urlResolver(n,m);n=g.replace(n,this);var l=b.create("div",{innerHTML:n,className:"muiSimpleCateContent muiListcategoryList"},this.containerNode);k.parse(l).then(function(o){o[0].resize()})}})})},"sys/mobile/js/mui/search/_SearchComplete":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style","mui/util","dojo/request","dojo/_base/lang","dojo/topic"],function(f,l,d,b,k,h,e,a,g){return f("mui.search._SearchComplete",[d],{url:"/sys/ftsearch/sysFtsearchAutoComplete.do?method=searchTip&q=!{keyword}",baseClass:"muiSearchComplete fadeIn animated",buildRendering:function(){this.inherited(arguments);this.containerNode=b.create("ul",{className:"muiSearchCompleteContainer "},this.domNode);b.place(this.domNode,document.body,"last");this.show();this.subscribe("/mui/search/onChange","_onChange");this.subscribe("/mui/search/submit","_onSubmit")},_onSubmit:function(){this.hide()},show:function(){k.set(this.domNode,{display:"block"});if(!this.keyword&&this.parent){this.keyword=encodeURIComponent(this.parent.keyword)}e.get(h.formatUrl(h.urlResolver(this.url,{keyword:this.keyword})),{handleAs:"json"}).response.then(a.hitch(this,function(n){var m=n.data;b.empty(this.containerNode);if(m&&m.length>0){l.forEach(m,function(o){var p=b.create("li",{innerHTML:o},this.containerNode);this.connect(p,"click","_selectRecord")},this)}}))},_selectRecord:function(n){var o=n.target||n.srcElement;var m=o.innerHTML;g.publish("/mui/search/keyword",this,{keyword:m})},_onChange:function(m){if(m!=this.parent){return}this.keyword=encodeURIComponent(m.keyword);if(this.keyword){this.show()}else{this.hide()}},hide:function(){k.set(this.domNode,{display:"none"})}})})},"sys/mobile/js/mui/list/ProcessItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/list/item/ProcessItemMixin"],function(b,d,a){return b("mui.list.ProcessItemListMixin",[d],{itemTemplateString:null,itemRenderer:a})})},"sys/mobile/js/mui/calendar/CalendarListScrollableView":function(){define(["dojo/_base/declare","dojox/mobile/ScrollableView","dojo/topic","dojo/dom-class","mui/list/_ViewScrollEventPublisherMixin"],function(d,f,b,e,g){var a=d("mui.calendar.CalendarListScrollableView",[f,g],{scrollBar:false,weight:0,type:"/mui/calendar/listScrollableTop",buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/calendar/bottomStatus","statusChange")},disableTouchScroll:true,adjustDestination:function(h){if(h.y>=0){this.defer(function(){b.publish(this.type,this,h)},1000)}else{b.publish(this.type,this,h)}return true},statusChange:function(k,h){if(this.getEnclosingCalendarView(k)!=this.getEnclosingCalendarView(this)){return}this.disableTouchScroll=h.status},getEnclosingCalendarView:function(h){if(h&&h.getParent){h=h.getParent();while(h){if(e.contains(h.domNode,"muiCalendarScrollableView")){return h}h=h.getParent()}}return null},startup:function(){this.inherited(arguments);this.subscribe("/mui/calendar/valueChange",function(){b.publish("/mui/list/toTop",this,{y:0})})}});return a})},"sys/mobile/js/mui/i18n/_i18n":function(){define([],function(){function a(d,b){require([d+"_"+dojoConfig.locale+"._min_"],b)}return{load:function(e,b,d){a(e,d)}}})},"sys/mobile/js/mui/calendar/termCalendar":function(){define(["dojo/_base/declare"],function(a){var b=a("mui.calendar.termCalendar",null,{lunarInfo:[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,41696,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],solarMonth:[31,28,31,30,31,30,31,31,30,31,30,31],solarTerm:["\u5c0f\u5bd2","\u5927\u5bd2","\u7acb\u6625","\u96e8\u6c34","\u60ca\u86f0","\u6625\u5206","\u6e05\u660e","\u8c37\u96e8","\u7acb\u590f","\u5c0f\u6ee1","\u8292\u79cd","\u590f\u81f3","\u5c0f\u6691","\u5927\u6691","\u7acb\u79cb","\u5904\u6691","\u767d\u9732","\u79cb\u5206","\u5bd2\u9732","\u971c\u964d","\u7acb\u51ac","\u5c0f\u96ea","\u5927\u96ea","\u51ac\u81f3"],sTermInfo:["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],getTerm:function(h,g){if(h<1900||h>2100){return -1}if(g<1||g>24){return -1}var d=this.sTermInfo[h-1900];var f=[parseInt("0x"+d.substr(0,5)).toString(),parseInt("0x"+d.substr(5,5)).toString(),parseInt("0x"+d.substr(10,5)).toString(),parseInt("0x"+d.substr(15,5)).toString(),parseInt("0x"+d.substr(20,5)).toString(),parseInt("0x"+d.substr(25,5)).toString()];var e=[f[0].substr(0,1),f[0].substr(1,2),f[0].substr(3,1),f[0].substr(4,2),f[1].substr(0,1),f[1].substr(1,2),f[1].substr(3,1),f[1].substr(4,2),f[2].substr(0,1),f[2].substr(1,2),f[2].substr(3,1),f[2].substr(4,2),f[3].substr(0,1),f[3].substr(1,2),f[3].substr(3,1),f[3].substr(4,2),f[4].substr(0,1),f[4].substr(1,2),f[4].substr(3,1),f[4].substr(4,2),f[5].substr(0,1),f[5].substr(1,2),f[5].substr(3,1),f[5].substr(4,2)];return parseInt(e[g-1])},solar2lunar:function(o,h,n){if(o<1900||o>2100){return -1}if(o==1900&&h==1&&n<31){return -1}if(!o){var p=new Date()}else{var p=new Date(o,parseInt(h)-1,n)}var k,g=0,s=0;var o=p.getFullYear(),h=p.getMonth()+1,n=p.getDate();var e=this.getTerm(o,(h*2-1));var f=this.getTerm(o,(h*2));var q=false;var l=null;if(e==n){q=true;l=this.solarTerm[h*2-2]}if(f==n){q=true;l=this.solarTerm[h*2-1]}return{isTerm:q,Term:l}}});return new b()})},"sys/mobile/js/mui/datetime/DatePicker7":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/date/locale","dojo/date/stamp","mui/datetime/SpinWheelDatePicker7","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-attr"],function(e,m,o,l,b,p,n,a,d,m){var h=d["mui.datetime.week.shortName"].split(",");var q={minItems:12,format:function(t){return p.format(t,{datePattern:this.pattern,selector:"date"})},setColor:function(B,A,w){var v=this.flag=="date";var y=this.panelNodes.length;for(var x=0;x<y;x++){var t=this.panelNodes[x];var z=t.querySelectorAll(".mblSpinWheelSlotLabelBlue:not([data-mobile-val='"+B+"'])");l.forEach(z,function(D){var C=m.get(D,"data-mobile-val");if(D.innerHTML!=C){o.toggle(D,w||"mblSpinWheelSlotLabelBlue",false);D.innerHTML=C}});var u=t.querySelectorAll("[data-mobile-val='"+B+"']");l.forEach(u,function(F){var C="";var D=p.parse(B,{datePattern:this.pattern,selector:"date"});var E=p.format(D,{datePattern:this.disPattern,selector:"date"});E=E+'<span style="display: none;" class="mblSpainWheelSlotLabelText">'+this.disText+"</span>";if(F.innerHTML!=E){o.toggle(F,w||"mblSpinWheelSlotLabelBlue",true);F.innerHTML=E}},this)}}};var g=b.mixin({flag:"year",initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var v=new Date(this.labelFrom,0,1);var u,t;for(u=this.labelFrom,t=0;u<=this.labelTo;u++,t++){this["currYearFrom"]=u;v.setFullYear(u);this.labels.push(this.format(v))}}}},q);var f=b.mixin({flag:"month",initLabels:function(){this.labels=[];var u=new Date(2000,0,16);for(var t=0;t<12;t++){this["currMonthFrom"]=t;u.setMonth(t);this.labels.push(this.format(u))}}},q);var s=b.mixin({flag:"date",initLabels:function(){this.labels=[];var u=new Date(2000,0,1);for(var t=1;t<=31;t++){this["currDateFrom"]=t;u.setDate(t);this.labels.push(this.format(u))}}},q);var k=e("mui.datetime.DatePicker7",[a],{yearPattern:"yyyy",monthPattern:"MM",dayPattern:"dd",disYearPattern:"yyyy",disMonthPattern:"MM",disDayPattern:"dd",disYearText:d["mui.datetime.year"],disMonthText:d["mui.datetime.month"],disDayText:d["mui.datetime.day"],slotProps:[{labelFrom:1899,labelTo:2099},{},{}],initSlots:function(){var u=this.slotClasses,t=this.slotProps;u[0]=e(u[0],g);u[1]=e(u[1],f);u[2]=e(u[2],s);t[0].pattern=this.yearPattern;t[1].pattern=this.monthPattern;t[2].pattern=this.dayPattern;t[0].disPattern=this.disYearPattern;t[1].disPattern=this.disMonthPattern;t[2].disPattern=this.disDayPattern;t[0].disText=this.disYearText;t[1].disText=this.disMonthText;t[2].disText=this.disDayText;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var t=p._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=l.map(t,function(u){return{y:0,m:1,d:2}[u.charAt(0)]});if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){this.slotOrder=[2,1,0]}},reset:function(){this.inherited(arguments);this._resetColors()},onYearSet:function(){this._resetColors()},onMonthSet:function(){this._resetColors()},onDaySet:function(){this._resetColors()},_setColorsAttr:function(t){var u=this.get("date");l.forEach(this.getSlots(),function(v,x){v.setColor&&v.setColor(t[x],u)})},_resetColors:function(){var t=this.get("values");this.set("colors",t)},_setValueAttr:function(w){var u=w;if(dojoConfig.locale=="en-us"&&w){var v=w.split("/");u=v[2]+"-"+v[0]+"-"+v[1]}if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)&&w){var v=w.split("/");u=v[2]+"-"+v[1]+"-"+v[0]}var t=new Date();if(u){t=n.fromISOString(u)}this.set("values",l.map(this.slots,function(x){return x.format(t)}))},_getValueAttr:function(){var v=this.get("date");if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){return p.format(v,{datePattern:"MM/yyyy",selector:"date"})}if(dojoConfig.locale=="en-us"){return p.format(v,{datePattern:"MM/dd/yyyy",selector:"date"})}var u=n.toISOString(v,{selector:"date"});var t=p.format(v,{datePattern:"yyyy-MM",selector:"date"});return t}});return k})},"sys/mobile/js/mui/form/_CompositeContainedMixin":function(){define(["dojo/_base/declare","mui/form/Composite","dojo/dom-class","dijit/_Contained","dojo/dom-construct"],function(d,g,f,e,a){var b=d("mui.form._CompositeContainedMixin",[e],{isComposite:false,buildRendering:function(){this.inherited(arguments);if(this.isInComposite()){this.doRenderInComposite()}},postCreate:function(){this.inherited(arguments);if(this.isComposite){this.doCreateInComposite()}},isInComposite:function(){var h=this.getParent();if(h&&h.isInstanceOf(g)){this.isComposite=true}return this.isComposite},doRenderInComposite:function(){var h=a.create("div",{className:"muiFormCompositeContained muiFormItem"},this.domNode.parentNode);a.place(this.domNode,h)},doCreateInComposite:function(){},_initText:function(){this.inherited(arguments);if(this.isComposite){if(this.requiredNode){f.remove(this.requiredNode,"muiFormRequiredShow")}}}});return b})},"sys/mobile/js/mui/rtf/_ImageResizeMixin":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/dom-attr","dojo/query","dojo/_base/array","mui/device/adapter","dojo/on","dojo/_base/lang"],function(e,d,k,f,h,b,a,g){return e("mui.rtf._ImageResizeMixin",null,{formatContent:function(l){this.inherited(arguments);var m=[];if(typeof(l)=="object"){m=f("img",l)}else{m=f(l+" img")}this.initSrcList();h.forEach(m,g.hitch(this,function(o){var n=o.parentNode;if(n.nodeName=="A"&&n.href!=""){return}var p=o.src;if(k.get(o,"data-type")!="face"&&p.indexOf("/images/smiley/wangwang/")<0){this.addSrcList(o.src);this.resizeDom(o)}}))},resizeDom:function(n){k.remove(n,"style");var m={height:"auto",textIndent:"0px","max-width":"100%"};d.set(n,m);var l=this;var o=n.src;if(o.indexOf("picthumb")>0){o=o.replace("&picthumb=big","")}a(n,"click",function(p){b.imagePreview({curSrc:o,srcList:l.getSrcList(),previewImgBgColor:l.previewImgBgColor})})},initSrcList:function(){this.srcList=[]},addSrcList:function(l){if(l.indexOf("picthumb")>0){l=l.replace("&picthumb=big","")}this.srcList.push(l)},getSrcList:function(){return this.srcList}})})},"sys/mobile/js/mui/datetime/TimePicker":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/_base/array","dojo/date/locale","dojo/date/stamp","dojox/mobile/SpinWheelTimePicker","dojox/mobile/SpinWheelSlot","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/_base/config"],function(h,n,q,b,l,s,p,o,a,f,e){var g={format:function(t){return s.format(t,{timePattern:this.pattern,selector:"time"})},setColor:function(u,t){l.forEach(this.panelNodes,function(v){l.forEach(v.childNodes,function(A,z){var y=n.get(A,"data-mobile-val");q.toggle(A,t||"mblSpinWheelSlotLabelBlue",y===u);if(y==u){var w=s.parse(u,{timePattern:this.pattern,selector:"time"});var x=s.format(w,{timePattern:this.disPattern,selector:"time"});x=x+"<span class='mblSpainWheelSlotLabelText'>"+this.disText+"</span>";A.innerHTML=x}else{A.innerHTML=y}},this)},this)}};var d=b.mixin({initLabels:function(){if(this.labelFrom!==this.labelTo){this.labels=[];var u=new Date(2000,0,1,this.labelFrom,0);for(var t=this.labelFrom;t<=this.labelTo;t++){u.setHours(t);this.labels.push(this.format(u))}}}},g);var m=b.mixin({initLabels:function(){if(this.labelFrom!==this.labelTo){this.labels=[];var u=new Date(2000,0,1,0,this.labelFrom);for(var t=this.labelFrom;t<=this.labelTo;t+=(this.step||1)){u.setMinutes(t);this.labels.push(this.format(u))}}}},g);var k=h("mui.datetime.TimePicker",[o],{pattern:"HH:mm",houePattern:"HH",minutePattern:"mm",disHouePattern:"HH",disHinutePattern:"mm",disHourText:f["mui.datetime.hour"],disMinuteText:f["mui.datetime.minute"],slotClasses:[a,a],slotProps:[{labelFrom:0,labelTo:23,style:{width:"50%"}},{labelFrom:0,labelTo:59,zeroPad:2,style:{width:"50%"}}],buildRendering:function(){this.initSlots();this.inherited(arguments);this._conn=[this.connect(this.slots[0],"onFlickAnimationEnd","_onHourSet"),this.connect(this.slots[1],"onFlickAnimationEnd","_onMinuteSet")]},initSlots:function(){var u=this.slotClasses,t=this.slotProps;u[0]=h(u[0],d);u[1]=h(u[1],m);t[0].pattern=this.houePattern;t[1].pattern=this.minutePattern;t[0].disPattern=this.disHouePattern;t[1].disPattern=this.disHinutePattern;t[0].disText=this.disHourText;t[1].disText=this.disMinuteText;this.minuteStep=(this.minuteStep?(parseInt(this.minuteStep)||1):(e.calendar?(e.calendar.minuteStep||1):1));t[1].step=this.minuteStep},reset:function(){this.inherited(arguments);this._resetColors()},onHourSet:function(){this._resetColors()},onMinuteSet:function(){this._resetColors()},_onHourSet:function(){var u=this.slots[0];var t=u.get("value");if(!(u._previousValue&&t==u._previousValue)){u._previousValue=t;u._set("value",t);this.onHourSet()}},_onMinuteSet:function(){var u=this.slots[1];var t=u.get("value");if(!(u._previousValue&&t==u._previousValue)){u._previousValue=t;u._set("value",t);this.onMinuteSet()}},_resetColors:function(){var t=this.get("values");this.set("colors",t)},_setValueAttr:function(y){if(!y){var w=new Date();y=s.format(w,{timePattern:this.pattern,selector:"time"})}var v=y.trim().split(":");if(v.length!=2){var x=[];var u=this;l.forEach(v,function(A,z){x.push(u.slots[z].get("value"))});this.values=x}else{this.values=v}var t=parseInt(this.values[1]);if(t%this.minuteStep==0){}else{t=(parseInt(t/this.minuteStep)+1)*this.minuteStep}t=t>=60?0:t;t=t>10?(""+t):("0"+t);this.values[1]=t},_getValueAttr:function(){var t=[];l.forEach(this.slots,function(u){t.push(u.get("value"))});if(t.length>1){return t[0]+":"+t[1]}return""}});return k})},"sys/mobile/js/mui/list/HashJsonStoreList":function(){define(["dojo/_base/declare","./JsonStoreList","./JsonStoreListHashMixin"],function(a,d,b){return a("mui.list.HashJsonStoreList",[d,b],{})})},"sys/mobile/js/mui/device/kk5/attachment":function(){define(["dojo/_base/declare","dojo/request","mui/device/attachment/_attachmentProxy","lib/kk5/kk5"],function(a,b,e,d){return a("mui.device.kk5.attachment",[e],{_uploadFile:function(k,h){var f=this;if(this.uploadStream){var g=this.buildOptions(k,h);var l=b.post(this._url,g);l.then(function(m){f.uploadSuccess(k,m)},function(m){k.status=0;f.uploadError(k,{rtn:m})},function(m){k.status=1;f.uploadProcess(m.loaded,k)})}else{this._url=this.uploadurl;if(this.uploadType==2){this._url=this.rtfUploadUrl}f.uploadFile(k,this._url,h.header.userkey,function(m){f.uploadSuccess(k,m)},null,function(m){k.status=0;f.uploadError(k,m)})}},uploadFile:function(k,l,m,h,g,n){var f=this;d.proxy.uploadView({token:m,userkey:m,url:l,fullPath:k.fullPath},function(o){h(o)},function(o){var p="";if(o==-1){p="附件上传网络不可用";if(window.console){window.console.error(p)}}if(o==-2){p="附件上传调用参数错误";if(window.console){window.console.error(p)}}if(o==-3){p="附件上传被取消";if(window.console){window.console.error(p)}}if(o==-9){p="附件上传服务器端出错";if(window.console){window.console.error(p)}}if(n&&p!=""){n({rtn:{status:"-1",msg:"附件上传错误:"+p}})}});return{}}})})},"sys/mobile/js/mui/property/SwapMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/topic","dojo/query","dijit/registry","mui/util"],function(e,g,d,f,b,a){return e("mui.property.PropertyFilterListMixin",null,{commonQuery:null,buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/property/filter","onFilter")},onFilter:function(m,k){var l=this.getChildren();if(l.length==0){return}d.publish("/mui/list/toTop",this);var h=(k._common||[])[0];g.forEach(l,function(o){o.reloadTime=0;var u=b.getEnclosingWidget(f(".mblEdgeToEdgeList",o.domNode)[0]);var n=u.getParent();var s=n.rel.url;var v=s.split("&");for(var t=0;t<v.length;t++){if(v[t].indexOf("q.")>-1){s=s.replace("&"+v[t],"")}}for(var p in k){if(p.indexOf("_common")>-1){continue}for(var q=0;q<k[p].length;q++){s+="&q."+encodeURIComponent(p)+"="+encodeURIComponent(k[p][q])}}if(this.commonQuery){s=s.replace("&"+this.commonQuery,"")}if(h){s+="&"+h}n.rel.url=s;u.url=a.formatUrl(n.rel.url);if(this.currView==o){u.reload()}},this);this.commonQuery=h}})})},"sys/mobile/js/mui/syscategory/SysCategoryMixin":function(){define(["dojo/_base/declare"],function(b){window.SYS_CATEGORY_TYPE_CATEGORY=0;window.SYS_CATEGORY_TYPE_TEMPLATE=1;var a=b("mui.syscategory.SysCategoryMixin",null,{type:window.SYS_CATEGORY_TYPE_TEMPLATE,modelName:null,mainModelName:null,showCommonCate:true,confirm:!this.isMul,getTemplate:1,showType:"0",isMul:false,detailUrl:"/sys/category/mobile/sysCategory.do?method=detailList&cateId=!{currentId}&modelName=!{modelName}&fdTmepKey=!{fdTmepKey}",jsURL:"/sys/mobile/js/mui/syscategory/syscategory_sgl.js!modelName=!{modelName}&mainModelName=!{mainModelName}&fdTmepKey=!{fdTmepKey}&authType=!{authType}&confirm=!{confirm}&required=!{required}&showCommonCate=!{showCommonCate}&extendPara=key:!{key}&s_time="+new Date().getTime(),_setIsMulAttr:function(d){this._set("isMul",d);if(this.isMul){this.jsURL="/sys/mobile/js/mui/syscategory/syscategory_mul.js!modelName=!{modelName}&fdTmepKey=!{fdTmepKey}&mainModelName=!{mainModelName}&authType=!{authType}&showCommonCate=!{showCommonCate}&extendPara=key:!{key}&s_time="+new Date().getTime()}else{this.jsURL="/sys/mobile/js/mui/syscategory/syscategory_sgl.js!modelName=!{modelName}&fdTmepKey=!{fdTmepKey}&mainModelName=!{mainModelName}&authType=!{authType}&confirm=!{confirm}&required=!{required}&showCommonCate=!{showCommonCate}&extendPara=key:!{key}&s_time="+new Date().getTime()}}});return a})},"sys/mobile/js/mui/calendar/CalendarBottomOpt":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dojo/dom-construct"],function(d,e,b,a){return d("mui.calendar.CalendarBottomOpt",[e,b],{startup:function(){var f=this.getParent();if(f){a.place(this.srcNodeRef,f.eventNode,"last")}}})})},"sys/mobile/js/mui/list/SwapScrollableView":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dijit/registry","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dojox/mobile/SwapView","dojox/mobile/View","dojo/parser","dojo/topic","dojo/Deferred","mui/list/StoreScrollableView"],function(l,g,n,t,s,a,k,h,e,o,d,b,m,p,q){var f=l([o],{onAfterTransitionIn:function(){this.inherited(arguments);m.publish("/dojox/mobile/viewChanged",this);this.resize()}});return l("mui.list.SwapScrollableView",[k,h,e],{innerSwapClass:f,innerScrollableView:q,stopParser:true,templateString:null,refNavBar:null,currView:null,canStore:true,postCreate:function(){this.inherited(arguments);this.subscribe("/dojox/mobile/viewChanged","handleViewChanged");this.connect(window,"orientationchange","_handleOrientation")},buildRendering:function(){this.inherited(arguments);if(!this.templateString){this.templateString=this.domNode.innerHTML;this.domNode.innerHTML=""}},startup:function(){if(this._started){return}this.inherited(arguments)},_handleOrientation:function(){try{var w=this;var x=120;var v=new p();function u(z,A){window.innerHeight!=A||z>=x?v.resolve():window.requestAnimationFrame(function(){u(z+1,A)})}u(0,window.innerHeight);v.then(function(){w.resize&&w.resize()})}catch(y){}},handleViewChanged:function(u){if(!(u instanceof o)){return}n.forEach(this.getChildren(),function(z){if(z===u){var w=u.reloadTime||0;var x=new Date().getTime();var v=(this.currView!=u)&&(w==0);this.currView=u;u.containerNode.style.paddingTop="0";this.onSwapViewChanged(u);if(v){u.reloadTime=x;if(u.getChildren().length>0&&u.getChildren()[0].reload){u.getChildren()[0].reload()}}if(window.localStorage&&this.canStore){try{localStorage.setItem("swapIndex:"+location.pathname,u.getIndexInParent())}catch(y){if(window.console){console.log(y.name)}}}return false}},this)},onSwapViewChanged:function(u){},_createScroll:function(u){return new this.innerScrollableView({rel:u})},_createSwap:function(){return new this.innerSwapClass()},generateSwapList:function(v,x){var w=0;if(x&&x.selectedItem){w=n.indexOf(v,x.selectedItem)}n.forEach(v,function(A,z){if(A.url){var B=this._createSwap();this.addChild(B);var y=this._createScroll(A);B.addChild(y);A.moveTo=B.id;b.parse(t.create("div",{innerHTML:this.templateString})).then(function(C){n.forEach(C,function(E,D){y.addChild(E,D+1)})})}else{if(A.moveTo){if(x.id!="categoryNavBar"){var B=a.byId(A.moveTo);this.addChild(B)}}}},this);if(window.localStorage&&this.canStore){w=localStorage.getItem("swapIndex:"+location.pathname);if(w==null){w=0}else{w=parseInt(w)}}if(w==0){this.handleViewChanged(this.getChildren()[w])}else{var u=this;require(["dojox/mobile/TransitionEvent"],function(y){setTimeout(function(){new y(document.body,{moveTo:u.getChildren()[w].id}).dispatch()},1)})}this.resize()},resize:function(){if(this.domNode.parentNode){var y,u,w,v;for(w=0,u=this.domNode.parentNode.childNodes.length;w<u;w++){y=this.domNode.parentNode.childNodes[w];if(y.nodeType===1){var x=y.getAttribute("fixed")||y.getAttribute("data-mobile-fixed")||(a.byNode(y)&&a.byNode(y).fixed);if(x==="bottom"){s.add(y,"mblFixedBottomBar");v=y}}}}this.inherited(arguments);n.forEach(this.getChildren(),function(z){if(z.resize){if(!z._fixedAppFooter){z._fixedAppFooter=v;z.getChildren()[0]._fixedAppFooter=v}z.resize()}})}})})},"sys/mobile/js/mui/openProxyMixin":function(){define(["dojo/_base/declare","mui/device/adapter","mui/util","dojo/_base/lang","dojo/dom-class","dojo/touch"],function(d,b,a,f,e,g){return d("mui.openProxyMixin",null,{_selClass:"mblListItemSelected",buildRendering:function(){this.inherited(arguments);e.add(this.domNode,"muiPortalClickItem")},proxyClick:function(k,h,m,l){k.dojoClick=true;this.connect(k,"click",f.hitch(this,function(){this.set("selected",true);var n=h;if(!l){n=a.formatUrl(h,true)}b.open(n,m);this.defer(function(){this.set("selected",false)},100)}))},_setSelectedAttr:function(h){this.inherited(arguments);e.toggle(this.domNode,this._selClass,h)}})})},"sys/mobile/js/mui/chart/ChartWesterosMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,e,a,d){return b("mui.chart.chartWesterosMixin",null,{colors:["#4285f4","#e57abc","#f3c14a","#69e27c","#a294e3","#f29393"],concatDefaultOptions:function(f){this.defaultColor(f);this.defaultXAxis(f)},defaultXAxis:function(f){var h=f.xAxis;if(h instanceof Array){for(var g=0;g<h.length;g++){if(!f.xAxis[g].axisLabel){f.xAxis[g].axisLabel={}}if(!f.xAxis[g].axisLabel.rotate){f.xAxis[g].axisLabel.rotate=30}}}},defaultColor:function(f){if(!f.color){f.color=this.colors}},registerTheme:function(f){f.registerTheme("westeros",{color:this.colors,backgroundColor:"rgba(0,0,0,0)",textStyle:{},title:{textStyle:{color:"#666666"},subtextStyle:{color:"#f2f2f2"}},line:{itemStyle:{normal:{borderWidth:"2"}},lineStyle:{normal:{width:"2"}},symbolSize:"6",symbol:"emptyCircle",smooth:true},radar:{itemStyle:{normal:{borderWidth:"2"}},lineStyle:{normal:{width:"2"}},symbolSize:"6",symbol:"emptyCircle",smooth:true},bar:{itemStyle:{normal:{barBorderWidth:0,barBorderColor:"#ffffff"},emphasis:{barBorderWidth:0,barBorderColor:"#ffffff"}}},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},scatter:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},boxplot:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},parallel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},sankey:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},funnel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},gauge:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},candlestick:{itemStyle:{normal:{color:"#f79fc2",color0:"transparent",borderColor:"#f04086",borderColor0:"#2cd3e1",borderWidth:"2"}}},graph:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"}},lineStyle:{normal:{width:1,color:"#aaaaaa"}},symbolSize:"6",symbol:"emptyCircle",smooth:true,color:["#4285f4","#e57abc","#f3c14a","#69e27c","#a294e3","#f29393"],label:{normal:{textStyle:{color:"#ffffff"}}}},map:{itemStyle:{normal:{areaColor:"#f3f3f3",borderColor:"#516b91",borderWidth:0.5},emphasis:{areaColor:"rgba(165,231,240,1)",borderColor:"#516b91",borderWidth:1}},label:{normal:{textStyle:{color:"#000000"}},emphasis:{textStyle:{color:"rgb(81,107,145)"}}}},geo:{itemStyle:{normal:{areaColor:"#f3f3f3",borderColor:"#516b91",borderWidth:0.5},emphasis:{areaColor:"rgba(165,231,240,1)",borderColor:"#516b91",borderWidth:1}},label:{normal:{textStyle:{color:"#000000"}},emphasis:{textStyle:{color:"rgb(81,107,145)"}}}},categoryAxis:{axisLine:{show:true,lineStyle:{color:"#cccccc"}},axisTick:{show:false,lineStyle:{color:"#333"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:true,lineStyle:{color:["#eeeeee"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},valueAxis:{axisLine:{show:true,lineStyle:{color:"#cccccc"}},axisTick:{show:false,lineStyle:{color:"#333"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:true,lineStyle:{color:["#eeeeee"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},logAxis:{axisLine:{show:true,lineStyle:{color:"#cccccc"}},axisTick:{show:false,lineStyle:{color:"#333"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:true,lineStyle:{color:["#eeeeee"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},timeAxis:{axisLine:{show:true,lineStyle:{color:"#cccccc"}},axisTick:{show:false,lineStyle:{color:"#333"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:true,lineStyle:{color:["#eeeeee"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999999"},emphasis:{borderColor:"#666666"}}},legend:{textStyle:{color:"#999999"}},tooltip:{axisPointer:{lineStyle:{color:"#cccccc",width:1},crossStyle:{color:"#cccccc",width:1}}},timeline:{lineStyle:{color:"#8fd3e8",width:1},itemStyle:{normal:{color:"#8fd3e8",borderWidth:1},emphasis:{color:"#8fd3e8"}},controlStyle:{normal:{color:"#8fd3e8",borderColor:"#8fd3e8",borderWidth:0.5},emphasis:{color:"#8fd3e8",borderColor:"#8fd3e8",borderWidth:0.5}},checkpointStyle:{color:"#8fd3e8",borderColor:"rgba(181,173,194,0.37)"},label:{normal:{textStyle:{color:"#8fd3e8"}},emphasis:{textStyle:{color:"#8fd3e8"}}}},visualMap:{color:["#516b91","#59c4e6","#a5e7f0"]},dataZoom:{backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"rgba(255,255,255,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333333"}},markPoint:{label:{normal:{textStyle:{color:"#ffffff"}},emphasis:{textStyle:{color:"#ffffff"}}}}})}})})},"sys/mobile/js/mui/datetime/DatePicker_year":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/date/locale","dojo/date/stamp","mui/datetime/SpinWheelDatePicker_year","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-attr"],function(d,l,n,k,a,p,m,o,b,l){var g=b["mui.datetime.week.shortName"].split(",");var q={minItems:12,format:function(t){return p.format(t,{datePattern:this.pattern,selector:"date"})},setColor:function(B,A,w){var v=this.flag=="date";var y=this.panelNodes.length;for(var x=0;x<y;x++){var t=this.panelNodes[x];var z=t.querySelectorAll(".mblSpinWheelSlotLabelBlue:not([data-mobile-val='"+B+"'])");k.forEach(z,function(D){var C=l.get(D,"data-mobile-val");if(D.innerHTML!=C){n.toggle(D,w||"mblSpinWheelSlotLabelBlue",false);D.innerHTML=C}});var u=t.querySelectorAll("[data-mobile-val='"+B+"']");k.forEach(u,function(F){var C="";var D=p.parse(B,{datePattern:this.pattern,selector:"date"});var E=p.format(D,{datePattern:this.disPattern,selector:"date"});E=E+'<span style="display: none;" class="mblSpainWheelSlotLabelText">'+this.disText+"</span>";if(F.innerHTML!=E){n.toggle(F,w||"mblSpinWheelSlotLabelBlue",true);F.innerHTML=E}},this)}}};var f=a.mixin({flag:"year",initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var v=new Date(this.labelFrom,0,1);var u,t;for(u=this.labelFrom,t=0;u<=this.labelTo;u++,t++){this["currYearFrom"]=u;v.setFullYear(u);this.labels.push(this.format(v))}}}},q);var e=a.mixin({flag:"month",initLabels:function(){this.labels=[];var u=new Date(2000,0,16);for(var t=0;t<12;t++){this["currMonthFrom"]=t;u.setMonth(t);this.labels.push(this.format(u))}}},q);var s=a.mixin({flag:"date",initLabels:function(){this.labels=[];var u=new Date(2000,0,1);for(var t=1;t<=31;t++){this["currDateFrom"]=t;u.setDate(t);this.labels.push(this.format(u))}}},q);var h=d("mui.datetime.DatePicker_year",[o],{yearPattern:"yyyy",monthPattern:"MM",dayPattern:"dd",disYearPattern:"yyyy",disMonthPattern:"MM",disDayPattern:"dd",disYearText:b["mui.datetime.year"],disMonthText:b["mui.datetime.month"],disDayText:b["mui.datetime.day"],slotProps:[{labelFrom:1899,labelTo:2099},{},{}],initSlots:function(){var u=this.slotClasses,t=this.slotProps;u[0]=d(u[0],f);u[1]=d(u[1],e);u[2]=d(u[2],s);t[0].pattern=this.yearPattern;t[1].pattern=this.monthPattern;t[2].pattern=this.dayPattern;t[0].disPattern=this.disYearPattern;t[1].disPattern=this.disMonthPattern;t[2].disPattern=this.disDayPattern;t[0].disText=this.disYearText;t[1].disText=this.disMonthText;t[2].disText=this.disDayText;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var t=p._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=k.map(t,function(u){return{y:0,m:1,d:2}[u.charAt(0)]});if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){this.slotOrder=[2,1,0]}},reset:function(){this.inherited(arguments);this._resetColors()},onYearSet:function(){this._resetColors()},onMonthSet:function(){this._resetColors()},onDaySet:function(){this._resetColors()},_setColorsAttr:function(t){var u=this.get("date");k.forEach(this.getSlots(),function(v,x){v.setColor&&v.setColor(t[x],u)})},_resetColors:function(){var t=this.get("values");this.set("colors",t)},_setValueAttr:function(w){var u=w;if(dojoConfig.locale=="en-us"&&w){var v=w.split("/");u=v[0]+"-01-01"}if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)&&w){var v=w.split("/");u=v[2]+"-"+v[1]+"-"+v[0]}var t=new Date();if(u){t=m.fromISOString(u)}this.set("values",k.map(this.slots,function(x){return x.format(t)}))},_getValueAttr:function(){var v=this.get("date");if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){return p.format(v,{datePattern:"MM/yyyy",selector:"date"})}if(dojoConfig.locale=="en-us"){return p.format(v,{datePattern:"yyyy",selector:"date"})}var u=m.toISOString(v,{selector:"date"});var t=p.format(v,{datePattern:"yyyy",selector:"date"});return t}});return h})},"sys/mobile/js/mui/simplecategory/SimpleCategoryUtil":function(){define(["mui/tabbar/CreateButton","mui/simplecategory/SimpleCategoryMixin"],function(a,b){return{create:function(e){var d=a.createSubclass([b]);new d(e)._selectCate()}}})},"sys/mobile/js/mui/simplecategory/SimpleCategoryItemMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-class","dojo/dom-style","mui/iconUtils","mui/category/CategoryItemMixin"],function(b,h,g,a,d,f){var e=b("mui.simplecategory.SimpleCategoryItemMixin",[f],{buildRendering:function(){this.fdId=this.value;this.label=this.text;this.icon="";this.type=window.SIMPLE_CATEGORY_TYPE_CATEGORY;this.inherited(arguments);this.subscribe("/mui/category/path","_pathChange");if(window.pathItem){this._pathChange(this,window.pathItem)}},_pathChange:function(l,k){if(l.key!=this.key){return}if(k.indexOf(this.fdId)>=0){this.set("entered",true)}else{this.set("entered",false)}},_cateChange:function(l,k){},_setEnteredAttr:function(k){if(k){g.add(this.domNode,"muiCategoryEntered")}else{g.remove(this.domNode,"muiCategoryEntered")}},showMore:function(){if(!this.child||this.child.length<=0){return false}var k=false;var l=this.getParent();if(l.authCateIds){if(l.authCateIds.indexOf(this.fdId)>-1){k=true}}else{k=true}if(this.type==window.SIMPLE_CATEGORY_TYPE_CATEGORY&&k){return true}return false},showSelect:function(){var k=this.getParent();if(k.authType=="03"){if(k&&k.selType==this.type){return true}}else{if(k&&k.selType==this.type&&this.isShowCheckBox!="0"){return true}}return false},isSelected:function(){var l=this.getParent();if(l&&l.curIds){var k=l.curIds.split(";");if(h.indexOf(k,this.fdId)>-1){return true}}return false},buildIcon:function(k){if(this.icon){d.setIcon(this.icon,null,this._headerIcon,null,k)}else{a.set(k,{display:"none"})}}});return e})},"sys/mobile/js/mui/view/ViewBanner":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase","dojo/dom-construct","mui/util"],function(d,f,e,b,a){return d("mui.view.ViewBanner",[e],{docIsIntroduced:"false",bgImg:"",buildRendering:function(){this.inherited(arguments);if(this.bgImg){this.containerNode=b.toDom("<div style='background:url("+this.bgImg+") no-repeat left top;background-size:cover;' class='muiViewBanner'></div>");b.place(this.containerNode,this.domNode)}else{this.containerNode=b.create("div",{className:"muiViewBanner"},this.domNode)}this.buildInternalRender()},buildInternalRender:function(){this.leftInfo=b.create("div",{className:"leftInfo"},this.containerNode);if(this.icon){var l=b.create("span",{className:"figure"},this.leftInfo);b.create("img",{className:"muiSummaryImg",src:this.icon},l)}else{var h=this.viewIcon?this.viewIcon:"mui-bookLogo";var m=b.toDom("<span class='figure'><i class='mui '"+h+"></i></span>");b.place(m,this.leftInfo)}this.rightInfo=b.create("div",{className:"rightInfo"},this.containerNode);if(this.docIsIntroduced=="true"){b.create("span",{className:"title",innerHTML:"<span class='muiEssence muiProcessStatusBorder'>精</span>"+a.formatText(this.docSubject)},this.rightInfo)}else{b.create("span",{className:"title",innerHTML:a.formatText(this.docSubject)},this.rightInfo)}var k=b.create("ul",{},this.rightInfo);if(this.docStatus>="30"&&this.docPublishTime){var g=b.toDom("<li><i class='mui mui-todo_date'></i>"+this.docPublishTime+"</li>");b.place(g,k)}if(this.created){var g=b.toDom("<li><i class='mui mui-todo_date'></i>"+this.created+"</li>");b.place(g,k)}if(this.creator){var g=b.toDom("<li><i class='mui mui-todo_person'></i>"+this.creator+"</li>");b.place(g,k)}if(this.docStatus>="30"&&this.docReadCount){var g=b.toDom("<li><i class='mui mui-eyes'></i>"+this.docReadCount+"</li>");b.place(g,k)}},startup:function(){if(this._started){return}this.inherited(arguments)}})})},"sys/mobile/js/mui/datetime/_DateMixin_yearMonth":function(){define(["dojo/_base/declare","mui/datetime/_EditDateTimeMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){return b("mui.datetime._DateMixin",[a],{type:"date",tmplStr:'<div data-dojo-type="mui/datetime/DatePicker_yearMonth" id="_date_picker" data-dojo-props="value:\'!{dateValue}\'"></div>',title:d["mui.date.select"],_contentExtendClass:"muiDateDialogDisContent"})})},"sys/mobile/js/mui/coordtransform":function(){(function(a,b){if(typeof define==="function"&&define.amd){define([],b)}else{if(typeof module==="object"&&module.exports){module.exports=b()}else{a.coordtransform=b()}}}(this,function(){var b=3.141592653589793*3000/180;var o=3.141592653589793;var m=6378245;var g=0.006693421622965943;var d=function d(t,s){var t=+t;var s=+s;var a=t-0.0065;var w=s-0.006;var v=Math.sqrt(a*a+w*w)-0.00002*Math.sin(w*b);var q=Math.atan2(w,a)-0.000003*Math.cos(a*b);var p=v*Math.cos(q);var u=v*Math.sin(q);return[p,u]};var n=function n(p,t){var t=+t;var p=+p;var u=Math.sqrt(p*p+t*t)+0.00002*Math.sin(t*b);var q=Math.atan2(t,p)+0.000003*Math.cos(p*b);var a=u*Math.cos(q)+0.0065;var s=u*Math.sin(q)+0.006;return[a,s]};var l=function l(w,v){var v=+v;var w=+w;if(e(w,v)){return[w,v]}else{var s=f(w-105,v-35);var u=h(w-105,v-35);var a=v/180*o;var x=Math.sin(a);x=1-g*x*x;var t=Math.sqrt(x);s=(s*180)/((m*(1-g))/(x*t)*o);u=(u*180)/(m/t*Math.cos(a)*o);var p=v+s;var q=w+u;return[q,p]}};var k=function k(w,v){var v=+v;var w=+w;if(e(w,v)){return[w,v]}else{var s=f(w-105,v-35);var u=h(w-105,v-35);var a=v/180*o;var x=Math.sin(a);x=1-g*x*x;var t=Math.sqrt(x);s=(s*180)/((m*(1-g))/(x*t)*o);u=(u*180)/(m/t*Math.cos(a)*o);var p=v+s;var q=w+u;return[w*2-q,v*2-p]}};var f=function f(p,q){var q=+q;var p=+p;var a=-100+2*p+3*q+0.2*q*q+0.1*p*q+0.2*Math.sqrt(Math.abs(p));a+=(20*Math.sin(6*p*o)+20*Math.sin(2*p*o))*2/3;a+=(20*Math.sin(q*o)+40*Math.sin(q/3*o))*2/3;a+=(160*Math.sin(q/12*o)+320*Math.sin(q*o/30))*2/3;return a};var h=function h(p,q){var q=+q;var p=+p;var a=300+p+2*q+0.1*p*p+0.1*p*q+0.1*Math.sqrt(Math.abs(p));a+=(20*Math.sin(6*p*o)+20*Math.sin(2*p*o))*2/3;a+=(20*Math.sin(p*o)+40*Math.sin(p/3*o))*2/3;a+=(150*Math.sin(p/12*o)+300*Math.sin(p/30*o))*2/3;return a};var e=function e(a,p){var p=+p;var a=+a;return !(a>73.66&&a<135.05&&p>3.86&&p<53.55)};return{bd09togcj02:d,gcj02tobd09:n,wgs84togcj02:l,gcj02towgs84:k}}))},"sys/mobile/js/mui/form/validate/dom-value":function(){define(["dojo/dom","dijit/registry"],function(b,a){return{get:function(d){var e=d.tagName.toLowerCase();return this[e](d)},input:function(d){switch(d.type.toLowerCase()){case"submit":case"hidden":case"password":case"text":return this.textarea(d);case"checkbox":case"radio":return this.groupSelector(d)}return null},div:function(d){var e=a.byNode(d);if(e){return[e.get("name"),e.get("value")]}return null},groupSelector:function(g){if(!g.name){return this.inputSelector(g)}var e=[],h=g.type.toLowerCase;var d=document.getElementsByName(g.name);for(var f=d.length-1;f>=0;f--){if(d[f].type.toLowerCase==h&&d[f].checked){e.push(d[f].value)}}return[g.name,e.join(";")]},inputSelector:function(d){if(d.checked){return[d.name,d.value]}},textarea:function(d){return[d.name,d.value]},select:function(d){return this[d.type=="select-one"?"selectOne":"selectMany"](d)},selectOne:function(f){var g="",e,d=f.selectedIndex;if(d>=0){e=f.options[d];g=(e.value==null)?e.text:e.value}return[f.name,g]},selectMany:function(f){var g=[];for(var e=0;e<f.length;e++){var d=f.options[e];if(d.selected){g.push((d.value==null)?d.text:d.value)}}return[f.name,g]}}})},"sys/mobile/js/mui/header/NavHeader":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/html","dojox/mobile/View","dojox/mobile/TransitionEvent","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","mui/util","./NavHeaderHashMixin","dojo/topic"],function(g,b,n,q,p,m,l,a,o,f,d,s,k,e,h){return g("mui.header.NavHeader",[f,d,s,e],{baseClass:"muiNavHeader",baseItemClass:"muiHeaderItem",width:"100%",height:"4rem",templateChildNodes:null,buildRendering:function(){this.inherited(arguments);if(!this.templateChildNodes){this.templateChildNodes=[];var v=this.domNode.childNodes;for(var t=0;t<v.length;t++){var u=v[t];if(u.nodeType==1){this.templateChildNodes.push(u.cloneNode(true))}}this.domNode.innerHTML=""}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/nav/onComplete","handleNavOnComplete");this.subscribe("/mui/navitem/_selected","handleNavChanged")},handleNavOnComplete:function(v,t){var u=this.ensureloadIndex(v);this.renderHeader(t,u)},handleNavChanged:function(t,u){if(t.channelName&&t.channelName!=this.channelName){return}if(this.getChildren()[u.index]){new o(document.body,{moveTo:this.getChildren()[u.index].id}).dispatch()}if(!window.cateFilterSetSelc){window.cateFilterSetSelc={navId:"",openCount:0}}if(window.cateFilterSetSelc.navId!=this.getChildren()[u.index].id){window.cateFilterSetSelc={navId:this.getChildren()[u.index].id,openCount:0};window._curIds=""}},channelName:"",renderHeader:function(t,u){n.forEach(t,function(A,y){var v=new a({"class":"muiHeaderView"});this.addChild(v);var x={key:this.channelName+y,container:v.domNode,index:y};if(A.headerTemplate){var B=k.formatUrl(A.headerTemplate);require([B],b.hitch(this,function(D){this.renderHeaderWithTemplate(D,x)}))}else{if(A.headerTempStr){var w=A.headerTempStr.trim();this.renderHeaderWithTemplate(w,x)}else{if(this.templateChildNodes){var C=[];for(var z=0;z<this.templateChildNodes.length;z++){C.push(this.templateChildNodes[z].cloneNode(true))}this.renderHeaderWithTemplate(C,x)}}}},this);this.defer(function(){new o(document.body,{moveTo:this.getChildren()[u].id}).dispatch()},1)},renderHeaderWithTemplate:function(w,v){if(typeof(w)=="string"){w=w.trim()}if(!w||w.length==0){m.set(v.container,"display","none");return}if(this.height!=""){m.set(v.container,{height:this.height,"line-height":this.height})}h.publish("/mui/navView/resize",this,{key:v.index});var u=this;var t=new l._ContentSetter({node:v.container,parseContent:true,cleanContent:true,setContent:function(){this.inherited("setContent",arguments);n.forEach(this.node.childNodes,function(x){if(x.nodeType===1){p.set(x,"key",v.key);q.add(x,u.baseItemClass)}})}});node=t.set(w);t.parseDeferred.then(b.hitch(this,function(x){n.forEach(x,function(y){},this)}));t.tearDown()},ensureloadIndex:function(v){var u=0;if(v&&v.selectedItem){var t=v.getChildren();u=n.indexOf(t,v.selectedItem)}if(window.localStorage&&this.canStore){u=localStorage.getItem("swapIndex:"+location.pathname);if(u==null){u=0}else{u=parseInt(u)}}var w=this.inherited(arguments);if(w!==null){u=w}return u}})})},"sys/mobile/js/mui/picslide/ImagePreview":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/_base/array","dojo/_base/lang","dojo/topic","dojo/window","mui/picslide/PicSlide"],function(e,d,l,h,k,b,f,g,a){return e("mui.picslide.ImagePreview",null,{picPlayEvtName:"/mui/image/play",picClick:"/mui/picitem/click",viewChangedEvt:"/mui/picslide/changeview",constructor:function(){this.inherited(arguments);f.subscribe(this.picClick,b.hitch(this,function(n,m){this._imagePlayClose(m)}))},reDraw:function(m){if(m!=null){this.imgs=[].concat(m.srcList);if(this.imgSlide!=null){this.imgSlide.destroy()}this.buildPicSlide(m)}},buildPicSlide:function(o){this.imgs=[].concat(o.srcList);var n=[];k.forEach(this.imgs,function(p){n.push({icon:p})});var m={width:g.getBox().w+"px",height:g.getBox().h+"px"};this.imgSlide=new a(b.mixin({items:n},m));if(!this.topDiv){this.topDiv=d.create("div",{className:"muiRtfPicSlider"},document.body);h.set(this.topDiv,m)}this.topDiv.appendChild(this.imgSlide.domNode);if(this.imgSlide._started!=true){this.imgSlide.startup()}},play:function(m){if(m==null){return}if(this.topDiv){h.set(this.topDiv,"display","block")}if(this.imgs&&this.imgs.toString()!=m.srcList.toString()){this.reDraw(m)}else{if(this.topDiv==null){this.buildPicSlide(m)}}setTimeout(b.hitch(this,function(){l.add(this.topDiv,"muiRtfPicShow");if(m.previewImgBgColor){h.set(this.topDiv,{background:m.previewImgBgColor})}var n=function(s,q){var o=0;for(var p=0;p<s.length;p++){if(q.indexOf(s[p])!=-1){o=p;break}}return o};if(this.imgs.length>1){f.publish(this.viewChangedEvt,this,{curIndex:this.imgs.length-1})}f.publish(this.viewChangedEvt,this,{curIndex:n(this.imgs,m.curSrc)})}),350)},_imagePlayClose:function(m){l.remove(this.topDiv,"muiRtfPicShow");setTimeout(b.hitch(this,function(){h.set(this.topDiv,"display","none")}),200)}})})},"sys/mobile/js/mui/commondialog/template/InnerItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/topic","dojox/mobile/_ItemBase","mui/util","mui/iconUtils","mui/list/item/_ListLinkItemMixin"],function(d,b,h,e,k,f,a,g){var l=d("mui.category.CategoryItemMixin",[k,g],{fdId:"",tag:"li",key:null,_enterClass:"mblListItemSelected",data:{},displayProp:"",href:"",props:{},buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||b.create(this.tag,{className:"muiCateItem"});var m="muiCateInfoItem";this.contentNode=b.create("div",{className:m},this.domNode);if(this.href){this.articleNode=b.create("a",null,this.contentNode);this.makeLinkNode(this.articleNode)}}this.label=this.data[this.displayProp];this.inherited(arguments);if(!this._templated){this._buildItemBase()}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/cancelSelected","_cancelSelected");this.subscribe("/mui/category/setSelected","_setSelected")},_buildItemBase:function(){this.cateContainer=b.create("div",{className:"muiCateContainer"},this.contentNode);this.buildIcon(this.iconNode);this.infoNode=b.create("div",{className:"muiCateInfo"},this.cateContainer);this.titleNode=b.create("div",{className:"muiProcessTitle muiSubject ",innerHTML:this.data[this.displayProp]},this.infoNode);this.titleNode.style.minHeight=0;this.contentNode=b.create("div",{className:"muiListSummary"},this.infoNode);for(var n in this.props){if(n!=this.displayProp&&this.data[n]){var m=b.toDom("<div>"+this.data[n]+"</div>");b.create("div",{className:"muiCateProp",innerHTML:'<span class="muiCatePropTitle">'+this.props[n]+':</span>&nbsp;&nbsp;<span class="muiCatePropInfo">'+m.innerText+"</span>"},this.contentNode)}}this.connect(this.infoNode,"click","_selectCate");this.connect(this.iconNode,"click","_selectCate")},startup:function(){if(this._started){return}this.inherited(arguments);var m=this.getParent();this.key=m.key;this.href=f.decodeHTML(this.href)},_openCate:function(m){this.set("entered",true);this.defer(function(){this.set("entered",false);e.publish("/mui/category/changed",this,{fdId:this.fdId,label:this.data[this.displayProp]})},200);return},_cancelSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){if(this.checkedIcon){h.remove(this.selectNode,"muiCateSeled");b.destroy(this.checkedIcon);this.checkedIcon=null;e.publish("/mui/category/unselected",this,this.data)}}}}},_setSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){h.add(this.selectNode,"muiCateSeled");this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);this.set("entered",true);this.defer(function(){this.set("entered",false)},200);e.publish("/mui/category/selected",this,this.data)}}}},startTime:0,_selectCate:function(m){if(this.startTime!=0){var n=new Date().getMilliseconds();if(n-this.startTime<350){this.startTime=0;return}this.startTime=0}else{this.startTime=new Date().getMilliseconds();this.defer(function(){this.startTime=0},360)}if(m){if(m.stopPropagation){m.stopPropagation()}if(m.cancelBubble){m.cancelBubble=true}if(m.preventDefault){m.preventDefault()}if(m.returnValue){m.returnValue=false}}if(this.selectArea){if(this.selectNode){if(this.checkedIcon!=null){this._cancelSelected(this,this)}else{this._setSelected(this,this)}return}}this.showItemDetail();return},showItemDetail:function(){},buildIcon:function(m){a.setIcon("mui mui-file-text",null,this._headerIcon,null,m)},_setLabelAttr:function(m){if(m){this._set("label",m)}},_setEnteredAttr:function(m){h.toggle(this.domNode,this._enterClass,m)}});return l})},"sys/mobile/js/mui/form/radio/render/RadioTable":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","mui/util"],function(e,b,g,f,d,a){return e("mui.form.Radio.radio.RadioTable",[g],{renderType:"table",radioNode:null,postCreate:function(){this.inherited(arguments);this.subscribe("mui/form/radio/renderCheckedStatus","_renderCheckedStatus")},_buildRender:function(h){if(this.renderType==h.renderType){this.radioNode=b.create("div",{className:"muiRadioContainer muiRadioTableItem"+(h.unCheckedIcon?" "+h.unCheckedIcon:"")},h.domNode,"after");this.radioText=b.create("span",{className:"muiRadioTableText",innerHTML:h.text&&h.text.indexOf("&#039;")>0?h.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.formatText(h.text)},this.radioNode,"last");this.radioIcon=b.create("span",{className:"fontmuis muis-form-selected-cor muiRadioTableChecked"},this.radioNode)}return this.radioNode},_renderCheckedStatus:function(k,h){if(this.radioNode==h.domNode){if(h.checked){f.replace(this.radioNode,h.checkedIcon,h.unCheckedIcon);f.replace(this.radioIcon,h.checkedIcon,h.unCheckedIcon)}else{f.replace(this.radioNode,h.unCheckedIcon,h.checkedIcon);f.replace(this.radioIcon,h.unCheckedIcon,h.checkedIcon)}}}})})},"sys/mobile/js/mui/store/xhr":function(){define(["dojo/_base/kernel","dojo/io-query","dojo/dom","dojo/dom-form","dojo/_base/Deferred","dojo/_base/lang","dojo/on"],function(e,f,h,d,b,g,a){g.mixin(e.xhr,{_ioSetArgs:function(t,v,o,u){var q={args:t,url:t.url};var w=null;if(t.form){var l=h.byId(t.form);var x=l.getAttributeNode("action");q.url=q.url||(x?x.value:(e.doc?e.doc.URL:null));w=d.toObject(l)}var m={};if(w){g.mixin(m,w)}if(t.content){g.mixin(m,t.content)}if(t.preventCache){m["dojo.preventCache"]=new Date().valueOf()}q.query=f.objectToQuery(m);q.handleAs=t.handleAs||"text";var s=new b(function(y){y.canceled=true;v&&v(y);var z=y.ioArgs.error;if(!z){z=new Error("request cancelled");z.dojoType="cancel";y.ioArgs.error=z}return z});s.addCallback(o);var k=t.load;if(k&&g.isFunction(k)){s.addCallback(function(y){return k.call(t,y,q)})}var n=t.error;if(n&&g.isFunction(n)){s.addErrback(function(y){return n.call(t,y,q)})}var p=t.handle;if(p&&g.isFunction(p)){s.addBoth(function(y){return p.call(t,y,q)})}s.addErrback(function(y){return u(y,s)});if(cfg.ioPublish&&e.publish&&q.args.ioPublish!==false){s.addCallbacks(function(y){e.publish("/dojo/io/load",[s,y]);return y},function(y){e.publish("/dojo/io/error",[s,y]);return y});s.addBoth(function(y){e.publish("/dojo/io/done",[s,y]);return y})}s.ioArgs=q;return s}});return e.xhr})},"sys/mobile/js/mui/address/address_sgl":function(){define(["./address_common"],function(b){function a(f,e){var d=b.html({mul:false});e(d)}return{load:function(f,d,e){a(f,e)}}})},"sys/mobile/js/mui/simplecategory/SimpleCategoryItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/simplecategory/SimpleCategoryItemMixin"],function(b,a,d){return b("mui.simplecategory.SimpleCategoryItemListMixin",[a],{itemRenderer:d})})},"sys/mobile/js/mui/calendar/CalendarView":function(){define(["dojo/_base/declare","dojox/mobile/View","dojo/dom-style","dojo/dom-class","dojo/_base/window","dijit/registry","dojo/_base/array","dojo/topic","dojo/ready","dojox/mobile/_css3","./CalendarBottom","./CalendarContent","./CalendarWeek"],function(e,b,k,p,h,a,m,g,o,q,f,d,n){var l=e("mui.calendar.CalendarView",[b],{backforwardReload:true,defaultDisplay:"month",changeDisplay:true,isNotScroll:false,buildRendering:function(){this.inherited(arguments);p.add(this.domNode,"muiCalendarScrollableView")},startup:function(){if(this._started){return}this.findAppBar();this.handleDisplay();this.subscribe("/mui/calendar/contentComplete","handleDisplay");this.subscribe("/mui/calendar/weekComplete","handleDisplay");this.inherited(arguments);this.connect(window,"pageshow","_pageshow")},_pageshow:function(s){k.set(this.domNode,"display","");if(s.persisted&&this.backforwardReload){var t=this.getChildren();m.forEach(t,function(u){u.reload&&u.reload()},this)}},findAppBar:function(){if(this.domNode.parentNode){for(var t=0,s=this.domNode.parentNode.childNodes.length;t<s;t++){c=this.domNode.parentNode.childNodes[t];this.checkFixedBar(c)}}},checkFixedBar:function(t){if(t.nodeType===1){var s=t.getAttribute("fixed")||t.getAttribute("data-mobile-fixed")||(a.byNode(t)&&a.byNode(t).fixed);if(s==="top"){p.add(t,"mblFixedHeaderBar");this.fixedHeader=t}else{if(s==="bottom"){p.add(t,"mblFixedBottomBar");this.fixedFooter=t}}}},width:"100%",resize:function(){if(this.isNotScroll){return}this.footerHeight=(this.fixedFooter)?this.fixedFooter.offsetHeight:0;this.headerHeight=(this.fixedHeader)?this.fixedHeader.offsetHeight:0;k.set(this.domNode,"height",h.global.innerHeight-this.footerHeight-this.headerHeight+"px");g.publish("/mui/calendar/viewComplete",this,{fixedHeaderHeight:this.headerHeight,fixedFooterHeight:this.footerHeight});m.forEach(this.getChildren(),function(s){if(s.resize){s.resize()}})},handleDisplay:function(){var s=this;var t,u,v;m.forEach(s.getChildren(),function(w){if(w.isInstanceOf(d)){t=w}if(w.isInstanceOf(n)){u=w}if(w.isInstanceOf(f)){v=w}});if(s.defaultDisplay=="week"){v.scrollToWeek();k.set(t.domNode,q.add({transform:"scale(0)"}))}if(!s.changeDisplay){v.unBindEvent();v._unBindEvent();if(s.defaultDisplay=="week"){k.set(t.domNode,q.add({height:"0"},{transform:"scale(0)"}))}}}});return l})},"sys/mobile/js/mui/category/CommonCategoryItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/topic","dojox/mobile/_ItemBase","mui/util","mui/iconUtils"],function(d,b,h,g,e,k,f,a){var l=d("mui.category.CategoryItemMixin",[k],{fdId:"",label:"",icon:"",type:null,header:"false",tag:"li",key:null,_enterClass:"mblListItemSelected",buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||b.create(this.tag,{className:"muiCateItem fadeIn animated"});var m="muiCateInfoItem";if(this.header=="true"){m=" muiGroupItem"}this.contentNode=b.create("div",{className:m},this.domNode)}this.inherited(arguments);if(!this._templated){this._buildItemBase()}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/cancelSelected","_cancelSelected");this.subscribe("/mui/category/setSelected","_setSelected")},_buildItemBase:function(){this.cateContainer=b.create("div",{className:"muiCateContainer"},this.contentNode);if(this.header!="true"){this.iconNode=b.create("div",{className:"muiCateIcon"},this.cateContainer);this.buildIcon(this.iconNode);this.infoNode=b.create("div",{className:"muiCateInfo"},this.cateContainer);this.titleNode=b.create("div",{className:"muiCateName",innerHTML:f.formatText(this.label)},this.infoNode);this.connect(this.iconNode,"click","_selectCate");this.connect(this.infoNode,"click","_selectCate")}else{this.titleNode=b.create("div",{className:"muiCateName muiCateTitle",innerHTML:this.getTitle()},this.cateContainer)}this.moreArea=b.create("div",{className:"muiCateMore"},this.cateContainer)},startup:function(){if(this._started){return}this.inherited(arguments);var m=this.getParent();this.key=m.key;if(this.header!="true"){if(m.showMore&&this.showMore()){b.create("i",{className:"mui mui-forward"},this.moreArea);this.connect(this.moreArea,"click","_openCate")}else{b.destroy(this.moreArea)}if(m.selType!=null){this.selectArea=b.create("div",{className:"muiCateSelArea"},this.cateContainer,"first");if(this.showSelect()){this.selectNode=b.create("div",{className:"muiCateSel"},this.selectArea);var n=this.getParent();if(n.isMul){h.add(this.selectNode,"muiCateSelMul")}if(this.isSelected()){this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);h.add(this.selectNode,"muiCateSeled")}this.connect(this.selectArea,"click","_selectCate")}}}else{e.publish("/mui/category/addNav",this,{label:this.label})}},_openCate:function(m){e.publish("/mui/category/changed",this,{fdId:this.fdId,label:this.label});return},_cancelSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){if(this.checkedIcon){h.remove(this.selectNode,"muiCateSeled");b.destroy(this.checkedIcon);this.checkedIcon=null;e.publish("/mui/category/unselected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})}}}}},_setSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){h.add(this.selectNode,"muiCateSeled");this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);e.publish("/mui/category/selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})}}}},startTime:0,_selectCate:function(m){if(this.startTime!=0){var n=new Date().getMilliseconds();if(n-this.startTime<350){this.startTime=0;return}this.startTime=0}else{this.startTime=new Date().getMilliseconds();this.defer(function(){this.startTime=0},360)}if(m){if(m.stopPropagation){m.stopPropagation()}if(m.cancelBubble){m.cancelBubble=true}if(m.preventDefault){m.preventDefault()}if(m.returnValue){m.returnValue=false}}var o=m.target;if((this.selectArea&&!this.showMore())||(this.selectNode&&o==this.selectNode)||(this.iconNode&&(o==this.iconNode||o.parentNode==this.iconNode))){if(this.selectNode){if(this.checkedIcon!=null){this._cancelSelected(this,this)}else{this._setSelected(this,this)}return}}if(this.showMore()){this._openCate()}else{this.showItemDetail()}return},getTitle:function(){return this.label},showMore:function(){return true},showSelect:function(){return true},isSelected:function(){return true},showItemDetail:function(){},buildIcon:function(m){if(this.icon){a.setIcon(this.icon,null,this._headerIcon,null,m)}},_setLabelAttr:function(m){if(m){this._set("label",m)}}});return l})},"sys/mobile/js/mui/base64":function(){define(["dojo/_base/declare"],function(b){var a=b("mui.base64",null,{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(f){var d="";var o,m,k,n,l,h,g;var e=0;f=this._utf8_encode(f);while(e<f.length){o=f.charCodeAt(e++);m=f.charCodeAt(e++);k=f.charCodeAt(e++);n=o>>2;l=((o&3)<<4)|(m>>4);h=((m&15)<<2)|(k>>6);g=k&63;if(isNaN(m)){h=g=64}else{if(isNaN(k)){g=64}}d=d+this._keyStr.charAt(n)+this._keyStr.charAt(l)+this._keyStr.charAt(h)+this._keyStr.charAt(g)}return d},decode:function(f){var d="";var o,m,k;var n,l,h,g;var e=0;f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(e<f.length){n=this._keyStr.indexOf(f.charAt(e++));l=this._keyStr.indexOf(f.charAt(e++));h=this._keyStr.indexOf(f.charAt(e++));g=this._keyStr.indexOf(f.charAt(e++));o=(n<<2)|(l>>4);m=((l&15)<<4)|(h>>2);k=((h&3)<<6)|g;d=d+String.fromCharCode(o);if(h!=64){d=d+String.fromCharCode(m)}if(g!=64){d=d+String.fromCharCode(k)}}d=this._utf8_decode(d);return d},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var d="";for(var g=0;g<e.length;g++){var f=e.charCodeAt(g);if(f<128){d+=String.fromCharCode(f)}else{if((f>127)&&(f<2048)){d+=String.fromCharCode((f>>6)|192);d+=String.fromCharCode((f&63)|128)}else{d+=String.fromCharCode((f>>12)|224);d+=String.fromCharCode(((f>>6)&63)|128);d+=String.fromCharCode((f&63)|128)}}}return d},_utf8_decode:function(d){var e="";var f=0;var g=c1=c2=0;while(f<d.length){g=d.charCodeAt(f);if(g<128){e+=String.fromCharCode(g);f++}else{if((g>191)&&(g<224)){c2=d.charCodeAt(f+1);e+=String.fromCharCode(((g&31)<<6)|(c2&63));f+=2}else{c2=d.charCodeAt(f+1);c3=d.charCodeAt(f+2);e+=String.fromCharCode(((g&15)<<12)|((c2&63)<<6)|(c3&63));f+=3}}}return e}});return new a()})},"sys/mobile/js/mui/dialog/Tip":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","mui/dialog/_DialogBase","dojo/html","dojo/window","dojo/touch","dojo/_base/event","dojo/on"],function(k,g,b,s,f,n,d,l,m,h,a,p){var o=k("mui.dialog.Tip",[d],{icon:null,text:null,time:2300,callback:null,cover:false,coverNode:null,width:null,height:null,buildRendering:function(){this.textNode=f.create("span",{innerHTML:this.text});if(this.icon){this.iconNode=f.create("div",{className:this.icon+" muiDialogBaseStyle"})}this.inherited(arguments)},_initCoverNode:function(){if(this.coverNode){return}this.coverNode=f.create("div",{className:"muiButtonAfter"},document.body,"last");p(this.coverNode,h.press,a.stop);p(this.coverNode,h.move,a.stop);p(this.coverNode,h.release,a.stop);p(this.coverNode,h.cancel,a.stop)},_create:function(){var t=this;this.containerNode=f.create("div",{className:"muiDialogTip"},document.body,"last");n.set(this.containerNode,{opacity:0});var u=m.getBox();require(["dojo/text!mui/dialog/tip.tmpl"],function(w){var v=new l._ContentSetter({parseContent:true,onBegin:function(){this.content=this.content.replace(/!{text}/g,t.textNode.outerHTML);if(t.iconNode){this.content=this.content.replace(/!{icon}/g,t.iconNode.outerHTML)}else{this.content=this.content.replace(/!{icon}/g,"")}this.inherited("onBegin",arguments)}});v.node=t.containerNode;v.set(w);n.set(t.containerNode,{"max-width":(u.w*0.75)+"px","max-height":u.h+"px"});if(t.width){n.set(t.containerNode,{width:t.width+"px"})}if(t.height){n.set(t.containerNode,{height:t.height+"px"})}v.parseDeferred.then(function(){});v.tearDown()})},show:function(){if(!this.containerNode){this._create()}n.set(this.domNode,{display:""});n.set(this.containerNode,{opacity:1,"z-index":99999});if(this.cover){this._initCoverNode();n.set(this.coverNode,"display","")}if(this.time>-1){setTimeout(b.hitch(this,this.hide),this.time)}return this.inherited(arguments)},hide:function(t){if(this.containerNode){n.set(this.containerNode,{opacity:0,"z-index":-1})}n.set(this.domNode,{display:"none"});if(this.cover){this._initCoverNode();n.set(this.coverNode,"display","none")}if(this.callback){this.callback.call()}this.inherited(arguments);if(t===false){return}setTimeout(b.hitch(this,this.destroy),1000)}});var q=k([o],{icon:"fontmuis muis-tips-loading mui-spin",time:-1,cover:true,text:"处理中...",hide:function(){this.inherited(arguments,[false])}});var e=new q();setTimeout(function(){e.hide()},500);return{tip:function(t){return new o(t).show()},success:function(t){return new o(b.mixin(t,{icon:"fontmuis muis-tips-success "})).show()},fail:function(t){return new o(b.mixin(t,{icon:"fontmuis muis-tips-failed "})).show()},warn:function(t){return new o(b.mixin(t,{icon:"fontmuis muis-tips-warning "})).show()},processing:function(t){if(t){e.text=t}return e},progressing:function(t){return new q(b.mixin(t,{})).show()},Tip:o}})},"sys/mobile/js/mui/nav/MoreItem":function(){define("mui/nav/MoreItem",["dojo/_base/declare","dojox/mobile/TransitionEvent","dojox/mobile/_ItemBase","dojox/mobile/Badge","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/request","dojo/topic","mui/util"],function(d,k,n,g,a,h,m,b,f,e){var l=d("mui.nav.MoreItem",n,{_selClass:"muiNavitemSelected",topicType:"/mui/navitem/_selected",tag:"li",badge:0,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||a.create("li",{className:"muiNavitem"});this.inherited(arguments);if(this.text){this.textNode=a.create("span",{className:!this.overflowHide?"muiNavitemSpan":"textEllipsis muiNavitemSpan"},this.domNode);this.textNode.innerHTML=this.text;this.statNavCount()}this.subscribe(this.topicType,"handleItemSelected");this.subscribe("/mui/list/onPull","updateNavCount")},handleItemSelected:function(o){if(this.getParent()==o.getParent()){m.remove(this.domNode,this._selClass)}},updateNavCount:function(o){if(this.url&&o.rel==this){this.statNavCount()}},statNavCount:function(){if(this.badge==0&&this.url!=""&&this.url!=null){var o=this;if(this.isNavCount==true){var p=e.formatUrl(o.url+"&rowsize=1");b.post(p,{handleAs:"json"}).then(function(q){if(q.page&&q.page.totalSize>99){o.set("badge","99+")}else{if(q.page&&q.page.totalSize>0){o.set("badge",q.page.totalSize)}else{if(o.badgeObj&&o.domNode===o.badgeObj.domNode.parentNode){o.domNode.removeChild(o.badgeObj.domNode)}}}},function(q){})}}},startup:function(){if(this._started){return}this.connect(this.textNode,"onclick","_onClick");this.inherited(arguments)},setSelected:function(){this.beingSelected(this.textNode)},beingSelected:function(u){while(u){if(m.contains(u,"muiNavitem")){break}u=u.parentNode}var t,p;if(!u.offsetParent){t=0,p=0}var o=h.getComputedStyle(u),s=h.toPixelValue(u,o.marginLeft),q=h.toPixelValue(u,o.marginRight);f.publish(this.topicType,this,{width:p==0?0:u.offsetWidth+q+s,left:t==0?t:u.offsetLeft+u.offsetParent.offsetLeft-s,target:this,url:this.url,text:this.text});m.add(this.domNode,this._selClass)},_onClick:function(p){if(p){var o=p.target;this.beingSelected(o)}this.defaultClickAction(p)},userClickAction:function(){if(this.moveTo){return true}return false},makeTransition:function(q){if(this.back&&history){history.back();return}if(this.href&&this.hrefTarget&&this.hrefTarget!="_self"){win.global.open(this.href,this.hrefTarget||"_blank");this._onNewWindowOpened(q);return}var p=this.getTransOpts();var o=!!(p.moveTo||p.href||p.url||p.target||p.scene);if(this.getParent()&&this.getParent().key){p.moveTo=p.moveTo+"_"+this.getParent().key}if(this._prepareForTransition(q,o?p:null)===false){return}if(o){this.setTransitionPos(q);new k(this.domNode,p,q).dispatch()}},_setBadgeAttr:function(o){if(!this.badgeObj){this.badgeObj=new g();h.set(this.badgeObj.domNode,{position:"absolute",left:"100%",top:"0.2rem"})}this.badgeObj.setValue(o);if(o){this.domNode.appendChild(this.badgeObj.domNode)}else{if(this.domNode===this.badgeObj.domNode.parentNode){this.domNode.removeChild(this.badgeObj.domNode)}}}});return l})},"sys/mobile/js/mui/datetime/_TimeMixin":function(){define(["dojo/_base/declare","dojo/dom-class","mui/datetime/_EditDateTimeMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,d,a,e){return b("mui.datetime._TimeMixin",a,{type:"time",tmplStr:'<div data-dojo-type="mui/datetime/TimePicker" id="_time_picker" data-dojo-props="value:\'!{timeValue}\', minuteStep:\'!{minuteStep}\'"></div>',title:e["mui.time.select"],_contentExtendClass:"muiTimeDialogDisContent",_buildValue:function(){this.inherited(arguments);d.add(this.inputContent,"muiTimeInputContnet")}})})},"sys/mobile/js/mui/list/item/_ListThumbItemMixin":function(){define(["dojo/_base/declare","mui/util","dojo/dom-construct"],function(d,b,a){return d("mui.list.item._ListThumbItemMixin",null,{thumbUrl:"/resource/fckeditor/editor/filemanager/download?fdId=${fdId}",buildThumb:function(e,f){var h=b.formatUrl(this.thumbUrl);if(e){var m;if(typeof(e)=="object"){m=e}else{m=e.split(",")}var l=a.create("div",{className:"muiListThumb"},f);for(var g=0;g<m.length;g++){if(g==3){return false}var k=h.replace("${fdId}",m[g]);a.create("p",{style:"background-image: url("+k+")"},l)}}}})})},"sys/mobile/js/mui/panel/_FixedPanelMixin":function(){define("mui/panel/_FixedPanelMixin",["dojo/dom-construct","dojo/_base/declare","dojo/dom-style","dojo/topic","dojo/_base/lang","dojo/touch"],function(a,e,d,b,f,g){return e("mui.panel._FixedPanelMixin",null,{fixed:true,runSlide:"/mui/list/_runSlideAnimation",change:"mui/panel/fixedChange",buildRendering:function(){this.inherited(arguments);if(this.fixed){this.subscribeScroll()}},nav:null,topList:[],buildTopList:function(){this.set("topList",[]);var k=this.titleList;for(var h=0;h<k.length;h++){var l=k[h];var m={dom:l};if(this.currentDom&&this.currentDom==l){m.top=this.nav.offsetTop}else{m.top=l.offsetTop}this.topList.push(m)}},compara:function(m){if(this.topList.length==0){return}if(m<this.topList[0].top){return null}var h=this.topList.length-1,l=0;while(l<=h){var k=parseInt((h+l)/2);if(m==this.topList[k].top){return this.topList[k].dom}else{if(m>this.topList[k].top){l=k+1}}if(m<this.topList[k].top){h=k-1}}return this.topList[l-1].dom},currentDom:null,resetNav:function(){if(this.nav){a.place(this.currentDom,this.nav,"after");d.set(this.currentDom,{position:"relative"});this.nav.parentNode.removeChild(this.nav);this.nav=null}this.currentDom=null},fixedScroll:function(k,h){this.buildTopList();if(this.lock){return}this.lock=true;var m=h.to.y;if(m>=0){this.resetNav();this.lock=false;return}m=Math.abs(m);var l=this.compara(m);if(!l){this.resetNav();this.lock=false;return}if(l&&this.currentDom!=l){this.resetNav();this.currentDom=l;this.nav=f.clone(l);a.place(this.nav,l,"after");d.set(l,{position:"absolute",top:0,left:0,right:0});a.place(l,k.domNode,"last");b.publish(this.change,this,{dom:l})}this.lock=false},subscribeScroll:function(){this.subscribe(this.runSlide,f.hitch(this.fixedScroll))}})})},"sys/mobile/js/mui/table/ScrollableHContainer":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/dom-style"],function(e,f,d,a,b){return e("mui.table.ScrollableHContainer",[f,d,a],{baseClass:"muiScrollableHContainer",buildRendering:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},resizeH:function(g){if(g>0){b.set(this.domNode,{height:g+"px"})}}})})},"sys/mobile/js/mui/form/validate/Elements":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/dom-geometry","dojo/query","mui/form/validate/Reminder"],function(g,b,f,h,k,d,l,e){var a=g("mui.form.validate.Elements",null,{addElementValiate:function(o,n){var q=o.getAttribute("validate");if(q!=null&&$.trim(q)!=""){var p=q.split(" ");if(n){var m=$.inArray(n.toLowerCase(),p);if(m==-1){p.push(n);o.setAttribute("validate",p.join(" "))}}}else{if(n){o.setAttribute("validate",n)}}},removeElementValiate:function(q,p){var t=q.getAttribute("validate");if(t!=null&&$.trim(t)!=""){if(p==null){q.removeAttribute("validate")}else{var s=t.split(" ");var n=$.inArray(p.toLowerCase(),s);if(n>-1){s.splice(n,1);var m=s.join(" ");if($.trim(m)==""){q.removeAttribute("validate")}else{q.setAttribute("validate",m)}}}t=q.getAttribute("validate");if(t==null||$.trim(t)==""){var o=new e(q);o.hide()}}}});return a})},"sys/mobile/js/mui/chart/ChartShineMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,e,a,d){return b("mui.chart.chartShineMixin",null,{colors:["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8","#cda819","#32a487"],concatDefaultOptions:function(f){this.defaultColor(f);this.defaultXAxis(f)},defaultXAxis:function(f){var h=f.xAxis;if(h instanceof Array){for(var g=0;g<h.length;g++){if(!f.xAxis[g].axisLabel){f.xAxis[g].axisLabel={}}if(!f.xAxis[g].axisLabel.rotate){f.xAxis[g].axisLabel.rotate=30}}}},defaultColor:function(f){if(!f.color){f.color=this.colors}},registerTheme:function(f){var h=this.colors;var g={color:h,title:{textStyle:{fontWeight:"normal"}},visualMap:{color:["#1790cf","#a2d4e6"]},toolbox:{iconStyle:{normal:{borderColor:"#06467c"}}},tooltip:{backgroundColor:"rgba(0,0,0,0.6)"},dataZoom:{dataBackgroundColor:"#dedede",fillerColor:"rgba(154,217,247,0.2)",handleColor:"#005eaa"},timeline:{lineStyle:{color:"#005eaa"},controlStyle:{normal:{color:"#005eaa",borderColor:"#005eaa"}}},candlestick:{itemStyle:{normal:{color:"#c12e34",color0:"#2b821d",lineStyle:{width:1,color:"#c12e34",color0:"#2b821d"}}}},graph:{color:h},map:{label:{normal:{textStyle:{color:"#c12e34"}},emphasis:{textStyle:{color:"#c12e34"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#e6b600"}}},gauge:{axisLine:{show:true,lineStyle:{color:[[0.2,"#2b821d"],[0.8,"#005eaa"],[1,"#c12e34"]],width:5}},axisTick:{splitNumber:10,length:8,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{length:12,lineStyle:{color:"auto"}},pointer:{length:"90%",width:3,color:"auto"},title:{textStyle:{color:"#333"}},detail:{textStyle:{color:"auto"}}}};f.registerTheme("shine",g)}})})},"sys/mobile/js/mui/panel/AccordionPanel":function(){define("mui/panel/AccordionPanel",["dojo/_base/declare","mui/panel/AccordionPanelMixin","mui/panel/_FixedPanelMixin","mui/panel/_SlidePanelMixin"],function(b,a,d,e){return b("mui.panel.AccordionPanel",[a,d,e],{baseClass:"muiAccordionPanel"})})},"sys/mobile/js/mui/category/CategoryHeader":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style","dojo/request","dojo/topic","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,d,b,l,e,h,k,a){var g=f("mui.category.CategoryHeader",[d],{key:null,_parentId:null,curId:null,curName:null,height:"inherit",title:a["mui.category.pselect"],baseClass:"muiCateHeader",detailUrl:null,buildRendering:function(){this.inherited(arguments);this.contentNode=b.create("div",{className:"muiCateHeaderContent"},this.domNode);if(this.scope=="22"||this.scope=="33"||this.scope=="44"){this.titleDom=b.create("div",{className:"muiCateHeaderTitle",innerHTML:this.title},this.contentNode)}else{this.returnDom=b.create("div",{className:"muiCateHeaderReturn"},this.contentNode);this.titleDom=b.create("div",{className:"muiCateHeaderTitle",innerHTML:this.curName},this.contentNode)}this.cancelNode=b.create("div",{className:"muiCateHeaderCancel",innerHTML:a["mui.category.button.cancel"]},this.contentNode)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/changed","_chgHeaderInfo");this.subscribe("/mui/search/submit","_hideHeader");this.subscribe("/mui/search/cancel","_showHeader");this.connect(this.returnDom,"click",function(){this.defer(function(){this._gotoParent()},350)});this.connect(this.cancelNode,"click",function(){this.defer(function(){this._goBack()},350)})},startup:function(){if(this._started){return}this.inherited(arguments);if(this.domNode.parentNode){var m;if(this.height==="inherit"){if(this.domNode.parentNode){m=this.domNode.parentNode.offsetHeight+"px"}}else{if(this.height){m=this.height}}l.set(this.domNode,{height:m,"line-height":m})}this._chgHeaderInfo(this,{fdId:this.curId});h.publish("/mui/category/changed",this,{fdId:this.curId})},_showHeader:function(m){if(m.key==this.key){l.set(this.domNode,{display:"block"})}},_hideHeader:function(m){if(m.key==this.key){l.set(this.domNode,{display:"none"})}},_refreshHeader:function(){this._buildReturn();if(this.scope=="22"||this.scope=="33"||this.scope=="44"){this.titleDom.innerHTML=this.title}else{this.titleDom.innerHTML=this.curName}},_buildReturn:function(){if(this.scope=="22"||this.scope=="33"||this.scope=="44"){}else{if(this.curId){if(!this.returnIcon){this.returnIcon=b.create("i",{className:"mui mui-back"},this.returnDom);this.returnText=b.create("span",{className:"muiCateHeaderReturnTxt",innerHTML:" "+a["mui.category.button.up"]},this.returnDom)}}else{b.empty(this.returnDom);this.returnIcon=null;this.returnText=null}}},_gotoParent:function(){var m={};if(this._parentId){m.fdId=this._parentId}h.publish("/mui/category/changed",this,m)},_goBack:function(){h.publish("/mui/category/cancel",this)},resolveCateData:function(m){return m},_chgHeaderInfo:function(o,n){if(o.key==this.key){if(n){if(n.fdId&&this.titleDom){this.curId=n.fdId;var p=k.urlResolver(this.detailUrl,this);p=k.formatUrl(p);var q=e.post(p,{handleAs:"json"});var m=this;q.then(function(s){if(s.length>0){var t=m.resolveCateData(s[0]);m.curId=t.fdId;m.curName=t.label;m._parentId=t.parentId;m._refreshHeader()}else{}},function(s){})}else{this.curId=null;this.curName=this.title;this._parentId=null;this._refreshHeader()}}}}});return g})},"sys/mobile/js/mui/ocr/OcrConstants":function(){define(["dojo/_base/declare"],function(a){return a("mui.ocr.OcrConstants",null,{OCR_EVENT_IDENTIFY_SUCCESS:"ocr_identify_success",OCR_EVENT_IDENTIFY_FAIL:"ocr_identify_fail",OCR_EVENT_REUPLOAD:"ocr_reUpload",OCR_EVENT_CANCEL:"ocr_cancel",OCR_EVENT_ONLY_UPLOAD:"ocr_only_upload",OCR_EVENT_OPT_VIEWIMG:"ocr_opt_viewImg",OCR_EVENT_OPT_REPLACEIMG:"ocr_opt_replaceImg",OCR_EVENT_OPT_CANCEL:"ocr_opt_cancel",OCR_EVENT_FAIL_CANCEL:"ocr_fail_cancel"})})},"sys/mobile/js/mui/form/ajax-form":function(){define(["dojo/_base/lang","dojo/query","dojo/on","dojo/dom-style","dojo/dom-form","dojo/dom-attr","dojo/dom-construct","dojo/request","mui/dialog/Tip","mui/dialog/Dialog","mui/device/adapter","mui/device/device","dojo/_base/window","mui/util","dojo/touch","dojo/_base/event","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(D,f,s,x,h,C,l,d,B,g,w,y,e,a,n,z,u){var v=function(){var G=a.getUrlParameter(location.href,"_referer");if(Com_Submit.refresh){Com_Submit.refresh=false;location.reload();return}if(G){G=decodeURIComponent(G);location.replace(G);return}var F=w.goBack();if(F==null){history.back()}var E=y.getClientType();if(E!=7&&E!=8&&E!=9&&E!=10){setTimeout(function(){w.closeWindow()},500)}};window._alert=window.alert;var k=function(E){require(["mui/dialog/Tip"],function(F){F.fail({text:E})})};var q=B.processing();var b=false;function t(){if(b){return false}b=true;window.alert=k;q.show();return true}function p(){b=false;window.alert=window._alert;q.hide(false)}function A(E){var I=[],G;var H=E.slice(E.indexOf("?")+1).split("&");console.log(H);for(var F=0;F<H.length;F++){G=H[F].split("=");I[G[0]]=G[1];console.log(G)}return I}function o(E){var G="当前文档已被【"+E.modifyPerson+"】"+E.modifyTime+"分钟之前提交，继续提交将覆盖之前的更新内容。</br>是否继续提交";var F="";if(methodd){F=methodd}else{console.info("参数错误");return}var H=g.element({title:"文档已被他人更新",showClass:"lockTip",element:"<div>"+G+"<div>",scrollable:false,parseable:false,buttons:[{title:"取消并刷新",fn:function(I){location.reload()}},{title:"继续提交",fn:function(K){var I=document.getElementsByName("componentLockerVersionForm.fdVersion")[0];var J=parseInt(I.value);var L=J+2;I.value=L;Com_SubmitForm(document.forms[0],methodd);return}}]})}var m=function(L,M){var J=false;var E=D.isString(L)?f(L)[0]:L;var K=M.success?M.success:function(){J=true;B.success({text:u["mui.return.success"],callback:M.back?v:null,cover:true})};var G=M.error?M.error:function(){var O=u["mui.return.failure"];if(arguments&&arguments.length>0&&arguments[0].length>0){if(arguments[0]&&arguments[0][0]&&arguments[0][0].response){var N=arguments[0][0].response.data.message;if(N&&N.length>0){O=N[0].msg}}else{O=arguments[0][0].message[0].msg}}B.fail({text:O,cover:true})};var I=G;G=function(){if(arguments[0].exceptionType&&arguments[0].exceptionType=="ComponentLockerVersionException"){o(arguments[0]);Com_Parameter.isSubmit=false}else{I(arguments);Com_Parameter.isSubmit=false}};var F=function(R){if(J){B.fail({text:u["mui.return.submitted"],callback:function(){location.reload()}});p();return}var O=R.action;methodd=A(O).method;var Q=R.method||"post";var P=new RegExp();P.compile("[^:]*://app.[^k]*.kk");if(P.test(O)){O=a.formatUrl(O.replace(/[^:]*:\/\/app.[^k]*.kk/,"",""),true)}if(window.Com_BeforeSubmitDeferred){var N=window.Com_BeforeSubmitDeferred();N.then(D.hitch(this,function(){var T=d.post(O,{data:h.toObject(R),headers:{Accept:"application/json"},handleAs:"json"}).then(function(U){p();if(U.status===false){G(U);return}K(U)},function(U){p();G(U)})}),D.hitch(this,function(T){p();G(T)}))}else{if((Q.toLowerCase())==="get"){var S=d.get(O,{data:h.toObject(R),headers:{Accept:"application/json"},handleAs:"json"}).then(function(T){p();if(T.status===false){G(T);return}K(T)},function(T){p();G(T)})}else{var S=d.post(O,{data:h.toObject(R),headers:{Accept:"application/json"},handleAs:"json"}).then(function(T){p();if(T.status===false){G(T);return}K(T)},function(T){p();G(T)})}}};var H=function(N){N.stopPropagation();N.preventDefault();t();F(E)};if(window.Com_Submit){Com_Submit.ajaxBeforeSubmit=t;Com_Submit.ajaxCancelSubmit=p;Com_Submit.ajaxSubmit=F}else{s(E,"submit",H)}};return{ajaxForm:m,load:function(G,E,F){E(["dojo/domReady!"],function(){m("[name='"+G+"']",{back:true});if(F){F()}})}}})},"sys/mobile/js/mui/syscategory/SysCategoryList":function(){define(["dojo/_base/declare","dojo/_base/lang","mui/category/CategoryList","mui/category/CategoryAllSelectMixin","mui/util"],function(d,f,a,e,b){return d("mui.syscategory.SysCategoryList",[a,e],{modelName:null,authCateIds:null,buildRendering:function(){this.inherited(arguments);if(this.getParent().getParent()){this.authCateIds=this.getParent().getParent().authCateIds}},dataUrl:"/sys/category/mobile/sysCategory.do?method=cateList&fdTempKey=!{fdTempKey}&categoryId=!{parentId}&canSelect=!{canSelect}&getTemplate=!{getTemplate}&modelName=!{modelName}&authType=!{authType}&extendPara=key:!{key}",doLoad:function(h,g){if(this._dataUrl&&this._dataUrl!="undefined"){this.url=b.urlResolver(b.formatUrl(this._dataUrl),this)}this.inherited(arguments)},buildQuery:function(){var g=this.inherited(arguments);return f.mixin(g,{authCateIds:this.authCateIds})}})})},"sys/mobile/js/mui/header/DocViewHeader":function(){define("mui/header/DocViewHeader",["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/dom-geometry","dojo/on","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,e,m,k,b,a,l,h,d){var g=f("mui.header.DocViewHeader",[e],{baseClass:"muiDocViewHeader",subject:"",userId:"",userName:"",imgUrl:"/sys/person/sys_person_zone/sysPersonZone.do?method=img&fdId=!{userId}",docStatus:"",docStatusText:"",docStatusEnum:{"00":{text:d["mui.mobile.process.status.discard"],iconClass:"processStatusDiscard"},"20":{text:d["mui.mobile.process.status.examine"],iconClass:"processStatusExamine"},"30":{text:d["mui.mobile.process.status.done"],iconClass:"processStatusDone"}},expandItems:false,itemDatas:[],buildRendering:function(){this.inherited(arguments);var o=b.create("div",{className:"muiDocViewHeaderBase"},this.domNode);if(this.subject){b.create("div",{className:"muiDocViewHeaderSubject",innerHTML:this.subject},o)}if(this.userId||this.userName){var x=b.create("div",{className:"muiDocViewHeaderPerson"},o);if(this.userId){var u=b.create("div",{className:"muiDocViewHeaderIcon"},x);b.create("img",{src:h.formatUrl(this.imgUrl.replace(/!{userId}/,this.userId))},u)}if(this.userName){b.create("div",{className:"muiDocViewHeaderUser",innerHTML:this.userName},x)}}if(this.docStatus&&this.docStatusEnum[this.docStatus]){var y=this.docStatusEnum[this.docStatus];var p=y.iconClass?y.iconClass:"";var n=b.create("div",{className:"muiDocViewHeaderStatus "+p});var D=b.create("i",{className:"fontmuis muis-watermark"},n);var G=b.create("span",{},n);G.innerText=this.docStatusText?this.docStatusText:y.text;b.place(n,o,"last")}if(this.itemDatas&&this.itemDatas.length>1){var t=b.create("div",{className:"muiDocViewHeaderDetailWarp"},this.domNode);var w=b.create("div",{className:"muiDocViewHeaderDetailContainer"},t);var s=b.create("div",{className:"muiDocViewHeaderDetail"},w);for(var F=0;F<this.itemDatas.length;F++){var I=this.itemDatas[F];var z=b.create("div",{className:"muiDocViewHeaderDetailItem"},s);var q=b.create("div",{className:"muiDocViewHeaderDetailItemL"},z);var E=b.create("span",{},q);if(I.name){E.innerHTML=I.name}var H=b.create("div",{className:"muiDocViewHeaderDetailItemR"},z);var A=b.create("span",{},H);if(I.value){A.innerHTML=I.value}if(I.click){l(A,"click",I.click)}}var C=a.getContentBox(t).h;if(this.expandItems){k.set(t,{"max-height":C+"px",overflow:"inherit"})}else{k.set(t,{"max-height":"0",overflow:"hidden"})}var v=b.create("div",{className:"muiDocViewHeaderExpandBtn",style:{display:this.expandItems?"none":"block"}},this.domNode);b.create("i",{className:"fontmuis muis-slide-down"},v);var B=b.create("div",{className:"muiDocViewHeaderCollapseBtn",style:{display:this.expandItems?"block":"none"}},this.domNode);b.create("i",{className:"fontmuis muis-slide-up"},B);this.connect(v,"click",function(){m.remove(v,"muiDocViewHeaderBtnFadeIn");k.set(v,{display:"none"});m.add(B,"muiDocViewHeaderBtnFadeIn");k.set(B,{display:"block"});m.remove(t,"muiDocViewHeaderWarpHidden");m.add(t,"muiDocViewHeaderWarpShow");k.set(t,{"max-height":C+"px",overflow:"inherit"})});this.connect(B,"click",function(){m.remove(B,"muiDocViewHeaderBtnFadeIn");k.set(B,{display:"none"});m.add(v,"muiDocViewHeaderBtnFadeIn");k.set(v,{display:"block"});m.remove(t,"muiDocViewHeaderWarpShow");m.add(t,"muiDocViewHeaderWarpHidden");k.set(t,{"max-height":"0",overflow:"hidden"})})}}});return g})},"sys/mobile/js/mui/form/TextLabel":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-attr"],function(d,b,e){var a=d("mui.form.TextLabel",[b],{buildRendering:function(){this.inherited(arguments);var f=this.buildXFormStyle();if(f){e.set(this.domNode,"style",f)}},buildXFormStyle:function(){var g=this.get("xformStyle");if(g){var f;if(typeof KMSSData!="undefined"){try{var h=new KMSSData();h.AddBeanData("sysFormDefaultSettingService");h=h.GetHashMapArray();if(h.length>0){f=h[0].showMobileStyle}}catch(k){}}if(f=="true"){return g}}}});return a})},"sys/mobile/js/mui/catefilter/SwapMixin":function(){define(["dojo/_base/declare","mui/util","mui/catefilter/ConstMixin","dojo/_base/array","dojo/query","dijit/registry","dojo/topic"],function(f,a,d,h,g,b,e){return f("mui.catefilter.SwapMixin",[d],{key:null,filterValue:"",buildRendering:function(){this.inherited(arguments);this.subscribe(this.CONFIRM,"navConfirm")},_setInitUrl:function(k,l){this.propertyUrls=[];if(this.filterValue){h.forEach(k,function(m){m.url=a.setUrlParameter(m.url,this.key,this.filterValue)},this)}},generateSwapList:function(k,l){this._setInitUrl(k,l);this.inherited(arguments)},navConfirm:function(n,k){if(!k){return}var m=k.value;if(m.value==this.filterValue){return}this.filterValue=m.value;var l=this.getChildren();if(l.length==0){return}e.publish("/mui/list/toTop",this,{t:0});h.forEach(l,function(p){p.reloadTime=0;var q=b.getEnclosingWidget(g(".mblEdgeToEdgeList",p.domNode)[0]);var o=q.getParent();o.rel.url=a.setUrlParameter(o.rel.url,this.key,this.filterValue);q.url=a.formatUrl(o.rel.url);if(this.currView==p){q.reload()}},this)},generateList:function(k,l){this._setInitUrl(k,l);this.inherited(arguments)}})})},"sys/mobile/js/mui/syscategory/syscategory_mul":function(){define(["mui/syscategory/syscategory_common"],function(b){function a(f,e){var d=b.html(f);d+="<div data-dojo-type=\"mui/syscategory/SysCategorySelection\" data-dojo-props=\"key:'{categroy.key}',curIds:'{categroy.curIds}',curNames:'{categroy.curNames}',modelName:'{categroy.modelName}',beforeSelectCateHistoryId:'{categroy.beforeSelectCateHistoryId}'\" fixed=\"bottom\"></div>";e(d)}return{load:function(f,d,e){a(f,e)}}})},"sys/mobile/js/mui/address/AddressList":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojox/mobile/viewRegistry","mui/category/CategoryList","mui/category/CategoryAllSelectMixin","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,a,k,d,l,m,h,e,g,b){return f("mui.address.AddressList",[h,e],{dataUrl:"/sys/organization/mobile/address.do?method=addressList&parentId=!{parentId}&orgType=!{selType}&deptLimit=!{deptLimit}",dataEcoUrl:"/sys/organization/mobile/ecoAddress.do?method=addressList&parentId=!{parentId}&orgType=!{selType}&deptLimit=!{deptLimit}",searchUrl:"/sys/organization/mobile/address.do?method=searchList&keyword=!{keyword}&orgType=!{orgType}&deptLimit=!{deptLimit}",iconUrl:"/sys/organization/image.jsp?orgId=!{orgId}",nodataImg:g.formatUrl("/sys/mobile/css/themes/default/images/address-empty.png"),exceptValue:"",optHandlerIds:"",searching:false,buildRendering:function(){if(this.fdExternal){this.dataUrl=this.dataEcoUrl}if(this.cateId&&this.cateId!="undefined"){this.dataUrl+="&exceptValue=!{exceptValue}&cateId=!{cateId}";this.searchUrl+="&exceptValue=!{exceptValue}&cateId=!{cateId}"}if(this.isSearch){this.searchUrl="/sys/organization/mobile/ecoAddress.do?method=searchList&keyword=!{keyword}&orgType=!{orgType}&parentId=!{parentId}&deptLimit=!{deptLimit}"}if(this.isExt!=""&&this.isExt!=undefined&&this.isExt=="true"){this.searchUrl+="&isExternal=false"}if(this.isExternal&&(this.isExternal=="true"||this.isExternal=="false")){this.dataUrl+="&isExternal="+this.isExternal}this.inherited(arguments);l.add(this.domNode,"muiAddressList")},generateList:function(o){if(this.searchCountNode){d.destroy(this.searchCountNode);this.searchCountNode=null}k.forEach(o,function(p){if(p.id){p.id=this.channel+p.id}},this);this.inherited(arguments);if(this.searching){var n=0;k.forEach(o,function(p){if(p.header!="true"){n++}});this.searchCountNode=d.create("div",{className:"muiAddressSearchCount",innerHTML:b["mui.mobile.address.search.count"].replace("%count%",n)});d.place(this.searchCountNode,this.domNode,"first")}},buildQuery:function(){var n=this.inherited(arguments);return a.mixin(n,{exceptValue:this.exceptValue,optHandlerIds:this.optHandlerIds})},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/address/search/submit",a.hitch(this,function(){var n=m.getEnclosingView(this.domNode);if(n&&n.isVisible()){this.searching=true}}));this.subscribe("/mui/list/loaded",a.hitch(this,function(){this.searching=false}))}})})},"sys/mobile/js/mui/dialog/_DialogBase":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style"],function(d,f,g,e,a,b){return d("mui.dialog._DialogBase",[f],{isShow:false,buildRendering:function(){this.domNode=this.containerNode;this.inherited(arguments)},show:function(){this.set("isShow",true);return this},hide:function(){this.set("isShow",false);return this}})})},"sys/mobile/js/mui/rtf/_ImageGlobalResizeMixin":function(){define(["dojo/_base/declare","mui/rtf/_ImageResizeMixin","dojo/_base/array"],function(a,b,d){return a("mui.rtf._ImageGlobalResizeMixin",b,{initSrcList:function(){var e=window;if(!e.RtfImages){e.RtfImages={}}if(!e.RtfImages[this.channel]){e.RtfImages[this.channel]=[]}this.srcs=[]},addSrcList:function(e){this.srcs.push(e);window.RtfImages[this.channel].push(e)},getSrcList:function(){return window.RtfImages[this.channel]},emptySrcList:function(){d.forEach(this.srcs,function(f,e){window.RtfImages[this.channel]=d.filter(window.RtfImages[this.channel],function(g){return g!=f})},this);this.srcs.length=0}})})},"sys/mobile/js/mui/simplecategory/SimpleCommonCategoryItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/simplecategory/SimpleCommonCategoryItemMixin"],function(d,b,a){return d("mui.simplecategory.SimpleCommonCategoryItemListMixin",[b],{itemRenderer:a})})},"sys/mobile/js/mui/catefilter/TitleMixin":function(){define(["dojo/_base/declare","dojo/request","mui/util","mui/device/adapter"],function(d,e,b,a){return d("mui.catefilter.TitleMixin",null,{buildRendering:function(){this.inherited(arguments);if(this.title){this.subscribe(this.CONFIRM,"onTitle")}},title:true,onTitle:function(k,f){if(!f){return}if(f.text){setTimeout(function(){return},100)}var h=f.value;if(!this.detailUrl){return}var g=b.urlResolver(this.detailUrl,{modelName:this.modelName,currentId:h.value});g=b.formatUrl(g);e.post(g,{headers:{Accept:"application/json"},handleAs:"json"}).then(function(l){if(l.length>0){var m=l[0].label;if(m){}}})}})})},"sys/mobile/js/mui/list/_TemplateItemListMixin":function(){define(["dojo/_base/declare","mui/list/item/_TemplateItemMixin"],function(b,a){return b("mui.list._TemplateItemListMixin",null,{itemRenderer:a,itemTemplateString:null,createListItem:function(d){return new this.itemRenderer(this._createItemProperties(d))},_createItemProperties:function(e){var d=this.inherited(arguments);d.templateString=this.itemTemplateString;return d}})})},"sys/mobile/js/mui/ocr/OcrButton":function(){define(["dojo/_base/declare","dijit/_WidgetBase","mui/ocr/OcrConstants","dojo/topic"],function(d,b,e,a){return d("mui.ocr.OcrButton",[b,e],{html:"",type:"",fdKey:"",buildRendering:function(){this.inherited(arguments);this.domNode.innerHTML=this.html||""},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"click","_todo")},_todo:function(){if(this.type=="cancel"||this.type=="opt_del"){a.publish(this.OCR_EVENT_CANCEL+this.fdKey,this)}else{if(this.type=="reUpload"||this.type=="opt_reUpload"){a.publish(this.OCR_EVENT_REUPLOAD+this.fdKey,this)}else{if(this.type=="onlyUpload"){a.publish(this.OCR_EVENT_ONLY_UPLOAD+this.fdKey,this)}else{if(this.type=="opt_viewImg"){a.publish(this.OCR_EVENT_OPT_VIEWIMG+this.fdKey,this)}else{if(this.type=="opt_replaceImg"){a.publish(this.OCR_EVENT_OPT_REPLACEIMG+this.fdKey,this)}else{if(this.type=="opt_cancel"){a.publish(this.OCR_EVENT_OPT_CANCEL+this.fdKey,this)}else{if(this.type=="fail_cancel"){a.publish(this.OCR_EVENT_FAIL_CANCEL+this.fdKey,this)}}}}}}}}})})},"sys/mobile/js/mui/form/RadioGroup":function(){define(["dojo/_base/declare","mui/form/_GroupBase","dojo/dom-construct","dojo/parser","dojo/_base/array","mui/util","dojo/dom-class","mui/dialog/Dialog","dojo/_base/lang","dojo/topic"],function(f,b,e,a,k,h,m,l,d,g){var n=f("mui.form.RadioGroup",[b],{tmpl:"<input type=\"radio\" data-dojo-type=\"mui/form/Radio\" data-dojo-props=\"checked:!{checked},showStatus:'!{showStatus}',renderType:'!{renderType}',name:'!{name}',text:'!{text}',value:'!{value}',style:'!{xformStyle}'\">",valueField:null,opt:false,name:null,value:"",text:"",concentrate:false,alignment:"V",renderType:"normal",xformStyle:"",buildRendering:function(){this.inherited(arguments);if(!this.renderType){this.renderType="normal"}m.add(this.domNode,"muiFormRadio"+this.renderType.substring(0,1).toUpperCase()+this.renderType.substring(1));var o="muiRadioGroup"+this.renderType.substring(0,1).toUpperCase()+this.renderType.substring(1)+"Wrap";this.valueNode=e.create("div",{className:"muiFormItem muiRadioGroupWrap "+o},this.domNode);if(this.alignment=="V"){m.add(this.valueNode," blockRadio")}},_buildValue:function(){this.inherited(arguments)},isConcentrate:function(o){return this.concentrate&&this.value_s.indexOf(o.value)<0&&this.showStatus=="view"},createListItem:function(q){if(this.isConcentrate(q)){return null}var o=this.tmpl.replace("!{showStatus}",this.showStatus).replace("!{renderType}",this.renderType).replace("!{name}","_"+this.name+"_group").replace("!{value}",h.formatTextChar(h.formatText(q.value))).replace("!{text}",h.formatTextChar(h.formatText(q.text.replace(/'/g,"&#039;")))).replace("!{checked}",q.checked?true:false);var p=this.buildXFormStyle()||"";o=o.replace("!{xformStyle}",p);return e.toDom(o)},addChild:function(o){this.inherited(arguments);e.place(o,this.valueNode,"last")},generateList:function(o){this.value_s=this.value.split(";");this.inherited(arguments);return a.parse(this.valueNode)},addValue:function(o){this.set("value",o)}});return n})},"sys/mobile/js/mui/form/editor/EditorUtil":function(){define(["dojo/_base/declare","dojo/_base/lang","mui/form/editor/EditorPopupMixin"],function(a,d,b){return new a("mui.form.EditorUtil",b,{popup:function(g,f,k){var e={_url:g,afterHideMask:k};e=d.mixin(e,f?f:{});var h=new b(e);h.onEditorClick.call(h);return h},resize:function(){}})()})},"sys/mobile/js/mui/catefilter/HashMixin":function(){define(["dojo/_base/declare","dojo/topic","mui/hash","mui/ChannelMixin"],function(d,b,e,a){return d("mui.catefilter.HashMixin",[a],{postMixInProperties:function(){this.inherited(arguments);if(e.matchPath(this.key)){var g=this.getCatekeyWithPrefix();var f=e.getQuery(g);if(f){this.curIds=f}}},postCreate:function(){this.inherited(arguments);this.subscribe("/dojox/mobile/viewChanged","handleViewChanged")},handleViewChanged:function(f){if(!this.isSameChannel(f.key)){return}var g={};var h=this.getCatekeyWithPrefix();g[h]=this.curIds;e.replaceQuery(g)},submit:function(f){this.inherited(arguments);var g={};var h=this.getCatekeyWithPrefix();g[h]=f.curIds;e.replaceQuery(g)},getCatekeyWithPrefix:function(){var f=typeof(this.prefix)==="undefined"?"q":this.prefix;return f?(f+"."+this.catekey):this.catekey}})})},"sys/mobile/js/mui/calendar/_ContentEventMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/touch","dojo/date","dojo/_base/window","dojo/topic","dojo/_base/array","mui/util"],function(e,a,d,b,h,f,l,g){var k=e("mui.calendar._ContentEventMixin",null,{_changeMonthConnects:[],buildRendering:function(){this.inherited(arguments);this.bindChangeMonthEvent()},bindChangeMonthEvent:function(){this.touchStartHandle=this.connect(this.domNode,d.press,"onTouchStart")},onTouchStart:function(m){this.dy=0;this._changeMonthConnects.push(this.connect(this.domNode,d.move,"onTouchMove"));this._changeMonthConnects.push(this.connect(this.domNode,d.release,"onTouchEnd"));this.startY=m.touches?m.touches[0].pageY:m.clientY},onTouchMove:function(m){this.currentY=m.touches?m.touches[0].pageY:m.clientY;this.dy=this.currentY-this.startY},onTouchEnd:function(m){var n=this.domNode.clientHeight/4;if(this.dy>n){this.set("currentDate",b.add(this.currentDate,"month",1))}if(this.dy<-n){this.set("currentDate",b.add(this.currentDate,"month",-1))}l.forEach(this._changeMonthConnects,function(o){this.disconnect(o)},this);this._changeMonthConnects=[]},eventStop:function(m){m.preventDefault();m.stopPropagation()}});return k})},"sys/mobile/js/mui/dialog/OperaTip":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","mui/dialog/_DialogBase","dojo/_base/window","mui/util","dojo/touch","dojo/_base/array","dojo/dom-geometry"],function(g,b,n,e,l,d,k,h,f,m,o){var a=g("mui.dialog.OperaTip",[d],{baseClass:"muiDialogOperationTip",refNode:null,pos:"left",operas:[],buildRendering:function(){if(this.operas.length==0){return}this.inherited(arguments);this.domNode=e.create("div",{className:"muiDialogOperationTip"},document.body);this.operaNode=e.create("div",{className:"muiDialogOperationContainer"},this.domNode);m.forEach(this.operas,function(q){var p=e.create("div",{className:"muiDialogOperationButton",innerHTML:'<span class="'+q.icon+' mui"></span>&nbsp;'+q.text},this.operaNode);if(q.func){this.connect(p,"click",function(s){q.func(s)})}},this)},show:function(){if(!this.domNode){return}var q=this.refNode;var s=o.position(q);var p=h.getScreenSize().w;l.set(this.domNode,{top:s.y+"px",right:p+10-s.x+"px"});l.set(this.operaNode,{"-webkit-transform":"translate3d(0,0,0)"});this.handle=this.connect(document.body,f.press,"onBodyClick");this.inherited(arguments);return this},hide:function(){l.set(this.operaNode,{"-webkit-transform":"translate3d(100%,0,0)"});this.defer(function(){this.disconnect(this.handle);e.destroy(this.domNode);this.domNode=null;this.destroy()},200);this.inherited(arguments);return this},onBodyClick:function(p){var s=p.target,q=true;while(s){if(s==this.domNode){q=false;break}s=s.parentNode}if(q){this.defer(function(){this.hide()},500)}}});return{tip:function(p){return new a(p).show()},OperaTip:a}})},"sys/mobile/js/mui/listcategory/ListCategoryPath":function(){define(["dojo/_base/declare","mui/category/ScrollableCategoryPath","dojo/dom-construct"],function(d,b,a){var e=d("mui.listcategory.ListCategoryPath",[b],{modelName:null,detailUrl:"/sys/category/mobile/sysSimpleCategory.do?method=pathList&cateId=!{curId}&modelName=!{modelName}",_createTitleNode:function(){var g=a.create("div",{className:"muiCatePathTitleItem"},this.containerNode);var h=a.create("div",{className:""},g);var f=a.create("span",{className:"muiListCatePathTitle"},h);f.innerHTML=this.titleNode;this.connect(g,"onclick",function(){this._chgHeaderInfo(this,{});topic.publish("/mui/category/changed",this,{parentId:""})});return g}});return e})},"sys/mobile/js/mui/rtf/_VideoResizeMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/query","dojo/_base/array","dojo/_base/lang","dojo/dom-attr","mui/util","dojo/on","dojo/request"],function(e,b,g,m,k,a,l,f,h,d){return e("mui.rtf._VideoResizeMixin",null,{formatContent:function(p){this.inherited(arguments);var q=[];if(typeof(p)=="object"){q=m("embed",p)}else{q=m(p+" embed")}if(q.length>0){var n=this;k.forEach(q,function(t,s){n.resizeVideo(t)})}var o=[];if(typeof(p)=="object"){o=m("video",p)}else{o=m(p+" video")}if(o.length>0){var n=this;k.forEach(o,function(t,s){n.resizeH5Video(t)})}},resizeH5Video:function(v){var o=l.get(v,"src");var t=/.*?\/resource\/fckeditor\/editor\/filemanager\/download.*?/;var w=this;l.remove(v,"src");l.remove(v,"height");l.remove(v,"autoplay");l.set(v,"controls","controls");l.set(v,"controlslist","nodownload");g.set(v,"max-width","100%");if(o){var q=f.getUrlParameter(o,"fdId");if(t.test(o)&&q){var u=l.get(v,"poster");if(!u){var x="/sys/attachment/sys_att_main/sysAttMain.do?method=view&filethumb=yes&fdType=rtf&fdId="+q;x=f.urlResolver(f.formatUrl(x,true));l.set(v,"poster",x)}var p="/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttToken&fdType=rtf&fdId="+q;p=f.urlResolver(f.formatUrl(p,true));d(p,{handleAs:"json",method:"GET",data:{}}).then(function(z){if(z&&z.token){var y="/sys/attachment/mobile/viewer/play.jsp?fdType=rtf&token="+z.token;y=f.urlResolver(f.formatUrl(y,true));w.buildVideoSource(v,y,o)}else{w.buildVideoSource(v,o)}})}else{w.buildVideoSource(v,o)}}else{var n=m("source",v);if(n&&n.length>0){var s=false;k.forEach(n,function(B,A){o=l.get(B,"src");var D=f.getUrlParameter(o,"fdId");if(t.test(o)&&D){var C=l.get(v,"poster");if(!C){var z="/sys/attachment/sys_att_main/sysAttMain.do?method=view&filethumb=yes&fdType=rtf&fdId="+D;z=f.urlResolver(f.formatUrl(z,true));l.set(v,"poster",z)}var y="/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttToken&fdType=rtf&fdId="+D;y=f.urlResolver(f.formatUrl(y,true));d(y,{handleAs:"json",method:"GET",data:{}}).then(function(F){if(F&&F.token){var E="/sys/attachment/mobile/viewer/play.jsp?fdType=rtf&token="+F.token;E=f.urlResolver(f.formatUrl(E,true));if(!s){w.buildVideoSource(v,E,o);s=true}}})}else{if(!s&&o){w.buildVideoSource(v,o);s=true}}})}}},buildVideoSource:function(p,s,n){if(p.pause){p.pause()}var o=l.get(p,"width");var t=l.get(p,"poster");var q=b.create("video",{innerHTML:'<source src="'+s+'" type="video/mp4"></source>',style:"max-width:100%;background:black;",width:o,controls:true},p,"before");if(t){l.set(q,"poster",t)}if(n){b.create("source",{src:n,type:"video/mp4"},q)}b.destroy(p)},resizeVideo:function(o){var n=l.get(o,"flashvars");if(!n){return}n=f.getUrlParameter(n,"vdo");b.create("video",{innerHTML:'<source src="'+n+'" type="video/mp4"></source>',style:"max-width:100%",controls:true},o,"before");b.destroy(o)}})})},"sys/mobile/js/mui/calendar/_BottomEventMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/touch","mui/device/adapter","dojo/_base/window","dojo/topic","dojo/_base/array","mui/util","dojo/dom-style","dojo/dom-construct","mui/calendar/CalendarUtil","dojo/query"],function(e,a,d,o,k,f,m,g,h,b,p,n){var l=e("mui.calendar._BottomEventMixin",null,{eventNode:null,connects:[],dy:0,url:null,addName:null,buildRendering:function(){this.inherited(arguments);this.startPos=a.position(this.domNode);this.bindEvent();if(this.url){this.connect(this.eventNode,d.release,"eventClick")}},eventClick:function(){if(this.url){var t=g.formatUrl(this.url,true);var q=dojoConfig.Date_format;if(q=="MM/dd/yyyy"){q="yyyy/MM/dd"}var s=p.formatDate(this.currentDate,q);t=g.setUrlParameter(t,"startTime",s);t=g.setUrlParameter(t,"endTime",s);t=g.setUrlParameter(t,"ownerId",dojoConfig.CurrentUserId);o.open(t,"_blank")}},eventStop:function(q){q.preventDefault();q.stopPropagation()},bindEvent:function(){this.touchStartHandle=this.connect(this.domNode,d.press,"onTouchStart")},unBindEvent:function(){this.disconnect(this.touchStartHandle)},onTouchStart:function(q){this.dy=0;this.eventStop(q);this.connects.push(this.connect(k.doc,d.move,"onTouchMove"));this.connects.push(this.connect(k.doc,d.release,"onTouchEnd"));this.connects.push(this.connect(k.doc,d.cancel,"onTouchCancel"));this.touchStartY=q.touches?q.touches[0].pageY:q.clientY;this.startPos=a.position(this.domNode)},onTouchCancel:function(u){this.eventStop(u);var v=-(this.contentHeight-this.weekHeight),s=0;var q=this.startPos.y-a.position(this.domNode).y;if(q>0){s=0;this.unBindEvent();this._bindEvent()}else{if(q<0){v=0;s=this.weekHeight+this.headerHeight;this.publishStatus(true)}}if(q!=0){this.scrollTo({y:v},true);this.publishScroll({y:v,top:s})}this.disconnects()},onTouchMove:function(s){this.eventStop(s);var t=s.touches?s.touches[0].pageY:s.clientY;this.dy=t-this.touchStartY;if(this.dy>0){return}var q=this.startPos.y-this.weekHeight-this.headerHeight;if(Math.abs(this.dy)>q){return}this.scrollTo({y:this.dy});this.publishScroll({y:this.dy,top:(this.weekHeight+this.headerHeight)*(1-Math.abs(this.dy)/q)})},onTouchEnd:function(s){var t=0,q=0;if(this.contentHeight>>1>Math.abs(this.dy)){q=this.weekHeight+this.headerHeight}else{t=-(this.contentHeight-this.weekHeight);q=0;this.unBindEvent();this._bindEvent();this.publishStatus(false)}this.scrollTo({y:t},true);this.publishScroll({y:t,top:q});this.disconnects()},scrollToWeek:function(){var s=-(this.contentHeight-this.weekHeight),q=0;this.unBindEvent();this._bindEvent();this.publishStatus(false);this.scrollTo({y:s},true);this.publishScroll({y:s,top:q});this.disconnects()},_bindEvent:function(){this._touchStartHandle=this.connect(this.domNode,d.press,"_onTouchStart")},_unBindEvent:function(){if(this._touchStartHandle){this.disconnect(this._touchStartHandle)}},_onTouchStart:function(q){this.dy=0;this.eventStop(q);this.connects.push(this.connect(k.doc,d.move,"_onTouchMove"));this.connects.push(this.connect(k.doc,d.release,"_onTouchEnd"));this.connects.push(this.connect(k.doc,d.cancel,"_onTouchCancel"));this.subscribe("/mui/calendar/listScrollableTop","listScrollableTop");this.touchStartY=q.touches?q.touches[0].pageY:q.clientY;this.startPos=a.position(this.domNode)},listTop:true,listScrollableTop:function(q,s){this.listTop=(s.y>=0)},_onTouchCancel:function(u){this.eventStop(u);var v=-(this.contentHeight-this.weekHeight),s=0;var q=this.startPos.y-a.position(this.domNode).y;if(q>0){s=0}else{if(q<0){v=0;s=this.weekHeight+this.headerHeight;this._unBindEvent();this.bindEvent();this.publishStatus(true)}}if(q!=0){this.scrollTo({y:v},true);this.publishScroll({y:v,top:s})}this.disconnects()},_onTouchMove:function(u){this.eventStop(u);var v=u.touches?u.touches[0].pageY:u.clientY;this.dy=v-this.touchStartY;if(this.dy<0||this.dy>=this.contentHeight-(this.weekHeight)){return}var s=n(u.target).closest(".muiCalendarOpt")[0];if(!this.listTop&&!s){return}var q=-(this.contentHeight-this.weekHeight)+this.dy;this.scrollTo({y:q});var t=(this.weekHeight+this.headerHeight)*(1-Math.abs(q)/(this.startPos.y-this.weekHeight-this.headerHeight));this.publishScroll({y:q,top:t})},_onTouchEnd:function(s){if(!this.listTop){return}var t=-(this.contentHeight-this.weekHeight),q=0;if(this.contentHeight>>1>Math.abs(this.dy)){q=0}else{t=0;q=this.weekHeight+this.headerHeight;this._unBindEvent();this.bindEvent();this.publishStatus(true)}this.scrollTo({y:t},true);this.publishScroll({y:t,top:q});this.disconnects()},publishScroll:function(q){f.publish("/mui/calendar/bottomScroll",this,q)},publishStatus:function(q){f.publish("/mui/calendar/bottomStatus",this,{status:q})},disconnects:function(){m.forEach(this.connects,function(q){this.disconnect(q)},this);this.connects=[]}});return l})},"sys/mobile/js/mui/ocr/Ocr":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","mui/ocr/_OcrMixin","mui/form/_AlignMixin","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dojo/query","dojo/html","dojo/_base/lang","dojo/on","mui/util","dojox/mobile/viewRegistry","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(h,g,a,m,d,t,f,s,p,o,l,b,n,k,q,e){return h("mui.ocr.Orc",[a,m,g,d,t],{containerClass:"muiOcrContainer",certificateType:"",typeNum:"",front:"1",isUpload:true,tmpUrl:"/sys/mobile/js/mui/ocr/default/ocr_default.jsp",tmpUrlParams:"front=!{front}&isUpload=!{isUpload}&ocrDesc=!{ocrDesc}&ocrTip=!{ocrTip}&showStatus=!{showStatus}",identifyUrl:"/third/ocr/thirdOcrPart.do?method=ocrPartRecogniz",failJsp:"/sys/mobile/js/mui/ocr/ocr_fail.jsp",failJspParams:"isUpload=!{isUpload}",operDialogJspUrl:"/sys/mobile/js/mui/ocr/ocr_opt.jsp",operDialogJspUrlParams:"showStatus=!{showStatus}",showFlag:false,fdKey:"",showStatus:"",align:"left",toIdentify:true,attSize:0,required:false,buildRendering:function(){this.isForm=true;this.inherited(arguments);this.buildInnerRendering()},postCreate:function(){this.inherited(arguments);if(this.showStatus=="edit"){this.bindEvents()}},startup:function(){this.inherited(arguments);s.add(this.domNode,"muiOcr");this.setNodeAlign();this.setValidator()},setNodeAlign:function(){s.add(this.domNode,"muiOcr"+this.align.substring(0,1).toUpperCase()+this.align.substring(1))},setValidator:function(){this.pView=this.getValidateView();if(!this.pView||this.showStatus!="edit"){return}var u=this;var v="";if(this.required){this.requiredNode=f.create("div",{className:"muiFormRequired muiFormRequiredShow muiOcrImgRequired",innerHTML:"*"},this.ocrContainerNode);this.pView._validation.addValidator("ocr_image_required_"+this.fdKey,e["mui.ocr.validator.pic.null"],function(){return u.validateOcrImgRequired()});v+="ocr_image_required_"+this.fdKey}if(v){p.set(this.domNode,"validate",v)}},validateOcrImgRequired:function(){if(this.showFlag==true){return true}else{return false}},reValidate:function(){if(this.pView){this.pView._validation.validateElement(this.domNode)}},getValidateView:function(v){var w=this.domNode||v;var u=q.getEnclosingView(w);while(u!=null&&!u._validation){u=q.getParentView(u)}return u},buildInnerRendering:function(){var w=this.tmpUrl;if(w.indexOf("?")==-1){w+="?"+this.tmpUrlParams}w=k.formatUrl(k.urlResolver(w,this));if(w){var v=this.containerClass;if(this.required){v+=" muiOcrRequiredContainer"}this.ocrContainerNode=f.create("div",{className:v},this.domNode);if(this.showStatus=="edit"||this.attSize>0||this.isUpload==false){var u=this;require({async:false},["dojo/text!"+w],function(y){var x=new l._ContentSetter({node:u.ocrContainerNode,parseContent:true,cleanContent:true,onBegin:function(){this.content=b.replace(this.content,{categroy:u});this.inherited("onBegin",arguments)}});x.set(y);x.parseDeferred.then(function(z){u.parseResults=z;if(!u.imgNode){u.imgNode=o("[clickEvent='selectImg']",u.ocrContainerNode)[0]}});x.tearDown()})}}},bindEvents:function(){if(this.imgNode){n(this.imgNode,"click",b.hitch(this,this.selectImg))}}})})},"sys/mobile/js/mui/main":function(){define(["./iconUtils","mui/dialog/Tip","dojox/mobile/SwapView","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/NodeList-dom","dojo/NodeList-html","dojo/NodeList-manipulate","dojo/NodeList-traverse"],function(d,a,e,b){if(!window.building){window.building=function(){a.tip({icon:"mui mui-warn",text:b["mui.btn.building"]})}}e.prototype.slideTo=function(o,h,l,k){if(!this._beingFlipped){var p=this.domNode.offsetWidth;var n=this.w||2;var m=k||this.getPos();var g,f;if(m.x<0){g=this.nextView(this.domNode);if(m.x<-p/n){if(g){o.x=-p;f=0}}else{if(g){f=p}}}else{g=this.previousView(this.domNode);if(m.x>p/n){if(g){o.x=p;f=0}}else{if(g){f=-p}}}if(g){g._beingFlipped=true;g.slideTo({x:f},h,l);g._beingFlipped=false;g.domNode._isShowing=(g&&f===0)}this.domNode._isShowing=!(g&&f===0)}this._runSlideAnimation(this.getPos(),o,h,l,this.containerNode,2);this.slideScrollBarTo(o,h,l)};if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(f){return this.slice(0,f.length)===f}}return{iconUtils:d,building:building}})},"sys/mobile/js/mui/nav/NavItemPromptMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style"],function(d,a,b){return d("mui.nav.NavItemPromptMixin",null,{buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/navitem/prompt","onPrompt")},onPrompt:function(f,e){if(f.key!=this.tabIndex){return}if(e.show){if(this.doteNode){b.set(this.doteNode,"display","block");return}this.doteNode=a.create("i",{className:"muiNavItemDote"},this.domNode)}else{if(!this.doteNode){return}b.set(this.doteNode,"display","none")}}})})},"sys/mobile/js/mui/nav/StaticNavBar":function(){define("mui/nav/StaticNavBar",["./NavBar","dojo/_base/declare","./_StaticNavBarMixin"],function(a,b,d){return b("mui.nav.NavBarStore",[a,d],{height:"4.4rem"})})},"sys/mobile/js/mui/search/SearchBar":function(){define(["dojo/_base/declare","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/query","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/history/listener","dojo/_base/lang"],function(h,p,e,g,o,f,m,l,n,k,d,b,a){return h("mui.search.SearchBar",[g,e,p],{searchUrl:"/sys/ftsearch/mobile/index.jsp?keyword=!{keyword}&modelName=!{modelName}&searchFields=!${searchFields}&docStatus=!{docStatus}",modelName:"",keyword:"",searchFields:"",docStatus:"",jumpToSearchUrl:true,height:"inherit",needPrompt:true,forPage:false,placeHolder:d["mui.search.hint"],buildRendering:function(){this.inherited(arguments);o.replace(this.containerNode,"muiSearchBar");var u=null;var s=n(this.containerNode).parent("form");var t;if(s.length==0){this._searchForm=f.create("form",{action:"",onsubmit:"return false;"},this.containerNode);t=this._searchForm}else{this._searchForm=s[0];t=this.containerNode}u=f.create("div",{className:"muiSearchBarContainer"},t);var q=f.create("div",{className:"muiSearchDiv"},u);this._searchContainer=u;this.searchIconNode=f.create("div",{className:"muiSearchIcon fontmuis muis-search",style:{"z-index":"2"}},q);this.clearNode=f.create("div",{className:"muiSearchClear fontmuis muis-delete"},q);this.searchNode=f.create("input",{className:"muiSearchInput",type:"search",value:this.keyword,placeHolder:this.placeHolder||d["mui.search.search"]},q);this.buttonArea=f.create("div",{className:"muiSearchBtnDiv"},u);this.cancelNode=f.create("div",{className:"muiSearchCancelBtn muiFontSizeM muiFontColorMuted",innerHTML:d["mui.search.cancel"]},this.buttonArea);m.set(this.buttonArea,{display:"none"})},postCreate:function(){this.inherited(arguments);this.connect(this._searchForm,"onsubmit","_onSearch");this.connect(this.searchNode,"onfocus","_onfocus");this.connect(this.searchNode,"onclick","_onfocus");this.connect(this.searchNode,"oninput","_onChange");this.connect(this.clearNode,"onclick","_onClear");this.connect(this.cancelNode,"onclick","_onCancel");this.subscribe("/mui/searchbar/cancel","_onCancel");this.subscribe("/mui/searchbar/clickListItem","clickListItem");this.subscribe("/mui/searchbar/show","_onfocus");this.subscribe("/mui/search/keyword","_fillKeyword");this.subscribe("/mui/search/submit","_onSubmit")},startup:function(){if(this._started){return}this.inherited(arguments);if(this.height&&this.height!="inherit"){m.set(this.domNode,{height:this.height,"line-height":this.height})}if(this.forPage){this._onfocus$(!!this.keyword)}},_onSubmit:function(q,t){if(this==q&&t&&t.url&&this.jumpToSearchUrl){this.searchNode.value=this.keyword;location=t.url}},_fillKeyword:function(t,q){if(q){var s=q.keyword;if(!s){return}s=k.decodeHTML(s);s=s.replace(/&amp;/g,"&");this.set("keyword",s);this._onSearch()}},_onfocusCommon:function(){l.publish("/mui/search/onfocus",this);if(!this.forPage){m.set(this.buttonArea,{display:"table-cell"})}if(this.keyword){this.showClear()}},_onfocus$:function(q){this._onfocusCommon();this._showPrompt$(q)},_onfocus:function(s){if(this.show){return}if(!this.needPrompt){this._onfocusCommon()}else{this.show=true;var u=a.hitch(this,function(){this._onfocus$()});var t=a.hitch(this,function(){this._onCancel$()});var q=b.push({forwardCallback:u,backCallback:t});this.beforeSelectCateHistoryId=q.previousId;this._eventStop(s)}},_showPrompt$:function(u){if(!this.promptNode){this.promptNode=f.create("div",{className:"muiSearchPrompt fadeIn animated"},document.body);var s=this;require(["mui/search/_SearchPrompt"],function(v){s._prompt=new v({srcNodeRef:s.promptNode,prefix:s.modelName,modelName:s.modelName,parent:s,forPage:s.forPage});s._prompt.startup();if(u){s._fillKeyword(null,s)}})}else{if(this._prompt){this._prompt.show()}}var q=this;var t=this.connect(document.body,"touchend",function(v){if(v.target!=q.searchNode){setTimeout(function(){q.searchNode.blur();q.disconnect(t)},410)}})},show:false,showClear:function(){m.set(this.clearNode,{display:"inline-block"})},hideClear:function(){m.set(this.clearNode,{display:"none"})},_onChange:function(){if(this.timeout){clearTimeout(this.timeout)}var q=this;this.timeout=setTimeout(function(){q.keyword=q.searchNode.value;if(q.keyword){q.showClear();if(q.needPrompt){if(!q._complete){require(["mui/search/_SearchComplete"],function(s){q._complete=new s({parent:q});q._complete.startup()})}}}else{q.hideClear()}l.publish("/mui/search/onChange",q)},300)},_onClear:function(){this.set("keyword","");this.hideClear();l.publish("/mui/search/onClear",this);l.publish("/mui/search/onChange",this)},_onCancel$:function(){this.show=false;this._onClear();m.set(this.buttonArea,{display:"none"});l.publish("/mui/search/cancel",this)},clickListItem:function(q){b.go({historyId:this.beforeSelectCateHistoryId,callback:a.hitch(this,function(){if(q&&q.cb){q.cb()}})})},_onCancel:function(){if(this.beforeSelectCateHistoryId){b.go({historyId:this.beforeSelectCateHistoryId,callback:a.hitch(this,function(){this._onCancel$()})})}else{this._onCancel$()}},_eventStop:function(q){if(q){if(q.stopPropagation){q.stopPropagation()}if(q.cancelBubble){q.cancelBubble=true}if(q.preventDefault){q.preventDefault()}if(q.returnValue){q.returnValue=false}}},_setKeywordAttr:function(q){this.keyword=q;this.searchNode.value=q},_onSearch:function(q){this._eventStop(q);this.set("keyword",this.searchNode.value);if(this.keyword){var u={};if(!this.needPrompt){if(this.searchUrl){var s=k.formatUrl(k.urlResolver(this.searchUrl,this));u.url=s}u.keyword=decodeURIComponent(this.keyword);u.modelName=this.modelName;u.searchFields=this.searchFields;u.docStatus=this.docStatus}l.publish("/mui/search/submit",this,u)}return false}})})},"sys/mobile/js/mui/header/HeaderItem":function(){define(["dojo/_base/declare","dojox/mobile/_ItemBase","dojo/dom-style","mui/util"],function(e,b,d,a){return e("mui.header.HeaderItem",[b],{icon:null,baseClass:"muiHeaderItem",label:null,referListId:null,buildRendering:function(){if(this.icon){this.baseClass=this.baseClass+" "+this.icon}this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/list/loaded","refreshLabel")},refreshLabel:function(f){if(f&&f.id==this.referListId&&this.label){if(f.totalSize){this.domNode.innerHTML="<div class='muiHeaderItemLable muiFontSizeM muiFontColorInfo'>"+a.formatText(this.label)+"("+f.totalSize+")</div>"}}},startup:function(){this.inherited(arguments);if(this.domNode.parentNode){var g=this.domNode.parentNode.style.height;if(g>0||parseFloat(g)>0){var f={height:g,"line-height":g};d.set(this.domNode,f)}}},_setLabelAttr:function(f){if(this.label){this.domNode.innerHTML="<div class='muiHeaderItemLable muiFontSizeM muiFontColorInfo'>"+a.formatText(this.label)+"</div>"}}})})},"sys/mobile/js/mui/datetime/_DateTimeMixin":function(){define(["dojo/_base/declare","mui/datetime/_EditDateTimeMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){return b("mui.datetime._DateTimeMixin",[a],{type:"datetime",tmplStr:'<div data-dojo-type="mui/datetime/DatePicker" id="_date_picker" data-dojo-props="value:\'!{dateValue}\'"></div><div data-dojo-type="mui/datetime/TimePicker" id="_time_picker" data-dojo-props="value:\'!{timeValue}\', minuteStep:\'!{minuteStep}\'"></div>',title:d["mui.datetime.select"],_contentExtendClass:"muiDateTimeDialogDisContent"})})},"sys/mobile/js/mui/authenticate/AuthenticateBase":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Container","dojo/dom-style","dojo/dom-construct","dojo/request","mui/util"],function(f,h,d,e,b,g,a){return f("mui.authenticate.AuthenticateBase",[h,d],{url:"",startup:function(){this.inherited(arguments);var k=this;this.formatUrl();g(a.formatUrl(this.url),{handleAs:"json"}).then(function(m){if(m.status&&m.status=="true"){var o=Array.prototype.slice,l=k.getParent(),n=k.domNode.childNodes;n=o.call(n);while(dom=n.shift()){b.place(dom,k.domNode,"after")}b.destroy(k.domNode);if(l&&l.resize){}}else{k.destroyRecursive()}})},formatUrl:function(){}})})},"sys/mobile/js/mui/nav/_ShareNavBarMixin":function(){define("mui/nav/_ShareNavBarMixin",["dojo/_base/declare","dojo/_base/array","dojo/dom-style"],function(d,e,b){var a=d("mui.nav._ShareNavBarMixin",null,{buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/nav/onComplete","onShare")},onShare:function(n,h){var m=this.containerNode.offsetWidth,g=this.domNode.offsetWidth;if(m>g){return}var l=this.getChildren();var f=0;e.forEach(l,function(p){var o=p.domNode;f+=o.offsetWidth});var k=(m-f)/(l.length*2);e.forEach(l,function(p){var o=p.domNode;b.set(o,{"margin-left":k+"px","margin-right":k+"px"})})}});return a})},"sys/mobile/js/mui/category/CategoryScrollNav":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/topic","mui/dialog/Tip"],function(f,e,k,d,b,h,g,l){var a=f("mui.category.CategoryScrollNav",[e],{refrenceDom:null,absoluteDom:null,baseClass:"muiCateNav",navDatas:[],navItems:[],key:null,buildRendering:function(){this.inherited(arguments);if(typeof(this.refrenceDom)=="string"){this.refrenceDom=d.byId(this.refrenceDom)}if(typeof(this.absoluteDom)=="string"){this.absoluteDom=d.byId(this.absoluteDom)}this.navDatas=[];this.navItems=[]},postCreate:function(){if(!this.scope||this.scope=="11"){return}this.inherited(arguments);this.subscribe("/mui/view/resized","_resizeNav");this.subscribe("/mui/category/addNav","_addNavItem");this.subscribe("/mui/category/clearNav","_clearNav")},_clearNav:function(n,m){if(n.key==this.key){this.navDatas=[];this.navItems=[];b.empty(this.domNode)}},_resizeNav:function(q){if(q.key==this.key){b.empty(this.domNode);var n=this.refrenceDom.offsetHeight;var o=0;if(this.absoluteDom){o=this.absoluteDom.offsetHeight}var m=this;k.forEach(this.navDatas,function(v,u){if(v!="2"&&v!="4"){var w=b.create("span",{className:"muiCateNavItem",innerHTML:v},m.domNode);m.connect(w,"click",function(){m._ItemClick({label:v,refHeight:n})});m.navItems.push(w)}});if(this.navItems.length>0){h.set(this.domNode,{display:"block",top:(this.refrenceDom.offsetTop+o)+"px",height:(n-o)+"px"});var s=b.create("span",{className:"muiCateNavItem"},this.domNode,"first");var p=b.create("i",{className:"mui mui-search"},s);this.connect(s,"click","_toTop");this.navItems.push(s);var t=18;if(this.navItems.length>20){t=Math.floor((n-o)/this.navItems.length)}h.set(p,{"font-size":"12px"});h.set(p,{height:t+"px"});h.set(p,{"line-height":t+"px"});k.forEach(this.navItems,function(u){h.set(u,{height:t+"px","line-height":t+"px","font-size":"12px"})})}else{h.set(this.domNode,{display:"none"})}}},_ItemClick:function(m){this.defer(function(){g.publish("/mui/cate/navTo",this,m)},200)},_toTop:function(m){this.defer(function(){g.publish("/mui/view/scrollTo",this)},200)},_addNavItem:function(n,m){if(n.key==this.key){if(m&&m.label){this.navDatas.push(m.label)}}},startup:function(){if(this._started){return}this.inherited(arguments)}});return a})},"sys/mobile/js/mui/list/JsonStoreListHashMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/topic","mui/util","mui/hash","mui/ChannelMixin","dojo/request"],function(e,h,k,d,a,g,b,f){return e("mui/list/JsonStoreListHashMixin",[b],{postMixInProperties:function(){this.inherited(arguments);this.previousQueryData={};this.queryData={}},startup:function(){var o=g.matchPath(this.key);var n=g.canHash();if(o&&n){var m=g.getQuery();if(m){this.queryData=this.__removeQueryNamePrefix(m)}}this.inherited(arguments);if(o&&n){var l=this.getParent();if(l&&l.rel&&l.rel.url){l.rel.url=this.__formatQueryUrl(l.rel.url)}}},postCreate:function(){this.inherited(arguments);if(!g.canHash()){return}this.subscribe("/mui/catefilter/confirm","onCate");this.subscribe("/mui/list/count","onCount");this.subscribe("/mui/property/filter","onFilter")},onCount:function(o,m){if(!this.isSameChannel(o.key)||!m){return}this.previousQueryData=h.clone(this.queryData);for(var n in m.values){this.queryData[n]=m.values[n]}var l=this.getParent();if(!l){return}var p=this.__formatQueryUrl(l.rel.url);p=a.formatUrl(p+"&rowsize=1");f.post(p,{handleAs:"json"}).then(function(s){var q=0;if(s.page&&s.page.totalSize){q=parseInt(s.page.totalSize)}else{if(s[s.length-1]&&s[s.length-1].totalSize){q=parseInt(s[s.length-1].totalSize)}else{q=s.length}}m.callback(q)});this.queryData=h.clone(this.previousQueryData)},onCate:function(m,l){if(!this.isSameChannel(m.key)||!l){return}if(this.queryData[l.name]===l.value){return}this.previousQueryData=h.clone(this.queryData);this.queryData[l.name]=l.value;this.__reload()},onFilter:function(n,l){if(!this.isSameChannel(n.key)||!l){return}this.previousQueryData=h.clone(this.queryData);for(var m in l){this.queryData[m]=l[m]}this.__reload()},__reload:function(){d.publish("/mui/list/toTop",this,{t:0});var l=this.getParent();if(!l){return}var m=this.__formatQueryUrl(l.rel.url);l.rel.url=m;this.url=a.formatUrl(m);this.reload()},__formatQueryUrl:function(l){for(var m in this.queryData){var n=this.queryData[m];var o=this.__formatQueryName(m,n);l=a.setUrlParameter(l,o,null);if(this.previousQueryData[m]&&this.previousQueryData[m].expr){l=l.replace("&"+this.previousQueryData[m].expr,"")}if(h.isObject(n)&&n.expr){l+="&"+n.expr}else{n=n.value?n.value:n;n=h.isString(n)?[n]:n;k.forEach(n,function(p){l+="&"+o+"="+encodeURIComponent(p)},this)}}return l},__removeQueryNamePrefix:function(m){for(var n in m){var o=m[n];var l=h.isObject(o)&&!h.isArray(o);if(/^(\w+)\.(.*)/.test(n)){m[RegExp.$2]=l?Object.assign({prefix:RegExp.$1},o):{prefix:RegExp.$1,value:o};delete m[n]}else{m[n]=l?Object.assign({prefix:""},o):{prefix:"",value:o}}}return m},__formatQueryName:function(n,m){var l=h.isObject(m)&&!h.isArray(m);if(l&&m.prefix){return m.prefix+"."+n}if(m&&m.prefix===""){return n}return"q."+n}})})},"sys/mobile/js/mui/nav/NavBarStore":function(){define("mui/nav/NavBarStore",["./NavBar","dojo/_base/declare","./_StoreNavBarMixin"],function(a,d,b){return d("mui.nav.NavBarStore",[a,b],{height:"4.4rem"})})},"sys/mobile/js/mui/tabbar/TabBarView":function(){define(["dojo/_base/declare","dojox/mobile/View","dojo/dom-style","dojo/dom-class","dojo/_base/window","dijit/registry","dojo/_base/array"],function(e,h,d,f,g,b,k){var a=e("mui.tabbar.TabBarView",[h],{startup:function(){if(this._started){return}this.findAppBar();this.inherited(arguments)},findAppBar:function(){if(this.domNode.parentNode){for(var m=0,l=this.domNode.parentNode.childNodes.length;m<l;m++){c=this.domNode.parentNode.childNodes[m];this.checkFixedBar(c)}}},checkFixedBar:function(m){if(m.nodeType===1){var l=m.getAttribute("fixed")||m.getAttribute("data-mobile-fixed")||(b.byNode(m)&&b.byNode(m).fixed);if(l==="top"){f.add(m,"mblFixedHeaderBar");this.fixedHeader=m}else{if(l==="bottom"){f.add(m,"mblFixedBottomBar");this.fixedFooter=m}}}},width:"100%",resize:function(){this.footerHeight=(this.fixedFooter)?this.fixedFooter.offsetHeight:0;this.headerHeight=(this.fixedHeader)?this.fixedHeader.offsetHeight:0;d.set(this.domNode,"height",g.global.innerHeight-this.footerHeight-this.headerHeight+"px");k.forEach(this.getChildren(),function(l){if(l.resize){l.resize()}})}});return a})},"sys/mobile/js/mui/address/AddressNavBarMixin":function(){define(["dojo/_base/declare","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,b){return a("mui.address.AddressNavBarMixin",null,{memory:[{moveTo:"usualCateView",text:b["mui.mobile.address.usual"],key:"usual",channelName:"addressNav",selected:true},{moveTo:"allCateView",text:b["mui.mobile.address.allCate"],channelName:"addressNav",key:"all"},{moveTo:"groupView",text:b["mui.mobile.address.group"],channelName:"addressNav",key:"group"}],startup:function(){this.inherited(arguments);if(this.deptLimit){this.memory=[{moveTo:"allCateView",text:b["mui.mobile.address.allCate"],channelName:"addressNav",key:"all",selected:true}]}}})})},"sys/mobile/js/mui/top/_TopListMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-style","dojo/_base/lang"],function(d,a,b,e){return d("mui.list._TopListMixin",null,{adjustDestination:"/mui/list/adjustDestination",listTop:"/mui/list/toTop",toTop:function(f){a.publish(this.listTop,this)},connectToggle:function(){this.subscribe(this.adjustDestination,e.hitch(function(f,k,h,g){this.defer(function(){var l=k.y<-5&&((g!=null&&g.c.h>=g.d.h)||g==null);if(l&&!this._show){a.publish("mui/view/addBottomTip");this.show()}if(!l&&this._show){this.hide()}},0)}));this.subscribe("mui/list/showTop","show");this.subscribe("mui/list/hideTop","hide")}})})},"sys/mobile/js/mui/device/kk5/kkHttpRequest":function(){define(["dojo/io-query","lib/kk5/kk5"],function(e,d){function a(){var h=document.createDocumentFragment();function g(n,o,m,l){return h.addEventListener(n,o,m,l)}function k(l){return h.dispatchEvent(l)}function f(m,n,l){return h.removeEventListener(m,n,l)}this.addEventListener=g;this.dispatchEvent=k;this.removeEventListener=f}var b=function(){a.call(this)};b.prototype.method="GET";b.prototype.async=true;b.prototype.headers={};b.prototype.open=function(h,f,g){this.method=h||"GET";this.url=f;this.async=g;this.readyState=1};b.prototype.send=function(f){var g=this;this.readyState=2;d.ready(function(){var h=d.proxy.request({url:g.url,data:(f&&typeof(f)=="string")?e.queryToObject(f):f,headers:g.headers});h.then(function(k){g.responseText=k;g.status=200;g.statusText="OK";g.readyState=4;g.onreadystatechange&&g.onreadystatechange();g.dispatchEvent(g.__evt("load"))},function(k,l){g.status=k;g.statusText=l;g.readyState=4;g.onreadystatechange&&g.onreadystatechange();g.dispatchEvent(g.__evt("error"))})})};b.prototype.setRequestHeader=function(f,g){this.headers[f]=g};b.prototype.getResponseHeader=function(f){};b.prototype.__evt=function(g){var f=document.createEvent("Event");f.initEvent(g,true,true);f.target=this;return f};return b})},"sys/mobile/js/mui/listcategory/ListCategoryItemMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-class","dojo/dom-style","mui/iconUtils","mui/category/CategoryItemMixin","dojo/_base/array"],function(b,h,g,a,d,f,h){var e=b("mui.listcategory.ListCategoryItemMixin",[f],{buildRendering:function(){this.fdId=this.value?this.value:this.fdId;this.label=this.text?this.text:(this.docSubject?this.docSubject:this.fdName);this.icon="";this.type=window.SIMPLE_CATEGORY_TYPE_CATEGORY;this.inherited(arguments);this.subscribe("/mui/category/path","_pathChange");if(window.pathItem){this._pathChange(this,window.pathItem)}},_pathChange:function(l,k){if(l.key!=this.key){return}if(k.indexOf(this.fdId)>=0){this.set("entered",true)}else{this.set("entered",false)}},_cateChange:function(l,k){},_setEnteredAttr:function(k){if(k){g.add(this.domNode,"muiCategoryEntered")}else{g.remove(this.domNode,"muiCategoryEntered")}},showMore:function(){if(!this.child||this.child.length<=0){return false}var k=false;var l=this.getParent();if(l.authCateIds){if(l.authCateIds.indexOf(this.fdId)>-1){k=true}}else{k=true}if(this.type==window.SIMPLE_CATEGORY_TYPE_CATEGORY&&k){return true}return false},showSelect:function(){var k=this.getParent();if(k.authType=="03"){if(k&&k.selType==this.type){return true}}else{if(k&&k.selType==this.type&&this.isShowCheckBox!="0"){return true}}return false},isSelected:function(){var l=this.getParent();if(l&&l.curIds){var k=l.curIds.split(";");if(h.indexOf(k,this.fdId)>-1){l.curNames=this.label;return true}}return false},buildIcon:function(k){if(this.icon){d.setIcon(this.icon,null,this._headerIcon,null,k)}else{a.set(k,{display:"none"})}}});return e})},"sys/mobile/js/mui/chart/ChartRomaMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,e,a,d){return b("mui.chart.chartRomaMixin",null,{colors:["#E01F54","#001852","#f5e8c8","#b8d2c7","#c6b38e","#a4d8c2","#f3d999","#d3758f","#dcc392","#2e4783","#82b6e9","#ff6347","#a092f1","#0a915d","#eaf889","#6699FF","#ff6666","#3cb371","#d5b158","#38b6b6"],concatDefaultOptions:function(f){this.defaultColor(f);this.defaultXAxis(f)},defaultXAxis:function(f){var h=f.xAxis;if(h instanceof Array){for(var g=0;g<h.length;g++){if(!f.xAxis[g].axisLabel){f.xAxis[g].axisLabel={}}if(!f.xAxis[g].axisLabel.rotate){f.xAxis[g].axisLabel.rotate=30}}}},defaultColor:function(f){if(!f.color){f.color=this.colors}},registerTheme:function(f){var h=this.colors;var g={color:h,visualMap:{color:["#e01f54","#e7dbc3"],textStyle:{color:"#333"}},candlestick:{itemStyle:{normal:{color:"#e01f54",color0:"#001852",lineStyle:{width:1,color:"#f5e8c8",color0:"#b8d2c7"}}}},graph:{color:h},gauge:{axisLine:{lineStyle:{color:[[0.2,"#E01F54"],[0.8,"#b8d2c7"],[1,"#001852"]],width:8}}}};f.registerTheme("roma",g)}})})},"sys/mobile/js/mui/mime/mime":function(){define(["dojo/request","mui/util"],function(d,a){var b="/sys/mobile/js/mui/mime/mime.jsp?fileName=!{fileName}";return{getMime:function(g){var f="";var e=a.formatUrl(a.urlResolver(b,{fileName:g}));d(e,{sync:true,handleAs:"json"}).then(function(h){if(h.status==1){f=h.message}});return f}}})},"sys/mobile/js/mui/property/PropertyFilterListMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/topic","dojo/query","dijit/registry","mui/util"],function(e,g,d,f,b,a){return e("mui.property.PropertyFilterListMixin",null,{commonQuery:null,journalist:["q.docCategory","q.kmsExpertType"],inJournalist:function(k){for(var h=0;h<this.journalist.length;h++){var l=this.journalist[h];if(k.indexOf(l)>=0){return true}}return false},buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/property/filter","onFilter")},onFilter:function(m,k){var l=this.getChildren();if(l.length==0){return}d.publish("/mui/list/toTop",this);var h=(k._common||[])[0];g.forEach(l,function(o){o.reloadTime=0;var u=b.getEnclosingWidget(f(".mblEdgeToEdgeList",o.domNode)[0]);var n=u.getParent();var s=n.rel.url;var v=s.split("&");for(var t=0;t<v.length;t++){if(v[t].indexOf("q.")>-1&&!this.inJournalist(v[t])){s=s.replace("&"+v[t],"")}}for(var p in k){if(p.indexOf("_common")>-1){continue}for(var q=0;q<k[p].length;q++){s+="&q."+encodeURIComponent(p)+"="+encodeURIComponent(k[p][q])}}if(this.commonQuery){s=s.replace("&"+this.commonQuery,"")}if(h){s+="&"+h}n.rel.url=s;u.url=a.formatUrl(n.rel.url);if(this.currView==o){u.reload()}},this);this.commonQuery=h}})})},"sys/mobile/js/mui/calendar/item/CardItem":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style","dojo/topic","sys/mportal/mobile/OpenProxyMixin","mui/iconUtils"],function(g,f,b,e,d,a,h){return g("mui.calendar.CardItem",[f,a],{href:"",text:"",icon:"",width:"",click:null,select:false,baseClass:"muiCalendarRightNodeMenuItem",buildRendering:function(){this.inherited(arguments);e.set(this.domNode,"width",this.width);this.renderIcon();this.renderText();this.bindClick()},bindClick:function(){if(!this.select){if(this.href){this.proxyClick(this.domNode,this.href,"_blank");return}}else{this.connect(this.domNode,"click",this._closeDialog)}if(this.click){this.customClick()}},customClick:function(){this.connect(this.domNode,"click","click")},_closeDialog:function(){d.publish("/mui/calendar/rightNodeDialogClose")},renderIcon:function(){if(this.icon){if(!this.select){b.create("div",{className:this.icon},this.domNode)}else{b.create("div",{className:" mui_ekp_meeting_switch_select "+this.icon},this.domNode)}}},renderText:function(){this.textNode=b.create("div",{className:"muiCalendarRightNodeMenuItemText"},this.domNode);this.textNode.appendChild(b.create("div",{className:this.textIcon}));this.textNode.appendChild(b.create("span",{innerHTML:this.text}))}})})},"sys/mobile/js/mui/chart/ChartMacaronsMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,e,a,d){return b("mui.chart.chartMacaronsMixin",null,{colors:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],concatDefaultOptions:function(f){this.defaultColor(f);this.defaultXAxis(f)},defaultXAxis:function(f){var h=f.xAxis;if(h instanceof Array){for(var g=0;g<h.length;g++){if(!f.xAxis[g].axisLabel){f.xAxis[g].axisLabel={}}if(!f.xAxis[g].axisLabel.rotate){f.xAxis[g].axisLabel.rotate=30}}}},defaultColor:function(f){if(!f.color){f.color=this.colors}},registerTheme:function(f){var h=this.colors;var g={color:h,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:h[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},line:{smooth:true,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},map:{label:{normal:{textStyle:{color:"#d87a80"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#fe994e"}}},graph:{color:h},gauge:{axisLine:{lineStyle:{color:[[0.2,"#2ec7c9"],[0.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};f.registerTheme("macarons",g)}})})},"sys/mobile/js/mui/device/web/attachment":function(){define(["dojo/_base/declare","dojo/request","mui/device/_attachment","dojo/_base/lang"],function(a,b,e,d){return a("mui.device.web.attachment",[e],{_uploadFile:function(k,h){var g=this.buildOptions(k,h);var f=this;if(this._url.indexOf("?")>=0){this._url=this._url+"&xx="+(new Date()).getTime()}else{this._url=this._url+"?xx="+(new Date()).getTime()}var l=b.post(this._url,g);l.then(function(m){f.uploadSuccess(k,m)},function(m){k.status=0;f.uploadError(k,{rtn:m})},function(m){k.status=1;f.uploadProcess(m.loaded,k)})}})})},"sys/mobile/js/mui/tabfilter/tag/TabfilterTagDialogMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/html","dojox/mobile/_css3","dojo/dom-style","dojo/_base/lang","dojo/topic","dojo/_base/array","mui/tabfilter/TabfilterListSelection"],function(d,b,e,m,g,a,f,l,k){var h=d("mui.tabfilter.TabfilterTagDialogMixin",null,{modelName:null,key:"",values:"",texts:"",buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/tabfilter/cancel","hideFilter");this.subscribe("/mui/tabfilter/submit","_submitSelect");this.subscribe("/mui/tabfilter/selChanged/delete","_selDel")},startup:function(){this.inherited(arguments);this._init()},_clearVal:function(){this.values="";this.texts=""},_submitSelect:function(o,n){if(n){this.values=n.values;this.texts=n.texts}this.hideFilter();f.publish("/mui/tabfilter/dialog/submit",this,{texts:this.texts,values:this.values})},_init:function(){if(this.isInit=="true"){this.show()}},_selDel:function(o,n){if(o.isInstanceOf(k)){if(n){this.values=n.values;this.texts=n.texts}}},show:function(n){this.openFilter(true)},hideFilter:function(){if(!this.dialogDiv){return}var n={};n[m.name("transform")]="translate3d(100%, 0, 0)";g.set(this.dialogDiv,n);this.defer(function(){if(this.parseResults&&this.parseResults.length){l.forEach(this.parseResults,function(o){if(o.destroy){o.destroy()}});delete this.parseResults}b.destroy(this.dialogDiv);this.dialogDiv=null;this._working=false},450)},showFilter:function(o){this._working=true;if(!this.dialogDiv){return}var n={};n[m.name("transform")]="translate3d(0, 0, 0)";g.set(this.dialogDiv,n)},openFilter:function(o){var n=this;require(["dojo/text!mui/tabfilter/tag/filter.jsp?modelName="+this.modelName+"&key="+this.key],function(q){n.dialogDiv=b.create("div",{className:"muiTabfilterDialog"},document.body,"last");var p=new e._ContentSetter({node:n.dialogDiv,parseContent:true,cleanContent:true,onBegin:function(){this.content=a.replace(this.content,{curValues:n.values,curTexts:n.texts});this.inherited("onBegin",arguments)}});p.set(q);p.parseDeferred.then(function(s){n.parseResults=s;n.showFilter(o)});p.tearDown()})}});return h})},"sys/mobile/js/mui/property/TagFilterItem":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/topic","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dijit/_WidgetBase","mui/property/HashMixin","dojo/_base/lang"],function(d,f,e,b,k,h,g,l,a){return d("mui.property.TagFilterItem",[g,l],{filters:[],values:{},isTagCount:false,postMixInProperties:function(){this.filters=[{name:this.name,subject:this.subject,options:this.options,prefix:this.prefix}];this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.items=[];if(this.options&&this.options.length>0){f.forEach(this.options,function(n){var m=b.create("span",{"data-value":n.value,innerHTML:n.name,className:"muiTagFilterItem"},this.domNode);this.connect(m,"click","submit");this.items.push(m)},this)}this._handleClassName()},startup:function(){this.inherited(arguments);this.tagCount()},tagCount:function(){if(!this.isTagCount){return}this.renderTagCount();this.subscribe("/mui/catefilter/confirm","renderTagCount");this.subscribe("/mui/property/filter","renderTagCount")},renderTagCount:function(m){this.defer(function(){if(m&&(m==this||!this.isSameChannel(m.key))){return}f.forEach(this.options,function(p,o){var q={};q[this.name]=p.value;var n={values:this.ensureValues(q)};n.callback=a.hitch(this,function(u){var t="";var s=this.options[o];if(u>0){t="(!{count})".replace(/!{count}/,u)}this.items[o].innerHTML=s.name+t;if(s.prompt){this.prompt(u>0)}});e.publish("/mui/list/count",this,n)},this)},1)},prompt:function(m){e.publish("/mui/navitem/prompt",this,{show:m})},submit:function(m){if(!m||!m.target){return}var n=m.target;var o=h.get(n,"data-value");this.values[this.name]=o;this._handleClassName();e.publish("/mui/property/filter",this,this.ensureValues(this.values));this.inherited(arguments)},ensureValues:function(n){var m={};for(var o in n){var p=typeof this.prefix==="undefined"?"q":this.prefix;m[o]=p==="q"?n[o]:{value:n[o],prefix:p}}return m},_handleClassName:function(){var m=this.values[this.name];f.forEach(this.domNode.childNodes,function(n){var o=h.get(n,"data-value");k.toggle(n,"selected",m===o)},this)}})})},"sys/mobile/js/mui/simplecategory/SimpleCategoryHeader":function(){define(["dojo/_base/declare","mui/category/CategoryHeader","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){var e=b("mui.simplecategory.SimpleCategoryHeader",[a],{modelName:null,title:d["mui.category.title"],detailUrl:"/sys/category/mobile/sysSimpleCategory.do?method=detailList&cateId=!{curId}&modelName=!{modelName}"});return e})},"sys/mobile/js/mui/createUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/json"],function(e,g,a){function d(l,k){var h=e.clone(l);if(k&&k.length>0){g.forEach(k,function(m){if(h[m]){delete h[m]}})}return h}function f(h){if(!e.isObject(h)){return}var k=a.stringify(h);k=k.replace(/\"/g,"'");return k}function b(h,o,n){h=h||"div";o=o||{};var m="<"+h+" ";if(o.dojoType){m+=' data-dojo-type="'+o.dojoType+'" '}var k=[];if(o.dojoMixins){if(typeof(o.dojoMixins)==="string"){k.push(o.dojoMixins)}else{k=o.dojoMixins}}if(k.length>0){m+=' data-dojo-mixins="'+k.join(",")+'" '}if(o.dojoProps){m+=' data-dojo-props="'+(function(){var s=o.dojoProps;var p=[];for(var u in s){var t=typeof(s[u])==="string"?(/^\$\$.*\$\$$/.test(s[u])?s[u].replace(/^\$\$/,"").replace(/\$\$$/,""):("'"+s[u]+"'")):(e.isObject(s[u])?f(s[u]):s[u]);p.push(u+":"+t)}return p.join(",")})()+'" '}if(o.className){m+=' class="'+o.className+'" '}var l=d(o,["dojoType","dojoMixins","dojoProps","className"]);for(var q in l){m+=" "+q+'="'+l[q]+'" '}m+=" >";if(n){if(typeof(n)==="string"){m+=n}else{m+=n.join(" ")}}m+=" </"+h+">";return m}return{createTemplate:b}})},"sys/mobile/js/mui/tabfilter/TabfilterOk":function(){define(["dojo/_base/declare","dojo/topic"],function(b,a){return b("mui.tabfilter.muiTabfilterOk",null,{postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"click","_onOK")},_onOK:function(){a.publish("/mui/tabfilter/ok",this)}})})},"sys/mobile/js/mui/syscategory/SysCategoryPath":function(){define(["dojo/_base/declare","mui/category/ScrollableCategoryPath","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){var e=b("mui.syscategory.SysCategoryPath",[a],{modelName:null,detailUrl:"/sys/category/mobile/sysCategory.do?method=pathList&cateId=!{curId}&modelName=!{modelName}"});return e})},"sys/mobile/js/mui/table/DetailTableScrollableView":function(){define(["dojo/_base/declare","mui/view/DocScrollableView"],function(a,b){return a("mui.table.DetailTableScrollableView",[b],{stopParser:true,_visible:false,buildRendering:function(){this.inherited(arguments)}})})},"sys/mobile/js/mui/back/HrefBackMixin":function(){define(["dojo/_base/declare","dojo/dom-class","mui/util"],function(b,d,a){return b("mui.back.HrefBackMixin",null,{href:"",icon:"mui mui-home-opposite",buildRendering:function(){this.inherited(arguments);d.add(this.domNode,"muiHrefBack")},_onExpand:function(e){if(window[this.click]){window[this.click]()}else{if("[object Function]"==Object.prototype.toString.call(this.click)){this.click()}else{new Function(this.click)()}}this.inherited(arguments)},show:function(f){if(this.click){return}var e=dojoConfig.baseUrl?dojoConfig.baseUrl:"/";if(this.href){e=a.formatUrl(this.href)}location=e}})})},"sys/mobile/js/mui/category/CategoryPath":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/dom-construct","./PathItem","dojo/dom-style","dojo/request","dojo/topic","dojo/_base/array","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(h,f,b,m,e,a,n,g,l,o,k,d){var p=h("mui.category.CategoryPath",[b,m,f],{itemRenderer:a,key:null,curId:null,curName:null,height:"inherit",baseClass:"muiCatePath",titleNode:d["mui.all.category"],detailUrl:null,buildRendering:function(){this.inherited(arguments);window.pathItem=null;this.containerNode=e.create("ul",{className:"muiCatePathContent"},this.domNode)},getPathContainer:function(){return this.containerNode},_createTitleNode:function(){var s=e.create("div",{className:"muiCatePathTitleItem"},this.containerNode);var t=e.create("div",{className:""},s);var q=e.create("span",{className:""},t);q.innerHTML=this.titleNode;this.connect(s,"onclick",function(){if(this.isEco&&this.isEcoPath){l.publish("/mui/category/cancel",{key:null});var u=new Object();u.isShow=false;u.fdId=null;l.publish("/sys/org/eco/card/reload",u)}this._chgHeaderInfo(this,{});l.publish("/mui/category/changed",this,{parentId:""})});return s},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/changed","_chgHeaderInfo")},startup:function(){if(this._started){return}this.inherited(arguments);this._initPath()},_showHeader:function(q){if(q.key==this.key){n.set(this.domNode,{display:"block"})}},_hideHeader:function(q){if(q.key==this.key){n.set(this.domNode,{display:"none"})}},_refreshHeader:function(){},createListItem:function(q){var q=new this.itemRenderer(this._createItemProperties(q));return q},_createItemProperties:function(q){return q},_initPath:function(){if(this.domNode.parentNode){var q;if(this.height==="inherit"){if(this.domNode.parentNode){q=this.domNode.parentNode.offsetHeight+"px"}}else{if(this.height){q=this.height}}n.set(this.domNode,{height:q,"line-height":q})}this._chgHeaderInfo(this,{fdId:this.curId});l.publish("/mui/category/changed",this,{fdId:this.curId})},_createPath:function(t){var s=[];var q=this;q.getPathContainer().innerHTML="";q._createTitleNode();if(t.length==0){return}o.forEach(t,function(u){q._createPathItem(u,u.label)},this);window.pathItem=s;l.publish("/mui/category/path",this,s)},_createPathItem:function(v,t,q){q=q||this.getPathContainer();var u=e.create("div",{className:"muiCatePathItem",value:v.fdId},q);var w=e.create("div",{className:""},u);if(t){var s=e.create("span",{className:""},w);s.innerHTML=t}this.connect(u,"onclick",function(){var B=v.fdId;if(B!=this.curId){this._chgHeaderInfo(this,{fdId:B});var y=-1;o.forEach(this.items,function(D,C){if(D.fdId==B){y=C;return false}},this);var A={fdId:B,parentId:""};if(y>=1){A.parentId=this.items[y-1].fdId}l.publish("/mui/category/changed",this,A);if(this.isEco&&this.isEcoPath){var z=new Object();if(v.fdOrgType==1){z.isShow=false;z.fdId=B}else{z.isShow=true;z.fdId=B;z.label=v.label;z.fdNo=v.fdNo;z.fdAdmin=v.admin}l.publish("/sys/org/eco/card/reload",z);var x=new Object();x.fdId=v.fdId;x.fdOrgType=v.fdOrgType;x.fdInviteUrl=v.fdInviteUrl;l.publish("/sys/org/eco/btn/change",x);l.publish("/sys/org/eco/btn/setId",v.fdId)}}});return u},_chgUrlInfo:function(s,q){return s},_chgHeaderInfo:function(t,s){if(t.key==this.key){if(s){if(s.fdId){n.set(this.domNode,{display:"block"});if(this.curId!=s.fdId||this.containerNode.innerHTML==""){this.curId=s.fdId;var u=k.urlResolver(this.detailUrl,this);u=k.formatUrl(u);u=this._chgUrlInfo(u,s);var v=g.post(u,{handleAs:"json"});var q=this;v.then(function(w){q.items=w;q._createPath(w)},function(w){})}}else{this.curId=null;this._createPath([])}}}}});return p})},"sys/mobile/js/mui/form/checkbox/render/CheckBoxNormal":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","mui/util"],function(e,b,g,f,d,a){return e("mui.form.checkbox.render.CheckBoxNormal",[g],{renderType:"normal",checkboxNode:null,postCreate:function(){this.inherited(arguments);this.subscribe("mui/form/checkbox/renderCheckedStatus","_renderCheckedStatus")},_buildRender:function(h){if(this.renderType==h.renderType){this.checkboxNode=b.create("label",{className:"muiCheckItem"},h.domNode,"after");if(h.text){f.add(this.checkboxNode,"hasText");var k=b.create("div",{className:"mui-checkbox-base",style:h.style,innerHTML:h.text&&h.text.indexOf("&#039;")>0?h.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.formatText(h.text)},this.checkboxNode)}this.checkboxIcon=b.create("span",{className:"fontmuis muis-form-selected-cor muiCheckBlock "+h.unCheckedIcon},this.checkboxNode,"first")}return this.checkboxNode},_renderCheckedStatus:function(k,h){if(this.checkboxNode==h.domNode){if(h.checked){f.replace(this.checkboxNode,h.checkedIcon,h.unCheckedIcon);f.replace(this.checkboxIcon,h.checkedIcon,h.unCheckedIcon)}else{f.replace(this.checkboxNode,h.unCheckedIcon,h.checkedIcon);f.replace(this.checkboxIcon,h.unCheckedIcon,h.checkedIcon)}}}})})},"sys/mobile/js/mui/listcategory/ListCategoryMixin":function(){define(["dojo/_base/declare","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,d){window.SIMPLE_CATEGORY_TYPE_CATEGORY=0;var a=b("mui.listcategory.ListCategoryMixin",null,{type:window.SIMPLE_CATEGORY_TYPE_CATEGORY,parentId:"",confirm:!this.isMul,modelName:null,titleNode:d["mui.all.category"],isMul:false,___urlParam:"",detailUrl:"/sys/category/mobile/sysSimpleCategory.do?method=detailList&cateId=!{currentId}&modelName=!{modelName}",jsURL:"/sys/mobile/js/mui/listcategory/ListCategory_sgl.js!modelName=!{modelName}&extendPara=key:!{key}&showFavoriteCate=!{showFavoriteCate}&authType=!{authType}&confirm=!{confirm}&required=!{required}",_setIsMulAttr:function(e){this._set("isMul",e);if(this.isMul){this.jsURL="/sys/mobile/js/mui/simplecategory/simplecategory_mul.js!modelName=!{modelName}&extendPara=key:!{key}&showFavoriteCate=!{showFavoriteCate}&authType=!{authType}"}else{this.jsURL="/sys/mobile/js/mui/listcategory/ListCategory_sgl.js!modelName=!{modelName}&extendPara=key:!{key}&showFavoriteCate=!{showFavoriteCate}&authType=!{authType}&confirm=!{confirm}&required=!{required}"}},_set___urlParamAttr:function(e){if(e){e=e.replace(/\'/g,"\\'").replace(/\"/g,'\\"')}this._set("___urlParam",e)},postCreate:function(){this.inherited(arguments);this.type=window.SIMPLE_CATEGORY_TYPE_CATEGORY}});return a})},"sys/mobile/js/mui/query/CommonQueryDialogMixin":function(){define(["dojo/_base/declare","mui/panel/SlidePanel","mui/util","dojo/query","dojo/_base/lang"],function(d,b,a,e,f){var e=d("mui.query.CommonQueryDialogMixin",null,{filterURL:null,redirectURL:null,SLIDE_PANEL_CLICK:"/mui/panel/slide/click",SLIDE_PANEL_CHANGEPROPS:"/mui/panel/slide/changeprops",store:[],postCreate:function(){this.inherited(arguments);this.subscribe(this.SLIDE_PANEL_CLICK,"doValueChange");this.subscribe(this.SLIDE_PANEL_CHANGEPROPS,"doPropsChange")},doPropsChange:function(h){for(var g in h){this[g]=h[g]}},doValueChange:function(h,g){if(!this.dealed){if(g&&g.index){var k=this.store[g.index];this.defer(function(){window.open(this._formatParam(k),"_self");this.dealed=false},200)}else{this.dealed=false}}this.dealed=true},show:function(g){var h=e("#_common_query_panel");if(h.length>0){return}var k=new b({id:"_common_query_panel",store:this.store,dir:"right",width:"45%",icon:"mui-file-text"});document.body.appendChild(k.domNode);k.startup()},_formatParam:function(k){var h=location.href;if(this.redirectURL){var g=f.clone(k);g.text=encodeURIComponent(g.text);h=a.formatUrl(a.urlResolver(this.redirectURL,g))}return a.setUrlParameter(h,"queryStr",k.dataURL)}});return e})},"sys/mobile/js/mui/tabbar/SaveDraftButton":function(){define(["dojo/_base/declare","mui/tabbar/TabBarButton","dojo/dom-class","dijit/registry","dojo/topic","mui/form/_FormBase","dojo/dom"],function(e,b,f,a,d,h,g){return e("mui.tabbar.SaveDraftButton",[b],{validateDomId:"scrollView",validateElementId:"",buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"muiBarSaveDraftButton")},docStatus:"",saveDraft:false,onClick:function(){this.defer(function(){var l=a.byId(this.validateDomId);var s=$.trim(this.validateElementId);if(!l){return}if(s){if(s.substring(s.length-1)==";"){s=s.substring(0,s.length-1)}}var m=false;var v=[];if(s){v=s.split(";")}else{m=true}var o=l.getValidateElements();for(var p=0;p<v.length;p++){var q=a.byNode(g.byId(v[p]));var u=o.indexOf(q);if(u>-1){o.splice(u,1)}}l.removeElementValidate(o,"required");this.saveDraft=true;if(l.validate()){m=true}else{m=false}this.saveDraft=false;l.resetElementValidate(l.getValidateElements());var k=Com_GetUrlParameter(location.href,"method");var t=this.docStatus;if(m){if(k=="add"){Com_Submit(document.forms[0],"saveDraft",null,{saveDraft:true})}else{if(t=="11"){Com_Submit(document.forms[0],"updateDraft",null,{saveDraft:true})}else{Com_Submit(document.forms[0],"update",null,{saveDraft:true})}}}},350)}})})},"sys/mobile/js/mui/address/AddressOrgCategoryPathMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/request","dojo/dom-style","mui/util"],function(e,g,b,f,d,a){return e("mui.address.AddressOrgCategroyPathMixin",null,{_initPath:function(){var k=this;if(this.domNode.parentNode){var l;if(this.height==="inherit"){if(this.domNode.parentNode){l=this.domNode.parentNode.offsetHeight+"px"}}else{if(this.height){l=this.height}}d.set(this.domNode,{height:l,"line-height":l})}this._fetchParentId(function(h){k._chgHeaderInfo(k,{fdId:h});b.publish("/mui/category/changed",k,{fdId:h})},this.parentId)},_fetchParentId:function(m,l){if(this.isExt!=""&&this.isExt!=undefined&&this.isExt=="true"){m&&m("")}else{if(this.isEco!=""&&this.isEco!=undefined&&this.isEco=="true"){m&&m("")}else{if(l){m&&m(l)}else{var h=a.formatUrl("/sys/organization/mobile/address.do?method=parentId");var k=f.post(h,{handleAs:"json"});k.then(g.hitch(this,function(n){if(n&&n.parentId){m&&m(n.parentId)}else{m&&m("")}}),function(){m&&m("")})}}}}})})},"sys/mobile/js/mui/address/AddressSubordinatePathMixin":function(){define(["dojo/_base/declare"],function(a){return a("mui.address.AddressSubordinatePathMixin",[],{detailUrl:"/sys/organization/mobile/address.do?method=subordinatePath&fdId=!{curId}"})})},"sys/mobile/js/mui/device/kk5/mapping":function(){dojoConfig.fileMapping={}},"sys/mobile/js/mui/form/select/_StoreSelectMixin":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-class","dojo/dom-construct","mui/form/_StoreFormMixin","dojo/_base/array","dojo/_base/lang","mui/util"],function(d,k,l,b,e,h,a,f){var g=d("mui.form.select._StoreSelectMixin",e,{selectBoxPrefix:"_select_box_",valueField:null,values:[],itemRenderer:'<input type="checkbox" data-dojo-type="mui/form/CheckBox" name="_select_box_!{valueField}" value="!{value}" data-dojo-props="tag:\'li\',mul:!{mul},text:\'!{text}\',checked:!{checked},pop:!{pop}">',mul:true,required:false,pop:true,generateList:function(m){this.formatValues(m);this.set("value",this.value)},formatValues:function(m){this.values=m},renderListItem:function(m){var n=this.value.split(";");h.forEach(this.values,a.hitch(this,function(q,o){q.selected=false;h.forEach(n,function(s){if(s==q.value){q.selected=true;return}});var p=this.createListItem(q);m.appendChild(p)}))},createListItem:function(o){var m=this.itemRenderer;var q=(typeof(o.text)!="undefined"&&o.text!=null)?f.formatTextChar(f.formatText(o.text.toString().replace(/'/g,"&#039;"))):"";var n=(typeof(o.value)!="undefined"&&o.value!=null)?f.formatTextChar(f.formatText(o.value.toString())):"";m=m.replace("!{text}",q);m=m.replace("!{checked}",o.selected);m=m.replace("!{value}",n);m=m.replace("!{mul}",this.mul);m=m.replace("!{valueField}",this.valueField);m=m.replace("!{pop}",this.pop);var p=b.toDom(m);return p},getSelectedValue:function(){var n=k('[name="'+this.selectBoxPrefix+this.valueField+'"]:checked',this.contentNode);var m="";h.forEach(n,function(p,o){m+=o==0?p.value:";"+p.value});return m},getTextByValue:function(p){var q="";if(p==undefined){return q}var n=p.split(";");for(var m=0;m<n.length;m++){for(var o=0;o<this.values.length;o++){if(n[m]==this.values[o].value){q+=(m==0?this.values[o].text:";"+this.values[o].text);break}}}return q}});return g})},"sys/mobile/js/mui/sort/SortItem":function(){define(["dojo/_base/declare","dojo/topic","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-class","mui/ChannelMixin","./HashMixin"],function(g,e,f,a,h,d,b){return g("mui.sort.SortItem",[f,d,b],{name:"",subject:"",value:"",buildRendering:function(){this.inherited(arguments);this.textNode=a.create("span",{innerHTML:this.subject,className:"muiSortText muiFontSizeS muiFontColorMuted"},this.domNode);this.iconNode=a.create("span",{className:"muiSortIcon"},this.domNode);this._handleClassName()},postCreate:function(){this.connect(this.domNode,"click","submit");this.subscribe("/mui/property/filter","otherSubmit")},submit:function(){switch(this.value){case"":this.value="down";break;case"down":this.value="up";break;case"up":this.value="";break}this._handleClassName();e.publish("/mui/property/filter",this,{orderby:{value:this.name,prefix:""},ordertype:{value:this.value,prefix:""}});this.inherited(arguments)},otherSubmit:function(l,k){if(!this.isSameChannel(l.key)){return}if(!k){return}if(k.orderby&&k.orderby.value!==this.name){this.value="";this._handleClassName()}},_handleClassName:function(){h.add(this.domNode,"muiSort");h.toggle(this.domNode,"down",this.value==="down");h.toggle(this.domNode,"up",this.value==="up")}})})},"sys/mobile/js/mui/category/CategoryAllSelectMixin":function(){define(["dojo/_base/declare","mui/category/CategoryAllSelectItem","dojo/_base/array","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,d,e,b){return a("mui.category.CategoryAllSelectMixin",null,{generateList:function(f){if(this.isMul){this.addChild(new d({label:b["mui.catefilter.selectAll"],fdId:"all"}))}e.forEach(f,function(g){this.addChild(this.createListItem(g));if(g[this.childrenProperty]){e.forEach(g[this.childrenProperty],function(h){this.addChild(this.createListItem(h))},this)}},this)}})})},"sys/mobile/js/mui/commondialog/DialogSelectMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(b,d){var a=b("mui.commondialog.DialogSelectMixin",null,{type:"1",modelName:null,isMul:false,dataURL:null,dataUrl:null,templURL:"/sys/mobile/js/mui/commondialog/template/dialog_sgl.jsp?modelName=!{modelName}",_setIsMulAttr:function(e){this._set("isMul",e);if(this.isMul){this.templURL="/sys/mobile/js/mui/commondialog/template/dialog_mul.jsp?modelName=!{modelName}"}else{this.templURL="/sys/mobile/js/mui/commondialog/template/dialog_sgl.jsp?modelName=!{modelName}"}},_selectCate:function(){if(d.isFunction(this.dataURL)){this.dataUrl=this.dataURL.apply(this)}else{this.dataUrl=this.dataURL}if(this.dataUrl!=null){this.inherited(arguments)}}});return a})},"sys/mobile/js/mui/table/ScrollableHViewArea":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-style","dojo/touch"],function(b,d,a,e){return b("mui.table.ScrollableHViewArea",[d],{buildRendering:function(){this.inherited(arguments);a.set(this.domNode,{"overflow-x":"auto","overflow-y":"hidden"})},postCreate:function(){this.inherited(arguments);var f=-1;this.connect(this.domNode,e.press,function(g){f=this.domNode.scrollLeft+g.pageX;g.preventDefault()});this.connect(this.domNode,e.move,function(g){if(f!=-1){var h=(f-g.pageX);this.domNode.scrollLeft=h}g.preventDefault()})},startup:function(){this.inherited(arguments)}})})},"sys/mobile/js/mui/map":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/on","dojo/query","dojo/request/script","mui/coordtransform"],function(e,h,a,g,d,f){var b=e("mui.map",null,{getMapLocation:function(l,n,k){var m=dojoConfig.map.mapType||"bmap";if(m=="bmap"){this.getBMapLocation(l,n,k)}else{if(m=="qmap"){this.getQMapLocation(l,n,k)}else{if(m=="amap"){this.getAMapLocation(l,n,k)}}}},getQMapLocation:function(w,v,q){var u=dojoConfig.map.qMapKey;var o=w.coordType;var p=w.lat+","+w.lng;var l=w.poiRadius||500;var k=w.poiPageSize||50;var t=w.getPoi==0?0:1;var s="jsonpcallback_"+new Date().getTime();var m="https://apis.map.qq.com/ws/geocoder/v1/?callback={jsonpcallback}&output=jsonp&coord_type={coordType}&poi_options=radius={radius};page_size={poiPageSize};page_index=1&get_poi={getPoi}&key={key}&location="+p;m=m.replace("{coordType}",o).replace("{key}",u).replace("{jsonpcallback}",s).replace("{radius}",l).replace("{poiPageSize}",k).replace("{getPoi}",t);var n={handleAs:"json",jsonp:s,timeout:10000};window[s]=function(D){if(D.status==0){var A=D.result;var x={};x.coordType="5";var E=A.address_component.street_number||A.address_component.street||A.address_component.district;x.title=E;x.point={lat:A.location.lat,lng:A.location.lng};x.address=A.formatted_addresses.recommend||A.address;x.addressComponent=A.address_component;var C=A.pois;if(C&&C.length>0){var B=[];for(var z=0;z<C.length;z++){var y={title:C[z].title,address:C[z].address,point:{lat:C[z].location.lat,lng:C[z].location.lng},distance:C[z]._distance};B.push(y)}x.pois=B}v&&v(x)}else{q&&q(D)}};d.get(m,n)},getBMapLocation:function(x,w,s){var v=dojoConfig.map.bMapKey||"cnG6G1wW70lQ36H693uVOyOXiwvMaph3";var p=x.coordType;if(p==1){p="wgs84ll"}else{if(p==3){p="bd09ll"}else{if(p==5){p="gcj02ll"}}}var q=x.lat+","+x.lng;var l=x.poiRadius||500;var k=x.poiPageSize||50;var u=x.getPoi==0?0:1;var t="jsonpcallback_"+new Date().getTime();var o=dojoConfig.map.bMapVer=="1"?true:false;var m=this.getBMapApiUrl(v,q,p,l,k,u,t,o);var n={handleAs:"json",jsonp:t,timeout:10000};window[t]=function(E){console.log("获取地理坐标:jsonpcallback:"+E.status);if(E.status==0){var C=E.result;var D={};D.coordType="3";var z=C.addressComponent.street||"";var H=C.addressComponent.street_number||"";var F=(z+H)||C.addressComponent.district;D.title=F;D.point={lat:C.location.lat,lng:C.location.lng};D.address=C.formatted_address;D.addressComponent=C.addressComponent;var y=C.pois;if(y&&y.length>0){var G=[];for(var A=0;A<y.length;A++){var B={title:y[A].name,address:y[A].addr,point:{lat:y[A].point.y,lng:y[A].point.x},distance:y[A].distance};G.push(B)}D.pois=G}w&&w(D)}else{s&&s(E)}};d.get(m,n)},getBMapApiUrl:function(t,p,n,l,k,s,q,o){var m="https://api.map.baidu.com/reverse_geocoding/v3/?callback={jsonpcallback}&output=json&coordtype={coordType}&extensions_poi={getPoi}&radius={radius}&page_size={poiPageSize}&ak={key}&location="+p;if(!o){m="https://api.map.baidu.com/geocoder/v2/?callback={jsonpcallback}&output=json&coordtype={coordType}&pois={getPoi}&radius={radius}&page_size={poiPageSize}&ak={key}&location="+p}m=m.replace("{coordType}",n).replace("{key}",t).replace("{jsonpcallback}",q).replace("{radius}",l).replace("{poiPageSize}",k).replace("{getPoi}",s);return m},getAMapLocation:function(w,v,q){var u=dojoConfig.map.aMapKey;var o=w.coordType;if(o==1){o="gps"}else{if(o==3){o="baidu"}else{if(o==5){o="autonavi"}}}var p=w.lng+","+w.lat;var l=w.poiRadius||500;var k=w.poiPageSize||50;var t=w.getPoi==0?"base":"all";var s="jsonpcallback_"+new Date().getTime();var m="https://restapi.amap.com/v3/geocode/regeo?key={key}&location={location}&coordsys={coordType}&radius={radius}&callback={jsonpcallback}&output=json&extensions={getPoi}&roadlevel=0";m=m.replace("{coordType}",o).replace("{key}",u).replace("{jsonpcallback}",s).replace("{location}",p).replace("{radius}",l).replace("{getPoi}",t);var n={handleAs:"json",jsonp:s,timeout:10000};window[s]=function(H){if(H.status==1){var D=H.regeocode;var B=D.addressComponent;var G={};G.coordType="5";var K=B.streetNumber&&B.streetNumber.location;var A=K&&K.split(",");if(A&&A.length>1){G.point={lat:A[1],lng:A[0]}}else{if(w.coordType==1){A=f.wgs84togcj02(w.lng,w.lat);G.coordType="5";G.point={lat:A[1],lng:A[0]}}else{if(w.coordType==3){G.coordType="3";G.point={lat:w.lat,lng:w.lng}}else{if(w.coordType==5){G.point={lat:w.lat,lng:w.lng}}}}}var I=D.addressComponent;var z=I.streetNumber&&I.streetNumber.street||"";var M=I.streetNumber&&I.streetNumber.number||"";var J=(z+M)||I.district;G.title=J;G.address=D.formatted_address;var C=B.city;if(C instanceof Array){B.city=B.province}G.addressComponent=B;var y=D.pois;if(y&&y.length>0){var L=[];for(var E=0;E<y.length;E++){var x=y[E].location.split(",");var F={title:y[E].name,address:y[E].address,point:{lat:x[1],lng:x[0]},distance:y[E].distance};L.push(F)}G.pois=L}v&&v(G)}else{q&&q(H)}};d.get(m,n)}});return new b()})},"sys/mobile/js/mui/folder/Folder":function(){define(["dojo/_base/declare","mui/folder/_Folder","mui/util","dojo/_base/array","dojo/html","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/window","dojo/query","dojo/touch","dojox/mobile/_css3","dojo/topic"],function(d,o,g,l,f,a,k,n,h,m,b,p,e){return d("mui.folder.Folder",[o],{tmplURL:null,icon:"mui mui-plus",HIDE_EVENT:"/mui/folder/hide",SHOW_EVENT:"/mui/folder/show",_scollTempl:'<div data-dojo-type="dojox/mobile/ScrollableView" data-dojo-props="scrollBar:true,height:\'100%\'" class="muiFolderView">!{tmplInfo}</div>',postCreate:function(){this.inherited(arguments)},hideStyle:{},showStyle:{},startup:function(){this.inherited(arguments);this.hideStyle[p.name("transform")]="translate3d(0, -50%, 0)";this.showStyle[p.name("transform")]="translate3d(0, 0, 0)";this.subscribe("/mui/searchbar/show","hide")},show:function(t){if(this._showed){this.hide();return}var u=this.domNode.offsetHeight;n.add(this.domNode,"muiFolderRotate muiFolderRotate135");if(this.expandDiv==null){this.expandDiv=a.create("div",{className:"muiFolderExpand"},document.body,"last");k.set(this.expandDiv,{top:u+"px",height:(h.getBox().h-u)+"px"});if(this.tmplURL!=null&&this.tmplURL!=""){var q=this;require(["dojo/text!"+g.formatUrl(g.urlResolver(this.tmplURL,this))],function(w){w=q._scollTempl.replace("!{tmplInfo}",w);w=w.replace("!{topHeight}",u);var v=new f._ContentSetter({node:q.expandDiv,parseContent:true,cleanContent:true});v.set(w);v.parseDeferred.then(function(y){q.parseResults=y;var x=m(".muiFolderView",q.expandDiv);k.set(x[0],q.showStyle);q._showed=true;e.publish(q.SHOW_EVENT,q,{})});v.tearDown()})}}else{k.set(this.expandDiv,{display:"block"});k.set(this.expandDiv,{top:u+"px",height:(h.getBox().h-u)+"px"});var s=m(".muiFolderView",this.expandDiv);k.set(s[0],this.showStyle);this._showed=true;e.publish(this.SHOW_EVENT,this,{})}this.expandHandle=this.connect(document.body,b.press,"hide")},hide:function(s){e.publish(this.HIDE_EVENT,this,{});if((s&&s.target==this.domNode)||this.expandDiv==null){return}if(this._showed!=true){return}n.remove(this.domNode,"muiFolderRotate muiFolderRotate135");var q=m(".muiFolderView",this.expandDiv);k.set(q[0],this.hideStyle);this.defer(function(){k.set(this.expandDiv,{display:"none"})},410);if(this.expandHandle){this.expandHandle.remove()}this._showed=false}})})},"sys/mobile/js/mui/form/checkbox/render/CheckBoxBlock":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","mui/util"],function(e,b,g,f,d,a){return e("mui.form.checkbox.render.CheckBoxBlock",[g],{renderType:"block",checkboxNode:null,postCreate:function(){this.inherited(arguments);this.subscribe("mui/form/checkbox/renderCheckedStatus","_renderCheckedStatus")},_buildRender:function(h){if(this.renderType==h.renderType){this.checkboxNode=b.create("label",{className:"muiCheckBoxBlockItem"},h.domNode,"after");this.checkboxText=b.create("span",{className:"muiCheckBoxBlockText",style:h.style,innerHTML:h.text&&h.text.indexOf("&#039;")>0?h.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.formatText(h.text)},this.checkboxNode,"last");this.checkboxIcon=b.create("span",{className:"muiCheckBoxBlockIcon "+h.unCheckedIcon,innerHTML:'<i class="fontmuis muis-form-selected-cor"></i>'},this.checkboxNode,"last")}return this.checkboxNode},_renderCheckedStatus:function(k,h){if(this.checkboxNode==h.domNode){if(h.checked){f.replace(this.checkboxNode,h.checkedIcon,h.unCheckedIcon);f.replace(this.checkboxIcon,h.checkedIcon,h.unCheckedIcon)}else{f.replace(this.checkboxNode,h.unCheckedIcon,h.checkedIcon);f.replace(this.checkboxIcon,h.unCheckedIcon,h.checkedIcon)}}}})})},"sys/mobile/js/mui/calendar/item/CalendarItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dojox/mobile/_ItemBase","mui/util","mui/calendar/CalendarUtil","mui/list/item/_ListLinkItemMixin","dojo/date","dojo/date/locale","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,d,m,g,k,n,f,o,h,b,l,a){var p=e("mui.calendar.item.CalendarItemMixin",[n,h],{tag:"li",baseClass:"muiCalendarListItem",href:"",buildRendering:function(){this.inherited(arguments);this.domNode=this.containerNode=this.srcNodeRef||d.create(this.tag,{className:this.baseClass});var v=d.create("div",{className:"muiCalendarListContent"},this.containerNode);var s=d.create("em",{className:"arrow_dot"},v);d.create("i",{className:"mui mui-meeting_date"},s);var y=dojoConfig.DateTime_format;if(this.allDay){y=dojoConfig.Date_format}var t=l.parse(this.start,{selector:"time",timePattern:y}),u=l.parse(this.end,{selector:"time",timePattern:y}),z="";if(b.compare(t,u,"date")!=0){var x=this.allDay?"":dojoConfig.Time_format;x="MM-dd "+x;t=l.format(t,{selector:"time",timePattern:x});u=l.format(u,{selector:"time",timePattern:x});z=t+" ~ "+u}else{t=l.format(t,{selector:"time",timePattern:dojoConfig.Time_format});u=l.format(u,{selector:"time",timePattern:dojoConfig.Time_format});z=t+" ~ "+u;if(this.allDay){z="全天"}}var q=d.create("p",{className:"date",innerHTML:z},v);var w=d.create("p",{className:"title"},v);d.create("a",{innerHTML:this.title},w)},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(q){if(q){this._set("label",q)}},makeUrl:function(){var s=this.inherited(arguments),t=this.getParent();if(t){var q=o.formatDate(t.currentDate);s=f.setUrlParameter(s,"currentDate",q)}return s}});return p})},"sys/mobile/js/mui/simplecategory/simplecategory_mul":function(){define(["mui/simplecategory/simplecategory_common"],function(b){function a(f,e){var d=b.html(f);d+="<div data-dojo-type=\"mui/simplecategory/SimpleCategorySelection\" data-dojo-props=\"key:'{categroy.key}',curIds:'{categroy.curIds}',curNames:'{categroy.curNames}',modelName:'{categroy.modelName}',beforeSelectCateHistoryId:'{categroy.beforeSelectCateHistoryId}'\" fixed=\"bottom\"></div>";e(d)}return{load:function(f,d,e){a(f,e)}}})},"sys/mobile/js/mui/form/switch/NewSwitch":function(){define(["dojo/_base/declare","./_SwitchBase","dojo/dom-construct","mui/util"],function(e,a,d,b){return e("mui.form.switch.NewSwitch",[a],{baseClass:"muiNewSwitch muiFormItem",orient:"none",subject:"",postCreate:function(){this.inherited(arguments);this._buildSubjectRendering()},_buildSubjectRendering:function(){if(this.orient=="vertical"&&this.subject){this.containerNode=d.create("div",{className:"muiSwitchSubject"},this.switchNode,"before");this.tipNode=d.create("div",{className:"muiFormEleTip"},this.containerNode);this.titleNode=d.create("span",{className:"muiFormEleTitle",innerHTML:b.formatText(this.subject)},this.tipNode)}}})})},"sys/mobile/js/mui/address/AddressSearchListMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/json","dojo/dom-construct","dojox/mobile/viewRegistry","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","./AddressHistoryItemMixin"],function(g,k,a,n,d,m,h,b,o){var l="__mui__address__history__";function e(p){return k.filter(p,function(t,s,q){return q.indexOf(t,0)===s})}function f(p,q){return k.filter(p,function(s){return s!==q})}return g("mui.address.AddressSearchListMixin",null,{history:false,lazy:true,postCreate:function(){this.inherited(arguments);this.subscribe("/mui/address/search/init","_handleRenderHistory");this.subscribe("/mui/address/search/history/add","_handleAddHistory");this.subscribe("/mui/address/search/history/remove","_handleRemoveHistory");this.subscribe("/mui/address/search/submit","_handleSearch");this.subscribe("/mui/address/search/cancel","_handleCancel")},generateList:function(p){if(this.historyHeader){d.destroy(this.historyHeader);this.historyHeader=null}this.inherited(arguments)},_handleRenderHistory:function(){if(!this.history){return}if(this.tmpLoading){d.destroy(this.tmpLoading);this.tmpLoading=null}if(this.searchCountNode){d.destroy(this.searchCountNode);this.searchCountNode=null}if(this.historyHeader){d.destroy(this.historyHeader);this.historyHeader=null}k.forEach(this.getChildren(),function(q){q.destroyRecursive()});var p=this.getHistoryData();if(p&&p.length>0){this.historyHeader=this._renderHistoryHeader();d.place(this.historyHeader,this.domNode,"last");k.forEach(this.getHistoryData(),function(q,s){this.addChild(this.createHistoryItem({keyword:q}))},this)}},_renderHistoryHeader:function(){var q=d.create("div",{className:"muiAddressHistoryHeader"});d.create("span",{className:"muiAddressHistoryHeaderTitle",innerHTML:b["mui.mobile.address.search.history"]},q);var p=d.create("span",{className:"muiAddressHistoryHeaderRight"},q);d.create("i",{className:"mui mui-drafter_refuse_abandon"},p);d.create("span",{className:"muiAddressHistoryHeaderClear",innerHTML:b["mui.mobile.address.search.history.clear"]},p);this.connect(p,"click","_handleClearHistory");return q},_handleAddHistory:function(p){var q=this.getHistoryData();q.unshift(p);q=e(q);localStorage.setItem(l,n.stringify(q))},_handleRemoveHistory:function(q,p){var s=this.getHistoryData();s=f(s,p);localStorage.setItem(l,n.stringify(s));this._handleRenderHistory()},_handleClearHistory:function(){localStorage.setItem(l,n.stringify([]));this._handleRenderHistory()},_handleSearch:function(q,p){if(!p||!p.keyword){return}if(this.isVisibleView()){this.url=h.formatUrl(h.urlResolver(this.searchUrl,a.mixin(p,this)));this.showMore=false;this.buildLoading();this.reload();if(this.history&&localStorage){this._handleAddHistory(p.keyword)}}},_handleCancel:function(){if(this.isVisibleView()){this.buildLoading();this.url=h.urlResolver(h.formatUrl(this.dataUrl),this);this.showMore=true;this.reload()}},createHistoryItem:function(p){return new o(p)},isVisibleView:function(){var p=m.getEnclosingView(this.domNode);return p.isVisible()},getHistoryData:function(){if(!localStorage){return[]}var p=localStorage.getItem(l);return p?n.parse(p):[]}})})},"sys/mobile/js/mui/syscategory/SysCategoryUtil":function(){define(["mui/tabbar/CreateButton","mui/syscategory/SysCategoryMixin"],function(a,b){return{create:function(e){var d=a.createSubclass([b]);new d(e)._selectCate()}}})},"sys/mobile/js/mui/list/item/ComplexRItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dojox/mobile/_ItemBase","mui/util","./_ListLinkItemMixin","mui/list/item/DocStatusMixin","mui/list/item/TopMixin","mui/list/item/IntroduceMixin"],function(e,b,m,h,k,n,g,l,f,a,d){var o=e("mui.list.item.ComplexRItemMixin",[n,l,f,a,d],{label:"",summary:"",status:"",tagClass:"muiComplexRStatus muiFontSizeXS",isTop:"",isIntroduce:"",created:"",creator:"",tag:"li",icon:"",href:"javascript:;",fdId:"",creator:"",created:"",count:0,buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||b.create(this.tag,{className:"muiComplexRItem clearfix"});this.contentNode=b.create("div",{className:"muiComplexRBox"},this.containerNode)}this.inherited(arguments);if(!this._templated){this.buildInternalRender()}if(this.contentNode){b.place(this.contentNode,this.domNode)}},buildInternalRender:function(){this.inherited(arguments);if(this.href){this.makeLinkNode(this.contentNode)}this.buildLeft();this.buildRight()},buildLeft:function(){this.muiComplexRight=b.create("div",{className:"muiComplexRLeft"},this.contentNode);this.buildLabel();this.buildSummary();this.buildTips()},buildRight:function(){this.buildImg();this.buildStatus()},buildImg:function(){this.muiComplexLeft=b.create("div",{className:"muiComplexRRight"},this.contentNode);if(this.icon){var p=g.formatUrl(this.icon)}else{var p=g.formatUrl("/sys/mobile/css/themes/default/images/complxItemDefaultIcon.png")}h.set(this.muiComplexLeft,{background:"url("+p+") center no-repeat","background-size":"100%"})},buildStatus:function(){if(this.muiComplexLeft&&this.status&&this.status.indexOf("<")>-1){b.create("span",{className:this.tagClass,innerHTML:this.status},this.muiComplexLeft)}else{this.buildTag(this.muiComplexLeft)}},buildLabel:function(){if(this.label){b.create("p",{className:"muiFontSizeMS lines-cut",innerHTML:this.label},this.muiComplexRight)}},buildSummary:function(){if(this.summary){b.create("span",{className:"summary-cut muiFontSizeSS muiFontColorMuted",innerHTML:this.summary},this.muiComplexRight)}},buildTips:function(){if(!this.muiComplexRight){return}var p=b.create("div",{className:"muiComplexRTipsLeft"},this.muiComplexRight);if(this.creator){b.create("div",{className:"muiComplexRTipsCreator muiFontSizeSS line-cut",innerHTML:this.creator},p)}if(this.created){b.create("div",{className:"muiComplexRTipsTime muiFontSizeSS",innerHTML:this.created},p)}if(this.count){if(this.count>999){this.count="999+"}b.create("div",{className:"muiComplexRTipsRight muiFontSizeSS",innerHTML:this.count+" 观看"},this.muiComplexRight)}},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(p){if(p){this._set("label",p)}}});return o})},"sys/mobile/js/mui/tabbar/CreateButton":function(){define(["mui/tabbar/TabBarButton","dojo/_base/declare","mui/form/_CategoryBase","dojo/dom-construct","mui/util","mui/dialog/Tip","dojo/dom-attr","mui/device/adapter","dojox/mobile/sniff"],function(k,b,l,a,d,h,e,f,g){return b("mui.tabbar.CreateButton",[k,l],{required:true,key:"_cateSelect",createUrl:"",buildRendering:function(){this.inherited(arguments);e.set(this.domNode,"title","新建");this.domNode.dojoClick=!g("ios")},postCreate:function(){this.inherited(arguments);this.eventBind()},_onClick:function(m){this._selectCate()},afterSelectCate:function(m){f.open(d.formatUrl(d.urlResolver(this.createUrl,m)),"_self");this.curIds="";this.curNames=""},returnDialog:function(n,m){this.inherited(arguments);if(n.key==this.key){this.defer(function(){this.afterSelectCate(m)},1)}}})})},"sys/mobile/js/mui/list/StoreScrollableView":function(){define(["dojo/_base/declare","dojox/mobile/ScrollableView","mui/scrollable/IPhoneXScrollableMixin","./_ViewPullReloadMixin","./_ViewPushAppendMixin","./_ViewScrollEventPublisherMixin","mui/view/AddBottomTipMixins"],function(b,d,a,h,g,f,e){return b("mui.list.StoreScrollableView",[d,h,g,f,a,e],{scrollBar:false,threshold:50,hideTopBottom:true,startup:function(){this.inherited(arguments)}})})},"sys/mobile/js/mui/table/ScrollableHView":function(){define(["./HView","./NativeHView"],function(a,b){return dojoConfig._native?b:a})},"sys/mobile/js/mui/form/Category":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/topic","dojo/on","dojo/dom-construct","dojo/dom-style","dojo/query","mui/form/_FormBase","mui/form/_CategoryBase","dojo/_base/lang","mui/util","dojo/dom-attr","mui/form/_PlaceholderMixin","dojo/request","mui/iconUtils","dojo/dom-class"],function(g,m,k,n,e,l,q,p,u,a,h,o,d,f,b,s){var t=g("mui.form.Category",[p,u,d],{subject:"分类选择",baseClass:"muiFormEleWrap popup  muiCategory",idField:null,nameField:null,placeholder:null,icon:"mui mui-org",opt:true,EVENT_VALUE_CHANGE:"/mui/Category/valueChange",buildRendering:function(){this.inherited(arguments);this.curNames=h.decodeHTML(this.curNames);this._buildValue()},postCreate:function(){this.inherited(arguments);this.eventBind();if(this.edit&&(!this.curIds||this.isMul)){if(this.muiCategoryAddNode){l.set(this.muiCategoryAddNode,"display","inline-block")}}else{if(this.muiCategoryAddNode){l.set(this.muiCategoryAddNode,"display","none")}}this.domNodeOnClickEvent=this.connect(this.domNode,"click",this.domNodeClick)},htmlEscape:function(w){if(w==null||w==""){return""}var v=/&/g;w=w.replace(v,"&amp;");v=/\"/g;w=w.replace(v,"&quot;");v=/'/g;w=w.replace(v,"&#39;");v=/</g;w=w.replace(v,"&lt;");v=/>/g;return w.replace(v,"&gt;")},_buildOneOrg:function(w,B,x){var y=e.create("div",{className:"muiAddressOrg","data-id":B},w);if(this.isNewDesktopLayout()==false){if(this.iconUrl){var A=h.formatUrl(h.urlResolver(this.iconUrl,{orgId:B}));if(dojoConfig.dingXForm&&dojoConfig.dingXForm==="true"){var v=this;var z="/sys/organization/sys_org_element/sysOrgElement.do?method=getIconInfo&orgId="+B;z=h.formatUrl(z);f.post(z,{handleAs:"json"}).then(function(C){if(C.orgType===window.ORG_TYPE_PERSON){if(C.icon){v.buildOrgIcon(C.icon,y,"first")}else{e.place(b.createDingIcon(x),y,"first");s.add(y,"dingMuiAddressOrg")}}else{this.buildOrgIcon(A,y,"first")}},function(){console.error("获取头像信息失败！")})}else{this.buildOrgIcon(A,y)}}}e.create("div",{className:"name",innerHTML:this.htmlEscape(x)},y);if(this.edit){e.create("div",{className:"del fontmuis muis-epid-close"},y)}},buildOrgIcon:function(x,w,v){v=v||"last";e.create("div",{style:{background:"url("+x+") center center no-repeat",backgroundSize:"cover"},className:"muiAddressOrgIcon"},w,v)},_readOnlyAction:function(x){this.inherited(arguments);if(this.cateFieldShow){var v=q(".del.mui.mui-close",this.cateFieldShow)}if(x){if(this.domNodeOnClickEvent){this.disconnect(this.domNodeOnClickEvent);this.domNodeOnClickEvent=null}if(this.orgIconClickHandle){this.disconnect(this.orgIconClickHandle);this.orgIconClickHandle=null}if(v.length>0){for(var w=0;w<v.length;w++){v[w].style.display="none"}}}else{this.domNodeOnClickEvent=this.connect(this.domNode,"click",this.domNodeClick);if(this.cateFieldShow&&this.edit&&!this.cateFieldShow.getAttribute("data-del-listener-"+this.id)){this.orgIconClickHandle=this.connect(this.cateFieldShow,n.selector(".del.mui.mui-close","click"),this.orgIconClick)}if(v.length>0){for(var w=0;w<v.length;w++){v[w].style.display=""}}}},domNodeClick:function(){var v=q(arguments[0].target).closest(".muiAddressOrg");if(v.length>0){return}this.defer(function(){this._selectCate()},350)},startup:function(){this.inherited(arguments);this.key=this.idField;this.set("value",this.curIds)},_buildValue:function(){if(this.edit){if(this.showSelect){var w=e.create("div",{className:"muiOnlyShowCategorySelect muiSelInputRight muiSelInputRightShow"},this.domNode,"first");var v=e.create("div",{className:"fontmuis muis-to-right"},w)}if(this.idField&&!this.idDom){var x=q("[name='"+this.idField+"']");if(x.length>0){this.idDom=x[0]}else{this.idDom=e.create("input",{type:"hidden",name:this.idField},this.valueNode)}}if(this.nameField&&!this.nameDom){var x=q("[name='"+this.nameField+"']");if(x.length>0){this.nameDom=x[0]}else{this.nameDom=e.create("input",{type:"hidden",name:this.nameField},this.valueNode)}}if(this.idDom){this.idDom.value=this.curIds==null?"":this.curIds}if(this.nameDom){this.nameDom.value=this.curNames==null?"":this.curNames}}if(!this.cateFieldShow){this.cateFieldShow=e.create("div",{className:"muiCateFiledShow muiFormItem"},this.valueNode);this.contentNode=this.cateFieldShow}else{if(a.isString(this.cateFieldShow)){this.cateFieldShow=q(this.cateFieldShow)[0];this.externalCateFieldShow=true}}if(this.cateFieldShow&&this.edit&&!this.cateFieldShow.getAttribute("data-del-listener-"+this.id)){this.orgIconClickHandle=this.connect(this.cateFieldShow,n.selector(".muiAddressOrg","click"),this.orgIconClick);this.cateFieldShow.setAttribute("data-has-del-listener-"+this.id,"true")}this.buildValue(this.cateFieldShow)},orgIconClick:function(v){if(v.stopPropagation){v.stopPropagation()}if(v.cancelBubble){v.cancelBubble=true}if(v.preventDefault){v.preventDefault()}if(v.returnValue){v.returnValue=false}var w=q(v.target).closest(".muiAddressOrg");w.forEach(function(x){var y=x.getAttribute("data-id");this.defer(function(){this._delOneOrg(x,y)},420)},this)},buildValue:function(v){e.empty(v);if(this.curIds!=null&&this.curIds!=""){var x=this.curIds.split(this.splitStr);var y=this.curNames.split(this.splitStr);for(var w=0;w<x.length;w++){this._buildOneOrg(v,x[w],y[w]);if(w<x.length-1&&!this.edit){}}}else{if(this.edit&&this.placeholder!=null&&this.placeholder!=""){o.set(this.cateFieldShow,"placeholder",this.placeholder)}}},_delOneOrg:function(x,z){var w=this.curIds.split(this.splitStr);var y=this.curNames.split(this.splitStr);var v=m.indexOf(w,z);if(v>-1){w.splice(v,1);y.splice(v,1);this.curIds=w.join(this.splitStr);this.curNames=y.join(this.splitStr);if(this.idDom){this.idDom.value=this.curIds==null?"":this.curIds;this.set("value",this.curIds==null?"":this.curIds)}if(this.nameDom){this.nameDom.value=this.curNames==null?"":this.curNames}if(this.curIds==null||this.curIds==""){this.buildValue(this.cateFieldShow)}k.publish(this.EVENT_VALUE_CHANGE,this,{curIds:this.curIds,curNames:this.curNames})}e.destroy(x)},buildOptIcon:function(v){this.inherited(arguments);this.muiCategoryAddNode=v},returnDialog:function(x,w){this.inherited(arguments);if(x.key==this.idField){this.set("value",this.curIds);if(typeof x.cateSelArr!="undefined"){var z="";x.cateSelArr.forEach(function(D,B){var A=!(typeof D.labelLevel=="undefined"||D.labelLevel==="");if(A){var C=D.labelLevel;z+=";"+C}});this.set("curNames",this.curNames)}else{var v=true;for(var y in x.listDatas){if(x.listDatas[y].fdId==this.curIds){this.set("curNames",typeof x.listDatas[y].labelLevel=="undefined"||x.listDatas[y].labelLevel===""?this.curNames:x.listDatas[y].labelLevel);v=false;break}}if(v){this.set("curNames",this.curNames)}}k.publish(this.EVENT_VALUE_CHANGE,this,{curIds:this.curIds,curNames:this.curNames})}},clearDialog:function(w,v){this.inherited(arguments);if(w.key==this.idField){this.set("value",this.curIds);this.set("curNames",this.curNames);k.publish(this.EVENT_VALUE_CHANGE,this,{curIds:this.curIds,curNames:this.curNames})}},_getNameAttr:function(){return this.idField},_setValueAttr:function(v){this.inherited(arguments);this.curIds=v;if(this.idDom){this.idDom.value=v}},_setCurIdsAttr:function(v){this.curIds=v;this.set("value",v)},_setCurNamesAttr:function(v){this.curNames=v;if(this.nameDom){this.nameDom.value=v}this.buildValue(this.cateFieldShow)}});return t})},"sys/mobile/js/mui/back/HomeButton":function(){define(["mui/tabbar/TabBarButton","dojo/_base/declare","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/device/adapter","dojo/dom-style","dojo/dom-class","dojo/dom-attr"],function(b,e,f,a,d,g,k){var h=function(){var l=a.closeWindow();if(l==null){location=dojoConfig.baseUrl?dojoConfig.baseUrl:"/"}};return e("mui.back.HomeButton",[b],{icon1:"mui mui-home",buildRendering:function(){this.inherited(arguments);g.add(this.domNode,"muiBarFloatRightButton");this.labelNode.innerHTML=f["mui.back.home"];k.set(this.domNode,"title",this.labelNode.innerHTML)},startup:function(){this.inherited(arguments);if(this.iconDivNode){if(!this.icon1){d.set(this.iconDivNode,{width:"0px"})}if(d.get(this.iconDivNode,"float")=="right"){d.set(this.iconDivNode,{"float":"none"})}}},_onClick:function(l){setTimeout(function(){h()},350)}})})},"sys/mobile/js/mui/list/CardItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/list/item/CardItemMixin"],function(a,b,d){return a("mui.list.CardItemListMixin",[b],{itemTemplateString:null,itemRenderer:d})})},"sys/mobile/js/mui/form/_CategoryBase":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/_base/lang","dojo/html","dojo/_base/array","mui/util","dojo/touch","mui/device/adapter","mui/history/listener"],function(h,m,f,e,n,q,a,l,o,k,g,p,b){var d=h("mui.form._CategoryBase",null,{key:null,type:null,curIds:"",curNames:"",splitStr:";",confirm:false,isMul:false,templURL:null,jsURL:null,_cateDialogPrefix:"__cate_dialog_",afterSelect:null,authType:"02",eventBind:function(){this.subscribe("/mui/category/submit",a.hitch(this,"returnDialog"));this.subscribe("/mui/category/cancel",a.hitch(this,"closeDialog"));this.subscribe("/mui/category/clear",a.hitch(this,"clearDialog"));this.subscribe("/mui/category/changeprops",a.hitch(this,"doChangeProps"))},doChangeProps:function(t){for(var s in t){this[s]=t[s]}},returnDialog:function(t,s){if(s){if(t.key==this.key){this.curIds=s.curIds;this.curNames=s.curNames;this.closeDialog(t);if(this.afterSelect){this.afterSelect(s)}}}},__doCloseDialog:function(){if(this.previousTitle){p.setTitle(this.previousTitle);this.previousTitle=null}if(this.beforeSelectCateHistoryId){b.goNoop({historyId:this.beforeSelectCateHistoryId});this.beforeSelectCateHistoryId=null}q.add(this.dialogDiv,"fadeOut animated");this.defer(function(){if(this.dialogContainerDiv){n.set(this.dialogContainerDiv,"display","none")}if(this.dialogDiv){n.set(this.dialogDiv,"display","none")}},500);setTimeout(a.hitch(this,function(){if(this.parseResults&&this.parseResults.length){o.forEach(this.parseResults,function(s){if(s.destroy){s.destroy()}});delete this.parseResults}e.destroy(this.dialogDiv);this.dialogDiv=null;this._working=false}),410)},_closeDialog:function(s){var t=s.target;if(this.dialogDiv&&t===this.dialogDiv){this.__doCloseDialog()}},closeDialog:function(s){if(this.dialogDiv&&s.key==this.key){this.__doCloseDialog()}},clearDialog:function(s){if(s.key==this.key){this.curIds="";this.curNames="";this.closeDialog(s)}},showAnimate:function(){n.set(this.dialogContainerDiv,"display","block");n.set(this.dialogDiv,"display","block");q.add(this.dialogDiv,"fadeIn animated");n.set(this.dialogDiv,"background-color","rgba(0, 0, 0, 0.6)");this.defer(function(){n.set(this.dialogDiv,{opacity:1});q.remove(this.dialogDiv,"fadeIn")},500)},urlResolver:function(s){if(s&&!this._working){this._working=true;this.dialogDiv=f.byId(this._cateDialogPrefix+this.key);if(this.dialogDiv==null){var t=k.urlResolver(s,this);if(t.startsWith("/")&&!t.startsWith(dojoConfig.baseUrl)){t=k.formatUrl(t)}return t}}return false},_selectCate$1:function(){var u;if(this.templURL){u=this.urlResolver(this.templURL);if(!u){return}u="dojo/text!"+u}else{if(this.jsURL){u=this.urlResolver(this.jsURL);if(!u){return}}}var s=this;var t=this._cateDialogPrefix+this.key;require([u],function(w){s.dialogDiv=e.create("div",{id:t,className:"muiCateDiaglogN",tabindex:"0"},document.body,"last");s.dialogContainerDiv=e.create("div",{className:"muiCateDiaglogContainer "},s.dialogDiv);s.dialogDiv.focus();s.defer(function(){s.connect(s.dialogDiv,"click","_closeDialog")},500);k.disableTouch(s.dialogDiv,g.move);var v=new l._ContentSetter({node:s.dialogContainerDiv,parseContent:true,cleanContent:true,onBegin:function(){this.content=a.replace(this.content,{categroy:s});this.inherited("onBegin",arguments)}});v.set(w);v.parseDeferred.then(function(x){s.parseResults=x;m.publish("/mui/category/tmploaded",{dom:s.dialogDiv,widgetList:x})});v.tearDown();s.showAnimate()})},_selectCate:function(){var u=a.hitch(this,function(){this._selectCate$1();this.previousTitle=document.title;if(this.subject){p.setTitle(this.subject)}});var t=a.hitch(this,function(){this.beforeSelectCateHistoryId=null;this.__doCloseDialog()});var s=b.push({forwardCallback:u,backCallback:t});this.beforeSelectCateHistoryId=s.previousId}});return d})},"sys/mobile/js/mui/form/TextareaMaxApproval":function(){define(["dojo/_base/declare","mui/form/_InputBase","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/touch","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/dialog/BarTip","mui/form/Textarea"],function(f,a,d,l,g,e,h,b,n,k){var m=f("mui.form.TextareaMaxApproval",[k],{buildEdit:function(){var o=(this.textareaNode=d.create("div",{className:"muiFormItem"},this.domNode));o.innerHTML="<textarea class='muiTextarea muiScaleTextarea' name="+this.name+"></textarea><i class='textarea_dropbox_icon'></i>";var p=(this.textareaNode=o.querySelector("textarea"));this.contentNode=this.textareaNode;this.textareaPre=d.create("pre",{name:this.name+"_pre",className:this.inputClass+"Pre",style:"display:none"},this.domNode);this.connect(this.textareaNode,"keyup","_onInput");this.connect(this.textareaNode,"blur","_onBlur");this.connect(this.textareaNode,"keydown",function(q){window.focus();p.focus()});this.connect(this.textareaNode,e.press,"_handleFocus");this.subscribe("/mui/form/valueChanged","_onChange")}});return m})},"sys/mobile/js/mui/form/editor/EditorPopupMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","mui/form/Editor","dojo/string","dojo/query","dojo/request","mui/dialog/Tip","mui/util","dojo/Deferred","dojo/_base/lang","dojo/when","dojo/dom-class","dijit/_WidgetBase","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/touch"],function(g,d,l,m,k,q,e,t,h,p,a,o,s,n,b,f){return g("mui.form.EditorPopupMixin",[n],{buildForm:function(){var u={};if(this.data){u=this.data}u[this.name]=this.textClaz.format();q("input",this.textNode).forEach(function(v){u[v.name]=v.value});return u},name:null,_url:null,_value:"",disableClass:"muiEditorSubmitDisable",EVENT_VALUE_CHANGED:"/mui/form/valueChanged",canSubmit:true,onOperationClick:function(u){this.inherited(arguments)},plugin:null,placeholder:null,buildEditorOptions:function(){var u={name:this.name,value:this._value,layout:this.layout,options:this};if(this.plugin){u.plugins=this.plugin}if(this.placeholder){u.placeholder=this.placeholder}return u},onEditorClick:function(){var u=this.buildEditorOptions();this.textClaz=new m(u);this.textNode=this.textClaz.domNode;s.add(this.textNode,"popup");if(!this.maskNode){this.maskNode=d.create("div",{className:"muiEditorMask"},document.body)}l.set(this.maskNode,"opacity",1);d.place(this.textNode,document.body,"last");this.defer(function(){l.set(this.textNode,"-webkit-transform","translate3d(0px, 0px, 0px)")},100);this.defer(function(){this.maskHandle=this.connect(this.maskNode,f.press,"onMaskClick")},350);if(!this.canSubmit){return}this.textClaz.editorDeferred.then(a.hitch(this,function(){this.submitNode=d.create("div",{className:"muiEditorSubmit "+this.disableClass,innerHTML:b["mui.button.send"]},this.textClaz.pluginNode,"last");if(u.options.limitNum&&u.options.limitNum>0){this.limitNum=u.options.limitNum;this.limitNode=d.create("span",{className:"muiEditorLimit",innerHTML:""},this.textClaz.pluginNode,"last")}}));this.subscribe(this.EVENT_VALUE_CHANGED,"_onValueChange")},_onValueChange:function(v,u){if(!u){return}this.validateSubmit(u.value,"submitHandle","onSubmit",this.submitNode)},validateSubmit:function(y,x,w,v){if(!v){return}var y=y.replace(/<br\/?[^>]*>/g,"").trim();y=y.replace(/&nbsp;/gi,"").trim();var u=true;if(this.limitNum){u=this._validateNum(y)}if(y.length>0&&u){if(!this[x]){this[x]=this.connect(v,"click",w)}if(s.contains(v,this.disableClass)){s.remove(v,this.disableClass)}}else{if(this[x]){this.disconnect(this[x]);this[x]=null}if(!s.contains(v,this.disableClass)){s.add(v,this.disableClass)}}},validates:[],onSubmit:function(u){for(var w=0;w<this.validates.length;w++){if(this.validates[w].call(this,this)==false){return}}this.disconnect(this.submitHandle);var x=e.post(h.formatUrl(k.substitute(this._url,this)),{data:this.buildForm()});var v=this;x.response.then(function(y){v.deferred=new p();v.hideMask();o(v.deferred.promise,a.hitch(v,v.afterHideMask,y))})},afterHideMask:function(u){this.showTip(u)},showTip:function(u){if(u.status==200){t.success({text:b["mui.return.success"]})}else{t.fail({text:b["mui.return.failure"]})}},hideMask:function(){this.defer(function(){l.set(this.textNode,"-webkit-transform","translate3d(0px, 400%, 0px)");l.set(this.maskNode,{opacity:0})},300);this.defer(function(){this.destroyMask();if(this.deferred){this.deferred.resolve()}},500)},destroyMask:function(){this.maskNode.parentNode.removeChild(this.maskNode);this.maskNode=null;this.textClaz.destroy();this.disconnect(this.maskHandle)},eventStop:function(u){u.preventDefault();u.stopPropagation()},onMaskClick:function(u){this.eventStop(u);var w=u.target,v=true;while(w){if(w==this.textNode){v=false;break}w=w.parentNode}if(v){this.textNode.blur();this.hideMask()}},_validateNum:function(z){if(!z){this.limitNode.innerHTML=Math.ceil(this.limitNum);return false}var w=/<[^>]+>|<\/[^>]+>/g;z=z.replace(/<img[^>]*src[^>]*>/gi,"[face]").replace(w,"").replace(/&nbsp;/gi,"").replace(/&amp;/gi,"");var y=z.length,v=0,u=false;if(!z){this.limitNode.innerHTML=Math.ceil(this.limitNum);return false}for(var x=0;x<y;x++){if(z.charCodeAt(x)<299){v++}else{v+=2}}if(v<=2*this.limitNum+1&&v>0){u=true}if(u){this.limitNode.innerHTML=""}else{this.limitNode.innerHTML=Math.ceil((this.limitNum*2-v)/2)}return u}})})},"sys/mobile/js/mui/view/AddBottomTipMixins":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/topic","dojo/query","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(d,e,a,b,f,g){return d("mui.view.AddBottomTipMixins",[e],{isAddBottomTip:true,addBottomTip:function(k){this.inherited(arguments);var h=this;if(h.isAddBottomTip){this.subscribe("/dojox/mobile/viewChanged,/dojox/mobile/afterTransitionIn,mui/view/showTop",function(m){var l=k.getElementsByClassName("addBottomTip")[0];var n=f(".muiTop")[0];if(n){if(n.style.display==="none"){a.destroy(l)}else{b.publish("mui/view/addBottomTip")}}else{a.destroy(l)}});this.subscribe("/mui/top/viewChanged",function(m){var l=k.getElementsByClassName("addBottomTip")[0];var n=k.getElementsByClassName("muiTop")[0];if(n){if(n.style.display==="none"){a.destroy(l)}else{b.publish("mui/view/addBottomTip")}}else{a.destroy(l)}});b.subscribe("mui/view/addBottomTip",function(){var l=k.getElementsByClassName("addBottomTip");var m=g["mui.mobile.toEnd.tip"];if(l.length<1){a.create("div",{className:"addBottomTip",innerHTML:"<div class='addBootomTipContent'><div class='notice'>"+m+"</div></div>"},k,"last")}})}}})})},"sys/mobile/js/mui/chart/ChartVintageMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,e,a,d){return b("mui.chart.chartVintageMixin",null,{colors:["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"],concatDefaultOptions:function(f){this.defaultColor(f);this.defaultXAxis(f)},defaultXAxis:function(f){var h=f.xAxis;if(h instanceof Array){for(var g=0;g<h.length;g++){if(!f.xAxis[g].axisLabel){f.xAxis[g].axisLabel={}}if(!f.xAxis[g].axisLabel.rotate){f.xAxis[g].axisLabel.rotate=30}}}},defaultColor:function(f){if(!f.color){f.color=this.colors}},registerTheme:function(f){f.registerTheme("vintage",{color:this.colors,backgroundColor:"#fef8ef",graph:{color:this.colors}})}})})},"sys/mobile/js/mui/hash":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/json"],function(e,a,h,n){var m=function(){var s=window.location.hash?window.location.hash.substr(1).split("&"):[],q={};for(var p=0;p<s.length;p++){var o=s[p].split("=");q[o[0]]=decodeURIComponent(o[1])}return q};var k=function(s){var q=[];for(var o in s){q.push(o+"="+encodeURIComponent(s[o]))}return q.join("&")};var b=function(o){window.location.hash=k(o)};var l=function(o){window.history.replaceState(null,null,"#"+k(o))};var d=function(q){var p={};if(!q){return p}var o=q.split(";");h.forEach(o,function(u){if(!u){return}var s=u.indexOf(":");var t=u.substring(0,s);var v=u.substring(s+1);if(/^{.*}$/.test(v)){v=n.parse(v)}if(p[t]){v=a.isArray(p[t])?p[t].concat(v):[p[t],v]}p[t]=v});return p};var g=function(o){var s="";for(var p in o){var q=o[p];if(a.isString(q)){if(q||p==="ordertype"){s+=p+":"+q+";"}}else{if(a.isArray(q)){h.forEach(q,function(v,u,t){if(v||(t.length>1&&!v)){s+=p+":"+v+";"}})}else{if(a.isObject(q)){s+=p+":"+n.stringify(q)+";"}}}}return s};var f=e("mui.hash",null,{get:function(p){var o=m();if(p){return o[p]}else{return o}},add:function(s){var q=m();for(var o in s){q[o]=s[o]}b(q)},replace:function(s){var q=m();for(var o in s){q[o]=s[o]}l(q)},remove:function(o){o=(typeof(o)=="string")?[o]:o;var q=m();for(var p=0;p<o.length;p++){delete q[o[p]]}b(q)},clear:function(){b({})},canHash:function(){return dojoConfig&&dojoConfig.canHash},getPath:function(){var o=this.get("path");if(!o){return[]}if(o.startsWith("/")){o=o.substring(1)}return o?o.split("/"):[]},replacePath:function(o){if(!o||o.length===0){return""}var p=o.join("/");this.replace({path:p})},matchPath:function(p){var o=this.get("path");if(!o){o="0"}return o===p},getQuery:function(s,q){var p=this.get("query");if(!p){return s?null:{}}var o=d(p);return s?o[s]:o},replaceQuery:function(o){var q=this.get("query");var p=d(q);if(p){p=Object.assign(p,o)}else{p=o}this.replace({query:g(p)})},clearQueryR:function(){this.replace({query:""})}});return new f()})},"sys/mobile/js/mui/device/weixin/adapterEx":function(){define(["https://res.wx.qq.com/open/js/jweixin-1.0.0.js","dojo/request","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui","mui/dialog/Tip","mui/device/device","dojo/Deferred"],function(k,h,b,f,e,g,d){var a={closeWindow:function(){k.closeWindow();return{}},imagePreview:function(l){k.previewImage({current:l.curSrc,urls:l.srcList});return{}},startRecord:function(l){function m(n){if(this.failTipTimer){clearTimeout(this.failTipTimer)}this.failTipTimer=setTimeout(function(){alert(n.errMsg)},100)}if(!localStorage.__allowRecord||localStorage.__allowRecord!=="true"){k.startRecord({success:function(){localStorage.__allowRecord="true";k.stopRecord()},fail:function(n){m(n)}});return}this.timer=setTimeout(function(){k.startRecord({fail:function(n){m(n)}});l()},200)},stopRecord:function(m,l){if(this.timer){clearTimeout(this.timer)}setTimeout(function(){k.stopRecord({success:function(n){if(m){m(n)}},fail:function(n){if(l){l(n)}}})},200)},stopRecordByTranslate:function(l,m){if(l){l()}this.stopRecord(function(o){var n=o.localId;if(n){k.translateVoice({localId:n,isShowProgressTips:1,success:function(p){if(m){m(p)}}})}})},scanQRCode:function(l){k.ready(function(){k.scanQRCode({desc:"scanQRCode desc",needResult:1,scanType:["qrCode","barCode"],success:function(m){l&&l({text:m.text||m.resultStr})},error:function(m){if(m.errMsg.indexOf("function_not_exist")>0){e.tip({icon:"mui mui-warn",text:"微信版本过低请升级"})}}})});return true},getCurrentCoord:function(m,l){this._loadScript(function(){k.getLocation({success:function(o){var n={latitude:o.latitude,longitude:o.longitude};m&&m(n)},cancel:function(){e.tip({icon:"mui mui-warn",text:"只有授权才允许地理定位"})},fail:function(n){if(window.console){window.console.log(n.errMsg)}e.tip({icon:"mui mui-warn",text:"地理定位失败"})}})})},getCurrentPosition:function(n,m){var l=this;k.ready(function(){l.getCurrentCoord(function(s){var o=new BMap.Point(s.longitude,s.latitude);var p=new BMap.Convertor();var q=[];q.push(o);p.translate(q,1,5,function(u){if(u.status===0){var t=new BMap.Geocoder();t.getLocation(u.points[0],function(v){n&&n(v)})}})},m)})}};return a})},"sys/mobile/js/mui/table/toggle/NativeView":function(){define(["dojo/_base/declare","mui/NativeView"],function(b,a){return b("mui.table.NativeView",[a],{scrollDir:"h",buildRendering:function(){this.inherited(arguments);if(this.isXform==true&&this.isDesktopLayoutForm==true&&window._xform_isNewDesktopLayout=="true"){this.scrollDir="v"}}})})},"sys/mobile/js/mui/datetime/SpinWheelDatePicker_yearMonth":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","mui/datetime/_DatePickerMixin_yearMonth","dojox/mobile/SpinWheel","dojox/mobile/SpinWheelSlot"],function(g,d,e,b,f,a){return d("mui.datetime.SpinWheelDatePicker_yearMonth",[f,b],{slotClasses:[a,a,a],slotProps:[{labelFrom:1970,labelTo:2038},{},{}],buildRendering:function(){this.initSlots();this.inherited(arguments);e.add(this.domNode,"mblSpinWheelDatePicker");if(dojoConfig.locale=="en-us"){dojo.style(dojo.query(".mblSpinWheelSlot:nth-child(2)")[0],"display","none")}else{dojo.style(dojo.query(".mblSpinWheelSlot:nth-child(3)")[0],"display","none")}dojo.query(".mblSpinWheelSlotLabel").forEach(function(h){h.style.textAlign="center"});this._conn=[this.connect(this.slots[0],"onFlickAnimationEnd","_onYearSet"),this.connect(this.slots[1],"onFlickAnimationEnd","_onMonthSet"),this.connect(this.slots[2],"onFlickAnimationEnd","_onDaySet")]},disableValues:function(h){g.forEach(this.slots[2].panelNodes,function(k){for(var l=27;l<31;l++){e.toggle(k.childNodes[l],"mblSpinWheelSlotLabelGray",l>=h)}})}})})},"sys/mobile/js/mui/device/ding/adapterEx":function(){define(["https://g.alicdn.com/dingding/open-develop/1.6.9/dingtalk.js","dojo/request","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui","dojo/Deferred"],function(a,g,d,f,e){var b={closeWindow:function(){a.biz.navigation.close();return{}},imagePreview:function(h){a.biz.util.previewImage({current:h.curSrc,urls:h.srcList});return{}},openChat:function(h){var k=this._fetchUserId(h);k.then(function(l){a.biz.chat.openSingleChat(l)})},openUserCard:function(h){var k=this._fetchUserId(h);k.then(function(l){a.biz.util.open({name:"profile",params:{id:l.userId,corpId:l.corpId},onFail:function(m){console.log("errorMessage:"+m.errorMessage)}})})},_fetchUserId:function(k){k.userId=k.loginName;var l=new e();if(!k.userId&&k.ekpId){var h=d.formatUrl("/third/ding/user.do?method=getUserId&fdId="+k.ekpId);g(h,{handleAs:"json"}).then(function(m){k.userId=m.userId;k.corpId=m.corpId;l.resolve(k)})}else{l.resolve(k)}return l}};return b})},"sys/mobile/js/mui/catefilter/FilterItem":function(){define(["dojo/_base/declare","dojox/mobile/_ItemBase","mui/form/_CategoryBase","dojo/dom-construct","dojo/dom-class","mui/util","mui/catefilter/ConstMixin","mui/catefilter/TitleMixin","mui/catefilter/HashMixin","dojo/topic"],function(e,m,a,b,k,h,d,g,l,f){return e("mui.catefilter.filter.item",[m,a,d,g,l],{baseClass:"muiHeaderItem muiHeaderItemIcon",modelName:null,curIds:"",key:"__default__",catekey:"docCategory",showFavoriteCate:"false",authType:"03",confirm:true,postCreate:function(){this.type=window.SYS_CATEGORY_TYPE_CATEGORY;this.inherited(arguments);this.eventBind()},startup:function(){if(this.curIds){f.publish(this.CONFIRM,this,{value:{prefix:this.prefix,value:this.curIds}})}this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.connect(this.domNode,"click","openFilter");window.SEL_CATEGORY_DEFAULT_TITLE=document.title;this.labelNode=b.create("div",{className:"muiHeaderItemLable",innerHTML:h.formatText(this.label)},this.domNode);b.create("i",{className:"fontmuis muis-menu"},this.labelNode);k.toggle(this.domNode,"selected",this.curIds)},openFilter:function(){if(window.cateFilterSetSelc){window.cateFilterSetSelc.openCount++}this._selectCate()},returnDialog:function(o,n){this.inherited(arguments);if(o.key==this.key){if(!n){return}this.submit(n)}},submit:function(n){f.publish(this.CONFIRM,this,{name:this.catekey,value:{prefix:this.prefix,value:n.curIds||""},text:n.curNames});k.toggle(this.domNode,"selected",this.curIds);this.inherited(arguments)},_setLabelAttr:function(n){}})})},"sys/mobile/js/mui/form/TextareaApproval":function(){define(["dojo/_base/declare","mui/form/_InputBase","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/touch","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/dialog/BarTip","mui/form/Textarea"],function(f,a,d,l,g,e,h,b,n,k){var m=f("mui.form.TextareaApproval",[k],{buildEdit:function(){var o=(this.textareaNode=d.create("div",{className:"muiFormItem"},this.domNode));o.innerHTML="<textarea class='muiTextarea muiOriginalTextarea' name="+this.name+"></textarea><i class='textarea_dropbox'></i>";var p=(this.textareaNode=o.querySelector("textarea"));this.contentNode=this.textareaNode;this.textareaPre=d.create("pre",{name:this.name+"_pre",className:this.inputClass+"Pre",style:"display:none"},this.domNode);this.connect(this.textareaNode,"keyup","_onInput");this.connect(this.textareaNode,"blur","_onBlur");this.connect(this.textareaNode,"keydown",function(q){window.focus();p.focus()});this.connect(this.textareaNode,e.press,"_handleFocus");this.subscribe("/mui/form/valueChanged","_onChange")},resizeHeight:function(p){var o=38;l.set(p,{height:"auto"});if(o<=0&&p.value!=""){o=p.scrollHeight}if(o<=38){o=38}l.set(p,{height:o+"px"})}});return m})},"sys/mobile/js/mui/address/AddressGroupViewMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojox/mobile/TransitionEvent","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/request","mui/util"],function(d,b,g,e,f,a){return d("mui.address.AddressGroupViewMixin",null,{buildRendering:function(){this.inherited(arguments);var h=this;f.get(a.formatUrl("/sys/organization/sys_org_element_external/sysOrgElementExternalDept.do?method=getUserType"),{headers:{Accept:"application/json"},handleAs:"json"}).then(function(k){if(k){h.commonGroupNode=h.createItem({className:"muiAddressCommonGroupItem",text:e["mui.mobile.address.commonGroup"],viewKey:"commonGroupView"})}h.myGroupNode=h.createItem({className:"muiAddressMyGroupItem",text:e["mui.mobile.address.myGroup"],viewKey:"myGroupView"})})},createItem:function(k){var h=this;var l=b.create("div",{className:"muiAddressItem muiAddressGroupItem "+k.className},this.domNode);b.create("div",{className:"muiAddressItemName",innerHTML:k.text},l);this.connect(l,"click",function(){h.openView(k.viewKey)});var m=b.create("div",{className:"muiAddressItemMore"},l);b.create("i",{className:"mui mui-forward"},m);return l},openView:function(l){var h=this;var k={moveTo:l+"_"+this.key};new g(document.body,k).dispatch()}})})},"sys/mobile/js/mui/form/CheckBoxGroup":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/parser","mui/form/_GroupBase","mui/util","dojo/query","dojo/dom-class"],function(f,b,k,e,a,h,g){var d=f("mui.form.CheckBoxGroup",[e],{tmpl:"<input type=\"checkbox\" data-dojo-type=\"mui/form/CheckBox\" data-dojo-props=\"showStatus:'!{showStatus}',renderType:'!{renderType}',checked:!{checked},name:'!{name}',text:'!{text}',value:'!{value}',style:'!{xformStyle}'\">",valueField:null,opt:false,name:null,value:"",text:"",values:[],concentrate:false,alignment:"V",renderType:"normal",muiSingleRowViewClass:"muiSelInput",xformStyle:"",buildRendering:function(){this.inherited(arguments);if(!this.renderType){this.renderType="normal"}g.add(this.domNode,"muiFormCheckBox"+this.renderType.substring(0,1).toUpperCase()+this.renderType.substring(1));var l="muiCheckBox"+this.renderType.substring(0,1).toUpperCase()+this.renderType.substring(1)+"Wrap";this.valueNode=b.create("div",{className:"muiFormItem muiCheckBoxWrap "+l},this.domNode);if(this.alignment=="V"&&(this.orient=="vertical"||this.__orient=="vertical")){g.add(this.valueNode,"blockCheck")}},_buildValue:function(){this.inherited(arguments)},isConcentrate:function(l){return this.concentrate&&this.value_s.indexOf(l.value)<0&&this.showStatus=="view"},createListItem:function(n){if(this.isConcentrate(n)){return null}var l=this.tmpl.replace("!{showStatus}",this.showStatus).replace("!{renderType}",this.renderType).replace("!{name}","_"+this.name.replace(".","_")+"_single").replace("!{value}",a.formatTextChar(a.formatText(n.value))).replace("!{text}",a.formatTextChar(a.formatText(n.text.replace(/'/g,"&#039;")))).replace("!{checked}",n.checked?true:false).replace("!{alignment}",this.alignment);var m=this.buildXFormStyle()||"";l=l.replace("!{xformStyle}",m);return b.toDom(l)},completed:false,onComplete:function(l){if(this.completed){h(".muiFormOptionsField",this.valueNode).remove()}if(!this.completed){this.completed=true}this.inherited(arguments)},addChild:function(l){this.inherited(arguments);b.place(l,this.valueNode,"last")},generateList:function(l){if(!this.value){this.value_s=[]}else{this.value_s=this.value.split(";")}this.inherited(arguments);k.parse(this.valueNode)},addValue:function(l){if(this.value_s.indexOf(l)>=0){return}this.value_s.push(l);this.set("value",this.value_s.join(";"))},_setValueAttr:function(l){this.inherited(arguments);if(l!=null&&l!=""){this.value_s=l.split(";")}},removeValue:function(m){var l=this.value_s.indexOf(m);if(l<0){return}this.value_s.splice(l,1);this.set("value",this.value_s.join(";"))}});return d})},"sys/mobile/js/mui/address/AddressMyGroupCategoryPath":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojox/mobile/TransitionEvent","./AddressCategoryPath","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(d,g,a,f,b,e){return d("mui.syscategory.AddressMyGroupCategoryPath",[b],{titleNode:e["mui.mobile.address.myGroup"],_createTitleNode:function(){var k=a.create("div",{className:"muiCatePathTitleItem"},this.containerNode);var l=a.create("div",{},k);var h=a.create("span",{},l);h.innerHTML=e["mui.mobile.address.group.path"];this.connect(k,"onclick",g.hitch(this,function(){var m={moveTo:"groupView_"+this.key};new f(document.body,m).dispatch()}));return this.inherited(arguments)},_chgHeaderInfo:function(k,h){if(!this.isSameChannel(k,h)){return}if(h){if(h.fdId){this._createPath([h])}else{this._createPath([])}}}})})},"sys/mobile/js/mui/form/Address":function(){define(["dojo/_base/declare","mui/form/Category","mui/address/AddressMixin","dojo/query","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/topic","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,m,a,k,d,h,l,f,b){var g=e("mui.form.Address",[m,a],{subject:b["mui.mobile.address.subject"],needToUpdateAttInDetail:["idField","nameField","key"],showHeadImg:true,deptLimit:"",exceptValue:"",maxPageSize:300,muiSingleRowViewClass:"muiAddressForm muiAddressShowHeadImg muiCateFiledShow",dataUrl:"/sys/organization/mobile/address.do?method=addressList&parentId=!{parentId}&orgType=!{selType}&deptLimit=!{deptLimit}&maxPageSize=!{maxPageSize}",iconUrl:"/sys/organization/image.jsp?orgId=!{orgId}",searchUrl:"/sys/organization/mobile/address.do?method=searchList&keyword=!{keyword}&orgType=!{orgType}&deptLimit=!{deptLimit}",buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"muiAddressForm");if(this.showHeadImg){l.add(this.domNode,"muiAddressShowHeadImg")}},startup:function(){this.inherited(arguments);if(this.edit&&this.orient=="vertical"){l.add(this.domNode,"showTitle")}},_readOnlyAction:function(n){this.inherited(arguments);if(n){h.set(this.muiCategoryAddNode,"display","none")}else{h.set(this.muiCategoryAddNode,"display","inline-block")}},domNodeClick:function(){if(this.showHeadImg){var n=k(arguments[0].target).closest(".muiCategoryAdd");if(n.length<=0){return}}this.inherited(arguments)},buildValue:function(n){this.inherited(arguments);if(!this.edit){if(this.idField&&!this.idDom){var o=k("[name='"+this.idField+"']");if(o.length>0){this.idDom=o[0]}else{this.idDom=d.create("input",{type:"hidden",name:this.idField},this.valueNode)}}if(this.nameField&&!this.nameDom){var o=k("[name='"+this.nameField+"']");if(o.length>0){this.nameDom=o[0]}else{this.nameDom=d.create("input",{type:"hidden",name:this.nameField},this.valueNode)}}if(this.idDom){this.idDom.value=this.curIds==null?"":this.curIds}if(this.nameDom){this.nameDom.value=this.curNames==null?"":this.curNames}}if(this.showHeadImg){var p="muiCategoryAdd fontmuis muis-new muiNewAdd";this.muiCategoryAddNode=d.create("div",{className:p},n);if(this.edit&&(!this.curIds||this.isMul)){h.set(this.muiCategoryAddNode,"display","inline-block")}else{h.set(this.muiCategoryAddNode,"display","none")}}f.publish("/mui/list/resize",this)},buildOptIcon:function(n){if(!this.showHeadImg){this.inherited(arguments)}this.muiCategoryAddNode=n},_setValueAttr:function(n){this.inherited(arguments);if(this.domNode!=null){l.add(this.domNode,"showTitle")}},getText:function(){var p=[];if(this.curNames!=null&&this.curNames!=""){var n=this.curNames.split(";");for(var o=0;o<n.length;o++){p.push(n[o])}}return p.join(";")}});return g})},"sys/mobile/js/mui/address/AddressMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/query","dojo/dom-construct","mui/form/Category","dojo/request","mui/util"],function(h,b,l,d,a,f,k){window.ORG_TYPE_ORG=1;window.ORG_TYPE_DEPT=2;window.ORG_TYPE_POST=4;window.ORG_TYPE_PERSON=8;window.ORG_TYPE_GROUP_CATE=4096;window.ORG_TYPE_GROUP=16;window.ORG_TYPE_ROLE=32;window.ORG_TYPE_ORGORDEPT=window.ORG_TYPE_ORG|window.ORG_TYPE_DEPT;window.ORG_TYPE_POSTORPERSON=window.ORG_TYPE_POST|window.ORG_TYPE_PERSON;window.ORG_TYPE_ALLORG=window.ORG_TYPE_ORGORDEPT|window.ORG_TYPE_POSTORPERSON;window.ORG_TYPE_ALL=window.ORG_TYPE_ALLORG|window.ORG_TYPE_GROUP;window.ORG_FLAG_AVAILABLEYES=256;window.ORG_FLAG_AVAILABLENO=512;window.ORG_FLAG_AVAILABLEALL=window.ORG_FLAG_AVAILABLEYES|window.ORG_FLAG_AVAILABLENO;window.ORG_FLAG_BUSINESSYES=1024;window.ORG_FLAG_BUSINESSNO=2048;window.ORG_FLAG_BUSINESSALL=window.ORG_FLAG_BUSINESSYES|window.ORG_FLAG_BUSINESSNO;var g=h("mui.address.AddressMixin",null,{type:window.ORG_TYPE_ALL,isMul:false,jsURL:"/sys/mobile/js/mui/address/address_sgl.js!",buildRendering:function(){this.inherited(arguments)},_setIsMulAttr:function(m){this._set("isMul",m);if(this.isMul){this.jsURL="/sys/mobile/js/mui/address/address_mul.js!"}else{this.jsURL="/sys/mobile/js/mui/address/address_sgl.js!"}},afterSelect:function(m){var n="/sys/organization/sys_organization_recent_contact/sysOrganizationRecentContact.do?method=addContacts&contactIds="+m.curIds;f.get(k.formatUrl(n))}});var e={address:function(t,o,m,n,s){var q=new a();q.isMul=t==true?true:false;q.jsURL=(t==true?"/sys/mobile/js/mui/address/address_mul.js!":"/sys/mobile/js/mui/address/address_sgl.js!");q.key=o?o:"_address_default";var p=null;var u=null;if(o){p=l("[name='"+o+"']")[0]}if(m){u=l("[name='"+m+"']")[0]}if(p){q.curIds=p.value}if(u){q.curNames=u.value}if(n!=null){q.type=n}else{q.type=window.ORG_TYPE_ALL}q.afterSelect=function(v){if(p){p.value=v.curIds}if(u){u.value=v.curNames}if(s){s(v)}};q.eventBind();q._selectCate()}};return b.mixin(g,e)})},"sys/mobile/js/mui/chart/ChartDefaultMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,e,a,d){return b("mui.chart.chartDefaultMixin",null,{colors:["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8","#cda819","#32a487"],concatDefaultOptions:function(f){this.defaultColor(f);this.defaultXAxis(f)},defaultXAxis:function(f){var h=f.xAxis;if(h instanceof Array){for(var g=0;g<h.length;g++){if(!f.xAxis[g].axisLabel){f.xAxis[g].axisLabel={}}if(!f.xAxis[g].axisLabel.rotate){f.xAxis[g].axisLabel.rotate=30}}}},defaultColor:function(f){if(!f.color){f.color=this.colors}},registerTheme:function(f){f.registerTheme("default",{graph:{}})}})})},"sys/mobile/js/mui/list/CardItemDListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/list/item/CardItemDMixin"],function(a,b,d){return a("mui.list.CardItemDListMixin",[b],{itemTemplateString:null,itemRenderer:d})})},"sys/mobile/js/mui/authenticate/AuthenticateShow":function(){define(["dojo/_base/declare","./AuthenticateBase","mui/util"],function(b,d,a){return b("mui.authenticate.AuthenticateShow",[d],{url:"/sys/mobile/js/mui/authenticate/AuthenticateShow.jsp",roles:"",authAreaIds:"",baseEmptyShow:"",baseOrgIds:"",baseOrgElements:"",extendOrgIds:"",extendOrgElements:"",formatUrl:function(){this.url=a.setUrlParameter(this.url,"roles",this.roles);this.url=a.setUrlParameter(this.url,"authAreaIds",this.authAreaIds);this.url=a.setUrlParameter(this.url,"baseEmptyShow",this.baseEmptyShow);this.url=a.setUrlParameter(this.url,"baseOrgIds",this.baseOrgIds);this.url=a.setUrlParameter(this.url,"baseOrgElements",this.baseOrgElements);this.url=a.setUrlParameter(this.url,"extendOrgIds",this.extendOrgIds);this.url=a.setUrlParameter(this.url,"extendOrgElements",this.extendOrgElements)}})})},"sys/mobile/js/mui/commondialog/template/DialogList":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-construct","dojo/_base/array","dojo/_base/lang","mui/util","mui/list/JsonStoreList"],function(e,d,b,h,g,a,f){return e("mui.commondialog.template.DialogList",[f],{modelName:null,dataUrl:"",curIds:null,curNames:null,isMul:false,baseClass:"muiCateLists",key:null,displayProp:"",rowSize:200,buildRendering:function(){this.dataUrl=a.setUrlParameter(this.dataUrl,"rowsize",this.rowSize);this.url=a.urlResolver(this.dataUrl,this);this.inherited(arguments);this.domNode.className=this.baseClass;this.buildLoading()},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/selected","_cateSelected");this.subscribe("/mui/search/submit","dataFresh");this.subscribe("/mui/search/cancel","dataFresh")},startup:function(){this.inherited(arguments);this.reload()},dataFresh:function(o,l){if(o.key==this.key){if(l&&l.url){if(!this._oldUrl){this._oldUrl=this.url}var n=a.setUrlParameter(l.url,"q._keyword",l.keyword);n=a.setUrlParameter(n,"rowsize",this.rowSize);for(var m in l){if(m==="url"||m==="keyword"){continue}l[m]!==undefined&&(n=a.setUrlParameter(n,m,l[m]))}this.url=n}else{if(this._oldUrl){this.url=a.urlResolver(this._oldUrl,this)}}this.buildLoading();this.reload()}},buildLoading:function(){if(this.tmpLoading==null){b.empty(this.domNode);this.tmpLoading=b.create("li",{className:"muiCateLoading",innerHTML:'<i class="mui mui-loading mui-spin"></i>'},this.domNode)}},resolveItems:function(k){var n={};if(k.columns){var m=k.columns;for(var l=0;l<m.length;l++){if(m[l].title){n[m[l].property]=m[l].title}}}this.props=n;return this.inherited(arguments)},_createItemProperties:function(m){var l=this.inherited(arguments);var k=JSON.parse(JSON.stringify(m));l.label=k[this.displayProp];k.label=l.label;l.data=k;l.displayProp=this.displayProp;l.props=this.props;return l},onComplete:function(){if(this.tmpLoading){b.destroy(this.tmpLoading);this.tmpLoading=null}this.inherited(arguments)},_cateSelected:function(l,k){if(l.key==this.key){if(!this.isMul){this.curIds=k.fdId;if(k.label){this.curNames=k.label}else{this.curNames=k[this.displayProp]}h.forEach(this.getChildren(),g.hitch(this,function(m){if(m.header!="true"&&m.fdId!=k.fdId){d.publish("/mui/category/cancelSelected",this,{fdId:m.fdId})}}));d.publish("/mui/category/submit",this,{key:this.key,curIds:this.curIds,curNames:this.curNames,data:[k]})}}}})})},"sys/mobile/js/mui/category/CategorySearchListMixin":function(){define(["dojo/_base/declare","mui/util","dojo/_base/array","dojo/topic"],function(d,a,e,b){return d("sys.syscategory.CategorySearchListMixin",null,{_cateChange:function(g,f){b.publish("/mui/searchbar/cancel")},buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/search/submit","_onRelod");this.subscribe("/mui/search/cancel","_onCancel")},_onCancel:function(f){if(f.key==this.key){e.forEach(this.getChildren(),function(g){g.destroyRecursive()})}},_onRelod:function(g,f){if(g.key==this.key){this.keyword=f.keyword;this.url=a.urlResolver(a.formatUrl(this.dataUrl),this);this.buildLoading();this.reload()}}})})},"sys/mobile/js/mui/nav/MobileCfgNavBar":function(){define("mui/nav/MobileCfgNavBar",["dojo/_base/declare","./NavBarStore","mui/util"],function(b,d,a){return b("mui.nav.MobileCfgNavBar",[d],{url:"/sys/mobile/sys_mobile_module_category_config/sysMobileModuleCategoryConfig.do?method=data&fdModelName=!{modelName}",modelName:null,isTiny:false,startup:function(){if(this._started){return}if(typeof(navMemory)!="undefined"&&this.modelName){if(navMemory[this.modelName]){this.isTiny=true;this.defer(function(){this.onComplete(navMemory[this.modelName])},1)}}else{if(this.modelName){this.url=a.urlResolver(this.url,{modelName:this.modelName})}else{this.url=a.urlResolver(this.url,{modelName:""})}}this.inherited(arguments)},_createItemProperties:function(e){if(this.isTiny){e.text=e[dojoConfig.locale]}return e}})})},"sys/mobile/js/mui/list/_ViewDownReloadMixin":function(){define(["dojo/_base/declare","dojo/topic","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","./_ViewScrollCommonMixin","dojox/mobile/viewRegistry"],function(e,b,f,a,d){return e("mui.list._ViewDownReloadMixin",[a],{startPoint:null,lastPoint:null,constructor:function(){this.optDown={use:true,autoShowLoading:false,isLock:false,isBoth:false,offset:80,inOffsetRate:1,outOffsetRate:0.2,bottomOffset:20,minAngle:45,hardwareClass:"mui-mescroll-hardware",mustToTop:false,warpId:null,warpClass:"mui-mescroll-downwarp",resetClass:"mui-mescroll-downwarp-reset",textInOffset:f["mui.list.pull.reload"],textOutOffset:f["mui.list.pull.release"],textLoading:f["mui.list.pull.loading"],htmlContent:'<span class="mui-downwarp-progress"><i class="fontmuis muis-stick"></i><span class="downwarp-tip"></span></span>',inited:function(h,g){h.downTipDom=g.getElementsByClassName("downwarp-tip")[0];h.downIconDom=g.getElementsByClassName("fontmuis")[0]},inOffset:function(g){if(g.downTipDom){g.downTipDom.innerHTML=g.optDown.textInOffset}if(g.downIconDom){g.downIconDom.className="fontmuis muis-stick"}},outOffset:function(g){if(g.downTipDom){g.downTipDom.innerHTML=g.optDown.textOutOffset}if(g.downIconDom){g.downIconDom.className="mui-rotate-180 fontmuis muis-stick pullToUp"}},onMoving:function(h,k,g){},beforeLoading:function(h,g){return false},showLoading:function(g){if(g.downTipDom){g.downTipDom.innerHTML=g.optDown.textLoading}if(g.downIconDom){g.downIconDom.className="fontmuis muis-tips-loading mui-spin"}},afterLoading:function(g){return 0}}},downCallback:function(){this.onPull(this)},reload:function(){this.triggerDownScroll()},onReload:function(h,g){b.publish("/mui/list/onReload",this,g)},onPull:function(h,g){b.publish("/mui/list/onPull",this,g)},endDownSuccess:function(g){if(this.isDownScrolling){this.endDownScroll()}},startup:function(){this.inherited(arguments);if(this.scrollDom){this.initDownScroll()}},buildRendering:function(){this.inherited(arguments);if(!this.scrollDom){return}if(this.optDown.use){this.downwarp=document.createElement("div");this.downwarp.className=this.optDown.warpClass;this.downwarp.innerHTML='<div class="downwarp-content">'+this.optDown.htmlContent+"</div>";var g=this.optDown.warpId?this.getDomById(this.optDown.warpId):this.scrollDom;if(this.optDown.warpId&&g){g.appendChild(this.downwarp)}else{if(!g){g=this.scrollDom}g.insertBefore(this.downwarp,this.scrollDom.firstChild)}var h=this;h.optDown.inited(h,h.downwarp)}},_initLoading:function(h,g){if(this.isListInScrollView(h.domNode)){this.showDownScroll()}},triggerDownScroll:function(){if(!this.optDown.beforeLoading(this,this.downwarp)){this.showDownScroll();this.optDown.callback&&this.optDown.callback(this);this.downCallback&&this.downCallback(this)}},showDownScroll:function(){this.isDownScrolling=true;this.optDown.showLoading(this);this.downHight=this.optDown.offset;this.downwarp.classList.add(this.optDown.resetClass);this.downwarp.style.height=this.optDown.offset+"px"},endDownScroll:function(){var k=this;var h=function(){k.downHight=0;k.downwarp.style.height=0;k.isDownScrolling=false;if(k.downProgressDom){k.downProgressDom.classList.remove("mescroll-rotate")}};var g=this.optDown.afterLoading(k);if(typeof g==="number"&&g>0){setTimeout(h,g)}else{h()}},lockDownScroll:function(g){if(g==null){g=true}this.optDown.isLock=g},touchstartEvent:function(h){if(this.isScrollTo){this.preventDefault(h)}this.startPoint=this.getPoint(h);this.lastPoint=this.startPoint;this.maxTouchmoveY=this.getBodyHeight()-this.optDown.bottomOffset;this.inTouchend=false;var g=this.getScrollTop();this.isKeepTop=g===0},touchmoveEvent:function(p){if(!this.startPoint){return}var g=this.getScrollTop();if(g>0){this.isKeepTop=false}var l=this.getPoint(p);var h=l.y-this.startPoint.y;if(h>0){if(g<=0){this.preventDefault(p);if(this.optDown.use&&!this.inTouchend&&!this.isDownScrolling&&!this.optDown.isLock&&(!this.isUpScrolling||(this.isUpScrolling&&this.optUp.isBoth))){if(this.optDown.mustToTop&&!this.isKeepTop){return}var t=Math.abs(this.lastPoint.x-l.x);var s=Math.abs(this.lastPoint.y-l.y);var q=Math.sqrt(t*t+s*s);if(q!==0){var k=Math.asin(s/q)/Math.PI*180;if(k<this.optDown.minAngle){return}}if(this.maxTouchmoveY>0&&l.y>=this.maxTouchmoveY){this.inTouchend=true;this.touchendEvent();return}var u=l.y-this.lastPoint.y;if(!this.downHight){this.downHight=0}if(this.downHight<this.optDown.offset){if(this.movetype!==1){this.movetype=1;this.optDown.inOffset(this);this.downwarp.classList.remove(this.optDown.resetClass);this.isMoveDown=true;if(this.os.ios&&!this.isKeepTop){this.scrollDom.classList.add(this.optDown.hardwareClass);this.scrollDom.style.webkitOverflowScrolling="auto";this.isSetScrollAuto=true}}this.downHight+=u*this.optDown.inOffsetRate}else{if(this.movetype!==2){this.movetype=2;this.optDown.outOffset(this);this.downwarp.classList.remove(this.optDown.resetClass);this.isMoveDown=true;if(this.os.ios&&!this.isKeepTop){this.scrollDom.classList.add(this.optDown.hardwareClass);this.scrollDom.style.webkitOverflowScrolling="auto";this.isSetScrollAuto=true}}if(u>0){this.downHight+=u*this.optDown.outOffsetRate}else{this.downHight+=u}}this.downwarp.style.height=this.downHight+"px";var o=this.downHight/this.optDown.offset;this.optDown.onMoving(this,o,this.downHight)}}}else{if(h<0){var v=this.getScrollHeight();var n=this.getClientHeight();var m=v-n-g;if(this.optUp&&!this.optUp.isBounce&&m<=0){this.preventDefault(p)}}}this.lastPoint=l},touchendEvent:function(){if(this.optDown.use&&this.isMoveDown){if(this.downHight>=this.optDown.offset){this.triggerDownScroll()}else{this.downwarp.classList.add(this.optDown.resetClass);this.downHight=0;this.downwarp.style.height=0}if(this.isSetScrollAuto){this.scrollDom.style.webkitOverflowScrolling="touch";this.scrollDom.classList.remove(this.optDown.hardwareClass);this.isSetScrollAuto=false}this.movetype=0;this.isMoveDown=false}},initDownScroll:function(){this.scrollDom.addEventListener("touchstart",this.touchstartEvent.bind(this));this.scrollDom.addEventListener("touchmove",this.touchmoveEvent.bind(this),{passive:false});this.scrollDom.addEventListener("touchend",this.touchendEvent.bind(this));this.scrollDom.addEventListener("touchcancel",this.touchendEvent.bind(this))}})})},"sys/mobile/js/mui/rating/Rating":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-attr","dojo/topic","dojo/touch","dijit/_WidgetBase","dojo/dom-style","dojo/dom-class","dojo/_base/Deferred"],function(f,a,b,m,g,e,d,h,n,l){var k=f("mui.rating.Rating",[d],{icon:"fontmuis muis-star",numStars:5,value:0,baseClass:"muiRating",editable:false,classOff:"muiRatingOff",classOn:"muiRatingOn",eventName:"/mui/rating/ratingSelected",ratings:[],unratings:[],buildRendering:function(){this.inherited(arguments);this.starArea=b.create("div",{className:"muiRatingArea"},this.domNode);this.buildStarts(this.classOff,this.starArea,!this.editable)},buildStarts:function(s,t,p){if(p){if(this.value%1>0){this.nbuildStartsHarf(t)}else{this.nbuildStarts(t)}return}h.set(this.domNode,{position:"relative"});for(var o=0;o<this.numStars;o++){var q=b.create("i",{className:this.icon+" "+s,score:(o+1)},t);this.connect(q,e.release,"_selectStar");if(s==this.classOff){this.unratings.push(q)}if(s==this.classOn){this.ratings.push(q)}}},nbuildStarts:function(s){for(var q=0;q<this.value;q++){var t=b.create("i",{className:this.icon+" "+this.classOn},s)}var o=this.numStars-this.value;for(var p=0;p<o;p++){var t=b.create("i",{className:this.icon+" "+this.classOff},s)}},nbuildStartsHarf:function(q){var v=parseInt(this.value);var x=this.value%1;var s=this.numStars-v-1;for(var u=0;u<v;u++){var w=b.create("i",{className:this.icon+" "+this.classOn},q)}var o=b.create("span",{className:this.icon+" "+this.classOff+" mulRatingHarfContainer"},q);var p=b.create("span",{className:this.icon+" "+this.classOn+" mulRatingHarf"},o);h.set(p,{width:(x/1)*100+"%",margin:0});h.set(this.starArea,{"text-align":"center"});for(var t=0;t<s;t++){var w=b.create("i",{className:this.icon+" "+this.classOff},q)}},_setValueAttr:function(q){this._set("value",q);if(this.Value==0||!this.editable){return}if(this.valArea==null){this.valArea=b.create("div",{className:"muiRatingValue"},this.domNode);this.buildStarts(this.classOn,this.valArea)}this.valArea.style.width=(parseFloat(this.value)/parseFloat(this.numStars))*100+"%";var q=parseInt(this.value);var o=this;var t="muiRatingScale",s="muiRatingHide";for(var p=0;p<q;p++){~~function(u){return function(){var v=new l();v.then(function(){n.remove(o.unratings[u],s);n.remove(o.ratings[u],t)});o.defer(function(){n.add(o.unratings[u],s);n.add(o.ratings[u],t);o.defer(function(){v.resolve()},200)},u*200)}()}(p)}},_selectStar:function(o){var p=o.target||o.srcElement;value=m.getNodeProp(p,"score");this.set("value",parseInt(value,10));g.publish(this.eventName,this)}});return k})},"sys/mobile/js/mui/category/CommonCateMixin":function(){define(["dojo/_base/declare","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,b){return a("mui.category.CommonCateMixin",null,{memory:[{moveTo:"commonCateView",text:b["mui.mobile.favoriteCateView"],selected:true,channelName:"category"},{moveTo:"allCateView",text:b["mui.mobile.allCateView"]}]})})},"sys/mobile/js/mui/form/editor/plugins/lingling/SysFaceConfig":function(){define(["dojo/_base/declare","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui"],function(d,a,e){var b=d("sys.mui.form.editor.plugins.lingling.SysFaceConfig",null,{_faceConfig:{face:{activeClass:"eval_bq_active",tabId:"eval_bq_system",bqName:"系统表情",width:24,height:24,container:"eval_bg_system_container",row:5,col:17,start:0,max:79,type:"face",suffix:".gif",path:a.formatUrl("/sys/evaluation/import/resource/images/bq/")},dnyling:{tabId:"eval_bq_dny_ling",bqName:"动态凌凌",width:60,height:60,container:"eval_bg_dny_ling_container",isHide:true,row:3,col:6,start:1,max:32,type:"dnyling",suffix:".gif",path:a.formatUrl("/sys/ui/resource/images/phiz/dnyling/")},lingling:{tabId:"eval_bq_ling_ling",bqName:"凌凌表情",width:60,height:60,container:"eval_bg_ling_ling_container",isHide:true,row:3,col:6,start:1,max:33,type:"lingling",suffix:".png",path:a.formatUrl("/sys/ui/resource/images/phiz/lingling/")}},_initSysFaceConfig:function(){for(var h in this._faceConfig){var k=this._faceConfig[h];k.configs=[];for(var g=k.start;g<=k.max;g++){k.configs[g]="["+k.type+g+"]"}}},getByType:function(g){return this._faceConfig[g]},replaceFace:function(l){if(!l||l.length==0){return""}for(var k in this._faceConfig){var m=this._faceConfig[k];for(var h=m.start;h<=m.max;h++){var g=m.configs[h];while(l.indexOf(g)!=-1){l=l.replace(m.configs[h],"<img width='"+m.width+"' src='"+m.path+h+m.suffix+"' type='"+m.type+"' />")}}l=l.replace(/&amp;nbsp;/g,"");l=l.replace(/&lt;div&gt;/g,"<br>");l=l.replace(/&lt;\/div&gt;/g,"")}return l},replaceFaceWithBlank:function(l){if(!l||l.length==0){return""}for(var k in this._faceConfig){if("face"==k){continue}var m=this._faceConfig[k];for(var h=m.start;h<=m.max;h++){var g=m.configs[h];while(l.indexOf(g)!=-1){l=l.replace(m.configs[h],"")}}l=l.replace(/&amp;nbsp;/g,"");l=l.replace(/&lt;div&gt;/g,"<br>");l=l.replace(/&lt;\/div&gt;/g,"")}return l},startup:function(){this.inherited(arguments);this._initSysFaceConfig()}});var f=new b();f.startup();return f})},"sys/mobile/js/mui/address/address_mul":function(){define(["./address_common"],function(b){function a(f,e){var d=b.html({mul:true});e(d)}return{load:function(f,d,e){a(f,e)}}})},"sys/mobile/js/mui/address/AddressSearchBar":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-style","dojo/dom-attr","dijit/registry","dojox/mobile/TransitionEvent","mui/search/SearchBar","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,f,h,k,a,l,b,g,d){function m(o,p,n){var q=null;return function(){var t=n.context||this;var s=arguments;if(q){clearTimeout(q)}q=setTimeout(function(){o.apply(t,s)},p)}}return e("mui.address.AddressSearchBar",[b],{jumpToSearchUrl:false,needPrompt:false,showLayer:false,keyword:"",exceptValue:"",placeHolder:d["mui.mobile.address.search"],orgType:null,previousView:null,buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/address/searchBar/cancel","_onCancel")},postMixInProperties:function(){this.inherited(arguments);this.placeHolder=this.getPlaceHolder()},postCreate:function(){this.inherited(arguments);this.connect(this.searchNode,"onclick","_onOpenSearchView");this.connect(this.searchNode,"oninput",m(this._onSearch,500,{context:this}));this.subscribe("/mui/address/swapView","_onChangeView");this.subscribe("/mui/address/search/submit","_onHandleSearchNode")},_onOpenSearchView:function(){f.publish("/sys/org/eco/btn/hidden");var p=this.getSearchView();var o=p.getShowingView();var n=o.id;if(n.startsWith("default")){new l(document.body,{moveTo:p.id}).dispatch()}if(p!==o){this.previousView=o;f.publish("/mui/address/search/init",this)}},_onChangeView:function(o,n){if(o.key===this.key){if(n&&n.viewKey!="default"){k.set(this.searchNode,"placeHolder",d["mui.mobile.address.search.simple"])}else{k.set(this.searchNode,"placeHolder",this.getPlaceHolder())}}},_onCancel:function(n){f.publish("/sys/org/eco/btn/show");this._onClear(n);h.set(this.buttonArea,{display:"none"});if(this.previousView){new l(document.body,{moveTo:this.previousView.id}).dispatch();f.publish("/mui/address/search/cancel",this)}},_onSearch:function(n){this._eventStop(n);this.set("keyword",this.searchNode.value);if(this.keyword){f.publish("/mui/address/search/submit",this,{keyword:decodeURIComponent(this.keyword.replace(/%/g,"%25"))})}return false},_onHandleSearchNode:function(n){var o=this.searchNode.value;if(n.keyword!==o){this.searchNode.value=n.keyword}},getSearchView:function(){var o="searchView_"+this.key;var n=a.byId(o);return n},getPlaceHolder:function(){var n=d["mui.form.please.input"];if((this.orgType&window.ORG_TYPE_PERSON)==window.ORG_TYPE_PERSON){n+=d["mui.mobile.address.search.type.person"]+"/"}if((this.orgType&window.ORG_TYPE_ORG)==window.ORG_TYPE_ORG){n+=d["mui.mobile.address.search.type.org"]+"/"}if((this.orgType&window.ORG_TYPE_DEPT)==window.ORG_TYPE_DEPT){n+=d["mui.mobile.address.search.type.dept"]+"/"}if((this.orgType&window.ORG_TYPE_POST)==window.ORG_TYPE_POST){n+=d["mui.mobile.address.search.type.post"]+"/"}return n.replace(/\/$/,"")}})})},"sys/mobile/js/mui/category/AppBarsMixin":function(){define(["dojo/_base/declare"],function(a){return a("mui.category.AppBarsMixin",null,{findAppBars:function(){if(!this.appBars){return}var d=this.getParent();while(d){var b=d.domNode;if(b.parentNode){for(i=0,len=b.parentNode.childNodes.length;i<len;i++){c=b.parentNode.childNodes[i];if(this.checkFixedBar(c,false)){break}}}d=d.getParent()}return this.inherited(arguments)}})})},"sys/mobile/js/mui/address/AddressSelection":function(){define(["dojo/_base/declare","mui/iconUtils","mui/category/CategorySelection","mui/util","dojo/dom-construct","dojo/dom-class"],function(d,f,h,b,a,g){var e=d("mui.address.AddressSelection",[h],{detailUrl:"/sys/organization/mobile/address.do?method=detailList&orgIds=!{curIds}",buildIcon:function(o,m){var l=a.create("div",{className:"muiCateSecItemIcon"},o);var k=a.create("div",{className:"muiCateIcon"},l);var n=false;if(m.isExternal&&m.isExternal=="true"){if((m.type|window.ORG_TYPE_ORG)==window.ORG_TYPE_ORG){m.icon="address-org-external";n=true}if((m.type|window.ORG_TYPE_DEPT)==window.ORG_TYPE_DEPT){m.icon="address-dept-external";n=true}if((m.type|window.ORG_TYPE_POST)==window.ORG_TYPE_POST){m.icon="address-post-external";n=true}}else{if((m.type|window.ORG_TYPE_ORG)==window.ORG_TYPE_ORG){m.icon="address-org";n=true}if((m.type|window.ORG_TYPE_DEPT)==window.ORG_TYPE_DEPT){m.icon="address-dept";n=true}if((m.type|window.ORG_TYPE_POST)==window.ORG_TYPE_POST){m.icon="address-post";n=true}}if((m.type|window.ORG_TYPE_GROUP)==window.ORG_TYPE_GROUP){m.icon="address-group";n=true}if(n){this.buildPNGIcon(m.icon,k)}else{if(m.icon){f.setIcon(b.formatUrl(m.icon),null,this._headerIcon,null,k)}else{if(dojoConfig.dingXForm&&dojoConfig.dingXForm==="true"&&m.type==window.ORG_TYPE_PERSON){k.innerHTML=f.createDingIcon(m.label,"div")}}}},buildPNGIcon:function(l,k){a.create("img",{src:b.formatUrl("/sys/mobile/css/themes/default/images/"+l+".png")},k)},buildDesc:function(l,k){a.empty(l);g.add(l,"muiAddressSelectionItem");var m=a.create("div",{className:"muiAddressSelectionItemName"},l);a.create("span",{className:"muiAddressSelectionItemLabelName",innerHTML:b.formatText(k.label)},m);if(k.staffingLevel){a.create("span",{className:"muiAddressSelectionItemLevelName",innerHTML:b.formatText(k.staffingLevel)},m)}if(k.parentNames){g.add(l,"muiAddressSelectionItemWithParentNames");a.create("div",{className:"muiAddressSelectionItemParentNames",innerHTML:this._formatParentNames(b.formatText(k.parentNames))},l)}},_formatParentNames:function(o){if(!o){return o}var q="";var l=o.split("_");var n=l.length;var p=n<=3?0:n-3;for(var m=p;m<n;m++){var k=l[m];if(k.length>8){k="..."+k.substring(k.length-8)}q+=k+"_"}q=q.replace(/_$/,"");return q}});return e})},"sys/mobile/js/mui/syscategory/SysCategorySearchListMixin":function(){define(["dojo/_base/declare","mui/category/CategorySearchListMixin"],function(b,a){return b("sys.syscategory.SimpleCategorySearchListMixin",[a],{dataUrl:"/sys/category/mobile/sysCategory.do?method=searchList&isOnlyReturnCate=!{isOnlyReturnCate}&keyword=!{keyword}&canSelect=!{canSelect}&getTemplate=!{getTemplate}&modelName=!{modelName}&authType=!{authType}&extendPara=key:!{key}"})})},"sys/mobile/js/mui/tabfilter/TabfilterListSelection":function(){define(["dojo/_base/declare","mui/tabfilter/TabfilterSelection","dojo/topic","dojo/dom-construct"],function(d,e,b,a){return d("mui.tabfilter.TabfilterListSelection",[e],{baseClass:"muiTabfilterListSec",itemPrefix:"_tabfilter_list_s_item_",postCreate:function(){this.subscribe("/mui/tabfilter/dialog/submit","_diaSubmit")},_diaSubmit:function(m,f){if(f){if(this.itemContainer){a.empty(this.itemContainer)}this.itemSelArr=[];if(f.values){var n=f.values.split(/[\s+;,]/);var l=f.texts.split(/[\s+;,]/);for(var k=0;k<n.length;k++){var h=l[k];var g=l[k];this._addSelItme(null,{text:h,value:g})}}}}})})},"sys/mobile/js/mui/list/item/ProcessItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dojox/mobile/_ItemBase","mui/util","mui/openProxyMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,b,k,g,h,l,f,d,a){var m=e("mui.list.item.ProcessItemMixin",[l,d],{tag:"li",baseClass:"muiProcessItem muiListItemCard",summary:"",created:"",creator:"",icon:"",status:"",buildRendering:function(){this.inherited(arguments);this.contentNode=b.create(this.tag,{className:"muiListItem"});this.buildInternalRender();b.place(this.contentNode,this.containerNode)},buildInternalRender:function(){var u=this.href?{}:{className:"lock"};this.contentNode=b.create("div",u);var t=b.create("div",{className:"muiListItemTop"},this.contentNode);var q=b.create("div",{className:"muiFontSizeM muiListItemTitle",innerHTML:'<div class="muiListItemTitleInner">'+this.label+"</div>"},t);var p=b.create("div",{className:"muiListItemPerImgBox"},t);b.create("span",{className:"muiListItemPerImg",style:{background:"url("+f.formatUrl(this.icon)+") center center no-repeat",backgroundSize:"cover",display:"inline-block"}},p);if(this.creator){var o=b.create("div",{className:"muiListItemCreator muiFontSizeS muiFontColorMuted"},t);o.innerText=this.creator}if(this.status){var s=b.create("div",{className:"muiListItemStatus muiFontSizeS muiFontColorMuted"},t);s.innerHTML=this.status}var n=b.create("div",{className:"muiListItemBottom muiFontSizeS muiFontColorMuted"},this.contentNode);if(this.created){b.create("div",{className:"muiListItemExpTimeInfo",innerHTML:a["mui.model.fdCreateTime"]+':<span class="muiListItemExpTime"> '+this.created+"</span>"},n)}if(this.summary){b.create("div",{className:"muiListItemMinorInfo",innerHTML:'<span class="muiListItemMinorItem"> '+this.summary+"</span>"},n)}if(this.href){this.proxyClick(this.contentNode,this.href,"_blank")}},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(n){if(n){this._set("label",n)}}});return m})},"sys/mobile/js/mui/category/CategoryList":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-construct","dojo/_base/array","dojo/_base/lang","mui/util","mui/list/JsonStoreList"],function(e,d,b,h,g,a,f){return e("mui.category.CategoryList",[f],{dataUrl:"",parentId:null,selType:null,curIds:null,curNames:null,isMul:false,baseClass:"muiCateLists",key:null,showMore:true,buildRendering:function(){this.url=a.urlResolver(this.dataUrl,this);this.inherited(arguments);this.domNode.className=this.baseClass},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/changed","_cateChange");this.subscribe("/mui/search/cancel/back","_cateReback");this.subscribe("/mui/category/selected","_cateSelected");this.subscribe("/mui/cate/navTo","_scrollToCate");this.subscribe("/mui/category/selChanged","_setCurSel");this.subscribe("/mui/view/afterScroll","_setNavInfo")},reload:function(){this.buildLoading();this.inherited(arguments)},startup:function(){this.inherited(arguments)},buildLoading:function(){if(this.tmpLoading==null){h.forEach(this.getChildren(),function(k){k.destroyRecursive()});this.tmpLoading=b.create("li",{className:"muiCateLoading",innerHTML:'<i class="mui mui-loading mui-spin"></i>'},this.domNode)}},onComplete:function(){if(this.tmpLoading){b.destroy(this.tmpLoading);this.tmpLoading=null}this.inherited(arguments);if(window.cateFilterSetSelc&&window.cateFilterSetSelc.openCount<=1){var k=document.getElementsByClassName("muiCateClearBtn");if(k&&k.length>0&&!k[0].className.contains("muiModelingCancelBtn")){k[0].click()}}},_setCurSel:function(l,k){if(l.key==this.key){if(k){this.curIds=k.curIds;this.curNames=k.curNames}}},_setNavInfo:function(l,k){if(l.key==this.key){var n=this.getChildren();var o=null;if(k.to.y<0){var p=false;for(var m=0;m<n.length;m++){if(n[m].header=="true"&&0-k.to.y>n[m].domNode.offsetTop-n[m].domNode.offsetHeight){d.publish("/mui/category/navChange",this,{label:n[m].getTitle()});p=true}}if(!p){d.publish("/mui/category/navChange",this,null)}}else{d.publish("/mui/category/navChange",this,null)}}},_scrollToCate:function(l,k){if(l.key==this.key){if(k){var n=this.getChildren();var o=null;for(var m=0;m<n.length;m++){if(n[m].header=="true"&&n[m].label==k.label){o=n[m];break}}if(o){d.publish("/mui/view/scrollTo",this,{y:0-o.domNode.offsetTop})}}}},_cateReback:function(l,k){if(l.key==this.key){if(this._addressUrl){this.url=this._addressUrl}d.publish("/mui/category/clearNav",this);this.showMore=true;this.buildLoading();this.reload()}},_cateChange:function(l,k){if(l.key==this.key){if(k&&k.url){if(!this._addressUrl){this._addressUrl=this.url}this.showMore=false;this.url=k.url}else{this.showMore=true;this.parentId=k.fdId;this.url=a.urlResolver(a.formatUrl(this.dataUrl),this)}d.publish("/mui/category/clearNav",this);this.buildLoading();this.reload()}},_cateSelected:function(l,k){if(l.key==this.key){if(!this.isMul){this.curIds=k.fdId;this.curNames=k.label;d.publish("/mui/category/clearSelected",this,{fdId:k.fdId});if(!this.confirm){d.publish("/mui/category/submit",this,{key:this.key,curIds:k.fdId,curNames:k.label})}}}}})})},"sys/mobile/js/mui/listcategory/ListCategoryList":function(){define(["dojo/_base/declare","mui/category/CategoryList","dojo/_base/lang","dojo/_base/json","mui/category/CategoryAllSelectMixin"],function(d,a,f,b,e){return d("mui.listcategory.ListCategoryList",[a,e],{modelName:null,authCateIds:null,___urlParam:"",dataUrl:"!{dataUrl}",buildRendering:function(){this.inherited(arguments);if(this.getParent().getParent()){this.authCateIds=this.getParent().getParent().authCateIds}},buildQuery:function(){var h=null;if(this.___urlParam){try{h=b.fromJson(this.___urlParam)}catch(g){}}var k=this.inherited(arguments);return f.mixin(k,{authCateIds:this.authCateIds},h)}})})},"sys/mobile/js/mui/syscategory/SysCommonCategoryList":function(){define(["dojo/_base/declare","dojo/_base/lang","mui/util","mui/category/CommonCategoryList"],function(d,e,b,a){return d("mui.syscategory.SysCommonCategoryList",[a],{modelName:null,dataUrl:"/sys/lbpmperson/SysLbpmPersonCreate.do?method=listUsualByModule&mainModelName=!{mainModelName}&extendPara=key:!{key}"})})},"sys/mobile/js/mui/category/CategorySearchBar":function(){define(["dojo/_base/declare","mui/search/SearchBar","dojox/mobile/TransitionEvent","mui/history/listener","dojo/_base/lang"],function(a,f,d,b,e){return a("sys.category.CategorySearchBar",[f],{jumpToSearchUrl:false,needPrompt:false,showLayer:false,getViewId:function(g){return g+"_"+this.key},_onfocus$:function(){this._onfocusCommon();new d(document.body,{moveTo:this.getViewId("searchView")}).dispatch()},_onCancel$:function(){this.inherited(arguments);new d(document.body,{moveTo:this.getViewId("defaultView")}).dispatch()},_onfocus:function(){if(this.show){return}this.show=true;var k=e.hitch(this,function(){this._onfocus$()});var h=e.hitch(this,function(){this._onCancel$()});var g=b.push({forwardCallback:k,backCallback:h});this.beforeSelectCateHistoryId=g.previousId}})})},"sys/mobile/js/mui/category/CategorySelection":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/request","dojo/topic","mui/util","mui/dialog/Dialog","mui/dialog/Tip","mui/iconUtils","mui/history/listener","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(l,a,h,o,g,f,k,n,m,p,s,e,b,d){var q=l("mui.category.CategorySelection",[h],{curIds:null,curNames:null,beforeSelectCateHistoryId:null,detailUrl:"",isMul:true,baseClass:"muiCateSec muiCateSecBottom",cateSelArr:[],itemPrefix:"_CateSecItem_",key:null,buildRendering:function(){this.inherited(arguments);this.cateSelArr=[];this.containerNode=f.create("div",{className:"muiCateSecContainer"},this.domNode);this.leftArea=f.create("div",{className:"muiCateSecLeft"},this.containerNode);this.rightArea=f.create("div",{className:"muiCateSecRight"},this.containerNode);this.clearButtonNode=f.create("span",{className:"muiCateClearBtn",innerHTML:d["mui.button.clear"]},this.rightArea);this.buttonNode=f.create("span",{className:"muiCateSecBtn ",innerHTML:d["mui.button.ok"]},this.rightArea)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/selected","_addSelItme");this.subscribe("/mui/category/unselected","_delSelItem");this.subscribe("/mui/category/clearSelected","_clearSelItem")},startup:function(){if(this._started){return}this.inherited(arguments);this._initSelection()},destroy:function(){this.inherited(arguments)},_subSelItem:function(){n.publish("/mui/category/submit",this,this._calcCurSel())},_clearSelItem:function(w,t){if(w.key!=this.key){return}var x;if(t){x=t.fdId}var u=0;while(this.cateSelArr.length>u){var v=this.cateSelArr[0];if(v.fdId==x){u++;continue}this._delSelItem(this,v);n.publish("/mui/category/cancelSelected",this,v)}},_popSelItem:function(){var v;var u;var x=a.hitch(this,function(){var y=f.create("div",{className:"muiCateSecItems"});o.forEach(this.cateSelArr,function(z){var A=this._buildSelItem(z);y.appendChild(A)},this);u=p.element({canClose:false,element:y,position:"bottom",scrollable:true,parseable:true,showClass:"muiCateSecPop",callback:a.hitch(this,function(){if(v){b.go({historyId:v,callback:function(){}})}u=null;v=null})})});var w=a.hitch(this,function(){if(u){u.hide();u=null;v=null}});var t=b.push({forwardCallback:x,backCallback:w});v=t.previousId},_initSelection:function(){var y=this;if(this.curIds){var v=m.urlResolver(this.detailUrl,this);v=m.formatUrl(v);if(v){var D;if(v.length>2048&&v.indexOf(".jsp?")>-1){var u=v.split("?");var z=u[1].split("&");var B=[];var A={};for(var w=0;w<z.length;w++){if(z[w].length>0){var C=z[w].split("=");if(C[1].length>500){A[C[0]]=C[1]}else{B.push(z[w])}}}v=u[0]+"?"+B.join("&");D=k.post(v,{handleAs:"json",data:A})}else{D=k.post(v,{handleAs:"json"})}D.then(function(E){if(E.length>0){o.forEach(E,function(F){y._addSelItme(y,F)})}})}else{var t=this.curIds.split(";");var x=this.curNames.split(";");o.forEach(t,function(F,E){y._addSelItme(y,{fdId:F,label:x[E],labelLevel:x[E]})})}}else{this._resizeSelection()}},buildDesc:function(){},_buildSelItem:function(t){var w=f.create("div",{id:this.itemPrefix+t.fdId,className:"muiCateSecItem"});this.buildIcon(w,t);var u=f.create("div",{className:"muiCateSecItemLabel"},w);f.create("div",{innerHTML:t.label},u);this.buildDesc(u,t);var v=f.create("div",{className:"muiCateSecItemDelArea"},w);f.create("div",{className:"muiCateSecItemDel"},v);this.connect(v,"click",function(x){this._delSelItem(this,t);f.destroy(g.byId(this.itemPrefix+t.fdId));n.publish("/mui/category/cancelSelected",this,t)});return w},buildIcon:function(t,u){if(u.icon){e.setIcon(u.icon,null,null,null,t)}else{e.setIcon("mui mui-file-text",null,null,null,t)}},_checkInSelArr:function(v){var t=false;for(var u=0;u<this.cateSelArr.length;u++){if(this.cateSelArr[u].fdId==v){t=true;break}}return t},_addSelItme:function(u,t){if(u.key==this.key){if(t){if(typeof t.labelLevel=="undefined"){t.labelLevel=typeof u.labelLevel!="undefined"?u.labelLevel:u.label}if(!this._checkInSelArr(t.fdId)){this.cateSelArr.push(t)}}this._resizeSelection()}},_delSelItem:function(u,t){if(u.key==this.key){if(t&&t.fdId){for(var v=0;v<this.cateSelArr.length;v++){if(this.cateSelArr[v].fdId==t.fdId){this.cateSelArr.splice(v,1);break}}this._resizeSelection()}}},_resizeSelection:function(){var u=0;var t=this.cateSelArr.length;if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}if(t>0){this.leftArea.className="muiCateSecLeft";this.clearButtonNode.className="muiCateClearBtn";if(this.clearHandle==null){this.clearHandle=this.connect(this.clearButtonNode,"click",a.hitch(this,function(){this._clearSelItem(this);this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}}))}if(this.popHandle==null){this.popHandle=this.connect(this.leftArea,"click","_popSelItem")}}else{this.leftArea.className="muiCateSecLeft muiCateSecBtnDis";this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.popHandle){this.disconnect(this.popHandle);this.popHandle=null}if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}}this.leftArea.innerHTML=d["mui.button.count"].replace("%count%",t);n.publish("/mui/category/selChanged",this,this._calcCurSel())},_calcCurSel:function(){var t={curIds:"",curNames:"",key:this.key};if(this.cateSelArr.length>0){var u="";var v="";o.forEach(this.cateSelArr,function(w){u+=";"+w.fdId;v+=";"+w.label});if(u!=""){u=u.substring(1);v=v.substring(1);t.curIds=u;t.curNames=v}}if(t.curNames==""){t.curNames=window.SEL_CATEGORY_DEFAULT_TITLE}return t}});return q})},"sys/mobile/js/mui/query/QueryListItem":function(){define(["dojo/_base/declare","dojox/mobile/_ItemBase","dojo/dom-construct","dojo/dom-style","mui/util","mui/folder/_Folder"],function(g,d,b,f,a,e){return g("mui.query.QueryListItem",[d,e],{baseClass:"muiQueryListItem",icon:null,label:"",buildRendering:function(){this.inherited(arguments);this.itemR=b.create("div",{className:"muiQueryListItemR"},this.containerNode);this.iconDiv=b.create("div",{className:"muiQueryListItemIcon"},this.itemR);if(this.icon){b.create("i",{className:this.icon},this.iconDiv)}b.create("div",{className:"muiQueryListItemLabel",innerHTML:this.label},this.itemR);b.create("div",{className:"muiQueryListItemL"},this.containerNode)},startup:function(){this.inherited(arguments);this.referOffesetTop=this.getParent().get("topHeight")},show:function(h){this.inherited(arguments)},setStyle:function(h){f.set(this.domNode,h)},_setLabelAttr:function(h){this._set("label",h)}})})},"sys/mobile/js/mui/tabfilter/TabfilterInitMixin":function(){define(["dojo/_base/declare"],function(a){return a("mui.tabfilter.TabfilterInitMixin",null,{onComplete:function(b){this.inherited(arguments);var d=this.getChildren();if(d&&d[0]){if(d[0].selectCate){d[0].selectCate()}}}})})},"sys/mobile/js/mui/form/editor/plugins/EditorPluginBaseMixin":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-style","dojo/topic","dojo/dom-class"],function(d,f,b,a,e){return d("mui.form.editor.plugins.EditorPluginBaseMixin",[f],{EVENT_PLUGIN_CLICK:"/mui/editor/plugin/click",selectedClass:"muiEditorPluginSelected",constructor:function(){this.subscribe(this.EVENT_PLUGIN_CLICK,"_unclick");this._isShow=false},show:function(){a.publish(this.EVENT_PLUGIN_CLICK,this,{target:this.iconNode});e.add(this.iconNode,this.selectedClass)},hide:function(){e.remove(this.iconNode,this.selectedClass);this._isShow=false},_unclick:function(k,g){if(!g){return}var h=g.target;if(!this.iconNode||h==this.iconNode){return}this.hide()},_faceHoldTime:250,_faceLastTime:null,_faceFireClick:function(g){var h=this._faceLastTime;this._faceLastTime=new Date().getTime();if(h&&this._faceLastTime-h<=this._faceHoldTime){return false}return true}})})},"sys/mobile/js/mui/query/_CategoryQueryDialogMixin":function(){define(["dojo/_base/declare","mui/form/_CategoryBase","mui/util"],function(d,a,b){var e=d("mui.query._CategoryQueryDialogMixin",[a],{filterURL:null,redirectURL:null,postCreate:function(){this.inherited(arguments);this.eventBind()},show:function(f){this._selectCate()},_formatParam:function(){var f=location.href;if(this.redirectURL){this.curNames=encodeURIComponent(this.curNames);f=b.formatUrl(b.urlResolver(this.redirectURL,this))}return b.setUrlParameter(f,"queryStr",b.urlResolver(this.filterURL,this))},returnDialog:function(h,f){this.inherited(arguments);if(this.curIds&&this.curIds.length>0&&this.curNames&&this.curNames.length>0){if(h.key==this.key){var g=this;setTimeout(function(){window.open(g._formatParam(),"_self");this._set("curIds","");this._set("curNames","")},1)}}}});return e})},"sys/mobile/js/mui/swiper/SwiperItem":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/topic","dojo/request","dojo/on","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dijit/_WidgetBase","dijit/_Container","dijit/_Contained"],function(g,a,l,h,f,m,e,p,k,n,d,b,o){return g("mui.swiper.SwiperItem",[d,b,o],{postCreate:function(){n.add(this.domNode,"muiSwiperItem")}})})},"sys/mobile/js/mui/calendar/CalendarContent":function(){define(["dojo/_base/declare","dijit/_WidgetBase","mui/calendar/base/CalendarBase","mui/calendar/_ContentEventMixin","dojo/date","dojo/date/locale","dojo/string","dojo/_base/lang","dojo/_base/array","dojo/topic","dojo/dom-class","dojo/dom-style","dojox/mobile/_css3","dojo/dom-construct","dojo/query","dojo/dom-attr","mui/calendar/CalendarUtil","dojo/request","dojo/dom-geometry"],function(t,b,q,p,v,o,a,x,g,n,l,m,k,f,e,s,w,d,h){var u=t("mui.calendar.CalendarContent",[b,q],{tableNode:null,dateNode:null,templateString:'<div class="mui_ekp_portal_date muiCalendarTable" data-dojo-attach-point="tableNode">	<ul class="mui_ekp_portal_date_week schedule">		${!weekHtml}	</ul>	<ul class="mui_ekp_portal_date_days schedule" style="display:table">		${!dateHtml}	</ul></div>',thTemplate:'<li class="muiFontSizeS"><span>${d}</span></li>',tdTemplate:'<li class="muiFontSizeM">	<div class="mui_ekp_portal_data_bg">		<span class="mui_ekp_portal_date_num" data-dojo-attach-point="datesNode"></span>	</div></li>',trTemplate:"${d}${d}${d}${d}${d}${d}${d}",postMixInProperties:function(){this.inherited(arguments);this.datesNode=[]},buildRendering:function(){this.dayNames=o.getNames("days","narrow","standAlone");this._buildTable();this.inherited(arguments);this.stuffDate();this.bindEvent();this.subscribe(this.VALUE_CHANGE,"valueChange");this.subscribe(this.MONTH_CHANGE,"monthChange");this.subscribe(this.NOTIFY,"processEvent");this.subscribe("/mui/calendar/bottomStatus","processEventOfMonth");this.subscribe("/mui/calendar/bottomScroll","scale")},scale:function(z,y){if(this.getEnclosingCalendarView(z)!=this.getEnclosingCalendarView(this)){return}if(!y){return}m.set(this.domNode,k.add(k.add({},{transform:"scale("+(1-Math.abs(y.y)/(this.domNode.offsetHeight*3))+")"})))},monthChange:function(y){if(this.getEnclosingCalendarView(y)!=this.getEnclosingCalendarView(this)){return}else{this.stuffDate()}n.publish(this.DATA_CHANGE,this,{lastDate:this.lastDate,startDate:this.startDate,currentDate:this.currentDate,endDate:this.endDate})},haveEvent:null,processEvent:function(A,B){if(this.getEnclosingCalendarView(this)!==this.getEnclosingCalendarView(B)){return}if(A){this.haveEvent=A}e(".journey_status.journey",this.domNode).remove();for(var z=0;z<this.datesNode.length;z++){var y=s.get(this.datesNode[z],"date");if(dojoConfig.locale=="en-us"&&y){y=y.split("-");if(dojoConfig.Date_format=="dd/MM/yyyy"){y=y[2]+"/"+y[1]+"/"+y[0]}else{y=y[1]+"/"+y[2]+"/"+y[0]}}if(this.haveEvent&&this.haveEvent[y]){f.create("i",{className:"journey_status journey"},this.datesNode[z].parentNode)}}},processEventOfMonth:function(z,y){if(this.getEnclosingCalendarView(z)!=this.getEnclosingCalendarView(this)){return}if(y&&y.status){this.processEvent(null,this)}},valueChange:function(A,y){if(this.getEnclosingCalendarView(A)!=this.getEnclosingCalendarView(this)){return}var z=this.datesNode;g.forEach(g.filter(z,function(B){return l.contains(B.parentNode.parentNode,"active")}),function(C,B){l.toggle(C.parentNode.parentNode,"active",false)},this);g.map(z,function(C){if(this.currentDate){var B=o.format(this.currentDate,{selector:"time",timePattern:"yyyy-MM-dd"});if(B==s.get(C,"date")){l.toggle(C.parentNode.parentNode,"active",true)}}},this)},bindEvent:function(){for(var y=0;y<this.datesNode.length;y++){this.connect(this.datesNode[y].parentNode.parentNode,"click","onDateClick")}},onDateClick:function(y){y.stopPropagation();var z=y.target;if(l.contains(z,"muiFontSizeM")){z=z.children[0].children[0]}if(l.contains(z,"mui_ekp_portal_data_bg")){z=z.children[0]}if(l.contains(z,"mui_ekp_portal_date_lunar")||l.contains(z,"journey_status")){z=z.parentNode.children[0]}while(z){if(l.contains(z,"mui_ekp_portal_date_num")){this.triggleSelected(z);break}z=z.parentNode}},lastSelected:function(z){var y=new Date(s.get(z,"date"));this.set("currentDate",y,false,true)},nextSelected:function(z){var y=new Date(s.get(z,"date"));this.set("currentDate",y,false,true)},currSelected:function(y){var z=this.datesNode;g.forEach(g.filter(z,function(A){return l.contains(A.parentNode.parentNode,"active")}),function(B,A){l.toggle(B.parentNode.parentNode,"active",false)},this);g.map(z,function(B){if(B==y){var A=new Date(s.get(y,"date"));this.set("currentDate",A,false,true);l.toggle(B.parentNode.parentNode,"active",true)}},this)},triggleSelected:function(y){if(l.contains(y,"muiCalendarDatePre")){this.lastSelected(y)}else{if(l.contains(y,"muiCalendarDateNext")){this.nextSelected(y)}else{this.currSelected(y)}}},beforeStuffDate:function(y){},stuffDate:function(){var z=this;z.beforeStuffDate&&z.beforeStuffDate(z.domNode,e,d);var D=new Date(this.currentDate),C=new Date();D.setDate(1);var B=(D.getDay()-this.firstDayInWeek+7)%7;var y=v.getDaysInMonth(v.add(D,"month",-1));var A=v.getDaysInMonth(D);g.forEach(this.datesNode,function(G,M){l.remove(G.parentNode.parentNode,"active");l.remove(G.parentNode,"today");l.remove(G.parentNode,"outweek");var J,K="mui_ekp_portal_date_num muiFontSizeL ",F;var H=new Date(D);if(M<B){J=y-B+M+1;l.add(G.parentNode,"outweek");K+="muiCalendarDatePre";F="Pre"}else{if(M>=(B+A)){J=M-B-A+1;l.add(G.parentNode,"outweek");K+="muiCalendarDateNext";F="Next"}else{J=M-B+1;F="Curr"}}if(F=="Pre"){H=v.add(H,"month",-1)}if(F=="Next"){H=v.add(H,"month",1)}H.setDate(J);if(M==0){this.startDate=H}if(M==this.datesNode.length-1){this.endDate=H}if(!v.compare(H,C,"date")){K="muiCalendarCurrentDate "+K}if(!v.compare(H,this.currentDate,"date")){l.add(G.parentNode.parentNode,"active")}if(!v.compare(H,C,"date")){l.add(G.parentNode,"today")}if(H.getDay()==0||H.getDay()==6){l.add(G.parentNode,"outweek")}this._setText(G,J);G.className=K;s.set(G,"date",o.format(H,{selector:"time",timePattern:"yyyy-MM-dd"}));z.stuffDateNode&&z.stuffDateNode(H,G);var L=w.checkHPDate(new Date(s.get(G,"date")));if(e(".mui_ekp_portal_date_lunar",G).length==0){if(L!=""){f.create("i",{className:"work_condition "+(L==1?"rest":"work"),innerHTML:(L=="1"?"休":"班")},G)}}var E=w.checkLunarAndHoliday(new Date(s.get(G,"date")));var I=E.value;if(e(".mui_ekp_portal_date_lunar",G.parentNode).length==0){f.create("div",{className:"mui_ekp_portal_date_lunar muiFontSizeXS",innerHTML:I},G.parentNode)}else{G.parentNode.children[1].innerHTML=I}},this)},stuffDateNode:function(y,z){},stuffDateOneMonth:function(){},_buildTable:function(){var A=this.thTemplate,y=7;this.weekHtml=a.substitute([A,A,A,A,A,A,A].join(""),{d:""},x.hitch(this,function(){var B=this.dayNames[(y+this.firstDayInWeek)%7];y++;return B}));var z=a.substitute(this.trTemplate,{d:this.tdTemplate});this.dateHtml=[z,z,z,z,z,z].join("")},resize:function(){var y=this;setTimeout(function(){n.publish("/mui/calendar/contentComplete",y,{height:h.getMarginBox(y.domNode).h})},100)},reload:function(){n.publish(this.DATA_CHANGE,this,{lastDate:this.lastDate||new Date(),startDate:this.startDate||new Date(),currentDate:this.currentDate||new Date(),endDate:this.endDate})},startup:function(){this.inherited(arguments);n.publish(this.DATA_CHANGE,this,{lastDate:this.lastDate||new Date(),startDate:this.startDate||new Date(),currentDate:this.currentDate||new Date(),endDate:this.endDate})}});return u})},"sys/mobile/js/mui/calendar/CalendarUtil":function(){define(["dojo/_base/declare","dojo/date/locale","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/util","mui/calendar/termCalendar"],function(d,a,g,b,f){var e=d("mui.calendar.CalendarUtil",null,{formatDate:function(l,h){var o=[dojoConfig.Date_format,dojoConfig.DateTime_format,dojoConfig.Time_format];if(h){o.unshift(h)}try{for(var n in o){var m=o[n];var k=a.format(l,{selector:"time",timePattern:m});if(k!=null){return k}}}catch(p){return null}return null},parseDate:function(l,h){var o=[dojoConfig.Date_format,dojoConfig.DateTime_format,dojoConfig.Time_format];if(h){o.unshift(h)}try{for(var n in o){var m=o[n];var k=a.parse(l,{selector:"time",timePattern:m});if(k!=null){return k}}}catch(p){return null}return null},checkHPDate:function(n){var m=b.formatUrl("/sys/time/sys_time_area/sysTimeArea.do?method=getHPDay&s_ajax=true");var l=this;if(!this.hpData){require(["dojo/request"],function(q){q.get(m,{handleAs:"json",sync:true}).then(function(s){l.hpData=s},function(s){l.hpData=[]})})}var h="";for(var o=0;o<this.hpData.length;o++){var p=this.hpData[o];var k=new Date(p.date.replace(/\-/g,"/"));if(n.getFullYear()!=k.getFullYear()||n.getMonth()!=k.getMonth()||n.getDate()!=k.getDate()){continue}if(p.type=="1"){h="1"}else{h="2"}break}return h},checkLunarAndHoliday:function(s){if(!(dojoConfig.locale!=null&&(dojoConfig.locale=="zh-cn"||dojoConfig.locale=="zh-hk"))){return{value:""}}var C=["正月","二月","三月","四月","五月","六月","七月","八月","九月","十月","冬月","腊月"];var B=["日","一","二","三","四","五","六","七","八","九","十"];var l=["初","十","廿","卅","　"];var w=["0101 元旦","0214 情人节","0308 妇女节","0312 植树节","0401 愚人节","0501 劳动节","0504 青年节","0512 护士节","0601 儿童节","0701 建党节","0801 建军节","0910 教师节","1001 国庆节","1031 万圣节","1225 圣诞节"];var L=["0101 春节","0115 元宵节","0505 端午节","0707 七夕","0715 中元节","0815 中秋节","0909 重阳节","1208 腊八节","1224 小年","1230 除夕"];var p=["0520 母亲节","0630 父亲节","1144 感恩节"];var m=s.getFullYear();var x=s.getMonth();var G=s.getDate();var n=s.getDay();var v=Math.ceil((G+6-n)/7);var E=function(t,N){var M="";if(parseInt(N)==1){M=C[parseInt(t)-1]}else{switch(parseInt(N)){case 10:M+="初十";break;case 20:M+="二十";break;case 30:M+="三十";break;default:M+=l[Math.floor(N/10)];M+=B[Math.round(N%10)]}}return(M)};var u=new this.Lunar(s);var F="",K="",h="",H="",I="",A,z;for(i in w){if(w[i].match(/^(\d{2})(\d{2})([\s\*])(.+)$/)){A=Number(RegExp.$1)-(x+1);z=Number(RegExp.$2)-G;if(A==0&&z==0){K=RegExp.$4}}}if(K==""||K=="情人节"){if(!u.isLeap){for(i in L){if(L[i].match(/^(\d{2})(.{2})([\s\*])(.+)$/)){var o=parseInt(u.month);var y=parseInt(u.day);if(o==12&&y==29){var J=new Date(s.getTime());J.setDate(J.getDate()+1);var k=new this.Lunar(J);if(k.month==1){y=30}}A=Number(RegExp.$1)-o;z=Number(RegExp.$2)-y;if(A==0&&z==0){h=RegExp.$4}}}}}if(K==""&&h==""){for(i in p){if(p[i].match(/^(\d{2})(\d)(\d)([\s\*])(.+)$/)){if(Number(RegExp.$1)==(x+1)){var D=new Date(m,x,1).getDay();A=Number(RegExp.$2);z=Number(RegExp.$3);if(((D>z)?7:0)+7*(A-1)+z-D+1==G){K=RegExp.$5}}}}}if(K==""&&h==""){var q=f.solar2lunar(m,x+1,G);if(q&&q.Term){H=q.Term;I="lunarFestival"}else{H="";I=""}}else{H=K;I="solarFestival"}if(h!=""&&(K!="国庆节")){H=h;I="lunarFestival"}if(H!=""){return{value:H,type:I}}else{return{value:E(u.month,u.day)}}},Lunar:function(n){var q=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448];var u=function(w){return(q[w-1900]&15)};var p=function t(x,w){return((q[x-1900]&(65536>>w))?30:29)};var s=function(w){if(u(w)){return((q[w-1900]&65536)?30:29)}else{return(0)}};var o=function(z){var w,x=348;for(w=32768;w>8;w>>=1){x+=(q[z-1900]&w)?1:0}return(x+s(z))};var m,h=0,v=0;var k=new Date(1900,0,31);var l=(n-k.getTime())/86400000;this.dayCyl=l+40;this.monCyl=14;for(m=1900;m<2050&&l>0;m++){v=o(m);l-=v;this.monCyl+=12}if(l<0){l+=v;m--;this.monCyl-=12}this.year=m;this.yearCyl=m-1864;h=u(m);this.isLeap=false;for(m=1;m<13&&l>0;m++){if(h>0&&m==(h+1)&&this.isLeap==false){--m;this.isLeap=true;v=s(this.year)}else{v=p(this.year,m)}if(this.isLeap==true&&m==(h+1)){this.isLeap=false}l-=v;if(this.isLeap==false){this.monCyl++}}if(l==0&&h>0&&m==h+1){if(this.isLeap){this.isLeap=false}else{this.isLeap=true;--m;--this.monCyl}}if(l<0){l+=v;--m;--this.monCyl}this.month=m;this.day=l+1}});return new e()})},"sys/mobile/js/mui/nav/NavBar":function(){define("mui/nav/NavBar",["dojo/dom-construct","dojo/_base/declare","dojo/dom-class","dojox/mobile/_ScrollableMixin","dojo/dom-style","dojo/topic","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojox/mobile/SwapView","dojo/_base/array","mui/nav/_ShareNavBarMixin","dojox/mobile/sniff"],function(d,g,n,f,k,h,e,p,b,m,l,a,o){var q=g("mui.nav.NavBar",[e,p,b,f,a],{scrollDir:"h",curIndex:0,lastIndex:0,height:"inherit",width:"100%",scrollBar:false,appBars:false,buildRendering:function(){this.inherited(arguments);this.domNode.dojoClick=!o("ios")||o("ios")>13;n.add(this.domNode,"mblScrollableView");n.add(this.domNode,"muiNavbar");k.set(this.domNode,{top:0});if(this.height.toLowerCase().indexOf("px")!=-1||this.height.toLowerCase().indexOf("rem")!=-1){k.set(this.domNode,"line-height",this.height)}this.containerNode=d.create("ul",{className:"muiNavbarContainer"},this.domNode);this.subscribe("/mui/navbar/slideBar","handleSlideNavBar")},handleSlideNavBar:function(G,F){var u=this.getChildren(),t=F.target;var B=this.getIndexOfChild(t);if(B>-1){this.lastIndex=this.curIndex;this.curIndex=B;var E=this.curIndex-this.lastIndex;var y=this._dim||this.getDim(),D=0,C=false;if(E>0){var A=u.length;if(A-B>=2){var z=u[B+1].domNode;D=-z.offsetLeft+(y.v.w-z.offsetWidth);if(D<0){C=true}}else{var s=k.getComputedStyle(this.domNode),w=k.toPixelValue(this.domNode,s.paddingLeft),v=k.toPixelValue(this.domNode,s.paddingRight);D=-(this.containerNode.offsetWidth-this.domNode.offsetWidth+w+v);C=true}}else{if(E<0){if(B>=1){var z=u[B-1].domNode;D=-z.offsetLeft;if(D>-y.c.w&&D>-(y.c.w-y.v.w)){C=true}}else{D=0;C=true}}}F=this.formatEvt(F);if(C){this.slideEvt=F;this.slideTo({x:D},0.3,"ease-out")}}},formatEvt:function(s){var t=s.width;s.left=s.left+(t)/2;return s},slideTo:function(){this.inherited(arguments);if(this.slideEvt){this.slideEvt=null}},_setWidthAttr:function(s){this.width=s},startup:function(){if(this._started){return}this.reparent();this.inherited(arguments)},reparent:function(){var u,t,s,v;for(u=0,t=0,s=this.domNode.childNodes.length;u<s;u++){v=this.domNode.childNodes[t];if(v===this.containerNode||v===this.moreNode){t++;continue}this.containerNode.appendChild(this.domNode.removeChild(v))}}});return q})},"sys/mobile/js/mui/calendar/CalendarWeek":function(){define(["dojo/_base/declare","dijit/_WidgetBase","mui/calendar/base/CalendarScrollable","dojo/date","dojo/date/locale","dojo/string","dojo/topic","dojo/dom-construct","dojo/dom-style","dojo/_base/array","dojo/_base/lang","dojo/dom-class","dojo/query","dojo/dom-attr","mui/calendar/CalendarUtil","dojo/request","dojo/dom-geometry"],function(p,b,t,s,n,a,m,f,l,g,v,k,e,o,u,d,h){var q=p("mui.calendar.CalendarWeek",[b,t],{tableNode:null,dateNode:null,weekNode:null,templateString:'<div class="mui_ekp_portal_date muiCalendarTable muiCalendarWeekTable" data-dojo-attach-point="tableNode">	<ul class="mui_ekp_portal_date_week schedule">		${!weekHtml}	</ul>	<ul class="mui_ekp_portal_date_days schedule" data-dojo-attach-point="dateNode" class="">		${!dateHtml}	</ul></div>',thTemplate:'<li class="muiFontSizeS"><span>${d}</span></li>',trTemplate:"${d}${d}${d}${d}${d}${d}${d}",tdTemplate:'<li class="muiFontSizeM">	<div class="mui_ekp_portal_data_bg">		<span class="mui_ekp_portal_date_num" data-dojo-attach-point="datesNode"></span>	</div></li>',postMixInProperties:function(){this.inherited(arguments);this.datesNode=[]},buildRendering:function(){this.dayNames=n.getNames("days","narrow","standAlone");var w=7,y=this.thTemplate;this.weekHtml=a.substitute([y,y,y,y,y,y,y].join(""),{d:""},v.hitch(this,function(){var z=this.dayNames[(w+this.firstDayInWeek)%7];w++;return z}));var x=a.substitute(this.trTemplate,{d:this.tdTemplate});this.dateHtml=x;this.inherited(arguments);this.subscribe(this.VALUE_CHANGE,"valueChange");this.subscribe(this.NOTIFY,"processEvent");this.subscribe("/mui/calendar/bottomStatus","processEventOfWeek");this.subscribe("/mui/calendar/bottomScroll","translate");this.stuffDate();this.bindEvent()},translate:function(y,w){if(this.getEnclosingCalendarView(this)!==this.getEnclosingCalendarView(y)){return}if(!w){return}var x=w.top;this.scrollTo({y:"-"+x})},haveEvent:null,processEvent:function(y,z){if(this.getEnclosingCalendarView(this)!==this.getEnclosingCalendarView(z)){return}if(y){this.haveEvent=y}e(".journey_status.journey",this.domNode).remove();for(var x=0;x<this.datesNode.length;x++){var w=o.get(this.datesNode[x],"date");if(this.haveEvent&&this.haveEvent[w]){f.create("i",{className:"journey_status journey"},this.datesNode[x].parentNode)}}},processEventOfWeek:function(x,w){if(this.getEnclosingCalendarView(this)!==this.getEnclosingCalendarView(x)){return}if(!w||!w.status){this.processEvent(null,this)}},valueChange:function(x,w){if(this.getEnclosingCalendarView(x)!=this.getEnclosingCalendarView(this)){return}this.stuffDate();this.processEvent(null,this)},beforeStuffDate:function(w){},stuffDate:function(){var w=this;w.beforeStuffDate&&w.beforeStuffDate(w.domNode,e,d);if(this.currentDate){var z=this.currentDate.getDate();var y=new Date();var x=(this.currentDate.getDay()-this.firstDayInWeek+7)%7;g.forEach(this.datesNode,function(E,A){k.remove(E.parentNode.parentNode,"active");k.remove(E.parentNode,"today");var D="mui_ekp_portal_date_num muiFontSizeL";var H=new Date(this.currentDate);H.setDate(z-x+A);if(x==A){k.add(E.parentNode.parentNode,"active")}if(!s.compare(H,y,"date")){k.add(E.parentNode,"today")}var G=s.difference(this.currentDate,H,"month");if(G<0){D+=" outweek"}if(G>0){D+=" outweek"}if(H.getDay()==0||H.getDay()==6){k.add(E.parentNode,"outweek")}this._setText(E,H.getDate());E.className=D;o.set(E,"date",n.format(H,{selector:"time",timePattern:"yyyy-MM-dd"}));w.stuffDateNode&&w.stuffDateNode(H,E);var C=u.checkHPDate(new Date(o.get(E,"date")));if(e(".mui_ekp_portal_date_lunar",E).length==0){if(C!=""){f.create("i",{className:"work_condition "+(C==1?"rest":"work"),innerHTML:(C=="1"?"休":"班")},E)}}var F=u.checkLunarAndHoliday(new Date(o.get(E,"date")));var B=F.value;if(e(".mui_ekp_portal_date_lunar",E.parentNode).length==0){f.create("div",{className:"mui_ekp_portal_date_lunar muiFontSizeXS",innerHTML:B},E.parentNode)}else{E.parentNode.children[1].innerHTML=B}},this)}},stuffDateNode:function(w,x){},bindEvent:function(){for(var w=0;w<this.datesNode.length;w++){this.connect(this.datesNode[w].parentNode.parentNode,"click","onDateClick")}},onDateClick:function(w){w.stopPropagation();var x=w.target;if(k.contains(x,"muiFontSizeM")){x=x.children[0].children[0]}if(k.contains(x,"mui_ekp_portal_data_bg")){x=x.children[0]}if(k.contains(x,"mui_ekp_portal_date_lunar")||k.contains(x,"journey_status")){x=x.parentNode.children[0]}while(x){if(k.contains(x,"mui_ekp_portal_date_num")){this.triggleSelected(x);break}x=x.parentNode}},triggleSelected:function(w){var x=this.datesNode;g.forEach(g.filter(x,function(y){return k.contains(y.parentNode.parentNode,"active")}),function(z,y){k.toggle(z.parentNode.parentNode,"active",false)},this);g.map(x,function(z){if(z==w){var y=new Date(this.currentDate);if(k.contains(w,"outweek")){y=s.add(y,"month",-1)}else{if(k.contains(w,"outweek")){y=s.add(y,"month",1)}}this.set("currentDate",new Date(o.get(w,"date")),false);k.toggle(z.parentNode.parentNode,"active",true)}},this)},resize:function(){var w=this;setTimeout(function(){m.publish("/mui/calendar/weekComplete",w,{height:h.getMarginBox(w.domNode).h})},100)}});return q})},"sys/mobile/js/mui/list/item/ProcessItemNewMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/util","mui/list/item/ProcessItemMixin"],function(e,b,a,d){var f=e("mui.list.item.ProcessItemNewMixin",[d],{buildInternalRender:function(){var h=b.create("div",{className:"muiProcessRight"},this.contentNode);b.create("span",{className:"muiProcessImg",style:{background:"url("+a.formatUrl(this.icon)+") center center no-repeat",backgroundSize:"cover",display:"inline-block"}},h);b.create("a",{className:"muiProcessCreator muiAuthor",innerHTML:this.creator},h);b.create("span",{className:"muiProcessCreated muiListSummary",innerHTML:this.created},h);var l=b.create("a",{className:"muiProcessLeft"},this.contentNode);var m=b.create("h3",{className:"muiProcessTitle muiSubject"},l);if(this.status){var g=this.status;if(this.statusIdx){if(this.statusIdx=="00"){g='<span class="muiProcessStatusBorder muiProcessDiscard">'+this.status+"</span>"}else{if(this.statusIdx=="10"){g='<span class="muiProcessStatusBorder muiProcessDraft">'+this.status+"</span>"}else{if(this.statusIdx=="11"){g='<span class="muiProcessStatusBorder muiProcessRefuse">'+this.status+"</span>"}else{if(this.statusIdx=="20"){g='<span class="muiProcessStatusBorder muiProcessExamine">'+this.status+"</span>"}else{if(this.statusIdx=="30"){g='<span class="muiProcessStatusBorder muiProcessPublish">'+this.status+"</span>"}else{g='<span class="muiProcessStatusBorder muiProcessPublish">'+this.status+"</span>"}}}}}}m.appendChild(b.toDom(g))}if(this.label){m.appendChild(b.toDom(this.label))}if(this.summary){var k=b.create("p",{className:"muiProcessSummary muiListSummary",innerHTML:this.summary},l);b.create("i",{className:"muiProcessSign mui mui-flowlist"},k,"first")}if(this.href){this.proxyClick(l,this.href,"_blank")}}});return f})},"sys/mobile/js/mui/list/SwapView":function(){define(["dojo/_base/declare","dojox/mobile/SwapView","dojo/topic"],function(b,d,a){return b("mui.list.SwapView",[d],{onAfterTransitionIn:function(){this.inherited(arguments);a.publish("/dojox/mobile/viewChanged",this);this.resize()}})})},"sys/mobile/js/mui/form/_AutoAdaptionMixin":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-class","dojo/query","dojo/dom-attr","dojo/dom-construct","dojo/dom-style","dojo/dom","dojo/topic","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(g,f,o,n,m,d,l,e,k,h,b){var a=g("mui.form._AutoAdaptionMixin",[f],{EVENT_AUTO_ADAPTION:"/mui/form/detailTableAutoAdaption",EVENT_SINGLE_ROW_VIEW:"mui/standDetailTable/singleRowView",XFORM_FLAG_PREFIX:"_xform_extendDataFormInfo.value(",XFORM_FLAG_SUFFIX:")",autoAdaptionClass:"muiDetailTableAutoAdaption",autoAdaptionViewClass:"autoAdaptionView",muiSingleRowViewClass:"muiInput_View",SWITCH_ID_PREFIX:"detailsTableAutoAdaption_TABLE_DL_",DETAIL_TABLE_ID_PREFIX:"_TABLE_DL_",RELATION_ATT_CHANGE:"/mui/relationRule/attrChange",SWITCH_ON:"on",SWITCH_OFF:"off",startup:function(){this.inherited(arguments);this.subscribe(this.EVENT_AUTO_ADAPTION,"switchChange");this.subscribe(this.EVENT_SINGLE_ROW_VIEW,"singleRowView");this.subscribe(this.RELATION_ATT_CHANGE,"relationAttrChange")},isNeedDestroy:function(){return true},relationAttrChange:function(){if(this.singleRowEditMode){this.buildSingleRowView()}},switchChange:function(p){if(p&&this._isAutoAdaption(p)){var q=p.value;if(q===this.SWITCH_ON){this._autoAdaptionAction()}if(q===this.SWITCH_OFF){this._reset()}}},isInStatisticTr:function(p){return this.hasParentClass(p,"detail_statistic")},hasParentClass:function(t,s){var q=t.domNode;if(q){var p=q.parentNode;while(p){if(o.contains(p,s)){return true}p=p.parentNode}}return false},parseName:function(u){var q=u.get("name");if(q==null||q==""){return null}var s=q.indexOf(".value(");if(s>-1){s=s+7}else{s=0}var t=q.lastIndexOf(")");if(t>-1&&(t+1)==q.length){t=t}else{t=q.length}var p=q.substring(s,t);p=p.replace(/\.id/gi,"");p=p.replace(/\.name/gi,"");return p},singleRowView:function(s){var q=this.parseName(this);var v;if(q&&/\.(\d+)\./g.test(q)){var p=q.indexOf(".");v=q.substring(0,p)}var t=this.isInStatisticTr(this);if(t){var w=n(this.domNode).closest("table")[0];var u=w.getAttribute("id");if(u&&u.indexOf("TABLE_DL_")>-1){v=u.replace("TABLE_DL_","")}}if(v===s){this.singleRowEditMode=true;this.buildSingleRowView();k.publish("/sys/xform/event/singleView/rebindNode",this)}},getDisplayVal:function(){var q=n(this.domNode).closest("xformflag")[0];var p;if(q){p=l.get(q,"display")}if(p!=="none"){p=l.get(this.domNode,"display")}return p},buildSingleRowView:function(){var p=this.getDisplayVal();if(this.showStatus!="hidden"&&p!=="none"){if(!this.autoAdaptionViewNode){this.autoAdaptionViewNode=this.createMarkNode(this.muiSingleRowViewClass)}else{o.replace(this.autoAdaptionViewNode,this.muiSingleRowViewClass,this.autoAdaptionClass)}if(this.autoAdaptionViewNode){this._initViewText();l.set(this.autoAdaptionViewNode,"display","")}}else{if(this.autoAdaptionViewNode){l.set(this.autoAdaptionViewNode,"display","none")}}},createMarkNode:function(v){var q=this.parseName(this);var A;if(q&&/\.(\d+)\./g.test(q)){var z=q.indexOf(".");A=q.substring(0,z)}var s=e.byId(this.DETAIL_TABLE_ID_PREFIX+A);var t=this.XFORM_FLAG_PREFIX+q+this.XFORM_FLAG_SUFFIX;var p=n("[id='"+t+"']",s)[0];var w;if(p){w=n("[mark='autoAdaptionView']",p)[0];if(!w){w=d.create("div",{mark:"autoAdaptionView",_name:this.get("name"),className:v,val:this.get("value")||""},p,"last");var B=n("input[name='"+this.name+"']",p)[0];if(B){var y=n("input[name='"+this.name+"']",this.domNode)[0];if(y){if(B.value){y.value=B.value}}if(this.declaredClass&&this.declaredClass=="sys.xform.mobile.controls.RelationChoose"){var x=n("input",p);if(x){for(var u=0;u<x.length;u++){d.destroy(x[u])}}}else{d.destroy(B)}}p.setAttribute("id","")}}return w},_isAutoAdaption:function(t){var y=t.id;var s=y.substring(this.SWITCH_ID_PREFIX.length);var v;var q=this.parseName(this);if(q&&/\.(\d+)\./g.test(q)){var x=q.indexOf(".");v=q.substring(0,x)}var p=this.isInStatisticTr(this);if(p){var w=n(this.domNode).closest("table")[0];var u=w.getAttribute("id");if(u&&u.indexOf("TABLE_DL_")>-1){v=u.replace("TABLE_DL_","")}}if(v===s){return true}return false},buildAutoAdaptionView:function(){var p=this.getDisplayVal();if(this.showStatus!="hidden"&&p!=="none"){if(!this.autoAdaptionViewNode){this.autoAdaptionViewNode=this.createMarkNode(this.autoAdaptionViewClass)}else{o.replace(this.autoAdaptionViewNode,this.autoAdaptionViewClass,this.muiSingleRowViewClass)}if(this.autoAdaptionViewNode){this._initViewText();if(!o.contains(this.domNode,this.autoAdaptionViewClass)){o.add(this.domNode,this.autoAdaptionViewClass)}l.set(this.autoAdaptionViewNode,"display","")}}else{if(this.autoAdaptionViewNode){l.set(this.autoAdaptionViewNode,"display","none")}}},_initViewText:function(){var q="";if(this.getText){q=h.decodeHTML(this.getText())}else{if(this.text){q=h.decodeHTML(this.text)}else{var p=this.value;if(this.percentFormat){p+="%"}q=h.decodeHTML(p||"")}}this.autoAdaptionViewNode.innerHTML=q},_autoAdaptionAction:function(){this.buildAutoAdaptionView()},_reset:function(){if(o.contains(this.domNode,this.autoAdaptionClass)){o.remove(this.domNode,this.autoAdaptionClass)}}});return a})},"sys/mobile/js/mui/tabbar/TabBarGroup":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/_base/array","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","mui/tabbar/SplitterButton","dojox/mobile/TabBar","dojo/topic"],function(e,b,h,d,l,a,k,g,f){return e("mui.tabbar.TabBarGroup",[d,l,a],{baseClass:"muiTabBarGroup",isFilterEmptyChild:false,buildRendering:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments)},filterEmptyChild:function(m){return h.filter(m,function(o,n){if(o.isInstanceOf(g)){if(o.getChildren().length>0){return true}else{o.destroy()}return false}return false})},startup:function(){this.inherited(arguments);var p=this.getChildren();if(this.isFilterEmptyChild){p=this.filterEmptyChild(p)}var o=p.length;if(o>1){var m=this;var n=true;h.forEach(p,function(s,q){if(s.getChildren().length<=0){n=false}else{n=true}});if(n){h.forEach(p,function(s,q){if(q==0){var t=new k({groupIndex:q,flag:"right"});s.addChild(t,"last")}else{if(q+1==o){var t=new k({groupIndex:q,flag:"left"});s.addChild(t,"first")}else{var t=new k({groupIndex:q,flag:"left"});s.addChild(t,"first");t=new k({groupIndex:q,flag:"right"});s.addChild(t,"last")}}})}this.switchTabBar(0)}},switchTabBar:function(m){if(m>-1){h.forEach(this.getChildren(),function(o,n){if(n==m){o.domNode.style.display="";setTimeout(function(){if(o.resize){o.resize()}},20)}else{o.domNode.style.display="none"}});f.publish("/mui/tabbar/switch",this,{tabbarIdx:m})}},getChildren:function(){var m=this.inherited(arguments);return h.filter(m,function(o,n){if(o.isInstanceOf(g)){return true}return false})}})})},"sys/mobile/js/mui/simplecategory/SimpleCategoryDialogMixin":function(){define(["dojo/_base/declare","mui/query/_CategoryQueryDialogMixin","mui/simplecategory/SimpleCategoryMixin"],function(d,e,b){var a=d("mui.simplecategory.SimpleCategoryDialogMixin",[e,b],{key:"_sys_simple_cate_dialog",authType:"03"});return a})},"sys/mobile/js/mui/fixed/ScrollableFixed":function(){define("mui/fixed/ScrollableFixed",["dojo/dom-construct","dojo/_base/declare","dojo/dom-style","dojo/topic","dojo/_base/lang","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","mui/fixed/FixedItem"],function(e,g,k,h,b,f,l,d,a){return g("mui.fixed.ScrollableFixed",[f,l,d],{runSlide:"/mui/list/_runSlideAnimation",buildRendering:function(){this.inherited(arguments);this.subscribeScroll()},nav:null,topList:[],buildTopList:function(){this.set("topList",[]);var n=this.getChildren();for(var m=0;m<n.length;m++){if(n[m] instanceof a){var o=n[m].domNode;var p={dom:o};if(this.currentDom&&this.currentDom==o){p.top=this.nav.offsetTop}else{p.top=o.offsetTop}this.topList.push(p)}}},compara:function(p){if(p<this.topList[0].top){return null}var m=this.topList.length-1,o=0;while(o<=m){var n=parseInt((m+o)/2);if(p==this.topList[n].top){return this.topList[n].dom}else{if(p>this.topList[n].top){o=n+1}}if(p<this.topList[n].top){m=n-1}}return this.topList[o-1].dom},subscribeScroll:function(){this.subscribe(this.runSlide,b.hitch(function(n,m){if(this.getParent()!=n){return}this.buildTopList();if(this.lock){return}this.lock=true;var p=m.to.y;if(p>=0){this.resetNav();this.lock=false;return}p=Math.abs(p);var o=this.compara(p);if(!o){this.resetNav();this.lock=false;return}if(o&&this.currentDom!=o){this.resetNav();this.currentDom=o;this.nav=b.clone(o);e.place(this.nav,o,"after");k.set(o,{position:"absolute",top:0,left:0,right:0,"background-color":"rgb(255, 255, 255)"});e.place(o,n.domNode,"last");h.publish(this.change,this,{dom:o})}this.lock=false}))},resetNav:function(){if(this.nav){e.place(this.currentDom,this.nav,"after");k.set(this.currentDom,{position:"static","background-color":"rgba(0, 0, 0, 0)"});this.nav.parentNode.removeChild(this.nav);this.nav=null}this.currentDom=null},startup:function(){if(this._started){return}this.inherited(arguments)}})})},"sys/mobile/js/mui/datetime/_DatePickerMixin_yearMonth":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/date","dojo/date/locale","dojo/date/stamp"],function(g,b,a,f,k,h){var l={format:function(n){return k.format(n,{datePattern:this.pattern,selector:"date",locale:this.picker.lang})}};var e=a.mixin({initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var p=new Date(this.labelFrom,0,1);var o,n;for(o=this.labelFrom,n=0;o<=this.labelTo;o++,n++){p.setFullYear(o);this.labels.push(this.format(p))}}}},l);var d=a.mixin({initLabels:function(){this.labels=[];var o=new Date(2000,0,16);for(var n=0;n<12;n++){o.setMonth(n);this.labels.push(this.format(o))}}},l);var m=a.mixin({initLabels:function(){this.labels=[];var o=new Date(2000,0,1);for(var n=1;n<=31;n++){o.setDate(n);this.labels.push(this.format(o))}}},l);return b("mui/datetime/_DatePickerMixin_yearMonth",null,{yearPattern:"yyyy",monthPattern:"MMM",dayPattern:"d",initSlots:function(){var o=this.slotClasses,n=this.slotProps;o[0]=b(o[0],e);o[1]=b(o[1],d);o[2]=b(o[2],m);n[2].picker=n[1].picker=n[0].picker=this;n[0].pattern=this.yearPattern;n[1].pattern=this.monthPattern;n[2].pattern=this.dayPattern;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var n=k._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=g.map(n,function(o){return{y:0,m:1,d:2}[o.charAt(0)]})},reset:function(){var o=new Date();var n=g.map(this.slots,function(p){return p.format(o)});this.set("colors",n);this._disableEndDaysOfMonth();if(this.value){this.set("value",this.value);this.value=null}else{if(this.values){this.set("values",this.values);this.values=null}else{this.set("values",n)}}},_onYearSet:function(){var o=this.slots[0];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){this._disableEndDaysOfMonth();o._previousValue=n;o._set("value",n);this.onYearSet()}},onYearSet:function(){},_onMonthSet:function(){var o=this.slots[1];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){this._disableEndDaysOfMonth();o._previousValue=n;o._set("value",n);this.onMonthSet()}},onMonthSet:function(){},_onDaySet:function(){var o=this.slots[2];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){if(!this._disableEndDaysOfMonth()){o._previousValue=n;o._set("value",n);this.onDaySet()}}},onDaySet:function(){},_disableEndDaysOfMonth:function(){var q=this.slots[0].pattern+"/"+this.slots[1].pattern,o=this.get("values"),p=k.parse(o[0]+"/"+o[1],{datePattern:q,selector:"date",locale:this.lang}),n=f.getDaysInMonth(p);var s=false;if(n<o[2]){s=true;this.slots[2]._spinToValue(n,false)}this.disableValues(n);return s},_getDateAttr:function(){var n=this.get("values"),p=this.slots,o=p[0].pattern+"/"+p[1].pattern;return k.parse(n[0]+"/"+n[1],{datePattern:o,selector:"date",locale:this.lang})},_setValuesAttr:function(n){g.forEach(this.getSlots(),function(p,s){var q=n[s];if(typeof q=="number"){var o=[1970,1,1];o.splice(s,1,q-0);q=p.format(new Date(o[0],o[1]-1,o[2]))}p.set("value",q)})},_setValueAttr:function(o){var n=h.fromISOString(o);this.set("values",g.map(this.slots,function(p){return p.format(n)}))},_getValueAttr:function(){return h.toISOString(this.get("date"),{selector:"date"})}})})},"sys/mobile/js/mui/fixed/NativeFixedMixin":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/query","dojo/window","dojo/dom-geometry","dijit/registry"],function(e,f,d,a,g,k,h,b){return e("mui.fixed.NativeFixedMixin",[],{baseClass:"muiNativeFixedComponent",fixedClass:"muiFixed",fixedOrder:0,startup:function(){this.inherited(arguments);window.addEventListener("scroll",this.scrollEvent.bind(this))},scrollEvent:function(l){if(this.noSrcoll){return}if(!this.offsetTop){this.offsetTop=h.getContentBox(this.domNode).t}var m=k.getBox();var n=this.calculateFixedTop();if(m.t+n>this.offsetTop){this.addPlaceholder();f.add(this.domNode,"muiFixed");if(n!=0){d.set(this.domNode,"top",n+"px")}}else{this.removePlaceholder();f.remove(this.domNode,"muiFixed");d.set(this.domNode,"top","")}},calculateFixedTop:function(){var q=0;var p=g(".muiNativeFixedComponent");if(p.length>0){var n=[];for(var m=0;m<p.length;m++){var o=p[m];if(this._isVisible(o)){var l=b.byNode(o);if(l&&l.fixedOrder<this.fixedOrder){n.push(l)}}}n=n.sort(this.orderAscCompare);for(var m=0;m<n.length;m++){var l=n[m];q+=h.getContentBox(l.domNode).h}}return q},orderAscCompare:function(o,n){var m=o.fixedOrder;var l=n.fixedOrder;if(m>l){return 1}else{if(m<l){return -1}else{return 0}}},_isVisible:function(l){var m=function(n){return d.get(n,"display")!=="none"};for(var o=l;o.tagName!=="BODY";o=o.parentNode){if(!m(o)){return false}}return true},removePlaceholder:function(){if(this.hoderNode){a.destroy(this.hoderNode);this.hoderNode=null}},addPlaceholder:function(){if(this.hoderNode){return}var m=this.domNode.offsetWidth,l=this.domNode.offsetHeight;this.hoderNode=a.create("div",{},this.domNode,"after");d.set(this.hoderNode,{width:m+"px",height:l+"px",visibility:"hidden"})}})})},"sys/mobile/js/mui/i18n/i18n":function(){define(["dojo/request","mui/util"],function(d,a){var b="/sys/mobile/js/mui/i18n/i18n.jsp?bundle=!{bundle}&locale="+dojoConfig.locale+"&"+dojoConfig.cacheBust;var e=function(f,h){var g=a.formatUrl(a.urlResolver(b,{bundle:f}));d(g,{sync:false,handleAs:"json"}).then(h)};return{load:function(h,f,g){e(h,g)}}})},"sys/mobile/js/mui/panel/SlidePanel":function(){define(["dojo/_base/declare","dojo/_base/array","dojox/mobile/ScrollableView","dojo/dom-construct","dojo/dom-class","mui/util","dojo/dom-style","dojox/mobile/_css3","dojo/dom-attr","dojo/topic","dojo/request","dojo/_base/lang","dojo/touch"],function(f,l,n,b,o,h,k,p,m,g,d,a,e){return f("mui.panel.SlidePanel",[n],{store:[],relView:null,dir:"left",width:"170",templateUrl:null,sourceUrl:null,icon:null,swipeThreshold:100,SLIDE_PANEL_CLICK:"/mui/panel/slide/click",startup:function(){if(this._started){return}this.navNodes=[];var s=this.icon;l.forEach(this.store,function(w,t){var v=w.icon;if(!v){v=s}v=v?'<span class="mui '+v+'"></span>':"";var u="muiSlidePanelCatalog";if(w.selected==true){u+=" selected"}b.create("div",{className:u,innerHTML:v+"<div>"+w.text+"</div>",title:w.text,"data-mui-index":t},this.containerNode)},this);this.customRender();var q="100%";if(this.width){q=this.width}if(q.toString().indexOf("%")>-1){q=q}else{q=q+"px"}k.set(this.domNode,{width:q});o.add(this.domNode,"muiSlidePanel "+this.dir);this.inherited(arguments);this.play();this._started=true},customRender:function(){var q=this;if(!this.sourceUrl||!this.templateUrl){return}d.post(h.formatUrl(this.sourceUrl)).then(function(t){if(!t){return}var s=(new Function("return ("+t+");"))();d.post(h.formatUrl(q.templateUrl)).then(function(v){var u="";l.forEach(s,function(w){u+=a.replace(v,w)});b.place(b.toDom(u),q.containerNode,"last")})})},transformKey:p.name("transform"),play:function(){this.domNode.style.display="block";this.domNode.style.height=h.getScreenSize().h+"px";this.overlayNode=b.create("div",{className:"muiPanelOverlay"},document.body);b.place(this.domNode,this.overlayNode,"last");this.defer(function(){this.domNode.style[this.transformKey]="translate3d(0, 0, 0)"},1);this.defer(function(){this.connect(this.overlayNode,"click","onOverlayClick");this.connect(this.overlayNode,e.press,"onPress");this.connect(this.overlayNode,e.release,"onRelease");this.connect(this.overlayNode,e.move,"onMove")},500)},onOverlayClick:function(q){var t=q.target;if(this.store){while(t&&!o.contains(t,"muiPanelOverlay")){var s=m.get(t,"data-mui-index");if(s){g.publish(this.SLIDE_PANEL_CLICK,this,{index:s,title:m.get(t,"title")});break}t=t.parentNode}}this.onClose()},onClose:function(){var q="translate3d(-100%, 0, 0)";if(this.dir=="right"){q="translate3d(100%, 0, 0)"}this.defer(function(){this.domNode.style[this.transformKey]=q},1);this.defer(function(){this.destroy();b.destroy(this.overlayNode)},1000)},onPress:function(q){this.touchStartX=q.touches?q.touches[0].pageX:q.clientX},onRelease:function(q){if(Math.abs(this.dx)>=this.swipeThreshold){if(this.dx>0&&this.dir=="right"){this.onClose()}else{if(this.dx<0&&this.dir=="left"){this.onClose()}}}this.dx=0},onMove:function(s){this.eventStop(s);var q=s.touches?s.touches[0].pageX:s.clientX;this.dx=q-this.touchStartX},eventStop:function(q){q.preventDefault()}})})},"sys/mobile/js/mui/simplecategory/SimpleCommonCategoryItemMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/topic","mui/iconUtils","mui/category/CommonCategoryItemMixin"],function(d,g,b,k,f,e,a,h){var l=d("mui.simplecategory.SimpleCommonCategoryItemMixin",[h],{buildRendering:function(){this.fdId=this.value;this.label=this.text;this.icon="";this.type=window.SIMPLE_CATEGORY_TYPE_CATEGORY;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/cate_selected","selected");this.subscribe("/mui/category/cate_unselected","unselected")},selected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){k.add(this.selectNode,"muiCateSeled");if(!this.checkedIcon){this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode)}}}}},unselected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){if(this.checkedIcon){k.remove(this.selectNode,"muiCateSeled");b.destroy(this.checkedIcon);this.checkedIcon=null}}}}},_setSelected:function(o,n){if(o.key==this.key){if(n&&n.fdId){if(n.fdId==this.fdId){k.add(this.selectNode,"muiCateSeled");if(!this.checkedIcon){this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode)}var m=this.getEvts();e.publish("/mui/category/selected",this,m);e.publish("/mui/category/commonSelected",this,m)}}}},getEvts:function(){return{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type}},_cancelSelected:function(o,n){if(o.key==this.key){if(n&&n.fdId){if(n.fdId.indexOf(this.fdId)>-1){if(this.checkedIcon){k.remove(this.selectNode,"muiCateSeled");b.destroy(this.checkedIcon);this.checkedIcon=null;var m=this.getEvts();e.publish("/mui/category/unselected",this,m);e.publish("/mui/category/commonUnSelected",this,m)}}}}},showMore:function(){return false},showSelect:function(){var m=this.getParent();if(m.authType=="03"){if(m&&m.selType==this.type){return true}}else{if(m&&m.selType==this.type&&this.isShowCheckBox!="0"){return true}}return false},isSelected:function(){var n=this.getParent();if(n&&n.curIds){var m=n.curIds.split(";");if(g.indexOf(m,this.fdId)>-1){return true}}return false},buildIcon:function(m){if(this.icon){a.setIcon(this.icon,null,this._headerIcon,null,m)}else{f.set(m,{display:"none"})}}});return l})},"sys/mobile/js/mui/address/AddressHistoryItemMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dijit/registry","dojox/mobile/_ItemBase"],function(g,e,b,h,f,d,a){return g("mui.address.AddressHistoryItemMixin",[a],{buildRendering:function(){this.inherited(arguments);this.domNode=this.containerNode=b.create("div",{className:"muiAddressHistoryItem"});this.contentNode=b.create("span",{className:"muiAddressHistoryItemContent",innerHTML:this.keyword},this.domNode);this.deleteNode=b.create("span",{className:"muiAddressHistoryItemDel"},this.domNode);b.create("i",{className:"mui mui-fail"},this.deleteNode)},postCreate:function(){this.connect(this.domNode,"click","_handleSearch");this.connect(this.deleteNode,"click","_handleDel")},_handleSearch:function(){e.publish("/mui/address/search/submit",this,{keyword:this.keyword})},_handleDel:function(k){k.stopPropagation();e.publish("/mui/address/search/history/remove",this,this.keyword)}})})},"sys/mobile/js/mui/address/AddressSearchBarMixin":function(){define(["dojo/_base/declare","dojo/topic"],function(b,a){return b("mui.address.AddressSearchBarMixin",null,{_onSearch:function(){a.publish("/mui/navitem/selected",this,{key:"all"});return this.inherited(arguments)},startup:function(){this.inherited(arguments);a.publish("/mui/category/changed",this,{fdId:this.curId})}})})},"sys/mobile/js/mui/tabbar/TabBarButtonGroup":function(){define(["dojo/_base/declare","mui/tabbar/TabBarButton","dojo/dom-class","dojo/dom-style","dojox/mobile/Tooltip","dojo/dom-construct","dijit/registry","dojo/_base/lang","dojo/dom-attr"],function(e,l,k,f,h,d,a,b,g){return e("mui.tabbar.TabBarButtonGroup",[l],{adjustDestination:"/mui/list/adjustDestination",buildRendering:function(){this.openerContainer=new h();d.place(this.openerContainer.domNode,document.body,"last");k.add(this.openerContainer.domNode,"muiNavBarGroup");var n=this.openerContainer.containerNode;this.tabGroupContainer=d.create("div",{className:"muiNavBarGroupContainer"},n);var m=this.srcNodeRef.children;while(m.length>0){d.place(m[0],this.tabGroupContainer,"last")}this.inherited(arguments);k.add(this.domNode,"muiBarFloatRightButton");if(!this.label){k.add(this.getParent().domNode,"muiNavBarButton")}g.set(this.domNode,"title","更多")},startup:function(){if(this._started){return}this.inherited(arguments);if(this.align!="center"){f.set(this.iconDivNode,{"float":"none"})}if(!this.icon1){f.set(this.iconDivNode,{width:"0px",display:"block"})}this.subscribe(this.adjustDestination,b.hitch(this,this.hideOpener))},_onClick:function(m){var n=this.openerContainer;if(n.resize){k.add(n.domNode,"muiTooltipHidden");this.defer(function(){this.hideOpener(this);k.remove(n.domNode,"muiTooltipHidden")},300)}else{n.show(this.iconDivNode?this.iconDivNode:this.domNode,["above"])}this.defaultClickAction(m);this.handle=this.connect(document.body,"touchend","unClick")},hideOpener:function(m){this.openerContainer.hide()},addExpButton:function(m,n){if(m instanceof l){d.place(m.domNode,this.tabGroupContainer,n)}},unClick:function(m){var o=m.target,n=true;while(o){if(o==this.domNode){n=false;break}o=o.parentNode}if(n){this.defer(function(){this.hideOpener();this.disconnect(this.handle)},400)}}})})},"sys/mobile/js/mui/sharetop/_ShareTopViewMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-style","dojo/_base/lang"],function(d,a,b,e){return d("mui.list._TopViewMixin",null,{adjustDestination:"/mui/list/adjustDestination",listTop:"/mui/list/toTop",toCreate:function(f){var g=dojoConfig.baseUrl?dojoConfig.baseUrl:"/";g+="third/ywork/ywork_doc/yworkDoc.do?method=findDocURL";g+="&ismb=1&fdModelId="+this.fdModelId+"&fdModelName="+this.fdModelName+"&fdTemplateId="+this.fdTemplateId+"&fdAllPath="+encodeURI(this.fdAllPath);$.post(g,function(h){status=h.status;if(status=="1"){location.href=h.codeUrl}else{if(status=="2"){ywork.toast(h.msg)}else{ywork.toast("Error")}}},"json")},connectToggle:function(){}})})},"sys/mobile/js/mui/syscategory/SysCategoryItemMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/topic","dojo/dom-style","mui/iconUtils","mui/category/CategoryItemMixin"],function(e,h,d,k,f,g,a,b){var l=e("mui.syscategory.SysCategoryItemMixin",[b],{buildRendering:function(){this.fdId=this.value;this.label=this.text;this.canSelect=this.isShowCheckBox;this.icon="";this.type=this.nodeType=="CATEGORY"?window.SYS_CATEGORY_TYPE_CATEGORY:window.SYS_CATEGORY_TYPE_TEMPLATE;this.inherited(arguments);this.subscribe("/mui/category/path","_pathChange");if(window.pathItem){this._pathChange(this,window.pathItem)}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/cancelSelected","_cancelSelected");this.subscribe("/mui/category/setSelected","_setSelected");this.subscribe("/mui/category/commonSelected","commonSelected");this.subscribe("/mui/category/commonUnSelected","commonUnSelected");this.subscribe("/mui/category/unselected","_unselected");this.subscribe("/mui/category/selected","_selected")},_cancelSelectedTrigger:function(m){f.publish("/mui/category/unselected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type});f.publish("/mui/category/cate_unselected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})},_cancelSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){window._curIds="-";if(this.checkedIcon){k.remove(this.selectNode,"muiCateSeled");d.destroy(this.checkedIcon);this.checkedIcon=null;this._cancelSelectedTrigger(m)}}}}},_unselected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){window._curIds="-";if(this.checkedIcon){k.remove(this.selectNode,"muiCateSeled");d.destroy(this.checkedIcon);this.checkedIcon=null}}}}},commonUnSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){window._curIds="-";if(this.checkedIcon){k.remove(this.selectNode,"muiCateSeled");d.destroy(this.checkedIcon);this.checkedIcon=null}}}}},commonSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){k.add(this.selectNode,"muiCateSeled");if(!this.checkedIcon){this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode)}}}}},_setSelectedTrigger:function(){f.publish("/mui/category/selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type});f.publish("/mui/category/cate_selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})},_setSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){window._curIds=this.fdId;if(this.checkedIcon){d.destroy(this.checkedIcon);this.checkedIcon=null}if(!this.selectNode){return}if(!k.contains(this.selectNode,"muiCateSeled")){k.add(this.selectNode,"muiCateSeled")}this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);this._setSelectedTrigger(m)}}}},_selected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){window._curIds=this.fdId;if(this.checkedIcon){d.destroy(this.checkedIcon);this.checkedIcon=null}if(!this.selectNode){return}if(!k.contains(this.selectNode,"muiCateSeled")){k.add(this.selectNode,"muiCateSeled")}this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode)}}}},_pathChange:function(n,m){if(m.indexOf(this.fdId)>=0){this.set("entered",true)}else{this.set("entered",false)}},getTitle:function(){return this.label},_setEnteredAttr:function(m){if(m){k.add(this.domNode,"muiCategoryEntered")}else{k.remove(this.domNode,"muiCategoryEntered")}},showMore:function(){var n=this.getParent();var m=(n&&n.isOnlyShowCate==1&&typeof this.beanName!="undefined"&&this.hasChildren=="1")||(n&&typeof n.isOnlyShowCate=="undefined");if(this.type==window.SYS_CATEGORY_TYPE_CATEGORY&&m){return true}return false},showSelect:function(){var n=this.getParent();var m=(n&&n.isOnlyShowCate==1&&this.canSelect!="0")||(n&&typeof n.isOnlyShowCate=="undefined");if((n.selType|this.type)==this.type&&m){return true}return false},isSelected:function(){if(window._curIds){if(this.fdId==window._curIds){return true}}else{var n=this.getParent();if(n&&n.curIds){var m=n.curIds.split(";");if(h.indexOf(m,this.fdId)>-1){return true}}}return false},buildIcon:function(m){if(this.icon){a.setIcon(this.icon,null,this._headerIcon,null,m)}else{g.set(m,{display:"none"})}}});return l})},"sys/mobile/js/mui/view/IframeView":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-attr","dojo/json","dojo/query","dojo/_base/array","dojo/html","mui/util","mui/rtf/RtfResize","dojo/request"],function(g,a,f,b,m,o,n,l,k,h,d,e){return g("mui.view.IframeView",[f],{url:"",_iframeUrl:"",_baseUrl:"",buildRendering:function(){this.inherited(arguments);this.containerNode=this.domNode},startup:function(){this.inherited(arguments);var p=e.post(h.formatUrl(this.url),{data:{_mobile:"1"},timeout:30000});p.response.then(a.hitch(this,function(t){if(t.status==200){var s={};try{s=o.parse(t.data)}catch(u){s={}}if(s.url!=null&&s.url!=""){this._iframeUrl=s.url}else{this._iframeUrl=h.formatUrl(this.url)}var q=this._iframeUrl;q=q.substring(0,q.lastIndexOf("/")+1);this._baseUrl=q;this._doLoadIframe()}else{if(window.console){window.console.error('请求"'+this.url+'"出错，信息：'+t)}}}),a.hitch(this,function(){if(window.console){window.console.error('请求地址"'+this.url+'"出错.')}}))},_formatUrl:function(p){if(p!=""&&p!=null){var q=p.toLowerCase();if(q.indexOf("http://")==-1&&q.indexOf("https://")==-1&&q.indexOf("/")!=0){return this._baseUrl+p}}return p},_doContentFilter:function(s){var v=/<img[^>]+src\s*=\s*['"]+([^'"]+)['"]+[^>]*>/gi;var u=null;var t=[];while((u=v.exec(s))!=null){var p=this._formatUrl(u[1]);if(p!=u[1]){var q=u[0].replace(u[1],p);t.push({oraginHtml:u[0],newHtml:q})}}l.forEach(t,a.hitch(function(w){s=s.replace(w.oraginHtml,w.newHtml)}));return s},_doImgDomFilter:function(){l.forEach(n("img",this.containerNode),a.hitch(this,function(t,s){var p=m.get(t,"src");var q=this._formatUrl(p);if(p!=q){m.set(t,"src",q)}}));new d({containerNode:this.containerNode})},_doLoadIframe:function(){var p=this;require(["dojo/text!"+this._iframeUrl],function(s){var q=new k._ContentSetter({parseContent:true,cleanContent:true,onBegin:function(){this.content=p._doContentFilter(this.content);this.inherited("onBegin",arguments)}});q.node=p.containerNode;q.set(s);q.parseDeferred.then(function(){p._doImgDomFilter()});q.tearDown()})}})})},"sys/mobile/js/mui/dialog/Dialog":function(){define(["dojo/_base/declare","mui/dialog/_DialogBase","dojo/dom-construct","dijit/registry","dojo/dom-style","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/parser","mui/iconUtils","dojox/mobile/View","dojox/mobile/_css3","dojo/query","dojo/on","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/topic"],function(k,f,h,a,m,s,p,e,d,g,b,u,q,o,t,l){var n=k("mui.dialog.Dialog",[f],{element:null,title:"",buttons:[],callback:null,onDrawed:null,showClass:"muiDialogElementShow",closeClass:"fontmuis muis-epid-close",transform:"",appendTo:document.body,closeOnClickDomNode:true,position:"center",canClose:true,iconClose:false,destroyAfterClose:true,scrollable:true,scrollViewNode:null,parseable:false,privateHeight:null,scrollParentNode:false,loaded:function(){if(this.scrollable){var v=document.documentElement.clientHeight*0.8;if(this.privateHeight){v=this.privateHeight}if(this.divNode){v=v-this.divNode.offsetHeight}if(this.buttonsNode){v=v-this.buttonsNode.offsetHeight}m.set(this.contentNode,{height:v+"px"})}},buildRendering:function(){this.inherited(arguments);var w=this;this.domNode=h.create("div",{className:"muiDialogElement"+(this.showClass!=null?(" "+this.showClass):"")},this.appendTo,"last");if(this.position!="center"){this.otherNode=h.create("div",{},this.domNode)}var y=h.create("div",{className:(this.position=="center"?"muiDialogElementContainerWrap":"muiDialogElementContainerWrap_"+this.position)},this.domNode);this.containerNode=h.create("div",{className:(this.position=="center"?"muiDialogElementContainer":"muiDialogElementContainer_"+this.position)},y);if(this.iconClose){this.closeNode=h.create("div",{className:"muiDialogElementCloseIcon"},this.containerNode);h.create("i",{className:"fontmuis muis-epid-close"},this.closeNode);this.connect(this.closeNode,"click","_onClose")}if(this.title){this.divNode=h.create("div",{className:this.position=="center"?"muiDialogElementDiv":"muiDialogElementDiv_"+this.position},this.containerNode);if(this.canClose&&!this.iconClose&&(typeof(this.buttons)==="undefined"||this.buttons==null||this.buttons.length==0)){this.closeNode=h.create("div",{className:"muiDialogElementCancel",innerHTML:t["mui.button.cancel"]},this.divNode);this.connect(this.closeNode,"click","_onClose")}this.titleNode=h.create("div",{className:this.position=="center"?"muiDialogElementTitle":"muiDialogElementTitle_"+this.position,innerHTML:this.title},this.divNode)}if(this.fixElement){h.place(this.fixElement,this.containerNode)}this.contentNode=h.create("div",{className:this.position=="center"?"muiDialogElementContent":"muiDialogElementContent_"+this.position},this.containerNode);if(this.buttons.length>0){s.add(this.containerNode,"muiHasDialogElementButtons");this.buttonsNode=h.create("div",{className:this.position=="center"?"muiDialogElementButtons":"muiDialogElementButtons_"+this.position},this.containerNode);this.buttonsDom=[];p.forEach(this.buttons,e.hitch(this,function(A){var z=h.create("div",{className:this.position=="center"?"muiDialogElementButton":"muiDialogElementButton_"+this.position,innerHTML:A.title},this.buttonsNode);this.buttonsDom.push(z)}));this.connect(this.buttonsNode,"click","_onClick")}var x=this.contentNode;var v=this.parseable;if(this.scrollable){x=h.create("div",{className:"muiDialogScrollView","data-dojo-type":"mui/NativeView"},this.contentNode);v=true;this.scrollViewNode=x}h.place(this.element,x);if(v){if(this.fixElement){d.parse(this.fixElement)}d.parse(this.contentNode).then(function(A){l.publish("parser/dialog/done");w.htmlWdgts=A;w.loaded();var z=w._getScrollWidgetByParentNode(w.contentNode);if(z){w.scrollViewNode=z.domNode}if(w.onDrawed){w.onDrawed(w)}w._addDialogEventListener();w.afterDrawed()})}else{this.loaded();if(this.onDrawed){this.onDrawed(this)}this._addDialogEventListener();this.afterDrawed()}this.defer(function(){if(w.position!="center"){m.set(w.otherNode,{height:(w.domNode.offsetHeight)+"px"});w.connect(w.otherNode,"click","_onClose")}else{w.connect(w.domNode,"click","_onDialogClose")}},400);this.show()},_addDialogEventListener:function(){var D=this;this.domNode.addEventListener("touchmove",function(E){var H=E||window.event,G=H.target||H.srcElement;var F=D._isMoveTargetInDialogContent(G);if(F==false){H.preventDefault();H.stopPropagation()}},false);var z=null;if(this.scrollViewNode){z=this.scrollViewNode}else{var C=this._getScrollWidgetByParentNode(this.contentNode);z=C?C.domNode:this.contentNode}this.scrollNode=z;var B,A,y,x,w,v;z.addEventListener("touchstart",function(E){B=E.touches[0].pageX;A=E.touches[0].pageY},false);z.addEventListener("touchmove",function(I){y=I.changedTouches[0].pageX;x=I.changedTouches[0].pageY;w=y-B;v=x-A;if(Math.abs(v)>Math.abs(w)&&v>0){if(this.scrollTop<=0){if(I&&I.cancelable&&!I.defaultPrevented){I.preventDefault()}}}else{if(Math.abs(v)>Math.abs(w)&&v<0){var G=this.scrollHeight;var E=this.clientHeight;var H=this.scrollTop;var F=G-E-H;if(F<=0){if(I&&I.cancelable&&!I.defaultPrevented){I.preventDefault()}}}}},false)},_getScrollWidgetByParentNode:function(v){var x=null;var z=q("[data-dojo-type].mblView",v);for(var y=0;y<z.length;y++){var w=z[y];var A=a.byNode(w);if(A instanceof b){x=A;break}}return x},_isMoveTargetInDialogContent:function(v){if(v.nodeName.toUpperCase()=="BODY"){return false}else{if(v==this.contentNode){return true}else{return this._isMoveTargetInDialogContent(v.parentElement)}}},_onClick:function(v){var x=v.target;for(var w=0;w<this.buttonsDom.length;w++){if(x===this.buttonsDom[w]||x.parentNode===this.buttonsDom[w]){this.buttons[w].fn.call(window,this);if(this.callback){this.callback(window,this)}break}}},_onDialogClose:function(w){var x=w.target,v=q(x).closest(".muiDialogElementContainer");if(v&&v.length>0){return}if(this.closeOnClickDomNode){if(this.callback){this.callback(window,this)}this.hide()}},_onClose:function(v){var w=v.target;if((w===this.otherNode&&this.closeOnClickDomNode&&this.position!="center")||w===this.closeNode||w.parentNode==this.closeNode){if(this.callback){this.callback(window,this)}this.hide()}},show:function(){var w="";var v=this.transform||this.position;if(v){if(v=="bottom"){w="fadeInUp"}else{if(v=="top"){w="fadeInDown"}else{if(v=="left"){w="fadeInLeft"}else{if(v=="right"){w="fadeInRight"}}}}}if(!w){w="fadeIn"}s.add(this.containerNode," animated "+w);return this.inherited(arguments)},hide:function(){this.beforeCallback();s.add(this.containerNode,"fadeOut animated");s.add(this.domNode,"fadeOut animated");this.defer(function(){m.set(this.containerNode,{display:"none"});m.set(this.domNode,{display:"none"});s.remove(this.containerNode,"fadeOut");s.remove(this.domNode,"fadeOut");if(this.destroyAfterClose){p.forEach(this.htmlWdgts,function(v){if(v&&v.destroy){v.destroy()}});h.destroy(this.domNode);this.domNode=null;this.destroy()}},400);if(this.destroyAfterClose){this.inherited(arguments)}},afterDrawed:function(){if(this.scrollParentNode){return}this.bodyScrollPos=this.getBodyScrollPos();m.set(q("body")[0],{"overflow-y":"hidden",position:"fixed"})},beforeCallback:function(){if(this.scrollParentNode){return}if(q(".muiDialogElement").length>1){var v=q(".muiDialogElement");var y=0;for(var w=0;w<v.length;w++){var z=v[w];var x=false;while(z.parentNode){if(z.parentNode.style&&z.parentNode.style.display=="none"){x=true;break}z=z.parentNode}if(!x){y++}}if(y>1){return}}m.set(q("body")[0],{"overflow-y":"",position:""});if(this.bodyScrollPos){this.setBodyScrollPos(this.bodyScrollPos)}},getBodyScrollPos:function(){return{y:document.documentElement.scrollTop||document.body.scrollTop}},setBodyScrollPos:function(v){document.documentElement.scrollTop=document.body.scrollTop=v.y}});return{claz:n,element:function(v){return new n(v)}}})},"sys/mobile/js/mui/list/TextItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/list/item/TextItemMixin"],function(a,d,b){return a("mui.list.TextItemListMixin",[d],{itemTemplateString:null,itemRenderer:b})})},"sys/mobile/js/mui/form/Composite":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","dijit/_Container","dojo/dom-construct","dojox/mobile/_ScrollableMixin"],function(g,k,h,f,e,b,a){var d=g("mui.form.Composite",[k,e,a],{required:false,scrollDir:"h",validate:null,requiredChildren:[],buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"muiFormComposite");this.requiredNode=b.create("div",{className:"muiFormRequiredShow muiFormRequired",innerHTML:"*"},this.domNode,"last")},startup:function(){this.inherited(arguments);this.adapterValidater();f.set(this.domNode,{height:""})},orient:"horizontal",adapterValidater:function(){var m="horizontal";var o=this.getChildren();this.requiredChildren=[];for(var n=0;n<o.length;n++){var l=o[n];if(l.edit&&l.get("required")===true){this.requiredChildren.push(l)}if("vertical"==l.get("orient")){m="vertical"}}if(this.requiredChildren.length>0){this.set("required",true)}else{this.set("required",false)}h.add(this.domNode,"muiFormComposite"+m.charAt(0).toUpperCase()+m.slice(1))},_setRequiredAttr:function(l){this._set("required",l);this._initText()},_initText:function(){h.toggle(this.requiredNode,"muiFormRequiredShow",this.required)},resize:function(){this.inherited(arguments);f.set(this.domNode,{height:""})}});return d})},"sys/mobile/js/mui/form/editor/plugins/image/Plugin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/text!../tmpl/panelH.html","dojo/html","dojo/query","mui/util","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/topic","mui/form/editor/plugins/EditorPluginBaseMixin","dojo/dom","dojo/_base/array","dojo/string","mui/device/device","mui/device/adapter","mui/dialog/Tip","dojox/mobile/sniff","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/touch"],function(x,f,k,n,e,b,y,q,w,m,s,l,u,h,a,t,p,v,d,o,g){return x("mui.form.editor.plugins.face.Plugin",[l],{type:"image",event:function(z){this._imageShow(z)},icon:"mui-editor-image",eventPrefix:"attachmentObject_",show:function(){this.inherited(arguments);q.set(this.container,{display:"block"})},hide:function(){this.inherited(arguments);this.defer(function(){q.set(this.container,{display:"none"})},200)},constructor:function(z){this.inherited(arguments);this.fdKey=z.editor.name},_imgUploadStart:function(A,z){if(window.console){console.log("图片上传开始")}if(A==window.AttachmentList[this.fdKey]){this._imageBuildImage(z)}},_imgUploadSuccess:function(C,F){if(window.console){console.log("图片上传成功")}if(!F){return}if(C!=window.AttachmentList[this.fdKey]){return}var H=e("#"+F.file._fdId)[0];var D=e("img",H)[0],G=e(".muiEditorImageClose",H)[0],E=e(".muiEditorImageDefault",H)[0],B=e(".muiEditorImageStatus",H)[0],A=e(".muiEditorImageThumb",H)[0];f.destroy(B);f.destroy(E);q.set(G,"display","block");var z=window.AttachmentList[this.fdKey].downloadUrl+"?fdId="+F.filekey+"&picthumb=big";w.set(D,"src",b.formatUrl(F.file.href));q.set(A,"opacity",1);this.images.push({src:z,id:F.file._fdId});this.editor.publishValueChange();this._onUploadSuccessAffer()},_onUploadSuccessAffer:function(){if(!this.editor.fdMulti&&this.images.length>=1){this._uploadNode&&q.set(this._uploadNode,"display","none")}else{this._uploadNode&&q.set(this._uploadNode,"display","")}},getImageById:function(A){for(var z=0;z<this.images.length;z++){if(this.images[z].id==A){return this.images[z]}}},deleteImageById:function(A){for(var z=0;z<this.images.length;z++){if(this.images[z].id==A){this.images.splice(z,1)}}this.editor.publishValueChange();this._onUploadSuccessAffer()},_imgUploadProcess:function(A,z){if(window.console){console.log("图片上传中")}},_imgUploadFail:function(A,z){if(z&&z.rtn&&z.rtn.errorMessage){v.fail({text:z.rtn.errorMessage})}if(z&&z.file&&z.file._fdId){var B=z.file._fdId;this.deleteImageById(B);f.destroy(u.byId(B))}if(window.console){console.log("图片上传失败")}},_imageBuildImage:function(z){var B=z.file;var C=f.create("div",{className:"muiEditorImageItem",tabindex:0,id:B._fdId},this._uploadNode,"before");f.create("div",{className:"muiEditorImageDefault",innerHTML:'<i class="mui mui-file-img"></i>'},C);f.create("div",{className:"muiEditorImageStatus",innerHTML:'<i class="mui mui-spin mui-loading2"></i>'},C);f.create("div",{className:"muiEditorImageThumb",innerHTML:'<img src=""  align="middle">'},C);var A=f.create("div",{innerHTML:'<i class="mui mui-close"></i>',className:"muiEditorImageClose"},C);this.connect(A,"click","_deleteNode")},_deleteNode:function(z){var B=z.target;var A=B.parentNode.parentNode;var C=w.get(A,"id");if(C){this.deleteImageById(C);f.destroy(u.byId(C))}},startup:function(){this.eventPrefix=this.eventPrefix+this.fdKey+"_";this.subscribe(this.eventPrefix+"start","_imgUploadStart");this.subscribe(this.eventPrefix+"fail","_imgUploadFail");this.subscribe(this.eventPrefix+"success","_imgUploadSuccess");this.subscribe(this.eventPrefix+"process","_imgUploadProcess");this.images=[];this.editor.formatContent.push(y.hitch(this,this.imageFormat))},imageFormat:function(A){if(!this.images||this.images.length==0){return A}var z='<img src="${src}">';h.forEach(this.images,function(C){var D=C.src;var B=a.substitute(z,{src:D});A+=B},this);return A},_imageShow:function(z){if(this.lock){return}this.lock=true;this.defer(function(){this.lock=false},1000);if(this._isShow){this.hide();return}this._isShow=true;if(this._imageIsInit){this.show();return}this.iconNode=z.target;this.container=f.create("div",{className:"muiEditorImage"},this.editor.domNode,"last");this._imageBuildPanel(z);this.show();this._imageIsInit=true},_upload:function(z){if(this.lock){return}this.lock=true;this.defer(function(){this.lock=false},1000);var A=z.target;if(A){A.blur()}p.selectFile({options:{fdKey:this.fdKey,uploadType:2,fdMulti:this.editor.fdMulti?this.editor.fdMulti:false,fdModelId:this.editor.fdModelId,fdModelName:this.editor.fdModelName},evt:z})},_imageBuildPanel:function(A){var z=new n._ContentSetter({parseContent:true,cleanContent:true,node:this.container,onBegin:function(){this.content=this.content.replace(/!{panel}/g,"");this.inherited("onBegin",arguments)}});z.set(k);z.parseDeferred.then(y.hitch(this,function(B){if(B.length==0){return}this._imagePanel=B[0];this.buildUploadBtn()}));z.tearDown()},buildUploadBtn:function(){if(!this._imageContainer){this._imageContainer=f.create("div",{className:"muiEditorImageContainer"},this._imagePanel.containerNode)}this._uploadNode=f.create("div",{className:"muiEditorImageUpload",innerHTML:'<div><i class="mui mui-plus" feature="album"></i></div><div class="muiEditorImageUploadTip">'+o["mui.add.to.content"]+"</div>"},this._imageContainer);var A=t.getClientType();if(A>6&&A<11){this.connect(this._uploadNode,g.press,"_upload")}else{var z=f.create("input",{type:"file",accept:"image/*",className:"muiEditorImageInput"},this._uploadNode);z.dojoClick=!d("ios");this.connect(z,"click","_click");this.connect(z,"change","_upload")}},_click:function(z){if(d("android")){if(z.stopPropagation){z.stopPropagation()}if(z.cancelBubble){z.cancelBubble=true}if(z.preventDefault){z.preventDefault()}if(z.returnValue){z.returnValue=false}}}})})},"sys/mobile/js/mui/list/StoreElementScrollableView":function(){define(["dojo/_base/declare","dojox/mobile/View","mui/list/_ViewDownReloadMixin","mui/list/_ViewUpAppendMixin","dojo/topic"],function(d,f,e,a,b){return d("mui.list.StoreElementScrollableView",[f,e,a],{rel:null,startup:function(){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments)},onAfterTransitionIn:function(){this.inherited(arguments);b.publish("/dojox/mobile/viewChanged",this);this.resize()}})})},"sys/mobile/js/mui/load":function(){define(["dojo/parser","mui/main","mui/pageLoading","dojo/_base/window","dojox/mobile/sniff","dojo/topic","mui/form","dojo/request","mui/util","dojo/_base/lang","dojo/_base/query","mui/device/adapter","mui/device/device","dojo/dom-style"],function(a,f,p,m,q,k,d,g,h,e,n,o,b,l){return{recoverUrl:function(s){if(history.replaceState){history.replaceState(null,null,s)}},errorCode:{"403":"/third/pda/resource/jsp/e403.jsp"},renderTitle:function(){var t=n("[data-dojo-block='title']");if(t.length==0){return}var s=t[0].innerText;if(s){o.setTitle(s)}},decodeUrlOriginal:function(t){var s=decodeURIComponent(t);if(s===t){return t}else{return this.decodeUrlOriginal(s)}},encodeStr:function(w,t,v){if(!w){return""}var s=v?decodeUrlOriginal(w):w;for(var u=0;u<t;u++){s=encodeURIComponent(s)}return s},setOriginalUrl:function(){var u=location.href;var t=this.decodeUrlOriginal(u);var v=t.indexOf("#");var w="q.docCategory";if(v>-1&&t.indexOf(w)>v){var x="_referer";var s=this.encodeStr(h.getUrlParameter(u,x),1);u=h.setUrlParameter(u,x,s)}window.oldLocaHrefUrl=u},loadAndParse:function(s){dojoConfig._native=true;k.subscribe("parser/done",this.renderTitle.bind(this));dojoConfig.tiny=true;try{var s=h.formatUrl(s);var v=h.urlParse(location.href).searchJSON,s=h.setUrlParameterMap(s,v);this.setOriginalUrl();this.recoverUrl(s);s=h.setUrlParameter(s,"_data","true");var u="";g.get(s,{handleAs:"json",headers:{accept:"application/json"}}).then(function(A){if(A.dataUrl&&A.dataUrl!=""){var w=h.formatUrl(A.dataUrl);var z=b.getClientType();if(!q("ios")&&z===11||z===14){if(history.replaceState){history.replaceState(null,document.title,w);history.go(0)}else{location.replace(w)}}else{location.replace(w)}}if(!A.text){return}var x=A.text;var y=document.getElementById("content");h.setInnerHTML(y,x).then(e.hitch(this,function(){a.parse().then(function(){m.doc.dojoClick=!q("ios")||q("ios")>13;p.hide();k.publish("parser/done")})}))},e.hitch(this,function(x){var w=x.response.status;if(this.errorCode[w]){var z=h.formatUrl(this.errorCode[w]);var y=g.post(z,{});y.response.then(function(A){u=A.data;document.write(u)})}}))}catch(t){}}}})},"sys/mobile/js/mui/header/DingViewHeader":function(){define("mui/header/DingViewHeader",["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/dom-geometry","dojo/on","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,e,m,k,b,a,l,h,d){var g=f("mui.header.DingViewHeader",[e],{baseClass:"muiDocViewHeader",subject:"",userId:"",userName:"",imgUrl:"/sys/person/sys_person_zone/sysPersonZone.do?method=img&fdId=!{userId}",docStatus:"",docStatusText:"",docStatusEnum:{"00":{text:d["mui.mobile.process.status.discard"],iconClass:"processStatusDiscard"},"30":{text:d["mui.mobile.process.status.done"],iconClass:"processStatusDone"}},expandItems:false,itemDatas:[],buildRendering:function(){this.inherited(arguments);var o=b.create("div",{className:"muiDocViewHeaderBase"},this.domNode);if(this.subject){b.create("div",{className:"muiDocViewHeaderSubject",innerHTML:this.subject},o)}if(this.serviceSource&&"ding"==this.serviceSource){if(this.docStatus&&"20"==this.docStatus){var C="等待"+this.handlerValue+"处理";b.create("div",{className:"nodeNamesShow",innerHTML:C},o)}if(this.itemDatas&&this.itemDatas.length>1){var t=b.create("div",{className:"muiDocViewHeaderDetailWarp"},this.domNode);var w=b.create("div",{className:"muiDocViewHeaderDetailContainer"},t);var s=b.create("div",{className:"muiDocViewHeaderDetail"},w);for(var G=0;G<this.itemDatas.length;G++){var J=this.itemDatas[G];var z=b.create("div",{className:"muiDocViewHeaderDetailItem"},s);var q=b.create("div",{className:"muiDocViewHeaderDetailItemL"},z);var F=b.create("span",{},q);if(J.name){F.innerHTML=J.name}var I=b.create("div",{className:"muiDocViewHeaderDetailItemR"},z);var A=b.create("span",{},I);if(J.value){A.innerHTML=J.value}if(J.click){l(A,"click",J.click)}}}}else{if(this.userId||this.userName){var x=b.create("div",{className:"muiDocViewHeaderPerson"},o);if(this.userId){var u=b.create("div",{className:"muiDocViewHeaderIcon"},x);b.create("img",{src:h.formatUrl(this.imgUrl.replace(/!{userId}/,this.userId))},u)}if(this.userName){b.create("div",{className:"muiDocViewHeaderUser",innerHTML:this.userName},x)}}}if(this.docStatus&&this.docStatusEnum[this.docStatus]){var y=this.docStatusEnum[this.docStatus];var p=y.iconClass?y.iconClass:"";var n=b.create("div",{className:"muiDocViewHeaderStatus "+p});var E=b.create("i",{className:"fontmuis muis-watermark"},n);var H=b.create("span",{},n);H.innerText=this.docStatusText?this.docStatusText:y.text;b.place(n,o,"last")}if("ding"!=this.serviceSource){if(this.itemDatas&&this.itemDatas.length>1){var t=b.create("div",{className:"muiDocViewHeaderDetailWarp"},this.domNode);var w=b.create("div",{className:"muiDocViewHeaderDetailContainer"},t);var s=b.create("div",{className:"muiDocViewHeaderDetail"},w);for(var G=0;G<this.itemDatas.length;G++){var J=this.itemDatas[G];var z=b.create("div",{className:"muiDocViewHeaderDetailItem"},s);var q=b.create("div",{className:"muiDocViewHeaderDetailItemL"},z);var F=b.create("span",{},q);if(J.name){F.innerHTML=J.name}var I=b.create("div",{className:"muiDocViewHeaderDetailItemR"},z);var A=b.create("span",{},I);if(J.value){A.innerHTML=J.value}if(J.click){l(A,"click",J.click)}}var D=a.getContentBox(t).h;if(this.expandItems){k.set(t,{"max-height":D+"px",overflow:"inherit"})}else{k.set(t,{"max-height":"0",overflow:"hidden"})}var v=b.create("div",{className:"muiDocViewHeaderExpandBtn",style:{display:this.expandItems?"none":"block"}},this.domNode);b.create("i",{className:"fontmuis muis-slide-down"},v);var B=b.create("div",{className:"muiDocViewHeaderCollapseBtn",style:{display:this.expandItems?"block":"none"}},this.domNode);b.create("i",{className:"fontmuis muis-slide-up"},B);this.connect(v,"click",function(){m.remove(v,"muiDocViewHeaderBtnFadeIn");k.set(v,{display:"none"});m.add(B,"muiDocViewHeaderBtnFadeIn");k.set(B,{display:"block"});m.remove(t,"muiDocViewHeaderWarpHidden");m.add(t,"muiDocViewHeaderWarpShow");k.set(t,{"max-height":D+"px",overflow:"inherit"})});this.connect(B,"click",function(){m.remove(B,"muiDocViewHeaderBtnFadeIn");k.set(B,{display:"none"});m.add(v,"muiDocViewHeaderBtnFadeIn");k.set(v,{display:"block"});m.remove(t,"muiDocViewHeaderWarpShow");m.add(t,"muiDocViewHeaderWarpHidden");k.set(t,{"max-height":"0",overflow:"hidden"})})}}}});return g})},"sys/mobile/js/mui/tabbar/TabBarButton":function(){define(["dojo/_base/declare","dojox/mobile/TabBarButton","dojo/dom-class","dojo/dom-style","dojox/mobile/Badge","mui/util","dojo/_base/lang","dojo/dom-attr","dojox/mobile/viewRegistry","dojo/query","dojo/_base/array"],function(b,n,m,f,d,e,a,k,l,h,g){return b("mui.tabbar.TabBarButton",[n],{inheritParams:function(){this.inherited(arguments);return !!this.getParent()},transition:"slide",colSize:1,href:null,align:"center",tabIndex:"",_setAlignAttr:function(o){this.align=o},buildRendering:function(){this.inherited(arguments);if(!this.label&&this.getParent()!=null){m.add(this.getParent().domNode,"muiNavBarButton")}if(this.icon1&&this.label){m.add(this.domNode,"muiButtonVertical")}if(this.label&&!this.icon1){this.labelNode.innerHTML=this.label}},isNull:function(o){return o==undefined||o==null||o==""},startup:function(){if(this._started){return}if(this.align!="center"&&this.iconDivNode){f.set(this.iconDivNode,{"float":this.align})}if(this.iconDivNode){m.add(this.iconDivNode,"mui-scale");this.defer(a.hitch(this,function(){m.remove(this.iconDivNode,"mui-scale")}),500);if(!this.icon1){f.set(this.iconDivNode,{width:"0px"})}}this.inherited(arguments);var o=this;setTimeout(function(){o._CLICK_FLAG=true},300)},_setBadgeAttr:function(o){if(!this.badgeObj){this.badgeObj=new d();f.set(this.badgeObj.domNode,{position:"absolute",left:"50%","margin-left":"0.6rem",top:0})}if(parseInt(o)>=100){this.value=o="99+"}this.badgeObj.setValue(o);if(o){this.iconDivNode.appendChild(this.badgeObj.domNode)}else{if(this.iconDivNode===this.badgeObj.domNode.parentNode){this.iconDivNode.removeChild(this.badgeObj.domNode)}}},onClick:function(){if(!this._CLICK_FLAG){return}var p=document.activeElement;if(p&&p.blur){p.blur()}var o=arguments;this.defer(function(){if(this.href){location.href=e.formatUrl(this.href)}this.inherited(o)},350);if(this.href){return false}},_onTouchStart:function(p){var o=l.getEnclosingScrollable(this.domNode);if(o&&m.contains(o.containerNode,"mblScrollableScrollTo2")){m.remove(o.containerNode,"mblScrollableScrollTo2")}this.inherited(arguments)},setDisabled:function(o){this.disabled=o;if(this.disabled){if(!this.__onClick){this.__onClick=this.onClick}this.onClick=function(){return false};m.add(this.domNode,"muiBtnDisabled")}else{if(this.__onClick){this.onClick=this.__onClick}m.remove(this.domNode,"muiBtnDisabled")}},_onTouchMove:function(s){var o=s.touches?s.touches[0].pageX:s.clientX;var t=s.touches?s.touches[0].pageY:s.clientY;if(Math.abs(o-this.touchStartX)>=8||Math.abs(t-this.touchStartY)>=8){this.cancel();var q=this.getParent();if(q&&q.selectOne){this._prevSel&&this._prevSel.set("selected",true)}else{this.set("selected",false)}}},_onTouchEnd:function(p){var o=this;if(!o._selTimer&&o._delayedSelection){return}o.cancel();o._hideKeyBoard();window.event=p;if(dojoConfig._native){this.defer(function(){o._onClick(p)},300)}else{o._onClick(p)}},_hideKeyBoard:function(){g.forEach(h("input,textarea")||[],function(o){try{o.blur()}catch(p){}})}})})},"sys/mobile/js/mui/calendar/CalendarBottom":function(){define(["dojo/_base/declare","dijit/_WidgetBase","mui/calendar/base/CalendarScrollable","dojo/date","dojo/date/locale","dojo/dom-construct","dojo/dom-style","dojo/query","mui/calendar/_BottomEventMixin","dojo/ready","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-geometry"],function(f,m,h,e,p,d,k,n,g,o,b,a){var l=f("mui.calendar.CalendarBottom",[m,h,g],{templateString:'<div class="">		<div class="muiCalendarOpt" data-dojo-attach-point="optNode">			<div class="muiCalendarBottomLeft" data-dojo-attach-point="dateNode"></div>			<div class="muiCalendarBottomCenter">				<div data-dojo-attach-point="y2mNode"></div>				<div class="muiCalendarBottomInfo">					<div data-dojo-attach-point="weekNode"></div>					<div data-dojo-attach-point="compNode"></div>				</div>			</div>			<div class="muiCalendarBottomRight" data-dojo-attach-point="eventNode"></div>		</div></div>',optNode:null,showOptNode:true,dateNode:null,y2mNode:null,weekNode:null,compNode:null,reparent:function(){this.tmplNode=d.create("div");var t,s,q,v;var u=this.srcNodeRef;for(t=0,s=0,q=u.childNodes.length;t<q;t++){v=u.childNodes[s];d.place(v,this.tmplNode,"last")}},buildAddNode:function(){var q=d.create("div",{className:"mui_ekp_portal_date_addNode_contariner"},this.domNode);var u=d.create("div",{className:"mui_ekp_portal_date_addNode_left",innerHTML:'<span class="muiFontSizeM">'+b["mui.button.schedule"]+"</span>"},q);var t=d.create("div",{className:"mui_ekp_portal_date_addNode_right"},q);var s=d.create("div",{className:"addNodeButton muiFontColorMuted",innerHTML:'<i class="mui_ekp_portal_date_addNode_icon fontmuis muis-new muiFontSizeXS"></i><span class="muiFontSizeS">'+b["mui.button.add"]+"</span>"},t);this.connect(s,"click","eventClick")},buildRendering:function(){this.reparent();this.inherited(arguments);if(this.isPortal){this.buildAddNode()}d.place(this.tmplNode,this.domNode,"last");this.subscribe(this.VALUE_CHANGE,"nodeChange");this.subscribe("/mui/calendar/contentComplete","contentComplete");this.subscribe("/mui/calendar/weekComplete","weekComplete");this.subscribe("/mui/calendar/headerComplete","headerComplete");this.subscribe("/mui/calendar/viewComplete","viewComplete");var q=this;var s;if(!this.showOptNode){k.set(this.optNode,"display","none")}o(function(){q.resize()});k.set(this.domNode,"background","#fff")},resize:function(){var q=n(".mblView",this.domNode)[0];var t=0;if(this.optNode){t=this.optNode.offsetHeight}var s=this.getScreenHeight()-t-this.headerHeight-this.weekHeight-this.fixedHeaderHeight-this.fixedFooterHeight;k.set(q,"height",s+"px")},contentComplete:function(s,q){if(this.contentHeight==0){this.contentHeight=document.querySelectorAll(".muiCalendarTable ")[1].offsetHeight}else{this.contentHeight=q.height}this.resize()},viewComplete:function(s,q){this.fixedHeaderHeight=q.fixedHeaderHeight;this.fixedFooterHeight=q.fixedFooterHeight},weekComplete:function(s,q){if(this.weekHeight==0){this.weekHeight=q.height}else{this.weekHeight=a.getMarginBox(s.domNode).h}this.resize()},headerComplete:function(s,q){this.headerHeight=q.height},nodeChange:function(q){return;if(this.getEnclosingCalendarView(q)!=this.getEnclosingCalendarView(this)){return}if(!q){return}var t=q.currentDate,w=t.getDate()>9?t.getDate():"0"+t.getDate(),x=t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1);this.dateNode.innerHTML=w;this.y2mNode.innerHTML=t.getFullYear()+"."+x;this.dayNames=p.getNames("days","wide","standAlone");this.weekNode.innerHTML=this.dayNames[t.getDay()];var s=e.difference(t,null,"day"),v=Math.abs(s);var u=dojoConfig.locale=="en-us"?" ":"";if(s>0){v+=u+b["mui.calendar.day"]+u+b["mui.calendar.ago"]}else{if(s==0){v=b["mui.calendar.today"]}else{v+=u+b["mui.calendar.day"]+u+b["mui.calendar.after"]}}this.compNode.innerHTML=v}});return l})},"sys/mobile/js/mui/picslide/PicItem":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojox/mobile/_ItemBase","mui/util","dojo/topic","dojox/mobile/sniff"],function(h,d,g,b,a,f,e){var k=h("mui.picslide.PicItem",[b],{picClick:"/mui/picitem/click",picResizeEvt:"/mui/picitem/resize",baseClass:"muiListPicslideItem",itemIndex:0,srcId:"",openByProxy:false,buildRendering:function(){this.inherited(arguments);this.domNode.tabIndex="0";this.imageNode=d.create("img",{className:"muiListPicItemImg"},this.domNode);this.domNode.dojoClick=!e("ios")},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onclick");this.subscribe(this.picResizeEvt,"_resize")},startup:function(){if(this._started){return}this.inherited(arguments);this.imageNode.alt=this.alt?this.alt:this.label;this.imageNode.src=this.icon?this.icon:this.url},_resize:function(n,m){if(this.srcId==""){this.srcId=n.id}if(m&&m.id==this.srcId){var l=m;if(l.tensile==false){g.set(this.domNode,{"line-height":l.height+"px"});g.set(this.imageNode,{"max-height":l.height+"px","max-width":l.width+"px"})}else{g.set(this.imageNode,{height:l.height+"px",width:l.width+"px"})}}},_onclick:function(l){f.publish(this.picClick,this,this.itemIndex,l);if(this.href){l.stopPropagation();l.preventDefault();location.href=a.formatUrl(this.href)}},_setLabelAttr:function(l){this._set("label",l)},_setIconAttr:function(l){this._set("icon",l);this.imageNode.src=this.icon}});return k})},"sys/mobile/js/mui/syscategory/SysCategoryCancel":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/topic","dojo/dom-style","dojo/dom-construct"],function(f,e,b,d,a){return f("mui.nav.HeaderMoreItem",[e],{baseClass:"muiCateCancel",label:"关闭",postCreate:function(){this.subscribe("/mui/search/onfocus","_onfocus");this.subscribe("/mui/search/onblur","_onblur")},_onfocus:function(g){d.set(this.textNode,{display:"none"})},_onblur:function(g){d.set(this.textNode,{display:"block"})},buildRendering:function(){this.inherited(arguments);this.textNode=a.create("div",{className:"",innerHTML:this.label},this.domNode);this.connect(this.textNode,"click",function(){this.defer(function(){this._goBack()},350)})},_goBack:function(){b.publish("/mui/category/cancel",this)},startup:function(){this.inherited(arguments)}})})},"sys/mobile/js/mui/commondialog/template/DialogHeader":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style","dojo/request","dojo/topic","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,d,b,l,e,h,k,a){var g=f("mui.commondialog.template.DialogHeader",[d],{key:null,height:"inherit",title:a["mui.category.pselect"],baseClass:"muiCateHeader",buildRendering:function(){this.inherited(arguments);this.contentNode=b.create("div",{className:"muiCateHeaderContent"},this.domNode);this.titleDom=b.create("div",{className:"muiCateHeaderTitle",innerHTML:this.title},this.contentNode);this.cancelNode=b.create("div",{className:"muiCateHeaderCancel",innerHTML:a["mui.category.button.cancel"]},this.contentNode)},postCreate:function(){this.inherited(arguments);this.connect(this.cancelNode,"click",function(){this.defer(function(){this._goBack()},350)})},startup:function(){if(this._started){return}this.inherited(arguments);if(this.domNode.parentNode){var m;if(this.height==="inherit"){if(this.domNode.parentNode){m=this.domNode.parentNode.offsetHeight+"px"}}else{if(this.height){m=this.height}}l.set(this.domNode,{height:m,"line-height":m})}},_goBack:function(){h.publish("/mui/category/cancel",this)}});return g})},"sys/mobile/js/mui/property/filter/FilterRadio":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/_base/array","dojo/topic","dojo/dom-style","dojo/dom-class","./FilterBase","./FilterItem","./FilterStaticMixin"],function(f,b,d,l,h,k,m,e,a,g){return f("mui.property.FilterRadio",[e,g],{buildRendering:function(){this.inherited(arguments)},renderItems:function(){var p=this.getItemsType();if(p=="children"){var o=this.getChildren();l.forEach(o,function(s,q){d.place(s.domNode,this.contentNode);if(this.value&&this.value.expr){if(this.value.expr==s.expr){m.add(s.domNode,this.selectedClass)}}else{if(b.isString(this.value)&&this.value===s.value){m.add(s.domNode,this.selectedClass)}if(b.isArray(this.value)&&this.value.indexOf(s.value)>=0){m.add(s.domNode,this.selectedClass)}}if(q>=6){m.add(s.domNode,this.overflowClass)}},this)}else{if(p=="options"){var n=this.options;l.forEach(n,function(s,q){var t=new a(b.mixin({key:this.key},s));d.place(t.domNode,this.contentNode);if(this.value&&this.value.expr){if(this.value.expr==t.expr){m.add(t.domNode,this.selectedClass)}}else{if(b.isString(this.value)&&this.value===t.value){m.add(t.domNode,this.selectedClass)}if(b.isArray(this.value)&&this.value.indexOf(t.value)>=0){m.add(t.domNode,this.selectedClass)}}if(q>=6){m.add(t.domNode,this.overflowClass)}},this)}else{}}},startup:function(){this.inherited(arguments);this.buildStaticRadio()}})})},"sys/mobile/js/mui/list/item/MixContentItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dojox/mobile/_ItemBase","mui/util","./_ListLinkItemMixin"],function(b,a,h,e,f,k,d,g){var l=b("mui.list.item.MixContentItemMixin",[k,g],{tag:"li",summary:null,created:null,creator:null,status:null,thumbs:null,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||a.create(this.tag,{className:"muiMixContentItem muiListItem"});this.inherited(arguments);if(!this.templateString){this.contentNode=a.create("div",{className:"muiListItem"});this.buildInternalRender();a.place(this.contentNode,this.domNode)}},startup:function(){if(this._started){return}this.inherited(arguments)},buildInternalRender:function(){if(this.lock){var o=a.toDom("<div class='icoLock'><i class='mui mui-todo_lock'></i></div>");a.place(o,this.contentNode)}var p=a.create("div",{className:"muiMixContentTop"},this.contentNode);this.buildTopRender(p);var m=a.create("a",{className:"muiMixContentMiddle"},this.contentNode);this.buildCenterRender(m);var n=a.create("div",{className:"muiMixContentBottom"},this.contentNode);this.buildBottomRender(n);if(this.href){this.makeLinkNode(m)}},buildTopRender:function(n){if(this.icon){var m=a.create("div",{className:"muiMixContentIcon"},n);this.imgNode=a.create("span",{style:{background:"url("+d.formatUrl(this.icon)+") center center no-repeat",backgroundSize:"cover",display:"inline-block"}},m)}var o=a.create("div",{className:"muiMixContentCreate"},n);if(this.creator){this.CreatorNode=a.create("div",{className:"muiMixContentCreator",innerHTML:"<span>"+this.creator+"</span>"},o)}if(this.created){this.CreatedNode=a.create("div",{className:"muiMixContentCreated muiListSummary",innerHTML:"<span>"+this.created+"</span>"},o)}},buildCenterRender:function(m){if(this.label){var t=this.label;if(this.status){t=this.status+t}a.create("h4",{className:"muiMixContentTitle",innerHTML:t},m)}if(this.summary){a.create("p",{className:"muiMixContentSummary muiListSummary",innerHTML:this.summary},m)}var s=a.create("p",{className:"muiMixThumb"},m);if(this.thumbs){var p=a.create("div",{className:"muiListThumb"},s);var q=this.thumbs.split("|");var o=100/q.length;for(var n=0;n<q.length;n++){a.create("p",{style:"background-image: url("+d.formatUrl(d.setUrlParameter(q[n],"picthumb","small"))+");width:"+o+"%"},p)}}},buildBottomRender:function(m){},_setLabelAttr:function(m){if(m){this._set("label",m)}},hrefTarget:"_blank"});return l})},"sys/mobile/js/mui/nav/NavItem":function(){define("mui/nav/NavItem",["dojo/_base/declare","dojox/mobile/TransitionEvent","dojox/mobile/_ItemBase","dojox/mobile/Badge","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/request","dojo/topic","mui/util","./NavItemPromptMixin"],function(e,m,o,h,b,k,n,d,g,f,l){var a=e("mui.nav.NavItem",[o,l],{tag:"li",_selClass:"muiNavitemSelected ",topicType:"/mui/navitem/_selected",_topicType:"/mui/navitem/selected",changedTopicType:"/mui/navitem/changedSelected",badge:0,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||b.create("li",{className:"muiNavitem"});this.inherited(arguments);if(this.text){this.textNode=b.create("span",{className:!this.overflowHide?"muiNavitemSpan":"textEllipsis muiNavitemSpan",innerHTML:this.order?("<p>"+this.order+"</p>"+this.text):this.text},this.domNode);this.statNavCount();if(!this.order){this.bottomNode=b.create("div",{className:"muiNavitemBottom"},this.domNode)}}this.subscribe(this.topicType,"handleItemSelected");this.subscribe(this._topicType,"onItemSelected");this.subscribe(this.changedTopicType,"onChangedItemSelected");this.subscribe("/mui/list/onPull","updateNavCount");this.subscribe("/mui/list/onRefreshNavCount","updateNavCount");if(this.isNavCount==true){n.add(this.domNode,"muiNavitemBadge")}},startup:function(){if(this._started){return}this.connect(this.domNode,"onclick","_onClick");this.inherited(arguments)},handleItemSelected:function(p){if(this!=p&&this.getParent()==p.getParent()){this._handleItemSelectedClass(false)}else{if(this==p){this._handleItemSelectedClass(true)}}},_handleItemSelectedClass:function(p){if(p){n.add(this.domNode,this._selClass)}else{n.remove(this.domNode,this._selClass)}},onItemSelected:function(q,p){if(typeof this.key=="undefined"||typeof p=="undefined"||typeof p.key=="undefined"||this.key!=p.key){return}this._onClick({target:this.domNode})},onChangedItemSelected:function(q,p){this.defer(function(){if((typeof this.key=="undefined"||typeof p=="undefined"||typeof p.key=="undefined"||this.key!=p.key)&&this.getParent()==q.getParent()){this._handleItemSelectedClass(false)}else{if(this==q){this._handleItemSelectedClass(true);this.slideBarToCurrentNav(this.domNode);this.defaultClickAction({target:this.domNode})}}},1)},updateNavCount:function(p){if(this.url&&p.rel==this){this.statNavCount()}},statNavCount:function(){if(this.url){var p=this;if(this.isNavCount){var q=f.formatUrl(p.url+"&rowsize=1");d.post(q,{handleAs:"json"}).then(function(t){var s=0;if(t.page&&t.page.totalSize){s=parseInt(t.page.totalSize)}p.modifyNavCount(s)})}}},modifyNavCount:function(p){this.badge=p;if(p>99){this.set("badge","99+")}else{if(p>0){this.set("badge",p)}else{if(this.badgeObj&&this.domNode===this.badgeObj.domNode.parentNode){this.domNode.removeChild(this.badgeObj.domNode)}}}},setSelected:function(){this.defer(function(){this.beingSelected(this.textNode)},1)},beingSelected:function(p){if(p){this.slideBarToCurrentNav(p);g.publish(this.topicType,this,{target:this,url:this.url,text:this.text,index:this.tabIndex})}},slideBarToCurrentNav:function(v){while(v){if(n.contains(v,"muiNavitem")){break}v=v.parentNode}var u,q;if(!v.offsetParent){(u=0),(q=0)}var p=k.getComputedStyle(v),t=k.toPixelValue(v,p.marginLeft),s=k.toPixelValue(v,p.marginRight);g.publish("/mui/navbar/slideBar",this,{width:q==0?0:v.offsetWidth+s+t,left:u==0?u:v.offsetLeft+v.offsetParent.offsetLeft-t,target:this,index:this.tabIndex})},_onClick:function(q){if(q){var p=q.target;this.beingSelected(p)}this.defaultClickAction(q)},userClickAction:function(){if(this.moveTo){return true}return false},makeTransition:function(s){if(this.back&&history){history.back();return}if(this.href&&this.hrefTarget&&this.hrefTarget!="_self"){win.global.open(this.href,this.hrefTarget||"_blank");this._onNewWindowOpened(s);return}var q=this.getTransOpts();var p=!!(q.moveTo||q.href||q.url||q.target||q.scene);if(this.getParent()&&this.getParent().key){q.moveTo=q.moveTo+"_"+this.getParent().key}if(this._prepareForTransition(s,p?q:null)===false){return}if(p){this.setTransitionPos(s);new m(this.domNode,q,s).dispatch()}},_setBadgeAttr:function(p){if(!this.badgeObj){this.badgeObj=new h();k.set(this.badgeObj.domNode,{position:"absolute",left:"100%",top:"0.2rem"})}this.badgeObj.setValue(p);if(p){this.domNode.appendChild(this.badgeObj.domNode);n.add(this.domNode,"muiNavitemBadge")}else{if(this.domNode===this.badgeObj.domNode.parentNode){this.domNode.removeChild(this.badgeObj.domNode);n.remove(this.domNode,"muiNavitemBadge")}}}});return a})},"sys/mobile/js/mui/tabbar/TabBarAdapter":function(){define(["dojo/_base/declare","dijit/_WidgetBase","mui/device/device","dojo/query","dojo/ready"],function(b,a,e,f,d){return b("mui.tabbar.TabBarAdapter",[a],{startup:function(){this.inherited(arguments);d(function(){var g=navigator.userAgent;var h=!!g.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);var k=e.getClientType();if(!h||k==0){f(".muiTabBarBottomAdaptive").removeClass("muiTabBarBottomAdaptive")}})}})})},"sys/mobile/js/mui/search/_SearchPrompt":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/_WidgetBase","dojo/json","dojo/topic","dojo/dom-construct","dojo/dom-style","mui/util","dojo/touch","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/request","./_SearchPromptList","dojo/dom-attr","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(h,o,f,q,k,d,n,l,g,b,e,m,p,a){return h("mui.search._SearchPrompt",[f,m],{_storageKey:"_muiSearchKeywords",_storageItem:[],isNeeAnimation:true,isShow:false,forPage:false,hotUrl:"/sys/ftsearch/expand/sys_ftsearch_hotword/sysFtsearchHotword.do?method=hot",prefix:"",langSetting:{clearRecord:b["mui.search.clearrecord"],hot:a["mui.mobile.sysFtSearch.hot"],history:a["mui.mobile.sysFtSearch.history"]},buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||d.create("div",{});this.inherited(arguments);this.contentNode=d.create("div",{},this.domNode);this.hotRecord=d.create("div",{className:"muiSearchHotRecord"},this.contentNode);this.drawHot();this.histroyRecord=d.create("div",{className:"muiSearchRecord"},this.contentNode);this.drawRecord();this.show()},drawRecord:function(){var s=d.create("div",null,this.histroyRecord);d.create("h3",{innerHTML:this.langSetting.history},s);var t=d.create("i",{className:"fontmuis muis-trash-can",innerHTML:" "+a["mui.mobile.sysFtSearch.clean"]},s);this.connect(t,"onclick","_clearRecords");this.ulNode=d.create("ul",null,this.histroyRecord);this._drawRecord()},startup:function(){this.inherited(arguments);this.subscribe("/mui/search/submit","_onSubmit")},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/search/submit","_addRecord");this.subscribe("/mui/search/cancel","_onCancel");this.subscribe("/mui/search/onClear","_onClear");l.disableTouch(this.domNode,g.move)},_onCancel:function(s){if(s!=this.parent){return}if(!this.forPage){this.hide()}this.showPanel();this.inherited(arguments)},_onSubmit:function(s){if(s!=this.parent){return}this.show();this.hidePanel();this.inherited(arguments)},_onClear:function(s){if(s!=this.parent){return}this.showPanel();this.inherited(arguments)},hidePanel:function(){n.set(this.contentNode,{display:"none"})},showPanel:function(){n.set(this.contentNode,{display:"block"})},showRecord:function(){n.set(this.histroyRecord,{display:"block"})},hideRecord:function(){n.set(this.histroyRecord,{display:"none"})},show:function(){n.set(this.containerNode,{display:"block"})},hide:function(s){n.set(this.containerNode,{display:"none"});if(s){return}},getStoreKey:function(){return this.prefix+this._storageKey},_drawRecord:function(){if(window.localStorage){var w=this.getStoreKey();var y=window.localStorage.getItem(w);if(!y){y="[]"}this._storageItem=q.parse(y);if(this._storageItem.length>0){d.empty(this.ulNode);for(var u=0;u<this._storageItem.length;u++){var s=this._storageItem[u];if(!s){continue}s=decodeURIComponent(s);s=l.formatText(s);var v=d.create("li",null,this.ulNode);var x=d.create("span",{className:"muiSearchRText",innerHTML:s},v);var t=d.create("icon",{className:"fontmuis muis-delete","data-index":u},v);this.connect(x,"onclick","_selectRecord");this.connect(t,"onclick","_clearRecord")}this.showRecord()}else{this.hideRecord()}}},_addRecord:function(u){if(u!=this.parent){return}if(window.localStorage){var t=decodeURIComponent(u.keyword);var v=this.getStoreKey();if(this._storageItem.length==0){this._storageItem.push(t)}else{if(this._storageItem.length<=10){var s=o.indexOf(this._storageItem,t);if(s>-1){this._storageItem.splice(s,1)}this._storageItem.unshift(t)}}if(this._storageItem.length>10){this._storageItem=this._storageItem.slice(0,10)}window.localStorage.setItem(v,q.stringify(this._storageItem))}this._drawRecord()},_clearRecord:function(t){if(window.localStorage){var v=t.target;var s=p.get(v,"data-index");var u=this.getStoreKey();this._storageItem.splice(s,1);window.localStorage.setItem(u,q.stringify(this._storageItem));this._drawRecord()}},_clearRecords:function(){if(window.localStorage){this._storageItem=[];var s=this.getStoreKey();window.localStorage.removeItem(s);this._drawRecord()}},_selectRecord:function(t){var u=t.target||t.srcElement;var s=u.innerHTML;k.publish("/mui/search/keyword",this,{keyword:s})},drawHot:function(){var s=this;e.get(l.formatUrl(this.hotUrl),{handleAs:"json"}).response.then(function(t){var x=t.data;if(x&&x.length>0){s.hotWords=x;d.create("h3",{innerHTML:s.langSetting.hot},s.hotRecord);var v=d.create("ul",null,s.hotRecord);for(var u=0;u<s.hotWords.length;u++){var w=d.create("li",{innerHTML:s.hotWords[u]},v);s.connect(w,"onclick","_selectRecord")}}else{n.set(s.hotRecord,"display","none")}})}})})},"sys/mobile/js/mui/tabfilter/TabfilterLeftItemMixin":function(){define(["dojo/_base/declare","dojox/mobile/_ItemBase","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/topic","mui/util"],function(g,d,b,h,f,e,a){return g("mui.tabfilter.TabfilterLeftItemMixin",[d],{tag:"li",isActive:false,itemsName:"tags",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||b.create(this.tag,{className:"tabfilterLeftItem"});this.inherited(arguments);if(this.categoryName){b.create("span",{innerHTML:"<label>"+a.formatText(this.categoryName)+"</label>"},this.domNode)}this.connect(this.domNode,"click","selectCate")},selectCate:function(k){if(k){if(k.stopPropagation){k.stopPropagation()}if(k.cancelBubble){k.cancelBubble=true}if(k.preventDefault){k.preventDefault()}if(k.returnValue){k.returnValue=false}}if(this.isActive){return}var k={items:this[this.itemsName],categoryName:this.categoryName};e.publish("/mui/tabfilter/left/change",this,k);this.isActive=true;h.add(this.domNode,"active")},_otherCateSelected:function(){if(this.isActive){this.isActive=false;h.remove(this.domNode,"active")}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/tabfilter/left/change","_otherCateSelected")},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(k){if(k){this._set("label",k)}}})})},"sys/mobile/js/mui/datetime/_DateMixin_year":function(){define(["dojo/_base/declare","mui/datetime/_EditDateTimeMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){return b("mui.datetime._DateMixin",[a],{type:"date",tmplStr:'<div data-dojo-type="mui/datetime/DatePicker_year" id="_date_picker" data-dojo-props="value:\'!{dateValue}\'"></div>',title:d["mui.date.select"],_contentExtendClass:"muiDateDialogDisContent"})})},"sys/mobile/js/mui/form/Template":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container"],function(d,f,b,a){var e=d("mui.form.Template",[f,b,a],{stopParser:true});return e})},"sys/mobile/js/mui/DelayView":function(){define(["dojo/_base/declare","dojo/topic","dojox/mobile/View","dojo/parser"],function(b,a,d,e){return b("mui.DelayView",[d],{stopParser:true,startup:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments)},onAfterTransitionIn:function(){this._initView()},_initView:function(){var f=this;if(!this.loading){this.loading=true;e.parse(f.domNode).then(function(){a.publish("/mui/list/resize")})}}})})},"sys/mobile/js/mui/commondialog/template/DialogItemMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/topic","dojox/mobile/_ItemBase","mui/util","mui/iconUtils"],function(d,g,b,h,e,k,f,a){var l=d("mui.category.CategoryItemMixin",[k],{fdId:"",tag:"li",key:null,_enterClass:"mblListItemSelected",data:{},displayProp:"",props:{},buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||b.create(this.tag,{className:"muiCateItem"});var m="muiCateInfoItem";this.contentNode=b.create("div",{className:m},this.domNode)}this.label=this.data[this.displayProp];this.inherited(arguments);if(!this._templated){this._buildItemBase()}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/cancelSelected","_cancelSelected");this.subscribe("/mui/category/setSelected","_setSelected")},_buildItemBase:function(){this.cateContainer=b.create("div",{className:"muiCateContainer"},this.contentNode);this.iconNode=b.create("div",{className:"muiCateIcon"},this.cateContainer);this.buildIcon(this.iconNode);this.infoNode=b.create("div",{className:"muiCateInfo"},this.cateContainer);this.titleNode=b.create("div",{className:"muiCateName ",innerHTML:this.data[this.displayProp]},this.infoNode);this.contentNode=b.create("div",{className:"muiListSummary"},this.infoNode);for(var n in this.props){if(n!=this.displayProp&&this.data[n]){var m=b.toDom("<div>"+this.data[n]+"</div>");b.create("div",{className:"muiCateProp",innerHTML:'<span class="muiCatePropTitle">'+this.props[n]+':</span>&nbsp;&nbsp;<span class="muiCatePropInfo">'+m.innerText+"</span>"},this.contentNode)}}this.connect(this.infoNode,"click","_selectCate");this.connect(this.iconNode,"click","_selectCate")},startup:function(){if(this._started){return}this.inherited(arguments);var m=this.getParent();this.key=m.key;this.selectArea=b.create("div",{className:"muiCateSelArea"},this.cateContainer,"first");this.selectNode=b.create("div",{className:"muiCateSel"},this.selectArea);if(m.isMul){h.add(this.selectNode,"muiCateSelMul")}if(this.isSelected()){this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);h.add(this.selectNode,"muiCateSeled")}this.connect(this.selectArea,"click","_selectCate")},isSelected:function(){var n=this.getParent();if(n&&n.curIds){var m=n.curIds.split(";");if(g.indexOf(m,this.fdId)>-1){return true}}return false},_openCate:function(m){this.set("entered",true);this.defer(function(){this.set("entered",false);e.publish("/mui/category/changed",this,{fdId:this.fdId,label:this.data[this.displayProp]})},200);return},_cancelSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){if(this.checkedIcon){h.remove(this.selectNode,"muiCateSeled");b.destroy(this.checkedIcon);this.checkedIcon=null;e.publish("/mui/category/unselected",this,this.data)}}}}},_setSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){h.add(this.selectNode,"muiCateSeled");this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);this.set("entered",true);this.defer(function(){this.set("entered",false)},200);e.publish("/mui/category/selected",this,this.data)}}}},startTime:0,_selectCate:function(m){if(this.startTime!=0){var n=new Date().getMilliseconds();if(n-this.startTime<350){this.startTime=0;return}this.startTime=0}else{this.startTime=new Date().getMilliseconds();this.defer(function(){this.startTime=0},360)}if(m){if(m.stopPropagation){m.stopPropagation()}if(m.cancelBubble){m.cancelBubble=true}if(m.preventDefault){m.preventDefault()}if(m.returnValue){m.returnValue=false}}if(this.selectArea){if(this.selectNode){if(this.checkedIcon!=null){this._cancelSelected(this,this)}else{this._setSelected(this,this)}return}}this.showItemDetail();return},showItemDetail:function(){},buildIcon:function(m){a.setIcon("mui mui-file-text",null,this._headerIcon,null,m)},_setLabelAttr:function(m){if(m){this._set("label",m)}},_setEnteredAttr:function(m){h.toggle(this.domNode,this._enterClass,m)}});return l})},"sys/mobile/js/mui/tabfilter/TabfilterRightStoreMixin":function(){define(["dojo/_base/declare","dojo/store/Memory","mui/store/JsonRest","dojox/mobile/viewRegistry"],function(d,e,b,a){return d("mui.tabfilter.TabfilterRightStoreMixin",null,{curVaules:"",curTexts:"",postCreate:function(){this.inherited(arguments);this.subscribe("/mui/tabfilter/left/change","_cateChange");this.subscribe("/mui/tabfilter/selChanged/add","_setCurSel");this.subscribe("/mui/tabfilter/selChanged/delete","_setCurSel")},_cateChange:function(k,f){var m=a.getEnclosingView(this.domNode);if(m&&m.scrollTo){m.scrollTo({x:0,y:0})}if(f){var h,g=this;if(!f.items&&(this.url||f.url)){this.url=f.url;h=new b({target:this.url})}else{var l=this._formatData(f.items);h=new e({data:l})}this.store=null;this.setStore(h,this.query,this.queryOptions)}},_formatData:function(h){if(h&&h.length>0){var g=[];for(var f=0;f<h.length;f++){if(typeof(h[f]==="string")){g.push({value:h[f],text:h[f]})}}if(g.lenth==0){g=h}return g}},_setCurSel:function(g,f){if(f){if(f.curValues&&f.curValues==this.curValues){return}this.curValues=f.values;this.curTexts=f.texts}}})})},"sys/mobile/js/mui/form":function(){define(["mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/topic","dojo/_base/lang","dijit/registry","mui/i18n/_i18n!sys/mobile/js/mui/mui"],function(h,t,E,l,y){var b={isArray:E.isArray,trim:E.trim};var C="extendDataFormInfo.value(";var m=")";window.$form=function(J,I){if((J instanceof n)||(J instanceof k)){return J}if(typeof J=="string"){var G=J.indexOf("*");if(G>-1){if(I&&J.substring(0,G)==I.substring(0,G)){var F=I.match(/[\[\.](\d+)[\]\.]/g);if(F){for(var H=0;H<F.length;H++){J=J.replace(/([\[\.])\*([\]\.])/,F[H])}return new n(J)}else{return new k(J)}}else{return new k(J)}}}return new n(J)};$form.str=function(I,G,J){if(b.isArray(I)){var H=[];for(var F=0;F<I.length;F++){H.push(s(I[F],G,J))}return H}return s(I,G,J)};$form.format=function(I,G,J){if(b.isArray(I)){var H=[];for(var F=0;F<I.length;F++){H.push(w(I[F],G,J))}return H}return w(I,G,J)};$form.bind=function D(F){q.push(F)};$form.unbind=function g(G){for(var F=0;F<q.length;F++){if(q[F]===G){q.splice(F,1);F--}}};function n(G){this.target=f(G);this._provider=x(this.target);this.field=this.target.field;this.val=function(H){return this._provider.val(this.target,H==null||typeof H=="string"?H:H+"")};this.display=function(H){return this._provider.display(this.target,F(H))};this.readOnly=function(H){return this._provider.readOnly(this.target,F(H))};this.required=function(H){return this._provider.required(this.target,F(H))};this.editLevel=function(H){if(H!=null){H=parseInt(H,10);if(isNaN(H)){return}}return this._provider.editLevel(this.target,H)};this.size=function(){return this.target.type?1:0};function F(H){if(H==null){return H}if(H===true||H==="true"){return true}return false}}function k(F){this.target={field:F,type:"detail"};this.field=F;this._fields=G(F);this.val=function(H){return this._exec("val",H)};this.display=function(H){return this._exec("display",H)};this.readOnly=function(H){return this._exec("readOnly",H)};this.required=function(H){return this._exec("required",H)};this.editLevel=function(H){return this._exec("editLevel",H)};this.size=function(){return this._fields.length};this._exec=function(L,K){if(K==null){var J=[];for(var I=0;I<this._fields.length;I++){J.push(this._fields[I][L]())}return J}var H=b.isArray(K);for(var I=0;I<this._fields.length;I++){if(H){if(K.length<=I){break}if(K[I]==null){continue}this._fields[I][L](K[I])}else{this._fields[I][L](K)}}return J};function G(N){var I=N.indexOf("*");var M=N.substring(0,I);var K=N.substring(I+1);var H=[];for(var J=0;true;J++){var L=new n(M+J+K);if(L.size()==0){break}H.push(L)}return H}}function A(G,H){if(!G){return}var I={"M+":G.getMonth()+1,"d+":G.getDate(),"H+":G.getHours(),"m+":G.getMinutes(),"s+":G.getSeconds()};if(/(y+)/.test(H)){H=H.replace(RegExp.$1,(G.getFullYear()+"").substring(RegExp.$1.length==2?2:0))}for(var F in I){if(new RegExp("("+F+")").test(H)){H=H.replace(RegExp.$1,(RegExp.$1.length==1)?(I[F]):(("00"+I[F]).substring((""+I[F]).length)))}}return H}function u(M,N){if(!M){return}M=b.trim(M);var F=/([yMdHms]+)/g;var I=/\D/;var O=[];var H,L;for(var J=0;J<6;J++){L=F.exec(N,J);if(L==null){break}if(H){O.push({key:L[0],split:N.substring(H.index+H[0].length,L.index)})}else{O.push({key:L[0],index:0})}H=L}if(O.length==0){return null}var G=new Date(0);H=O[0];for(var J=1;J<O.length;J++){var L=O[J];L.index=M.indexOf(L.split,H.index);if(L.index==-1){return null}if(!K(G,H.key,M.substring(H.index,L.index))){return null}L.index+=L.split.length;H=L}if(!K(G,H.key,M.substring(H.index))){return null}return G;function K(P,S,R){if(I.test(R)){return false}R=parseInt(R,10);switch(S.charAt(0)){case"y":if(S.length==2){var Q=new Date().getFullYear();R=Q-Q%100+R%100}P.setFullYear(R);break;case"M":if(R>12){return false}P.setMonth(R-1);break;case"d":if(R>31){return false}P.setDate(R);break;case"H":if(R>23){return false}P.setHours(R);break;case"m":if(R>59){return false}P.setMinutes(R);break;case"s":if(R>59){return false}P.setSeconds(R);break}return true}}function s(G,F,H){if(G==null){return""}if(typeof G=="string"){return G}if(typeof G=="number"){if(isNaN(G)){return""}var I=G.toString();if(/\.\d*999999/.test(I)||/\.\d*0000000/.test(I)){I=Math.round(G*1000000)/1000000+""}return I}F=F==null?"string":F.toLowerCase();if(F=="datetime"||F=="date"||F=="time"){return A(G,v(F,H))}return G+""}function w(G,F,H){if(G==null){return G}F=F==null?"string":F.toLowerCase();switch(F){case"string":case"rtf":if(typeof G=="string"){return G}else{return G+""}case"integer":case"long":if(G==""){return 0}G=parseInt(G,10);if(isNaN(G)){return null}else{return G}case"double":if(G==""){return 0}G=parseFloat(G,10);if(isNaN(G)){return null}else{return G}case"boolean":if(G==true||G=="true"||G=="on"){return true}if(G==false||G=="false"||G=="off"){return false}return null;case"date":case"time":case"datetime":if(typeof G=="string"){return u(G,v(F,H))}if(G instanceof Date){return G}return null}return null}function v(F,G){if(G){return y["date.format."+G]}return y["date.format."+F]}var d=[];var q=[];var e=-1;function p(G){if(G.target){G.field=G.target.field}var H=false;for(var F=0;F<d.length;F++){var I=d[F];if(I.type===G.type&&I.field===G.field){H=true;break}}if(!H){d.push(G)}if(e>-1){clearTimeout(e)}e=setTimeout(a,100)}function a(){var L=d;d=[];e=-1;for(var I=0;I<L.length;I++){var K=L[I];for(var G=0;G<q.length;G++){var F=q[G];if(F[K.type]==null){continue}if(J(K.field,F.field,true)){K.listener=F;try{F[K.type](K)}catch(H){if(window.console){console.error(H)}}}}}function J(M,P,O){if(P==null){return O}if(typeof P=="string"){if(M==P){return true}if(P.indexOf("*")>-1){M=M.replace(/([\.\[])\d+([\.\]])/g,"$1*$2");if(M==P){return true}}if(M.substring(0,C.length)==C){return M==C+P+m}}else{if(b.isArray(P)){for(var N=0;N<P.length;N++){if(J(M,P[N],false)){return true}}}}return false}}function x(F){return z}function B(F){for(var H in F){this[H]=F[H]}this.val=function(J,I){return G(this,"val",J,I)};this.display=function(J,I){if(J.cache.maxLevel==0){return false}return G(this,"display",J,I,"onDisplayChange")};this.readOnly=function(J,I){if(J.cache.maxLevel<2){if(I==null){return true}return false}return G(this,"readOnly",J,I,"onReadOnlyChange")};this.required=function(J,I){if(J.cache.maxLevel<2){return false}return G(this,"required",J,I)};this.editLevel=function(K,J){var L=0;if(!this.display(K)){L=0}else{if(this.readOnly(K)){L=1}else{if(!this.required(K)){L=2}else{L=3}}}if(J==null){return L}if(J==L){return false}var I=K.cache.maxLevel==2?3:K.cache.maxLevel;J=J>I?I:J;if(J==0){this.display(K,false);this.required(K,false)}else{if(J==1){this.display(K,true);this.readOnly(K,true);this.required(K,false)}else{if(J==2){this.display(K,true);this.readOnly(K,false);this.required(K,false)}else{if(J>=3){this.display(K,true);this.readOnly(K,false);this.required(K,true)}}}}};function G(L,P,O,N,K){var M=F[P];var J=M.apply(L,[O]);if(N==null){return J}if(J==N){return false}var I=M.apply(L,[O,N]);if(K&&I!==false){p({type:K,target:O,by:"set"})}return I}}function f(H){if(typeof H=="string"){var G=o(H);if(G.type){return G}else{var F=o(C+H+m);if(F.type){return F}else{return G}}}else{return o(H)}}function o(L){var J,H,G;J=document.getElementsByName(L);if(J.length==0){J=null}if(!J){G=document.getElementById("_xform_"+L);if(G){J=G.querySelectorAll("*[data-dojo-type]")}if(K(G,L)){H=G._xForm_cache}else{G=null}return I()}H=J[0]._xForm_cache;if(H){if(H.root){if(H.detailTable){G=F(J)}else{G=document.getElementById(H.root)}}return I()}G=F(J);H=G&&G._xForm_cache;return I();function F(M){for(M=M[0];M&&M.getAttribute;M=M.parentNode){if(M.getAttribute("_xform_type")){return M;break}}}function K(M,P){if(!M){return false}if(M._xForm_cache&&!M._xForm_cache.detailTable||!window.DocList_TableInfo){return true}var N=(/[\[\.](\d+)[\]\.]/).exec(P);if(N==null){return true}var Q;for(var O=M;O!=null&&O.nodeType==1;O=O.parentNode){switch(O.tagName){case"TR":Q=O.rowIndex;break;case"TABLE":if(O.id&&DocList_TableInfo[O.id]&&Q!=null){return Q-DocList_TableInfo[O.id].firstIndex==N[1]}}}return true}function I(){var M;if(H){M=H.widget?l.byId(H.widget):null;return{field:L,type:H.type,widget:M,root:G,cache:H}}H={};if(J){M=l.getEnclosingWidget(J[0]);if(M){if(M.showStatus){H.widget=M.id}else{M=null}}J[0]._xForm_cache=H}if(G){H.type=G.getAttribute("_xform_type");H.root=G.id;G._xForm_cache=H}else{if(M){H.type=M.declaredClass}}H.detailTable=(/[\[\.]\d+[\]\.]/).test(L);if(M){switch(M.showStatus){case"edit":H.maxLevel=2;break;case"view":case"readOnly":H.maxLevel=1;break;default:H.maxLevel=0}}else{if(G){H.maxLevel=1}else{H.maxLevel=0}}return{field:L,type:H.type,widget:M,root:G,cache:H}}}var z=new B({val:function(H,G){var F=H.widget;if(G==null){if(F){if(H.field==F.nameField){return H.widget.get("curNames")}else{return H.widget.get("value")}}return}if(F){if(H.field==F.nameField){H.widget.set("curNames",G)}else{H.widget.set("value",G)}return true}return false},display:function(H,G){var F=H.root||(H.widget&&H.widget.domNode);if(F){if(G==null){if(window.getComputedStyle){return window.getComputedStyle(F)["display"]!="none"}else{return F.currentStyle.display!="none"}}F.style.display=G?"":"none"}else{return false}},readOnly:function(H,G){var F=H.widget;if(G==null){if(F){return H.widget.get("readOnly")}return}if(F){H.widget.set("readOnly",G);return true}return false},required:function(H,G){var F=H.widget;if(G==null){if(F){return H.widget.get("required")}return}if(F){H.widget.set("required",G);return true}return false}});t.subscribe("/mui/form/valueChanged",function(F){if(F&&F.showStatus){p({type:"onValueChange",field:F.get("name"),by:"change"})}});return window.$form})},"sys/mobile/js/mui/device/kk5/adapter":function(){define(["mui/device/device","mui/util","mui/device/kk5/attachment","mui/device/kk5/_attachment","mui/dialog/Tip","mui/picslide/ImagePreview","dojo/request","lib/kk5/kk5","dojo/Deferred","mui/map","dojo/_base/lang"],function(b,h,e,f,o,n,g,k,l,a,d){var m={closeWindow:function(){k.app.exit();return{}},enterVideoMeeting:function(q,p,s){k.app.enterMeeting({roomId:q.roomId},function(){var t={code:0,text:"成功进入会议"};p&&p(t)},function(u,v){var v="";if(u==-1){v="会议不存在"}if(u==-2){v="会议未开始"}if(u==-3){v="会议已经结束"}if(u==-8){v="网络异常"}if(window.console){window.console.error(v)}if(window.console){console.log("错误代码是"+u+"，错误信息是"+v)}var t={code:u,text:"错误信息："+v};s&&s(t)})},imagePreview:function(q){var u=k.app.getClientInfo().semver;if(this.kkVersionCompare(u,"6.0.1")>=0||(this.kkVersionCompare(u,"5.2.6.6")>=0&&this.kkVersionCompare(u,"6.0.0")<0)){var t=q.srcList,p=0;if(t&&t.length>0){for(var s=0;s<t.length;s++){if(q.curSrc.indexOf(t[s])!=-1){p=s;break}}}k.ready(function(){k.media.previewImage({paths:t,startIndex:p+1,operations:true},function(v,w){console.log("错误信息:"+w+",错误代码:"+v)})})}else{if(!this.preivew){this.preivew=new n()}this.preivew.play(q)}return{}},fileView:function(p){k.file.view(p.path,function(){console.log("在Andriod设备下直接使用外部应用打开文件，在IOS设备下则根据控制台配置的打开方式打开")},function(q){if(window.console){console.log("打开失败："+q)}var s="";if(q==-1){s="文件不存在"}if(q==-2){s="系统未安装wps，无法在线编辑！"}if(q==-3){s="文档保存失败"}if(q==-6){}if(window.console){window.console.error(s)}if(s!=""){o.fail({text:s})}})},setTitle:function(p){k.ready(function(){k.app.setTitle(p)});document.title=p},doDownLoad:function(p,s,u){var t;var q=new k.proxy.Download({url:h.formatUrl("/third/pda/attdownload.jsp?fdId="+p.fdId,true),path:s,isContinuous:false,appearInFileManager:true},function(v){if(v.progress==100){if(t){t.hide()}k.file.view({filepath:v.path,title:u},function(){},function(){})}else{if(!t){t=o.progressing({text:"文件下载中"+v.progress+"%"})}else{t.containerNode.innerHTML='<div><div class="muiDialogTipIcon"><div class="mui mui-loading mui-spin"></div></div><div class="muiDialogTipText"><span>文件下载中'+v.progress+"%</span></div></div>"}}},function(v,w){location.href=h.formatUrl(p.href)});q.start()},download:function(t){var s=t.name.toLowerCase(),u=b.getClientType();if(s.lastIndexOf(".")>-1&&u==9){var q=s.substring(s.lastIndexOf(".")+1);if(q=="zip"||q=="rar"){o.fail({text:"暂不支持此文件类型打开"});return}}var w="sdcard://kkDownloadWps/"+t.name;var x=t.name;var v=x.substring(x.lastIndexOf("."));var p=this;k.file.exists(w,function(y){if(y.exists){x=x.substring(0,x.lastIndexOf("."));w="sdcard://kkDownloadWps/"+x+"_"+(new Date()).getTime()+v;p.doDownLoad(t,w,x)}else{p.doDownLoad(t,w,x)}})},canUseJinGe:function(){var q=new l();var p={office:false,pdf:false};var s=k.app.getClientInfo().semver;if(this.kkVersionCompare(s,"6.0.4")>=0){k.ready(function(){k.file.canUseJinGe(function(t){p.office=t.office;p.pdf=t.pdf;q.resolve(p)},function(t,u){console.log("获取用户使用金格的权限出错，错误信息："+u+"，错误代码:"+t)})})}else{if(this.kkVersionCompare(s,"6.0.2")>=0){p.office=true;p.pdf=true;q.resolve(p)}else{q.resolve(p)}}return q},openOfdFile:function(s,q,x){var w=s.name;var v=w.substring(w.lastIndexOf("."));var p=this;var u=h.formatUrl("/third/pda/attdownload.jsp?fdId="+s.fdAttMainId,true);var t=new k.proxy.Download({url:u,path:"sdcard://kkDownloadWps/"+s.fdAttMainId+v,isContinuous:false},function(z){var B=o.processing({text:"文件打开中..."});if(z.progress!=100){B.show();var A={code:0,text:"文件打开中..."};q&&q(A)}else{B.hide();var y={filepath:z.path,via:"auto"};k.file.view(y,function(C){k.app.on("resume",function(D){p.removefile(z.path)})},function(D){var E="";if(D==-1){E="文件不存在"}if(D==-2){E="系统未安装ofd软件，无法在线打开！"}if(D==-6){E="ofd发生错误"}if(E!=""){if(x){var C={code:D,text:"获取文件系统路径出错："+E};x&&x(C)}else{o.fail({text:E})}}})}},function(z,A){if(window.console){console.log("错误信息："+A+",错误代码："+z)}var y={code:z,text:"错误信息："+A};x&&x(y)});t.start()},openfileByType:function(u,v,t,q,w){var p=this;var s={filepath:v,via:u};if(u=="wps"){s.mode="edit"}k.file.view(s,function(x){if(window.console){console.log("打开成功："+x.operation)}if(x.operation=="close"||x.operation=="save"){k.file.getOSPath(v,function(z){if(window.console){console.log("系统路径为："+z.OSPath)}var y={fdAttMainId:t.fdAttMainId,href:z.OSPath,path:v,name:t.name,edit:true,key:t.key,status:-1};p.doUploadFile(y,x.operation,q,w)},function(z,A){if(window.console){console.log("获取文件系统路径出错："+A+",错误代码："+z)}var y={code:z,text:"获取文件系统路径出错："+A};w&&w(y)})}},function(y){if(window.console){console.log("打开失败："+y)}var z="";if(y==-1){z="文件不存在"}if(y==-2){z="系统未安装"+u+"软件，无法在线编辑！"}if(y==-3){z="文档保存失败"}if(y==-6){z="wps发生错误"}if(window.console){window.console.error(z)}if(z!=""){if(w){var x={code:y,text:"获取文件系统路径出错："+z};w&&w(x)}else{o.fail({text:z})}}})},openfilePdf:function(s,q,p,t){this.openfileByType("pdf",s,q,p,t)},openfileWps:function(s,q,p,t){this.openfileByType("wps",s,q,p,t)},editfile:function(s,q,x){var w=s.name;var v=w.substring(w.lastIndexOf("."));var p=this;var u=h.formatUrl("/third/pda/attdownload.jsp?fdId="+s.fdAttMainId,true);var t=new k.proxy.Download({url:u,path:"sdcard://kkDownloadWps/"+s.fdAttMainId+v,isContinuous:false},function(y){var A=o.processing({text:"文件打开中..."});if(y.progress!=100){A.show();if(window.console){console.log("下载进度："+y.progress)}var z={code:0,text:"文件打开中..."};q&&q(z)}else{A.hide();if(window.console){console.log("文件地址："+y.path)}if(s.fileType&&s.fileType=="pdf"){p.openfilePdf(y.path,s,q,x)}else{p.openfileWps(y.path,s,q,x)}}},function(z,A){if(window.console){console.log("错误信息："+A+",错误代码："+z)}var y={code:z,text:"错误信息："+A};x&&x(y)});t.start()},doUploadFile:function(v,u,p,w){var t=h.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttUpload&gettype=getuserkey&format=json",true);console.log("fdAttMainId:"+v.fdAttMainId);var s="filesize="+v.size+"&fdAttMainId="+v.fdAttMainId+"&md5=";var q=this;g.post(t,{data:s,handleAs:"json",sync:true}).then(function(x){if(x.status=="1"){v.status=1;var y=(x.token&&x.token.header)?x.token.header.userkey:"";q.uploadWpsFile(y,v,u,p,w)}},function(y){if(window.console){console.log(y)}var x={text:"上传附件失败"};w&&w(x)})},removefile:function(p){k.file.remove(p,function(){if(window.console){console.log("删除成功！！！")}},function(q,s){if(window.console){console.log("错误信息："+s+",错误代码:"+q)}})},uploadWpsFile:function(u,t,s,q,v){var p=this;k.proxy.uploadView({token:u,userkey:u,url:h.formatUrl("/sys/attachment/uploaderServlet?gettype=upload&fdAttMainId="+t.fdAttMainId+"&format=json",true),fullPath:t.href},function(w){if(window.console){console.log("上传成功："+w)}if(s=="close"){p.removefile(t.path)}var x={code:1,text:""};q&&q(x)},function(x){p.removefile(t.path);var y="";if(x==-1){y="附件上传网络不可用"}if(x==-2){y="附件上传调用参数错误"}if(x==-3){y="附件上传被取消"}if(x==-9){y="附件上传服务器端出错"}if(window.console){window.console.error(y)}if(y!=""){if(v){var w={code:x,text:y};v&&v(w)}else{o.fail({text:y})}}})},showTitleBar:function(p){if(p){k.app.hideTitleBar()}else{k.app.showTitleBar()}return{}},goBack:function(){k.history.canGo(function(p){if(p.canGoBack){k.history.back()}else{k.app.exit()}});return{}},goForward:function(){k.history.forward();return{}},getUserID:function(){var p=k.app.getUserInfo();if(p!=null){return p.loginName}return null},_select:function(u,t){var s=t.options;if(!window.AttachmentList){window.AttachmentList={}}if(!window.feature){window.feature=u}var q=window.AttachmentList[s.fdKey];if(!q||window.feature!=u){window.feature=u;s.uploadStream=true;q=new e(s);window.AttachmentList[s.fdKey]=q}var v=1;if(s.fdMulti&&u=="album"){v=9}var p={sourceType:u,count:v,quality:s.quality,destinationType:"file",encodingType:s.encodingType||"png",showVideo:true,needCover:true};if(s.targetWidth){p.targetWidth=s.targetWidth}if(s.targetHeight){p.targetHeight=s.targetHeight}k.media.getPicture(p,function(x,y){for(var z=0;z<x.length;z++){var w=x[z];if(w.mediaType=="video"){var B=w.videoPath;k.file.readAsBase64(B,function(C){q.startUploadFile({href:"data:image/png;base64,"+C.content,size:"",name:"video"+new Date().getTime()+".mp4",filePath:B})},function(D,C){if(D){q.uploadError(null,{rtn:{status:D,msg:"附件转换为base64过程发生错误,信息为："+C}})}})}else{if(w.mediaType=="image"){var A=w.imageURI;k.file.readAsBase64(A,function(C){q.startUploadFile({href:"data:image/png;base64,"+C.content,size:"",name:"image"+new Date().getTime()+".png",filePath:A})},function(D,C){if(D){q.uploadError(null,{rtn:{status:D,msg:"附件转换为base64过程发生错误,信息为："+C}})}})}}}},function(w,x){if(w&&w!=-1&&x!=null&&x!=""){q.uploadError(null,{rtn:{status:"-1",msg:"附件上传错误,信息为："+x}})}});return{}},openCamera:function(q){var s=k.app.getClientInfo().semver;console.log(q.options);q.options.encodingType="jpeg";q.options.quality=80;q.options.targetWidth=1000;q.options.targetHeight=2000;var p="camera";if(q.options.capture&&this.kkVersionCompare(s,"6.0.4")>=0){p=q.options.capture}return this._select(p,q)},selectFile:function(q){console.log(q.options);q.options.targetWidth=window.screen.width*2;q.options.targetHeight=window.screen.height*2;var p=q.feature||"album";if(p=="file_manager"){return this._selectFile(p,q)}else{return this._select(p,q)}},_selectFile:function(t,s){var q=s.options;if(!window.AttachmentList){window.AttachmentList={}}if(!window.feature){window.feature=t}var p=window.AttachmentList[q.fdKey];if(!p||window.feature!=t){window.feature=t;q.uploadStream=true;p=new f(q);window.AttachmentList[q.fdKey]=p}k.file.chooseFile(function(u){u.name=u.fileName;k.file.getFileInfo(u.filePath,function(v){u.size=v.size;p.startUploadFile(u)},function(v,w){})},function(u,v){console.log("从文件管理器选择一个文件，错误信息："+v+"，错误代码:"+u)})},openSpeech:function(s){var q=s.options;if(!window.AttachmentList){window.AttachmentList={}}var p=window.AttachmentList[q.fdKey];if(!p){p=new e(q);window.AttachmentList[q.fdKey]=p}k.media.captureAudio(function(t){p.startUploadFile(t)},function(t){if(t==-3){if(window.console){window.console.log("录音取消..")}}if(t==-9){if(window.console){window.console.error("录音出错..")}}});return{}},playSpeech:function(p){k.media.playAudio(p,function(q){if(q==-3){if(window.console){window.console.log("录音播放取消..")}}if(q==-9){if(window.console){window.console.error("录音播放出错..")}}});return{}},captureScreen:function(p){k.app.captureScreen({targetWidth:window.screen.width,targetHeight:window.screen.height},function(q){p(q.imageData)},function(q){if(window.console){window.console.error("截屏出错:"+q)}});return{}},isEBEN:function(){var q=k.app.getClientInfo().semver;if(this.kkVersionCompare(q,"6.0.3")>=0){var p=k.app.getDeviceInfo();if(p&&p.osModel&&p.osModel.indexOf("EBEN")>-1){return true}else{return false}}return false},getSignImage:function(t){var w=k.app.getClientInfo().semver;var u=b.getClientType();if(u==9&&this.kkVersionCompare(w,"6.0.2")<0){return false}var s=t.options;if(!window.AttachmentList){window.AttachmentList={}}var q=window.AttachmentList[s.fdKey];if(!q){s.uploadStream=false;q=new e(s);window.AttachmentList[s.fdKey]=q}var v={width:window.screen.width,height:window.screen.height,penSize:3,penColor:1};if(this.kkVersionCompare(w,"6.0.2")>=0){v={penSize:3,penColor:"black"}}k.media.getSignImage(v,function(x){var p=x.resultPath;if(!p){p=x.picUri}q.startUploadFile({fullPath:p,href:p,size:"",name:"image.png"})},function(p,x){if(window.console){window.console.log("错误信息:"+x+",错误代码:"+p)}});return{}},ready:function(p){k.ready(p)},setOrientation:function(p){k.device.setOrientation(p)},getOrientation:function(q,p){k.device.getOrientation(q,p)},callPhone:function(p){if(typeof p!=="number"){p=parseFloat(p)}k.phone.call({number:p,needCallSessionInfo:false})},sendMsg:function(p){k.phone.sms(p)},view:function(p,t,s){try{var u=k.app.getClientInfo().semver;if("_blank"==t&&this.kkVersionCompare(u,"5.2.6")>=0){k.file.view(p,function(){},function(){window.open(p,"_self")});return}}catch(q){}window.open(p,t);return},open:function(p,u,t){var s=p.indexOf("?")>-1?p.substring(0,p.indexOf("?")):p;if(dojoConfig.fileMapping&&dojoConfig.fileMapping[s]){p=dojoConfig.fileMapping[s]+(p.indexOf("?")>-1?p.substring(p.indexOf("?"),p.length):"");window.open(p,"_self")}try{var v=k.app.getClientInfo().semver;if("_blank"==u&&this.kkVersionCompare(v,"5.2.6")>=0){k.app.callApp(p,function(){if(p.indexOf("third/pad/")>-1||p.indexOf("sys/notify/")>-1){console.log("resume注册");k.app.on("resume",function(w){window.location.reload();console.log(JSON.stringify(w))})}},function(w,x){console.log("kk.app.callApp 错误代码："+w+" , 错误信息："+x);window.open(p,"_self")});return}}catch(q){if(u==="_top"){window.open(p,"_top");return}window.open(p,"_self");return}window.open(p,u);return},kkVersionCompare:function(w,v){var t=w.split("."),p=v.split(".");for(var s=0;s<Math.max(t.length,p.length);s++){var u=parseInt(t[s]||0,10),q=parseInt(p[s]||0,10);if(u>q){return 1}if(q>u){return -1}}return 0},scanQRCode:function(p){k.ready(function(){k.scaner.scanTDCode(function(q){p&&p({text:q.code})})});return true},getCurrentCoord:function(s,q,p){k.ready(function(){k.location.getLocation(function(t){console.log("获取地理坐标:"+t.latitude+","+t.longitude);s&&s({lat:t.latitude,lng:t.longitude,coordType:3})},function(t){q&&q(t);o.fail({text:"KK地理定位失败"});if(window.console){console.error("获取地理坐标失败:"+t)}})})},getCurrentPosition:function(s,q,p){p=p||{};this.getCurrentCoord(function(t){a.getMapLocation(d.mixin(t,p),s,q)},q,p)},openChat:function(q,t,p){var s=this._fetchUserId(q);s.then(function(u){k.ready(function(){k.econtact.startChat(u,function(){t&&t()},function(v,w){console("发起会话失败：code："+v+",错误信息："+w);p&&p(v)})})})},openUserCard:function(q){var s=this._fetchUserId(q),p=this;s.then(function(t){k.ready(function(){k.econtact.showECard(t,function(){},function(u,v){console.log(v);p["$super$openUserCard"]&&p["$super$openUserCard"].call(p,q)})})})},_fetchUserId:function(q){var s=new l();q.userID=q.userId;if(!q.userID&&!q.loginName&&q.ekpId){var p=h.formatUrl("/third/im/kk/user.do?method=getUserId&fdId="+q.ekpId);g(p,{handleAs:"json"}).then(function(t){q.loginName=t.userId;s.resolve(q)})}else{s.resolve(q)}return s},supportfingerPrint:function(){if(this.kkVersionCompare(v1,"6.0.1")>=0){return 0}else{return 2}},validatefingerPrint:function(s,p){var q=k.app.getClientInfo().semver;if(this.kkVersionCompare(q,"6.0.1")>=0){k.ready(function(){k.security.verifyFingerprint(function(){s&&s()},function(t,u){if(t==1){s&&s()}else{if(t==4){p&&p()}else{if(t==2||t==3||t==5||t==9){var v={text:u};o.fail(v);p&&p(v)}}}console.log("指纹错误码:"+t+"信息:"+u)})})}else{s&&s()}},supportFacePrint:function(){var p=k.app.getClientInfo().semver;if(this.kkVersionCompare(p,"6.0.4")>=0){return 0}else{return 2}},checkFace:function(s,p){var q=k.app.getClientInfo().semver;if(this.kkVersionCompare(q,"6.0.4")>=0){k.ready(function(){k.security.checkFace(function(){s&&s()},function(t,u){if(t==1||t==2||t==3||t==4||t==5||t==7||t==6){o.fail({text:u});p&&p({text:u,code:t})}console.log("发起人脸检查失败，错误代码："+t+"; 错误详情："+u)})})}else{s&&s()}},supportCamera:function(){return 0},validateCamera:function(w,u,q){var t=q||{};console.log(t);t.encodingType="jpeg";t.quality=80;t.targetWidth=1000;t.targetHeight=2000;var s="camera";var v=k.app.getClientInfo().semver;if(this.kkVersionCompare(v,"6.0.4")>=0){s="sysCamera"}var p={sourceType:s,count:1,quality:80,destinationType:"file",encodingType:"png",showVideo:"1"};k.media.getPicture(p,function(y){;for(var A=0;A<y.length;A++){var x=y[A],B=x.imageURI;var z=x.imageFileOSPath;k.file.readAsBase64(B,function(D){var C={href:"data:image/png;base64,"+D.content,size:"",name:"image"+new Date().getTime()+".png",imageFileOSPath:z,filePath:B};w&&w(C)},function(D,C){if(D){u({rtn:{status:D,msg:"附件转换为base64过程发生错误,信息为："+C}})}})}},function(x,y){console.log("错误信息:"+y+", 错误代码:"+x);u&&u(x)})},openViewMap:function(p,s,q){k.ready(function(){if(p&&p.lng&&p.lat){if(p.coordType=="bd09"){p.__coordType=2}else{p.__coordType=1}k.location.navigate({fromAddress:p.fromAddress||"我的位置",targetLongitude:p.lng,targetLatitude:p.lat,targetAddress:p.value,coordinateType:p.__coordType},function(){s&&s()},function(t,u){window.console&&console.log("导航失败， code: "+t+" ,msg: "+u)})}else{window.console&&console.log("导航失败，缺少参数");q&&q()}})},getNetworkType:function(q){var p=this;k.ready(function(){var s=k.app.getClientInfo().semver;if(p.kkVersionCompare(s,"6.0.2")>=0){k.device.getNetType(function(t){q&&q({networkType:t.netType})},function(){q&&q();window.console&&console.log("未知网络环境")})}else{q&&q()}})},getWifiInfo:function(q){var p=this;k.ready(function(){var s=k.app.getClientInfo().semver;if(p.kkVersionCompare(s,"6.0.2")>=0){k.device.getWifiInfo(function(t){q&&q({ssid:t.ssid,macIp:t.ap_mac})},function(t,u){o.fail({text:"获取wifi失败:"+u});window.console&&console.log("获取wifi失败，错误信息:"+u+", 错误代码:"+t);q&&q()})}else{o.fail({text:"获取wifi失败，kk需升级到6.0.2以上"});q&&q()}})},getDeviceInfo:function(p){k.ready(function(){var q=k.app.getDeviceInfo();p&&p({deviceId:q&&q.deviceID})})},getFontSize:function(p){k.ready(function(){var q=k.app.getClientInfo();p&&p({fontSize:q&&q.fontSize?q.fontSize:0})})},checkGroup:function(p,q){if(this.getKKClient()){k.ready(function(){k.config("detailLog",true);k.econtact.isBizGroupExists({bizType:p.bizType,bizID:p.bizId},function(t){console.log("是否存在boolean:"+t.exists+",群ID，exist=true时有效:"+t.groupID);var s=null;if(t.exists){s=t.groupID}q&&q({groupID:s})},function(s,t){if(s=="-3"||s=="-4"){t="网络不可用！"}o.fail({text:t});console.log("错误信息:"+t+",错误代码:"+s)})})}},createGroup:function(p){console.log(p);if(this.getKKClient()){k.ready(function(){k.econtact.createBizGroup({bizType:p.bizType,bizTypeName:p.bizTypeName,bizTypeNameEn:p.bizTypeName,bizID:p.bizId,bizURL:p.bizUrl,groupName:p.groupName,title:p.groupName,user:p.descUser,time:p.descTime,creater:p.creater,users:p.users},function(q){console.log("创建协作群成功，群id为"+q.groupID)},function(q,s){o.fail({text:s});console("创建协作群失败：code："+q+"错误信息："+s)})})}},showGroupMessage:function(p){if(this.getKKClient()){k.ready(function(){k.econtact.genBizGroupChatMsgUrl({groupID:p.groupId},function(q){deviceType=b.getClientType();if(deviceType==9){window.open(q.url,"_blank")}else{window.open(q.url,"_self")}console.log("获取群协作聊天记录链接成功")},function(q,s){o.fail({text:s});console("获取群协作聊天记录链接失败：code："+q+"错误信息："+s)})})}},getKKClient:function(){var p=k.app.getClientInfo().semver;if(this.kkVersionCompare(p,"6.0.1")>=0){return true}return false},addCalendar:function(p){k.calendar.addEvent(p,function(){console.log("日程创建成功")},function(q,s){console.log("创建日程失败，失败回调 code: "+q+" ,msg: "+s)})},shareTo:function(t,u,s){var q=t.dest;var p={recieverType:t.recieverType,type:t.type,recieverList:t.recieverList,content:t.content,showChooseView:t.showChooseView,imageUri:t.imageUri,url:t.url,title:t.title,bizType:t.bizType,summary:t.summary,attachmentType:t.attachmentType,attachmentName:t.attachmentName,attachmentUrl:t.attachmentUrl,attachmentSize:t.attachmentSize};k.ready(function(){k.share.to(q,p,function(v){u&&u()},function(v,w){if(window.console){console.log("KK分享失败,错误代码："+v+"; 错误详情："+w)}s&&s(w);o.fail({text:"KK分享失败"})})})},downloadByUrl:function(s,t,q){var p={url:s.url,path:s.path,isContinuous:s.isContinuous||false,appearInFileManager:s.appearInFileManager||false};console.log("downloadByUrl:"+JSON.stringify(p));k.ready(function(){var u=new k.proxy.Download(p,function(v){var w=o.processing({text:"文件下载中..."});if(v.progress!=100){w.show();console.log("下载进度："+v.progress)}else{w.hide();console.log("文件地址："+v.path);t&&t(v)}},function(w,x){if(window.console){console.log("错误信息："+x+",错误代码："+w)}var v={code:w,text:"错误信息："+x};q&&q()});u.start()})},uploadFileByApp:function(t,u,q){var s=t.options;if(!window.AttachmentList){window.AttachmentList={}}var p=window.AttachmentList[s.fdKey];if(!p){s.uploadStream=true;p=new f(s);window.AttachmentList[s.fdKey]=p}k.ready(function(){k.file.getOSPath(t.path,function(w){console.log("系统路径为："+w.OSPath);var x=w.OSPath.substring(w.OSPath.lastIndexOf("/")+1);var v={filePath:t.path,fileUri:w.OSPath,fileName:x,name:x};k.file.getFileInfo(v.filePath,function(y){console.log("getFileInfo1:"+JSON.stringify(y));v.size=y.size;p.startUploadFile(v);u&&u(v)},function(y,z){console.log("获取文件信息径出错："+z+",错误代码："+y);q&&q(y)})},function(v,w){console.log("获取文件系统路径出错："+w+",错误代码："+v);q&&q(v)})})},isSessionMemberByMsg:function(q,s,p){k.ready(function(){k.econtact.isSessionMemberByMsg(q,function(t){s&&s(t)},function(t,u){console.log("判断当前用户是否为该消息所在聊天会话的成员失败,错误代码是："+t+",错误信息是："+u);p&&p(t)})})},sendGroup:function(q,s,p){k.ready(function(){k.econtact.sendGroup(q,function(t){s&&s(t)},function(t,u){console.log("进入群聊会话失败：code："+t+",错误信息："+u);p&&p(t)})})},genSessionChatMsgUrl:function(q,s,p){if(this.getKKClient()){k.ready(function(){k.econtact.genSessionChatMsgUrl(q,function(t){console.log("获取聊天记录链接成功:"+t.url);s&&s(t)},function(t,u){o.fail({text:u});console.log("获取聊天记录链接失败：code："+t+",错误信息："+u);p&&p(t,u)})})}}};return m})},"sys/mobile/js/mui/form/_ValidateMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/query","dojo/ready","dojo/topic","mui/form/_FormBase","dijit/registry","mui/form/validate/Validation","dojo/dom-class"],function(e,d,g,k,m,f,h,a,b,l){return e("mui.form._ValidateMixin",null,{validateImmediate:true,validateNext:true,performTransition:function(){if(this.validateNext){f.publish("performTransition","performTransition");if(this.validate()){this.inherited(arguments);return true}f.publish("mui/form/validateFail",this);return false}else{this.inherited(arguments);return true}},buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"muiValidateWrap");this._validation=new b()},startup:function(){this.inherited(arguments);if(this.validateImmediate){var n=this;if(!window.__validateInit){m(function(){d.extend(h,{validateImmediate:true,validation:n._validation});window.__validateInit=true})}}f.publish("mui/form/validationInitFinish",this)},validate:function(n){var o=[];if(n){o=o.concat(n)}var s=this.getValidateElements();if(s){o=o.concat(s)}if(this.notValRequired!=undefined){if(this.notValRequired){o=this.removeElementValidate(o,"required")}else{o=this.resetElementValidate(o)}}var w=true;var q=null;var u=[];for(var p=0;p<o.length;p++){if(!this._validation.validateElement(o[p])){if(w){q=o[p];w=false}u.push(o[p])}}if(q!=null){var v=q;if(q instanceof h){v=q.domNode}var t=this._getDomOffsetTop(v);f.publish("/mui/list/toTop",this,{y:0-t+110})}f.publish("/mui/validate/afterValidate",this,u);f.publish("/mui/list/resize");return w},_getDomOffsetTop:function(p){var o=p;var n=0;while(o!=null&&o!=document.body){n+=o.offsetTop;o=o.offsetParent}return n},getValidateElements:function(){var n=[];if(this.domNode){g.forEach(k("[widgetid]",this.domNode),function(p){var o=a.byNode(p);if(o instanceof h&&o.edit==true){n.push(o)}});g.forEach(k("[validate]",this.domNode),function(o){n.push(o)})}return n},removeElementValidate:function(o,y){for(var t=0;t<o.length;t++){var x="";var u=o[t];if(u.isRelationRule){u.isRemove=true}if(u.getAttribute){x=u.getAttribute("validate");if(x!=null&&x!=""){x=x.trim()}}else{if(u.validate&&u.validate!=""){x=u.validate}}if(x!=null&&$.trim(x)!=""){var w=x.split(" ");var n=u[y+"ValidateAlias"];var v=[];for(var s=0;s<w.length;s++){var p=false;var q=false;if(w[s].indexOf(y)>=0){p=true}if((n&&w[s].indexOf(n)>=0)){q=true}if(!p&&!q){v.push(w[s])}}w=v;if(u.setAttribute){if(u.getAttribute("_validate")==null){u.setAttribute("_validate",x)}u.setAttribute("validate",$.trim(w.join(" ")))}else{if(!u._validate){u._validate=x}u.validate=$.trim(w.join(" "))}}}return o},resetElementValidate:function(n){for(var p=0;p<n.length;p++){var o=n[p];if(!o.isRemove&&o.isRelationRule){continue}if(o.getAttribute){var q=o.getAttribute("_validate");o.removeAttribute("_validate");if(q!=null&&$.trim(q)!=""){o.setAttribute("validate",q)}}else{if(o._validate&&o._validate!=""){o.validate=o._validate;delete o._validate}}}return n}})})},"sys/mobile/js/mui/iconUtils":function(){define(["dojox/mobile/iconUtils","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style"],function(d,a,k,e,g){var b=function(q,o,n,s,p,m,t){if(!p||!q&&!n){return null}if(q&&q!=="none"&&(q.indexOf("mui-")>-1||q.indexOf("muis-")>-1)){if(n&&n.tagName!=="I"){e.destroy(n);n=null}n=this.createIcon(q,null,n,s,p,m,t);return n}this._setIcon.apply(this,arguments)};var f=function(q,o,s,t,p,n,u){if(q&&q!=="none"&&(q.indexOf("mui-")>-1||q.indexOf("muis-")>-1)){if(!s){s=e.create("I",null,n||p,u)}if(q.indexOf("mui-")>-1){q+=" mui"}if(q.indexOf("muis-")>-1){q+=" fontmuis"}s.title=t;k.add(s,q);if(o&&p){var m=o.split(/[ ,]/);g.set(p,{position:"relative",width:m[2]+"px",height:m[3]+"px"});k.add(p,"mblSpriteIconParent")}return s}return this._createIcon.apply(this,arguments)};var l=function(o,n){n=n||"span";var m="<"+n+" class='mui-address-imgcontainer-sm mui-ding-address-imgcontainer-sm'><span class='mui-ding-address-name'>"+h(o)+"</span></"+n+">";return m};var h=function(m){let showName=m||"";let arr=[];let _isEnglish=showName.match(/^([a-zA-Z]|\s|,|\.)+$/)!==null?true:false;if(_isEnglish){showName=showName.replace(/,|\./g," ").replace(/\s+/g," ");arr=showName.split(" ");if(arr.length===1){return showName.slice(0,2)}return arr[0].slice(0,1)+arr[1].slice(0,1)}return showName.replace(/,|\.|\s+/g,"").slice(-2)};d._setIcon=d.setIcon;d.setIcon=b;d._createIcon=d.createIcon;d.createIcon=f;d.createDingIcon=l;return d})},"sys/mobile/js/mui/commondialog/DialogSelector":function(){define(["dojo/_base/declare","dijit/_WidgetBase","mui/form/_CategoryBase","mui/commondialog/DialogSelectMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-construct","dojo/dom-attr","dojo/dom-class"],function(e,d,l,g,a,b,h,k){var f=e("mui.commondialog.DialogSelector",[d,l,g],{buildRendering:function(){this.inherited(arguments);if(!this.key){this.key="_cateSelect"}},postCreate:function(){this.inherited(arguments);this.eventBind()},startup:function(){this.inherited(arguments);this.defer(function(){this._selectCate()},350)},afterSelectCate:function(m){this.callback(m)},returnDialog:function(n,m){this.inherited(arguments);if(n.key==this.key){this.afterSelectCate(m)}}});return{select:function(m){m=m||{};var n=new f(m);n.startup()}}})},"sys/mobile/js/mui/list/item/CardItemDMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dojox/mobile/_ItemBase","mui/util","dojo/on","mui/dialog/Tip","mui/openProxyMixin"],function(d,a,k,f,h,l,e,g,m,b){var n=d("mui.list.item.CardItemMixin",[l,b],{tag:"li",created:"",creator:"",icon:"",href:"",summary:"",docPublishTime:"",docDeptName:"",summary:"",docReadCount:"",tagNames:"",buildRendering:function(){this.inherited(arguments);this.domNode=a.create(this.tag,{className:"muiCardItemD"},this.containerNode);this.buildInternalRender()},buildInternalRender:function(){var p=this.isJustShowSubject()?"muiCardItemDVerticalAlignMiddle":"muiCardItemDVerticalAlignTop";var u=a.create("div",{className:"muiCardItemDContainer"},this.domNode);var q=a.create("div",{className:"muiCardItemDLeft "+p},u);if(this.icon){var s=a.create("div",{className:"muiCardItemDPersonIcon"},q);a.create("div",{className:"muiCardItemDPersonIconImg",style:{background:"url("+e.formatUrl(this.icon)+") center center no-repeat",backgroundSize:"cover"}},s)}else{var o=this.listIcon?this.listIcon:"muis-official-doc";var y=a.create("div",{className:"muiCardItemDIcon"},q);a.create("i",{className:"fontmuis "+o},y)}var x=a.create("div",{className:"muiCardItemDRight "+p},u);var w=a.create("div",{className:"muiCardItemDSubject muiFontSizeM muiFontColorInfo",innerHTML:this.label},x);if(this.summary){a.create("div",{className:"muiCardItemDSummary muiFontSizeS",innerHTML:this.summary},x)}if(this.creator||this.docDeptName||this.created||this.docPublishTime||this.docReadCount){var t=a.create("div",{className:"muiCardItemDRightFooter muiFontSizeS muiFontColorMuted "+(this.docReadCount?"muiCardItemDHasReadCount":"")},x);if(this.creator){a.create("div",{className:"muiCardItemDCreator",innerHTML:this.creator},t)}if(this.docDeptName){a.create("div",{className:"muiCardItemDDocDeptName",innerHTML:this.docDeptName},t)}if(this.created){a.create("div",{className:"muiCardItemDCreatedTime",innerHTML:this.created},t)}if(this.docPublishTime){a.create("div",{className:"muiCardItemDPublishTime",innerHTML:this.docPublishTime},t)}if(this.docReadCount){a.create("div",{className:"muiCardItemDReadInfo",innerHTML:'<span class="muiCardItemDReadCount">'+this.docReadCount+'</span><span class="muiCardItemDViewText">浏览</span>'},t)}}if(this.href){this.proxyClick(this.domNode,this.href,"_blank")}else{var v=a.create("div",{className:"muiCardItemDLock"},this.domNode);this.makeLockLinkTip(this.domNode)}},isJustShowSubject:function(){return !(this.summary||this.creator||this.docDeptName||this.created||this.docPublishTime||this.docReadCount)},makeLockLinkTip:function(o){this.href="javascript:void(0);";g(o,"click",function(p){m.tip({icon:"mui mui-warn",text:"暂不支持移动访问"})})},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(o){if(o){this._set("label",o)}}});return n})},"sys/mobile/js/mui/listcategory/ListCategoryItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/listcategory/ListCategoryItemMixin"],function(b,a,d){return b("mui.listcategory.ListCategoryItemListMixin",[a],{itemRenderer:d})})},"sys/mobile/js/mui/address/AddressCommonGroupCategoryPath":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojox/mobile/TransitionEvent","./AddressCategoryPath","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,h,b,g,d,a,f){return e("mui.syscategory.AddressCommonGroupCategoryPath",[d],{detailUrl:"/sys/organization/mobile/address.do?method=commonGroupPath&fdId=!{curId}&nodeType=cate",titleNode:f["mui.mobile.address.commonGroup"],_createTitleNode:function(){var l=b.create("div",{className:"muiCatePathTitleItem"},this.containerNode);var m=b.create("div",{},l);var k=b.create("span",{},m);k.innerHTML=f["mui.mobile.address.group.path"];this.connect(l,"onclick",h.hitch(this,function(){var n={moveTo:"groupView_"+this.key};new g(document.body,n).dispatch()}));return this.inherited(arguments)},_chgUrlInfo:function(l,k){if((k.type|window.ORG_TYPE_GROUP_CATE)===window.ORG_TYPE_GROUP_CATE){return a.setUrlParameter(l,"nodeType","cate")}else{return a.setUrlParameter(l,"nodeType","group")}}})})},"sys/mobile/js/mui/list/_ViewScrollCommonMixin":function(){define(["dojo/_base/declare","dojo/topic","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-class","dojox/mobile/viewRegistry","dojo/_base/window","dojo/dom-geometry","dijit/registry","dojox/mobile/View"],function(e,f,d,k,l,g,h,a,b){return e("mui.list.framework._ViewScrollCommonMixin",null,{isDownScrolling:false,isUpScrolling:false,os:{ios:!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1},startup:function(){this.inherited(arguments);this.findAppBars()},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/list/loaded","endSuccess")},buildRendering:function(){this.inherited(arguments);if(!this.scrollDom){this.scrollDom=this.domNode;k.add(this.scrollDom,"mescroll mui-scroll-view")}},resize:function(){this.inherited(arguments);this._appFooterHeight=(this._fixedAppFooter)?this._fixedAppFooter.offsetHeight:0;var o=h.position(this.domNode,true).y;var m,p=this.getScreenSize().h,n=p-o-this._appFooterHeight;if(this.height){m=this.height}if(!m){m=n+"px"}if(m.charAt(0)!=="-"&&m!=="default"){this.domNode.style.height=m}},preventDefault:function(m){if(m&&m.cancelable&&!m.defaultPrevented){m.preventDefault()}},getPoint:function(m){return{x:m.touches?m.touches[0].pageX:m.clientX,y:m.touches?m.touches[0].pageY:m.clientY}},getBodyHeight:function(){return document.body.clientHeight||document.documentElement.clientHeight},getScrollTop:function(){return this.scrollDom.scrollTop},getScrollHeight:function(){return this.scrollDom.scrollHeight},getClientHeight:function(){return this.scrollDom.clientHeight},setScrollTop:function(m){if(typeof m==="number"){if(this.scrollDom){this.scrollDom.scrollTop=m}}},getScreenSize:function(){return{h:g.global.innerHeight||g.doc.documentElement.clientHeight,w:g.global.innerWidth||g.doc.documentElement.clientWidth}},isInSee:function(q,p){p=p||0;var m=this.getOffsetTop(q);var o=this.getScrollTop()-p;var s=m+q.offsetHeight;var n=o+p+this.getClientHeight()+p;return(m<n&&m>=o)||(s<=n&&s>o)},isListInScrollView:function(m){if(m&&l.getEnclosingView(m)===this){return true}return false},_buildHandle:function(){var m=this;return{work:function(){},done:function(n){m.endSuccess(n)},error:function(n){m.endError(n)}}},endSuccess:function(m){if(!this.isListInScrollView(m.domNode)){return}if(this.endDownSuccess){this.endDownSuccess(m)}if(this.endUpSuccess){this.endUpSuccess(m)}},endError:function(){},findAppBars:function(){var n,m,p;for(n=0,m=g.body().childNodes.length;n<m;n++){p=g.body().childNodes[n];this.checkFixedBar(p,false)}var o=this.getParent();if(o&&o instanceof b){if(o.domNode.parentNode){for(n=0,m=o.domNode.parentNode.childNodes.length;n<m;n++){p=o.domNode.parentNode.childNodes[n];this.checkFixedBar(p,false)}}}if(this.domNode.parentNode){for(n=0,m=this.domNode.parentNode.childNodes.length;n<m;n++){p=this.domNode.parentNode.childNodes[n];this.checkFixedBar(p,false)}}this.fixedFooterHeight=this.fixedFooter?this.fixedFooter.offsetHeight:0},checkFixedBar:function(o,m){if(o.nodeType===1){var n=o.getAttribute("fixed")||o.getAttribute("data-mobile-fixed")||(a.byNode(o)&&a.byNode(o).fixed);if(n==="top"){k.add(o,"mblFixedHeaderBar");if(m){o.style.top="0px";this.fixedHeader=o}return n}else{if(n==="bottom"){k.add(o,"mblFixedBottomBar");if(m){this.fixedFooter=o}else{this._fixedAppFooter=o}return n}}}return null}})})},"sys/mobile/js/mui/property/filter/FilterBase":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/_WidgetBase","dojo/dom-construct","dijit/_Contained","dijit/_Container","dojo/topic","dojo/on","dojo/dom-class"],function(d,g,k,b,m,a,e,h,l){var f=d("mui.property.FilterBase",[k,m,a],{EVENT_VALUES:"/mui/property/filter/values",SET_EVENT:"/mui/property/filter/value/set",GET_EVENT:"/mui/property/filter/value/get",_props:{},baseClass:"filterItem",expandClass:"expand",selectedClass:"selected",overflowClass:"overflow",key:"__default__",subject:null,name:null,multi:false,value:[],options:[],expand:false,expandLimit:6,buildRendering:function(){this.inherited(arguments);var n=this._props||{};for(var o in n){this[o]=n[o]}this.titleNode=b.create("h4",{className:"filterItemTitle",innerHTML:this.subject},this.domNode,"first");this.contentNode=b.create("ul",null,this.domNode,"last");this.subscribe(this.EVENT_VALUES,"_onChange")},getValue:function(n){var o=this;e.publish(this.GET_EVENT,this,{name:this.name,cb:n})},getItemsType:function(){var o=this.getChildren();var n=this.options;if(o&&o.length>0){return"children"}else{if(n&&n.length>0){return"options"}else{return""}}},getItemsCount:function(){var n=this.getItemsType();if(n=="children"){return this.getChildren().length}else{if(n=="options"){return this.options.length}else{return 0}}},startup:function(){this.inherited(arguments);if(!this.staticDataUrl){this.buildExpand()}},buildExpand:function(){var n=this;this.getValue(function(o){n.value=o||[]});if(this.getItemsCount()>this.expandLimit){b.create("div",{className:"filterItemExpander",innerHTML:'<i class="fontmuis muis-to-left"/>'},this.titleNode,"last");if(n.expand){l.add(n.domNode,n.expandClass)}h(this.titleNode,"click",function(){if(n.expand){l.remove(n.domNode,n.expandClass);n.expand=false}else{l.add(n.domNode,n.expandClass);n.expand=true}})}},_onChange:function(o,n){if(!n||!n.values){return}this.value=[].concat(n.values[this.name])||[]}});return f})},"sys/mobile/js/mui/dialog/Alert":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/dialog/Dialog","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(d,b,a,e){return function(k,n,q,l,f){var t="";if(n){t=n}var m="";if(l){if(l=="success"){t=t?t:e["mui.alert.success"];m="fontmuis muis-formpop-success"}else{if(l=="fail"){t=t?t:e["mui.alert.failure"];m="fontmuis muis-formpop-fail"}else{if(l=="warn"){t=t?t:e["mui.alert.warning"];m="fontmuis muis-formpop-error"}}}}var s=b.create("div",{className:"muiAlertDialogElement"});if(m){var p=b.create("div",{className:"muiAlertDialogIcon muiAlertDialogIcon"+l.substring(0,1).toUpperCase()+l.substring(1)},s);var o=b.create("div",{},p);b.create("i",{className:m},o)}if(t){var h=b.create("div",{className:"muiAlertDialogTitle",innerHTML:t},s)}var g=k?k:"";if(g!=""){b.create("div",{className:"muiAlertDialogContent",innerHTML:"<div>"+g+"</div>"},s)}var u={showClass:"muiAlertDialogShow",element:s,closeOnClickDomNode:false,scrollable:false,parseable:false,canClose:false,callback:f||null,buttons:[{title:e["mui.button.ok"],fn:function(v){v.hide();if(q){q(v)}}}]};return a.element(u)}})},"sys/mobile/js/mui/dialog/Modal":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/dialog/Dialog","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(d,b,a,e){return function(n,p,o,g){var m=b.create("div",{className:"muiModalDialogElement"});var k=false;if(n){var l=b.create("div",{className:"muiModalDialogContent"},m);var h=b.create("div",{},l);if(typeof n==="string"){h.innerHTML=n;k=true}else{if(typeof n==="object"){b.place(n,h,"last")}}}var f=[{title:e["mui.button.ok"],fn:function(s){s.hide()}}];var q={title:p?p:"",showClass:"muiModalDialogShow",element:m,closeOnClickDomNode:false,scrollable:false,scrollViewNode:h,parseable:k,canClose:false,destroyAfterClose:false,callback:g||null,buttons:o?o:f};return a.element(q)}})},"sys/mobile/js/mui/list/DocItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/list/item/DocItemMixin"],function(a,b,d){return a("mui.list.DocItemListMixin",[b],{itemTemplateString:null,itemRenderer:d})})},"sys/mobile/js/mui/catefilter/ConstMixin":function(){define(["dojo/_base/declare"],function(a){return a("mui.catefilter.ConstMixin",null,{ASIDE_CHANGE:"/mui/catefilter/aside/change",ALL_CHANGE:"/mui/catefilter/all/change",CONFIRM:"/mui/catefilter/confirm"})})},"sys/mobile/js/mui/syscategory/SysCategoryItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/syscategory/SysCategoryItemMixin"],function(d,b,a){return d("mui.syscategory.SysCategoryItemListMixin",[b],{itemRenderer:a})})},"sys/mobile/js/mui/form/radio/render/RadioBlock":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","mui/util"],function(e,b,g,f,d,a){return e("mui.form.radio.render.RadioBlock",[g],{renderType:"block",radioNode:null,postCreate:function(){this.inherited(arguments);this.subscribe("mui/form/radio/renderCheckedStatus","_renderCheckedStatus")},_buildRender:function(h){if(this.renderType==h.renderType){this.radioNode=b.create("label",{className:"muiRadioBlockItem"},h.domNode,"after");this.radioText=b.create("span",{className:"muiRadioBlockText",style:h.style,innerHTML:h.text&&h.text.indexOf("&#039;")>0?h.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.formatText(h.text)},this.radioNode,"last")}return this.radioNode},_renderCheckedStatus:function(k,h){if(this.radioNode==h.domNode){if(h.checked){f.replace(this.radioNode,h.checkedIcon,h.unCheckedIcon)}else{f.replace(this.radioNode,h.unCheckedIcon,h.checkedIcon)}}}})})},"sys/mobile/js/mui/nav/_StoreNavBarMixin":function(){define("mui/nav/_StoreNavBarMixin",["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/query","dojox/mobile/_StoreMixin","dojo/_base/array","./NavItem","mui/store/JsonRest","dojo/topic","mui/util","dojo/_base/lang"],function(f,m,o,k,e,n,p,l,a,d,h,g,b){var q=f("mui.nav._StoreNavBarMixin",p,{itemRenderer:a,defaultUrl:"",defaulted:false,buildRendering:function(){this.inherited(arguments)},_setUrlAttr:function(s){this.url=g.formatUrl(s);this._url=g.formatUrl(s)},_setDefaultUrlAttr:function(s){this.defaultUrl=g.formatUrl(s)},onComplete:function(s){if(s.length==0&&!this.defaulted&&this.defaultUrl){this.set("defaulted",true);this.url=this.defaultUrl;this.store.target=this.url;this.setQuery();return}this.generateList(s);h.publish("/mui/nav/onComplete",this,s);if(this.selectedItem){this.selectedItem.setSelected();if(this.selectedItem.moveTo){this.selectedItem.transitionTo(this.selectedItem.moveTo)}}},generateList:function(s){l.forEach(s,function(u,t){if(t==0){this.addFirstChild(this.createListItem(b.mixin(u,{tabIndex:t})));return}this.addChild(this.createListItem(b.mixin(u,{tabIndex:t})));if(u[this.childrenProperty]){l.forEach(u[this.childrenProperty],function(w,v){this.addChild(this.createListItem(b.mixin(u,{tabIndex:v})))},this)}},this)},selectedItem:null,addFirstChild:function(s){this.addChild(s)},channelName:"",createListItem:function(s){var s=new this.itemRenderer(this._createItemProperties(s));if(s.selected===true){this.selectedItem=s}if(this.channelName){s.channelName=this.channelName}return s},_createItemProperties:function(s){return s},startup:function(){if(this._started){return}if(!this.isTiny){if(!this.url){this.url=this.defaultUrl;this.set("defaulted",true)}if(!this.store&&!this.url){return}if(!this.store&&this.url){var s=new d({idProperty:"fdId",target:this.url,defaultType:"get"})}else{s=this.store}this.store=null;setTimeout(b.hitch(this,function(){this.setStore(s,this.query,this.queryOptions)}),1)}this.inherited(arguments)}});return q})},"sys/mobile/js/mui/address/AddressCommonGroupItemMixin":function(){define(["dojo/_base/declare","mui/address/AddressGroupItemMixin"],function(b,a){var d=b("mui.address.AddressCommonGroupItemMixin",[a],{_openCate:function(e){if((this.type|window.ORG_TYPE_GROUP_CATE)===window.ORG_TYPE_GROUP_CATE){this.dataUrl="/sys/organization/mobile/address.do?method=commonGroupCate&parent=!{parentId}&orgType=!{selType}"}else{this.dataUrl="/sys/organization/mobile/address.do?method=commonGroupList&groupCate=!{parentId}&nodeType=group&orgType=!{selType}"}this.inherited(arguments)}});return d})},"sys/mobile/js/mui/listcategory/ListCategory_sgl":function(){define(["mui/listcategory/ListCategory_common"],function(b){function a(f,e){var d=b.html(f);d+="<div data-dojo-type=\"mui/listcategory/ListCategorySelection\" data-dojo-props=\"required:{categroy.required},dataUrl:'{categroy.dataUrl}',key:'{categroy.key}',curIds:'{categroy.curIds}',curNames:'{categroy.curNames}',modelName:'{categroy.modelName}',isMul:false,beforeSelectCateHistoryId:'{categroy.beforeSelectCateHistoryId}'\" fixed=\"bottom\"></div>";e(d)}return{load:function(f,d,e){a(f,e)}}})},"sys/mobile/js/mui/address/AddressHeader":function(){define(["dojo/_base/declare","mui/category/CategoryHeader"],function(b,a){var d=b("mui.address.AddressHeader",[a],{detailUrl:"/sys/organization/mobile/address.do?method=detailList&orgIds=!{curId}&deptLimit=!{deptLimit}"});return d})},"sys/mobile/js/mui/address/AddressMyGroupListMixin":function(){define(["dojo/_base/declare","mui/util","./AddressItemListMixin","./AddressGroupItemMixin"],function(e,b,a,d){return e("mui.address.AddressMyGroupListMixin",[a],{itemRenderer:d,dataUrl:"/sys/organization/mobile/address.do?method=myGroupList&id=!{parentId}&orgType=!{selType}",buildRendering:function(){if(this.isExt!=""&&this.isExt!=undefined&&this.isExt=="true"){this.dataUrl+="&isExternal=false"}this.inherited(arguments)},resolveItems:function(){var k=this.inherited(arguments);var g=[];if(k&&k.length>0){var h;if(this.params&&this.params.exceptValue){h=this.params.exceptValue}for(var f=0;f<k.length;f++){if(h&&h.indexOf(k[f].id)!=-1){continue}g.push(this._transformItemProperties(k[f]))}}return g},_transformItemProperties:function(f){switch(f.nodeType){case"cate":f.type=window.ORG_TYPE_GROUP_CATE;f.fdId=f.value;f.label=f.text;break;default:f.type=f.orgType;f.fdId=f.id;f.label=f.name;if((f.type|window.ORG_TYPE_PERSON)==window.ORG_TYPE_PERSON){f.icon=b.urlResolver(this.iconUrl,{orgId:f.fdId})}break}return f}})})},"sys/mobile/js/mui/person/PersonDetailMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/text!./person_detail.jsp","dojo/dom-construct","dojox/mobile/TransitionEvent","dojo/parser","dojo/_base/lang","mui/history/listener","dojox/mobile/viewRegistry","dojo/query"],function(f,g,h,e,l,a,b,d,m,k){return f("mui.person.PersonDetailMixin",null,{detailTitle:"",detailUrl:"",detailTemplateString:h,detailView:null,defaultDetailUrl:"/sys/organization/mobile/address.do?method=personDetailList",buildRendering:function(){this.inherited(arguments);if(this.personId&&!this.detailUrl){this.detailUrl=this.defaultDetailUrl}},forwardCallback:function(){if(!this.detailView){this.detailTemplateString=b.replace(this.detailTemplateString,{title:this.detailTitle,url:this.detailUrl,personId:this.personId});var n=this;a.parse(e.create("div",{innerHTML:this.detailTemplateString},k("#content")[0],"last")).then(function(q){if(q.length>0){n.detailView=q[0]}n.backView=m.getEnclosingView(n.domNode);n.detailView.hide();n.detailView.placeAt(n.detailView.domNode.parentNode,"after");var p={transition:"slide",moveTo:n.detailView.id};new l(this.personMoreNode||document.body,p).dispatch()})}else{var o={transition:"slide",moveTo:this.detailView.id};new l(this.personMoreNode||document.body,o).dispatch()}},backCallback:function(){var o={transition:"slide",moveTo:this.backView.id,transitionDir:-1};var n=window.muiLocationDialog;if(n){domStyle.set(n.domNode,"display","none")}new l(document.body,o).dispatch()},openDeatailView:function(){var o=this;var n=d.push({forwardCallback:function(){o.forwardCallback()},backCallback:function(){o.backCallback()}})}})})},"sys/mobile/js/mui/query/CommonQueryFilter":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-class","dojo/query","dojo/dom-attr","mui/util","dojo/topic"],function(e,g,b,f,h,k,a,d){return e("mui.query.CommonQueryFilter",[g],{commonQuery:"",buildRendering:function(){this.inherited(arguments);this.buildCommonQuery()},buildCommonQuery:function(){var m=window.location.href;var s=b.create("div",{className:"filterItem"},this.domNode);var t=b.create("h4",{className:"filterItemTitle",innerHTML:"常用筛选"},s);var p=b.create("ul",{},s);var o=window.selectCommonQuery;for(var n=0;n<this.commonQuery.length;n++){var q=false;if(o==this.commonQuery[n].dataURL){q=true}var l=b.create("li",{className:q?"CommonProperties selected":"CommonProperties",innerHTML:"<a>"+this.commonQuery[n].text+"</a>"},p);k.set(l,"dataUrl",this.commonQuery[n].dataURL);this.connect(l,"onclick","clickProperties")}},clickProperties:function(n){var m=n.currentTarget;var l=false;if(f.contains(m,"selected")){l=true}h(".CommonProperties").forEach(function(p,o){if(f.contains(p,"selected")){f.remove(p,"selected");return}});if(!l){f.add(m,"selected");d.publish("/mui/property/changeCommonQuery",m.getAttribute("dataUrl"));window.selectCommonQuery=m.getAttribute("dataUrl")}else{d.publish("/mui/property/changeCommonQuery","");window.selectCommonQuery=""}}})})},"sys/mobile/js/mui/select/SelectDialog":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/parser","mui/iconUtils","dojo/request","mui/util","dojo/on","dojox/mobile/viewRegistry","dojo/query","dojo/topic","dojo/dom-attr","dojo/touch"],function(k,g,e,n,u,p,b,a,d,f,m,o,t,s,l,q,h){return k("mui.select.SelectDialog",[g],{datas:[],showClass:"ekp-mui-customer-filter-warp",firstFlag:true,paramStr:[],SELECT_CHANGE:"mui/select/changed",buildRendering:function(){this.inherited(arguments);this.initData();var v=e.toDom('<div class="muiPicker">筛选<i class="mui mui-sort-filter"></i></div>');e.place(v,this.domNode);this.connect(v,"click","_onShowClick")},initData:function(){for(var w=0;w<this.datas.length;w++){var x=this.datas[w].data;if(x){var v={};v.name="全部";v.value="";x.unshift(v)}}},initActive:function(){s(".ekp-mui-customer-filter-condition li").forEach(function(v){u.remove(v.children[0],"active");if(!q.get(v.children[0],"data-value")){u.add(v.children[0],"active")}})},_onShowClick:function(){if(this.firstFlag){this.buildSelectRender();this.initActive()}else{n.set(this.maskNode,"display","block");n.set(this.panelNode,"display","block")}},buildSelectRender:function(){this.inherited(arguments);this.firstFlag=false;this.pickerNode=e.create("div",{className:this.showClass},document.body,"last");this.panelNode=e.create("div",{className:"ekp-mui-customer-filter-panel"},this.pickerNode);this.maskNode=e.create("div",{className:"ekp-mui-customer-filter-mask"},this.pickerNode);this.connect(this.maskNode,"click","_onMaskClick");var x=e.create("h4",{className:"ekp-mui-customer-filter-title",innerHTML:"筛选"},this.panelNode);this.contentNode=e.create("div",{className:"ekp-mui-customer-filter-condition"},this.panelNode);if(this.datas){p.forEach(this.datas,b.hitch(this,function(z){this.sectionNode=e.create("section",{className:""},this.contentNode);var y=e.create("h5",{className:"ekp-mui-gray-title",innerHTML:z.title},this.sectionNode);this.buildItemRender(z)}))}if(this.datas.length>1){this.buttonsNode=e.create("div",{className:"ekp-mui-customer-filter-btn"},this.panelNode);var w=e.create("button",{className:"filter-btn reset",innerHTML:"重置"},this.buttonsNode);this.connect(w,"click","_onResetClick");var v=e.create("button",{className:"filter-btn done",innerHTML:"完成"},this.buttonsNode);this.connect(v,"click","_onDoneClick")}},buildItemRender:function(w){var v=e.create("ul",{id:w.type,className:"ekp-mui-customer-filter-list"},this.sectionNode);p.forEach(w.data,b.hitch(this,function(y){var x=e.create("li",{className:""},v);var z=e.create("span",{className:"",innerHTML:y.name},x);q.set(z,"data-type",w.type);q.set(z,"data-value",y.value);this.connect(z,h.press,"itemClick")}))},itemClick:function(v){var z=q.get(v.target,"data-type");var y=q.get(v.target,"data-value");s("#"+z+" li").forEach(function(B){u.remove(B.children[0],"active")});for(var x=0;x<this.datas.length;x++){if(z==this.datas[x].type){var A=this.datas[x].data;for(var w=0;w<A.length;w++){if(y==A[w].value){this.paramStr[z]=y}u.add(v.target,"active")}}}if(this.datas.length=1){this._onDoneClick();this._onMaskClick()}},_onMaskClick:function(){n.set(this.maskNode,"display","none");n.set(this.panelNode,"display","none")},_onResetClick:function(){this.initActive()},_onDoneClick:function(){this.defer(function(){console.log(this.paramStr);l.publish(this.SELECT_CHANGE,{args:this.paramStr});l.publish("/mui/list/toTop",this);this._onMaskClick()},350)}})})},"sys/mobile/js/mui/authenticate/AuthenticateURL":function(){define(["dojo/_base/declare","./AuthenticateBase","mui/util"],function(b,d,a){return b("mui.authenticate.AuthenticateURL",[d],{url:"/sys/mobile/js/mui/authenticate/AuthenticateURL.jsp",requestURL:"",requestMethod:"",formatUrl:function(){this.url=a.setUrlParameter(this.url,"requestURL",this.requestURL);this.url=a.setUrlParameter(this.url,"requestMethod",this.requestMethod)}})})},"sys/mobile/js/mui/list/item/ComplexLItemMixin":function(){define(["dojo/_base/declare","dojox/mobile/_ItemBase","dojo/dom-construct","dojo/dom-class","dojo/dom-style","mui/util","./_ListLinkItemMixin","mui/list/item/DocStatusMixin","mui/list/item/TopMixin","mui/list/item/IntroduceMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,n,d,m,k,h,l,g,a,e,b){return f("mui.list.item.ComplexLItemListItem",[n,l,g,a,e],{label:"",summary:"",status:"",tagClass:"muiComplexLStatus muiFontSizeXS",isTop:"",isIntroduce:"",created:"",creator:"",tag:"li",icon:"",href:"javascript:;",fdId:"",creator:"",created:"",count:0,buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||d.create(this.tag,{className:"muiComplexLItem clearfix"});this.contenNode=d.create("div",{className:"muiComplexLBox"},this.containerNode)}this.inherited(arguments);if(!this._templated){this.buildInternalRender()}if(this.contentNode){d.place(this.contentNode,this.domNode)}},buildInternalRender:function(){if(this.href){this.makeLinkNode(this.contenNode)}this.buildLeft();this.buildRight()},buildLeft:function(){this.buildImg();this.buildStatus()},buildRight:function(){this.muiComplexRight=d.create("div",{className:"muiComplexLRight"},this.contenNode);this.buildLabel();this.buildSummary();this.buildTips()},buildImg:function(){this.muiComplexLeft=d.create("div",{className:"muiComplexLLeft"},this.contenNode);if(this.icon){var o=h.formatUrl(this.icon)}else{var o=h.formatUrl("/sys/mobile/css/themes/default/images/complxItemDefaultIcon.png")}k.set(this.muiComplexLeft,{background:"url("+o+") center no-repeat","background-size":"100%"})},buildStatus:function(){if(this.muiComplexLeft&&this.status&&this.status.indexOf("<")>-1){d.create("span",{className:this.tagClass,innerHTML:this.status},this.muiComplexLeft)}else{this.buildTag(this.muiComplexLeft)}},buildLabel:function(){if(this.label){d.create("div",{className:"muiFontSizeMS",innerHTML:'<div style="text-overflow: ellipsis;white-space: nowrap;overflow: hidden;">'+this.label+"<div/>"},this.muiComplexRight)}},buildSummary:function(){if(this.summary){d.create("span",{className:"summary-cut",innerHTML:this.summary},this.muiComplexRight)}},buildTips:function(){if(!this.muiComplexRight){return}var o=d.create("div",{className:"muiComplexLTipsLeft"},this.muiComplexRight);if(this.creator){d.create("div",{className:"muiComplexLTipsCreator muiFontSizeSS line-cut",innerHTML:this.creator},o)}if(this.created){d.create("div",{className:"muiComplexLTipsTime muiFontSizeSS",innerHTML:this.created},o)}if(this.count){if(this.count>999){this.count="999+"}d.create("div",{className:"muiComplexLTipsRight muiFontSizeSS",innerHTML:this.count+" "+b["mui.item.views"]},this.muiComplexRight)}},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(o){if(o){this._set("label",o)}}})})},"sys/mobile/js/mui/device/weixin/adapter":function(){define(["lib/weixin/weixin","dojo/request","dojo/_base/lang","mui/util","mui/coordtransform","mui/i18n/_i18n!sys/mobile/js/mui/mui","mui/dialog/Tip","dojo/Deferred","dojo/topic","mui/device/device","dojo/request","mui/map"],function(g,h,d,l,f,e,s,o,k,b,p,a){var m=false,n=false;var q={__readyCallbacks:[],__readyfailCallbacks:[],__hasListener__:false,ready:function(u,t){if(n){t&&t.call(this);return}if(m){u&&u.call(this);return}this.__readyCallbacks.push(u);this.__readyfailCallbacks.push(t);if(!this.__hasListener__){this.__hasListener__=true;k.subscribe("/third/wxwork/ready",d.hitch(this,function(){var v=null;while(v=this.__readyCallbacks.shift()){v&&v.call(this)}}));k.subscribe("/third/wxwork/readyfail",d.hitch(this,function(){var v=null;while(v=this.__readyfailCallbacks.shift()){v&&v.call(this)}}))}},closeWindow:function(){this.ready(function(){g.closeWindow()},function(){if(WeixinJSBridge){WeixinJSBridge.call("closeWindow")}else{this["$super$closeWindow"]&&this["$super$closeWindow"].call(this)}});return{}},sign:function(A,w,u,z){var y=["startRecord","stopRecord","translateVoice","scanQRCode","getLocation","openLocation","getBrandWCPayRequest"];var x=new o(),t=dojoConfig.baseUrl+"third/wxwork/jsapi/wxJsapi.do?method=jsapiSignature",v={data:{url:location.href},handleAs:"json"};h.post(t,v).response.then(function(C){var B=C.data;if(B&&B.appId){g.config({appId:B.appId,timestamp:B.timestamp,nonceStr:B.noncestr,signature:B.signature,jsApiList:y});g.ready(function(D){console.log("签名成功,"+JSON.stringify(D));A(u)});g.error(function(){})}else{w();console.log("signInfo appId empty(wxwork)")}},function(){w();console.log(JSON.stringify(arguments))})},imagePreview:function(u){if(u.curSrc.indexOf("blob:")==0){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,u);document.getElementsByClassName("muiRtfPicSlider")[0].style.zIndex="999"}else{var v=this["$super$imagePreview"];var w=this;this.sign(function(t){g.previewImage({current:t.curSrc,urls:t.srcList,success:function(){},fail:function(x){v&&v.call(w,u);console.log("error:"+x.errMsg)}})},function(){v&&v.call(w,u)},u,u)}},fileView:function(t){},download:function(w){var t=function(){var z=navigator.userAgent.toLowerCase();if(/(iPhone|iPad|iPod|iOS)/i.test(z)){return true}return false};var x=function(){var z=navigator.userAgent.toLowerCase();if(z.indexOf("android")>-1&&z.indexOf("wechat")>-1){return true}return false};if(t()){var v=w.name.toLowerCase(),u=v.substring(v.lastIndexOf(".")+1);if(u=="zip"||u=="rar"){s.fail({text:"暂不支持此文件类型打开"});return}}var y=l.formatUrl(w.href);$.ajaxSettings.async=false;if(x()){$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=getSignDownload",{fdAttMainId:w.fdId},function(z){if(z.hasAtt==true){if(z.hasRest){y=l.formatUrl("/resource/jsp/download.jsp?url="+encodeURIComponent(z.downloadUrl))}else{s.fail({text:"未配置附件rest服务访问策略"})}}else{s.fail({text:"附件不存在"})}})}$.ajaxSettings.async=true;location.href=y;return},scanQRCode:function(t){this.ready(function(){g.scanQRCode({desc:"scanQRCode desc",needResult:1,scanType:["qrCode","barCode"],success:function(u){t&&t({text:u.text||u.resultStr})},error:function(u){if(u.errMsg.indexOf("function_not_exist")>0){s.tip({icon:"mui mui-warn",text:"微信版本过低请升级"})}}})},function(){this["$super$scanQRCode"]&&this["$super$scanQRCode"].call(this,t)});return true},getCurrentCoord:function(v,u,t){this.ready(function(){var w=this;g.getLocation({type:"gcj02",success:function(y){var x={lat:y.latitude,lng:y.longitude,coordType:5};v&&v(x)},cancel:function(){s.tip({icon:"mui mui-warn",text:"只有授权才允许地理定位"});u&&u()},fail:function(x){if(window.console){window.console.log(x.errMsg);window.console.log("微信地理定位失败")}w["$super$getCurrentCoord"]&&w["$super$getCurrentCoord"].call(w,v,u)}})},function(){var w=this;this.sign(function(x){g.getLocation({type:"gcj02",success:function(z){var y={lat:z.latitude,lng:z.longitude,coordType:5};v&&v(y)},cancel:function(){s.tip({icon:"mui mui-warn",text:"只有授权才允许地理定位"});u&&u()},fail:function(y){console.log(y);if(window.console){window.console.log(y.errMsg);window.console.log("微信地理定位失败")}w["$super$getCurrentCoord"]&&w["$super$getCurrentCoord"].call(w,v,u)}})},function(){w["$super$getCurrentCoord"]&&w["$super$getCurrentCoord"].call(w,v,u)},t,t)})},getCurrentPosition:function(v,u,t){t=t||{};this.ready(function(){this.getCurrentCoord(function(w){a.getMapLocation(d.mixin(w,t),v,u)},u,t)},function(){if(window.console){window.console.log("调用微信定位接口失败")}this["$super$getCurrentPosition"]&&this["$super$getCurrentPosition"].call(this,v,u)})},startRecord:function(t){this.ready(function(){function u(v){if(this.failTipTimer){clearTimeout(this.failTipTimer)}this.failTipTimer=setTimeout(function(){alert(v.errMsg)},100)}if(!localStorage.__allowRecord||localStorage.__allowRecord!=="true"){g.startRecord({success:function(){localStorage.__allowRecord="true";g.stopRecord()},fail:function(v){u(v)}});return}this.timer=setTimeout(function(){g.startRecord({fail:function(v){u(v)}});t()},200)},function(){this["$super$startRecord"]&&this["$super$startRecord"].call(this,t)})},stopRecord:function(u,t){this.ready(function(){if(this.timer){clearTimeout(this.timer)}setTimeout(function(){g.stopRecord({success:function(v){if(u){u(v)}},fail:function(v){if(t){t(v)}}})},200)},function(){this["$super$stopRecord"]&&this["$super$stopRecord"].call(this,u,t)})},stopRecordByTranslate:function(t,u){this.ready(function(){if(t){t()}this.stopRecord(function(w){var v=w.localId;if(v){g.translateVoice({localId:v,isShowProgressTips:1,success:function(x){if(u){u(x)}}})}})},function(){this["$super$stopRecordByTranslate"]&&this["$super$stopRecordByTranslate"].call(this,t,u)})},selectEnterpriseContact:function(t,u){this.sign(function(v){g.invoke("selectEnterpriseContact",{fromDepartmentId:0,mode:"multi",type:["user"],selectedDepartmentIds:[],selectedUserIds:v.pickedUsers},function(w){if(w.err_msg=="selectEnterpriseContact:ok"){if(typeof w.result=="string"){w.result=JSON.parse(w.result)}u&&u({users:w.result.userList})}})},function(){console.log("企业微信ready 失败")},t,t)},openEnterpriseChat:function(t,u){console.log(this.sign);this.sign(function(v){g.openEnterpriseChat({userIds:v.emplIds,externalUserIds:"",groupName:v.groupName,chatId:v.chatId,success:function(x){var w=x.chatId;console.log("chatId:",w);u&&u({chatId:w})},fail:function(w){if(w.errMsg.indexOf("function not exist")>-1){alert("版本过低请升级")}}})},function(){console.log("ready 失败！无法发起群聊")},t,t)},openViewMap:function(t,v,u){this.ready(function(){var w=[t.lng,t.lat];if(t.coordType=="bd09"){w=f.bd09togcj02(t.lng,t.lat)}g.openLocation({longitude:w[0],latitude:w[1],name:t.value||"",address:t.detailValue||""});v&&v()},function(){this["$super$openViewMap"]&&this["$super$openViewMap"].call(this,t,v,u)})},openFileByWpsOaassist:function(t,u){this.ready(function(){p(l.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=getWpsOfficeViewParam"),{handleAs:"json",method:"post",data:{fdAttMainId:t.fdAttMainId,mode:t.fdMode}}).then(d.hitch(this,function(v){if(v){if(v.param!=null){var w=v.param;g.checkJsApi({jsApiList:["request3rdApp"],success:function(x){console.log(x);if(x.checkResult&&x.checkResult.request3rdApp){u&&u("true");g.invoke("request3rdApp",{scheme:"ksoapp",needToken:0,param:w},function(y){console.log(y)})}else{u&&u("false");alert("当前政务微信版本不支持调用wps客户端!!!")}}})}else{alert("获取参数为空!!!")}}}))},function(){this["$super$openFileByWpsOaassist"]&&this["$super$openFileByWpsOaassist"].call(this,t)})},openFileByWps:function(t){this.ready(function(){p(l.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=getWpsCloudViewParam"),{handleAs:"json",method:"post",data:{fdAttMainId:t.fdAttMainId,mode:t.fdMode}}).then(d.hitch(this,function(u){if(u){if(u.fdVolumeId!=null&&u.fdWpsId!=null){var v="wpsofficeapi://wps.cn/openfile2?use_wga=true&wga_idtype=user&wga_appid=&wga_volumeid="+u.fdVolumeId+"&wga_fileid="+u.fdWpsId+"&wga_sig=&tpas_code="+u.userid+"&tpas_code_type=encrypt&MainMenuFlags=4&EnterRevisionSilent=true&UserName="+u.username;if(u.waterText&&u.waterText!=null&&u.waterText!=""){v+="&wm_name=landray&wm_text="+u.watertext}g.checkJsApi({jsApiList:["launch3rdApp"],success:function(w){console.log(w);if(w.checkResult&&w.checkResult.launch3rdApp){g.invoke("launch3rdApp",{appName:"wps",appID:"wechat",messageExt:"from=weixin_webview",packageName:"com.kingsoft.moffice_pro",param:v},function(x){console.log(x)})}else{alert("当前政务微信版本不支持调用wps客户端！！")}}})}else{alert("")}}}))},function(){this["$super$openFileByWps"]&&this["$super$openFileByWps"].call(this,t)})},selectEnterpriseContact:function(t,u){this.sign(function(v){g.invoke("selectEnterpriseContact",{fromDepartmentId:0,mode:"multi",type:["user"],selectedDepartmentIds:[],selectedUserIds:v.pickedUsers},function(w){if(w.err_msg=="selectEnterpriseContact:ok"){if(typeof w.result=="string"){w.result=JSON.parse(w.result)}u&&u({users:w.result.userList})}})},function(){console.log("企业微信ready 失败")},t,t)},openEnterpriseChat:function(t,u){console.log(this.sign);this.sign(function(v){g.openEnterpriseChat({userIds:v.emplIds,externalUserIds:"",groupName:v.groupName,chatId:v.chatId,success:function(x){var w=x.chatId;console.log("chatId:",w);u&&u({chatId:w})},fail:function(w){if(w.errMsg.indexOf("function not exist")>-1){alert("版本过低请升级")}}})},function(){console.log("ready 失败！无法发起群聊")},t,t)},updateOrder:function(u,x,v){var t=dojoConfig.baseUrl+"third/weixin/third_weixin_pay_order/thirdWeixinPayOrder.do?method=updateOrder";var w={data:u,handleAs:"json"};h.post(t,w).response.then(function(z){var A=z.data.result;if(A==true){var y=z.data.data;x&x(y)}else{console.log("更新订单状态失败，"+JSON.stringify(z));v&v("更新订单状态失败，"+JSON.stringify(z))}},function(y){console.log("更新订单状态请求失败，"+JSON.stringify(y));v&v("更新订单状态请求失败，"+JSON.stringify(y))})},payRequest:function(t,w,v){var u=this.updateOrder;this.ready(function(){var y=dojoConfig.baseUrl+"third/weixin/third_weixin_pay_order/thirdWeixinPayOrder.do?method=paySign";var x={data:t,handleAs:"json"};h.post(y,x).response.then(function(A){var B=A.data.result;if(B==true){var z=A.data.data;console.log("signInfo:"+JSON.stringify(z));WeixinJSBridge.invoke("getBrandWCPayRequest",z,function(C){console.log("getBrandWCPayRequest res:"+JSON.stringify(C));if(C.err_msg=="get_brand_wcpay_request:ok"){u(t,w,v)}else{console.log("用户支付失败，"+JSON.stringify(C));v&v("用户支付失败，"+JSON.stringify(C))}})}else{console.log("微信支付签名失败，"+JSON.stringify(A));v&v("微信支付签名失败，"+JSON.stringify(A))}},function(z){console.log("微信支付签名请求失败，"+JSON.stringify(z));v&v("微信支付签名请求失败，"+JSON.stringify(z))})},function(){console.log("企业微信签名失败");v&v("企业微信签名失败")})}};(function(){var v=b.getClientType();if(v!=6&&v!=12){return}if(!g){return}u().then(function(){m=true;k.publish("/third/wxwork/ready")},function(){w().then(function(){m=true;k.publish("/third/wxwork/ready")},function(){m=false;n=true;k.publish("/third/wxwork/readyfail")})});var x=["startRecord","stopRecord","translateVoice","scanQRCode","getLocation","openLocation","launch3rdApp","request3rdApp","getBrandWCPayRequest"];function t(z,B){var A=new RegExp();A.compile("[\\?&]"+B+"=([^(&|#)]*)","i");var y=A.exec(z);if(y==null){return null}else{return decodeURIComponent(y[1])}}function u(){var A=t(location.href,"agentid");var B=new o(),y=dojoConfig.baseUrl+"third/wxwork/jsapi/wxJsapi.do?method=jsapiSignature",z={data:{url:location.href,agentid:A},handleAs:"json"};h.post(y,z).response.then(function(D){var C=D.data;if(C&&C.appId){g.config({beta:true,debug:false,appId:C.appId,timestamp:C.timestamp,nonceStr:C.noncestr,signature:C.signature,jsApiList:x});g.ready(function(){B.resolve()})}else{B.reject();console.log("signInfo appId empty(wxwork)")}},function(){B.reject();console.log(JSON.stringify(arguments))});return B}function w(){var A=new o(),y=dojoConfig.baseUrl+"third/wx/jsapi/wxJsapi.do?method=jsapiSignature",z={data:{url:location.href},handleAs:"json"};h.post(y,z).response.then(function(C){var B=C.data;if(B&&B.appId){g.config({appId:B.appId,timestamp:B.timestamp,nonceStr:B.noncestr,signature:B.signature,jsApiList:x});g.ready(function(){A.resolve()});g.error(function(D){console.log("企业微信签名失败"+JSON.stringify(D))})}else{A.reject();console.log("signInfo appId empty(wx)")}},function(){A.reject();console.log(JSON.stringify(arguments))});return A}})();return q})},"sys/mobile/js/mui/form/CheckBox":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-class","mui/form/_OptionsBase","dojo/dom-construct","dojo/topic","dojo/_base/lang","dojo/dom-style","mui/util","mui/form/checkbox/render/CheckBoxNormal","mui/form/checkbox/render/CheckBoxBlock","mui/form/checkbox/render/CheckBoxTable"],function(f,m,n,b,d,k,a,l,h,g,o,e){var p=f("mui.form.CheckBox",[b],{valueField:null,opt:false,type:"checkbox",checked:false,mul:true,tag:"div",pop:false,renderOptions:[g,o,e],renderType:"normal",CHECK_CHANGE:"mui/form/checkbox/change",CHECK_SET:"mui/form/checkbox/set",ITEMVALUE_CHANGE:"mui/form/checkbox/valueChange",RENDER_CHECKED_STATUS:"mui/form/checkbox/renderCheckedStatus",postCreate:function(){this.inherited(arguments);this.subscribe(this.CHECK_SET,"_setCheckedAttr")},_buildValue:function(){if(this.pop){this.renderType="table"}for(var q in this.renderOptions){var s=this.renderOptions[q];this.checkboxNode=new s()._buildRender(this);if(this.checkboxNode){break}}this.optionContainerNode=this.checkboxNode;d.place(this.domNode,this.checkboxNode,"last");this.inherited(arguments)},_checkedChange:function(s,q){if(!q){return}if(q.name==this.name&&s!=this){this.set("checked",false)}},_extendCheckAction:function(q){this.inherited(arguments);k.publish(this.RENDER_CHECKED_STATUS,this,{domNode:this.checkboxNode,checked:this.checked,checkedIcon:this.checkedIcon,unCheckedIcon:this.unCheckedIcon})},_onClick:function(q){var t=new Date().getTime();var s=this.ctime;if(s!="undefined"&&(t-s<500)){return false}else{this.set("checked",this.checked?false:true);k.publish(this.ITEMVALUE_CHANGE,this,{name:this.name});k.publish(this.CHECK_CHANGE,this,{name:this.name,value:this.value});k.publish(this.RENDER_CHECKED_STATUS,this,{domNode:this.checkboxNode,checked:this.checked,checkedIcon:this.checkedIcon,unCheckedIcon:this.unCheckedIcon});this.ctime=t;return true}},_readOnlyAction:function(q){this.optionNode=this.checkboxNode;this.inherited(arguments)},buildEdit:function(){self._curTime=0;this._optionHandle=this.connect(this.checkboxNode,"click","_onClick");if(!this.mul){this.subscribe(this.ITEMVALUE_CHANGE,"_checkedChange")}},buildHidden:function(){l.set(this.domNode,{display:"none"})},buildReadOnly:function(){l.set(this.domNode,{readOnly:"readOnly"})},buildView:function(){this.buildReadOnly()},viewValueSet:function(q){this.domNode.value=q},editValueSet:function(q){this.viewValueSet(q)},hiddenValueSet:function(q){this.viewValueSet(q)},readOnlyValueSet:function(q){this.viewValueSet(q)}});return p})},"sys/mobile/js/mui/list/item/IntroduceMixin":function(){define(["dojo/_base/declare","dojo/dom-construct"],function(b,a){var d=b("mui.list.item.TextItem.introduceMixin",null,{introduceTagClass:"",buildTag:function(e){this.inherited(arguments);if(this.isIntroduce&&e){this.formatIntroduceData();a.create("span",{className:this.tagClass+this.introduceTagClass,innerHTML:this.introduceTagText},e)}},formatIntroduceData:function(){if(this.isIntroduce){this.introduceTagText="精华";this.introduceTagClass=" muiIntroduceTag"}}});return d})},"sys/mobile/js/mui/tabfilter/TabfilterRightItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/tabfilter/TabfilterRightItemMixin"],function(d,b,a){return d("mui.tabfilter.TabfilterRightItemListMixin",[b],{itemRenderer:a})})},"sys/mobile/js/mui/util":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/on","dojo/query","mui/base64","dojo/Deferred","dojo/promise/all"],function(f,k,b,h,a,e,g){var d=f("mui.util",null,{formatUrl:function(n,o){var m="";if(n==null){m=""}else{if(n.substring(0,1)=="/"){if(dojoConfig.serverPrefix){var l=dojoConfig.serverPrefix;l=l.charAt(l.length-1)=="/"?l.substring(0,l.length-1):l;m=l+n;return m}else{m=dojoConfig.baseUrl+n.substring(1)}}else{m=n}}if(o&&!(new RegExp("^http").test(m)||new RegExp("^https").test(m)||new RegExp("^dingtalk").test(m))){m=this.getHost()+m}return m},getHost:function(){var l=location.protocol.toLowerCase()+"//"+location.hostname;if(location.port!=""&&location.port!="80"){l=l+":"+location.port}return l},formatText:function(l){if(l==null||l==undefined||l.length==0){return""}return(l+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;").replace(/\n/g,"<br>")},formatTextChar:function(l){if(!l||l.length==0){return""}if((l+"").indexOf("\\")<0){return l}if((l+"").indexOf("\\'")>-1){return l}return(l+"").replace(/\\/g,"\\\\")},decodeHTML:function(l){if(!l||l.length==0){return""}return(l+"").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")},urlResolver:function(l,m){return l.replace(/\!\{([\w\.]*)\}/gi,function(n,o){var p=null;if(m){p=m[o]}return p===null||p===undefined?"":p})},capitalize:function(l){if(!l||l.length==0){return""}return l.substr(0,1).toUpperCase()+l.substr(1)},getScreenSize:function(){return{h:k.global.innerHeight||k.doc.documentElement.clientHeight||k.doc.documentElement.offsetHeight,w:k.global.innerWidth||k.doc.documentElement.clientWidth||k.doc.documentElement.offsetWidth}},addTopView:function(l){var m=h("#content .mblView")[0].parentNode;if(l&&l.domNode){h(m).append(l.domNode)}else{if(l&&l.nodeType){h(m).append(l)}}},getUrlParameter:function(m,o){var n=new RegExp();n.compile("[\\?&]"+o+"=([^&]*)","i");var l=n.exec(m);if(l==null){return null}else{return decodeURIComponent(l[1])}},setUrlParameter:function(l,o,n){var m=new RegExp();m.compile("([\\?&]"+o+"=)[^&]*","ig");if(n==null){if(m.test(l)){l=l.replace(m,"")}}else{n=encodeURIComponent(n);if(m.test(l)){l=l.replace(m,"$1"+n)}else{l+=(l.indexOf("?")==-1?"?":"&")+o+"="+n}}if(l.charAt(l.length-1)=="?"){l=l.substring(0,l.length-1)}return l},setUrlParameterMap:function(l,m){for(param in m){l=this.setUrlParameter(l,param,m[param])}return l},disableTouch:function(m,n){if(m){var l=function(o){o.preventDefault()};b(m,n,l)}},base64Encode:function(n,l){var m=n;if(n!=null&&n.length>0){n="\u4241\u5345\u3634{"+a.encode(n)+"}"}if(m!=n){if(l==true){m="\u4645\u5810\u4d40"+n}else{m="\u4649\u5820\u4d45"+n}}return m},preLoading:function(m){if(m==null||m==""){return}try{var l={};if(window.XMLHttpRequest){l=new XMLHttpRequest()}else{if(window.ActiveXObject){l=new ActiveXObject("Microsoft.XMLHTTP")}}if(!this.getUrlParameter(m,"s_cache")){if(window.Com_Parameter&&window.Com_Parameter.Cache){m=Com_SetUrlParameter(m,"s_cache",Com_Parameter.Cache)}else{m=m.indexOf("?")>-1?m+"&"+dojoConfig.cacheBust:m+"?"+dojoConfig.cacheBust}}l.open("GET",m,true);l.setRequestHeader("Accept","text/plain");l.setRequestHeader("Content-Type","text/plain;charset=UTF-8");l.send(null)}catch(n){}},urlParse:function(n,q){var u=String(n).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);if(!u){throw new RangeError()}var B=u[1]||"";var w=u[2]||"";var A=u[3]||"";var C=u[4]||"";var y=u[5]||"";var t=u[6]||"";var p=u[7]||"";var D=u[8]||"";var v=u[9]||"";if(q!==undefined){var o=this.urlParse(q);var x=B===""&&C===""&&w==="";if(x&&p===""&&D===""){D=o.search}if(x&&p.charAt(0)!=="/"){p=p!==""?((o.host!==""||o.username!=="")&&o.pathname===""?"/":"")+o.pathname.slice(0,o.pathname.lastIndexOf("/")+1)+p:o.pathname}var s=[];p.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(m){if(m==="/.."){s.pop()}else{s.push(m)}});p=s.join("").replace(/^\//,p.charAt(0)==="/"?"/":"");if(x){t=o.port;y=o.hostname;C=o.host;A=o.password;w=o.username}if(B===""){B=o.protocol}}var z=B+(B!==""||C!==""?"//":"")+C;var l=B+(B!==""||C!==""?"//":"")+(w!==""?w+(A!==""?":"+A:"")+"@":"")+C+p+D+v;return{protocol:B,username:w,password:A,host:C,hostname:y,port:t,search:D,searchJSON:(function(){var m={};var E=D.length>0?D.substring(1):D;E.replace(/([^?&]+)=([^?&]+)/gi,function(G,F,H){m[F]=H});return m})(),pathname:p,hash:v,href:l,origin:z}},loadCSS:function(m,p){this.__csscache=this.__csscache||{};var l=this;if(this.__csscache[m]){return}var o=document.getElementsByTagName("head")[0],n=document.createElement("link");n.type="text/css";n.rel="stylesheet";n.href=dojoConfig.baseUrl+m.substring(1);n.onload=n.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){p&&p();n.onload=n.onreadystatechange=null;l.__csscache[m]=true}};n.onerror=function(){if(n.__retry){return}n.__retry=true;n.href=l.formatUrl(m);o.appendChild(n)};o.appendChild(n)},setInnerHTML:function(q,o){var s=new e();q.innerHTML=o;var l=q.getElementsByTagName("script");var n=[];for(var m=0;m<l.length;m++){p(l[m])}if(n.length==0){s.resolve()}else{g(n).then(function(){s.resolve()})}function p(w){var u=new e();var x=w.text||w.textContent||w.innerHTML||"",y=w.src,v=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript";if(y){t.src=y;n.push(u.promise);t.onload=function(){u.resolve()};v.appendChild(t)}else{s.then(function(){t.appendChild(document.createTextNode(x));v.appendChild(t)})}}return s},formatDate:function(m,n){if(!m){return}var p={"M+":m.getMonth()+1,"d+":m.getDate(),"H+":m.getHours(),"m+":m.getMinutes(),"s+":m.getSeconds()};if(/(y+)/.test(n)){n=n.replace(RegExp.$1,(m.getFullYear()+"").substring(RegExp.$1.length==2?2:0))}for(var l in p){if(new RegExp("("+l+")").test(n)){n=n.replace(RegExp.$1,RegExp.$1.length==1?p[l]:("00"+p[l]).substring((""+p[l]).length))}}return n},parseDate:function(p,o){var n=o||dojoConfig.DateTime_format;var l=new Date();if(/(y+)/.test(n)){l.setFullYear(p.substring(n.indexOf(RegExp.$1),n.indexOf(RegExp.$1)+RegExp.$1.length))}if(/(M+)/.test(n)){l.setMonth(parseInt(p.substring(n.indexOf(RegExp.$1),n.indexOf(RegExp.$1)+RegExp.$1.length),10)-1,1)}if(/(d+)/.test(n)){l.setDate(p.substring(n.indexOf(RegExp.$1),n.indexOf(RegExp.$1)+RegExp.$1.length))}if(/(H+)/.test(n)){l.setHours(p.substring(n.indexOf(RegExp.$1),n.indexOf(RegExp.$1)+RegExp.$1.length))}if(/(h+)/.test(n)){var m=p.substring(n.indexOf(RegExp.$1),n.indexOf(RegExp.$1)+RegExp.$1.length);m=m%12==0?12:m%12;l.setHours(m)}if(/(m+)/.test(n)){l.setMinutes(p.substring(n.indexOf(RegExp.$1),n.indexOf(RegExp.$1)+RegExp.$1.length))}if(/(s+)/.test(n)){l.setSeconds(p.substring(n.indexOf(RegExp.$1),n.indexOf(RegExp.$1)+RegExp.$1.length))}if(/(S+)/.test(n)){l.setMilliseconds(p.substring(n.indexOf(RegExp.$1),n.indexOf(RegExp.$1)+RegExp.$1.length))}return l},isExistFace:function(p){function n(w){var v=[],u=0,x=w.length,y,t;while(u<x){y=w.charCodeAt(u++);if(y>=55296&&y<=56319&&u<x){t=w.charCodeAt(u++);if((t&64512)==56320){v.push(((y&1023)<<10)+(t&1023)+65536)}else{v.push(y);u--}}else{v.push(y)}}return v}if(!p){return""}var m=n(p);for(var o=0;o<m.length;o++){var l=m[o];var q=false;if(l>=57344&&l<58680){q=true}else{if((l>=8598&&l<=8601)||l==9664||l==9654||l==9194||l==9193||(l>=9728&&l<=12953)||(l>=126976&&l<=129535)){q=true;if((l>=12289&&l<=12290)||(l>=12296&&l<=12299)||(l>=12304&&l<=12305)||(l>=12032&&l<=12035)||(l==12581)||(l>=12352&&l<=12447)||(l>=12448&&l<=12543)||(l>=12784&&l<=12799)){q=false}}else{if(l==8419){if(o>0){var s=m[o-1];if(s==35||(s>=48&&s<=57)){q=true}}}}}if(q){return true}}return false}});return new d()})},"sys/mobile/js/mui/list/_ListNoDataMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/query","dojo/_base/lang","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/list/item/_TemplateItemMixin","dojo/dom-style","dojo/dom-construct","dojo/dom-class","mui/util","dojo/_base/window"],function(e,h,m,a,b,g,l,d,n,f,k){return e("mui.list._ListNoDataMixin",null,{nodataImg:f.formatUrl("/sys/mobile/resource/images/nodata.png"),nodataIcon:"mui mui-message",nodataText:b["mui.list.msg.noData"],isShowNoDate:true,startup:function(){if(this._started){return}this.inherited(arguments);this.subscribe("/mui/list/loaded",a.hitch(this,function(o){if(o!=null&&o==this){this.buildNoDataItem(o)}}))},buildNoDataItem:function(q){if(this.tempItem){if(q.removeChild){q.removeChild(this.tempItem)}this.tempItem.destroy();this.tempItem=null}if(!this.isShowNoDate){return}if(q.totalSize==0){var p='<li><div class="muiListNoDataArea"><div class="muiListNoDataInnerArea"><div class="muiListNoDataContainer"></div></div><div class="muiListNoDataTxt muiFontSizeM muiFontColorInfo">${text}</div></div></li>';this.tempItem=new g({templateString:p,baseClass:"muiListNoData",text:this.nodataText});var o=m(".muiListNoDataContainer",this.tempItem.domNode)[0];if(this.nodataImg){d.create("img",{src:this.nodataImg},o);n.add(o,"muiListNoDataImg")}else{d.create("i",{className:this.nodataIcon},o);n.add(o,"muiListNoDataIcon")}if(q.addChild){q.addChild(this.tempItem)}q.append=false;h.publish("/mui/list/noData",this);this.resizeNoDataItem()}},resizeNoDataItem:function(){if(!this.tempItem){return}var q=this.getParent();if(!q){return}var o=q.domNode.offsetHeight;if(o<189&&q.containerNode){o=l.get(q.containerNode.parentElement,"height");if(o<189){o=l.get(q.containerNode.parentElement.parentElement,"height")}}var s=k.global.innerHeight||k.doc.documentElement.clientHeight;o=o<=0||s<=o?189:o;if(!this.noSetLineHeight){var p=o;l.set(this.tempItem.domNode,{height:p+"px","line-height":p+"px"})}}})})},"sys/mobile/js/mui/form/_PlaceholderMixin":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-class"],function(b,e,d){var a=b("mui.form._PlaceholderMixin",[e],{buildRendering:function(){this.inherited(arguments);if(this.edit){d.remove(this.domNode,"showTitle")}},_readOnlyAction:function(f){this.inherited(arguments);var g=this._get("value");if(this.domNode){if(!g&&this.edit){d.remove(this.domNode,"showTitle")}else{d.add(this.domNode,"showTitle")}}},_setValueAttr:function(f){this.inherited(arguments);if(this.domNode){if(!f&&this.edit){d.remove(this.domNode,"showTitle")}else{d.add(this.domNode,"showTitle")}}}});return a})},"sys/mobile/js/mui/table/HView":function(){define(["dojo/_base/declare","dojox/mobile/ScrollableView","dojo/dom-style","dojo/ready","dojox/mobile/_css3"],function(d,f,b,e,a){return d("mui.table.HView",[f],{scrollDir:"h",height:"100%",scrollBar:false,appBars:false,postCreate:function(){this.inherited(arguments);this.subscribe("/mui/list/resize","resize")},resize:function(){if(this.timer){clearTimeout(this.timer)}var g=this;var h=arguments;this.timer=setTimeout(function(){var k=g.containerNode.offsetHeight;var l=g.getParent();if(l&&l.resizeH){l.resizeH(k)}g.inherited(h)},500)},isFormElement:function(k){var h=a.name("userSelect"),g=b.getComputedStyle(k).userSelect||b.getComputedStyle(k).webkitUserSelect;if(g==="text"){return true}return false}})})},"sys/mobile/js/mui/address/AddressItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","./AddressItemMixin","./AddressChannelMixin"],function(b,a,e,d){return b("mui.address.AddressItemListMixin",[a,d],{itemRenderer:e,_createItemProperties:function(g){var f=this.inherited(arguments);f.scope=this.scope;f.dataUrl=this.dataUrl;f.selType=this.selType;f.deptLimit=this.deptLimit;f.channel=this.channel;return f},_cateChange:function(f){this.isSameChannel(f)&&this.inherited(arguments)},_cateReback:function(f){this.isSameChannel(f)&&this.inherited(arguments)},_cateSelected:function(f){this.isSameChannel(f)&&this.inherited(arguments)},_scrollToCate:function(f){this.isSameChannel(f)&&this.inherited(arguments)},_setNavInfo:function(f){this.isSameChannel(f)&&this.inherited(arguments)}})})},"sys/mobile/js/mui/table/NativeHView":function(){define(["dojo/_base/declare","mui/NativeView"],function(b,a){return b("mui.table.NativeHView",[a],{scrollDir:"h"})})},"sys/mobile/js/mui/datetime/_DatePickerMixin7":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/date","dojo/date/locale","dojo/date/stamp"],function(g,b,a,f,k,h){var l={format:function(n){return k.format(n,{datePattern:this.pattern,selector:"date",locale:this.picker.lang})}};var e=a.mixin({initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var p=new Date(this.labelFrom,0,1);var o,n;for(o=this.labelFrom,n=0;o<=this.labelTo;o++,n++){p.setFullYear(o);this.labels.push(this.format(p))}}}},l);var d=a.mixin({initLabels:function(){this.labels=[];var o=new Date(2000,0,16);for(var n=0;n<12;n++){o.setMonth(n);this.labels.push(this.format(o))}}},l);var m=a.mixin({initLabels:function(){this.labels=[];var o=new Date(2000,0,1);for(var n=1;n<=31;n++){o.setDate(n);this.labels.push(this.format(o))}}},l);return b("mui/datetime/_DatePickerMixin7",null,{yearPattern:"yyyy",monthPattern:"MMM",dayPattern:"d",initSlots:function(){var o=this.slotClasses,n=this.slotProps;o[0]=b(o[0],e);o[1]=b(o[1],d);o[2]=b(o[2],m);n[2].picker=n[1].picker=n[0].picker=this;n[0].pattern=this.yearPattern;n[1].pattern=this.monthPattern;n[2].pattern=this.dayPattern;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var n=k._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=g.map(n,function(o){return{y:0,m:1,d:2}[o.charAt(0)]})},reset:function(){var o=new Date();var n=g.map(this.slots,function(p){return p.format(o)});this.set("colors",n);this._disableEndDaysOfMonth();if(this.value){this.set("value",this.value);this.value=null}else{if(this.values){this.set("values",this.values);this.values=null}else{this.set("values",n)}}},_onYearSet:function(){var o=this.slots[0];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){this._disableEndDaysOfMonth();o._previousValue=n;o._set("value",n);this.onYearSet()}},onYearSet:function(){},_onMonthSet:function(){var o=this.slots[1];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){this._disableEndDaysOfMonth();o._previousValue=n;o._set("value",n);this.onMonthSet()}},onMonthSet:function(){},_onDaySet:function(){var o=this.slots[2];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){if(!this._disableEndDaysOfMonth()){o._previousValue=n;o._set("value",n);this.onDaySet()}}},onDaySet:function(){},_disableEndDaysOfMonth:function(){var q=this.slots[0].pattern+"/"+this.slots[1].pattern,o=this.get("values"),p=k.parse(o[0]+"/"+o[1],{datePattern:q,selector:"date",locale:this.lang}),n=f.getDaysInMonth(p);var s=false;if(n<o[2]){s=true;this.slots[2]._spinToValue(n,false)}this.disableValues(n);return s},_getDateAttr:function(){var n=this.get("values"),p=this.slots,o=p[0].pattern+"/"+p[1].pattern+"/"+p[2].pattern;return k.parse(n[0]+"/"+n[1]+"/01",{datePattern:o,selector:"date",locale:this.lang})},_setValuesAttr:function(n){g.forEach(this.getSlots(),function(p,s){var q=n[s];if(typeof q=="number"){var o=[1970,1,1];o.splice(s,1,q-0);q=p.format(new Date(o[0],o[1]-1,o[2]))}p.set("value",q)})},_setValueAttr:function(o){var n=h.fromISOString(o);this.set("values",g.map(this.slots,function(p){return p.format(n)}))},_getValueAttr:function(){return h.toISOString(this.get("date"),{selector:"date"})}})})},"sys/mobile/js/mui/search/SearchBarPage":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-attr","dojo/dom","mui/util"],function(d,e,b,g,f,a){return d("mui.search.SearchBarPage",[e],{icon:"mui mui-Csearch",label:"",modelName:"",searchUrl:"/sys/ftsearch/mobile/index.jsp?keyword=!{keyword}&modelName=!{modelName}",buildRendering:function(){this.inherited(arguments);this.buildSearchBar()},buildSearchBar:function(){var h=b.create("div",{className:"searchBar_inputWrap"},this.domNode);this.formNode=b.create("form",{onsubmit:"return false;"},h);b.create("i",{className:this.icon},this.formNode);this.connect(this.formNode,"onsubmit","_onSearch");this.buildSearchInput(this.formNode)},buildSearchInput:function(){this.inputNode=b.create("input",{type:"search"},this.formNode);this.connect(this.inputNode,"onfocus","_onfocus");this.connect(this.inputNode,"onclick","_onfocus");this.connect(this.inputNode,"onblur","_onblur");return this.inputNode},_onSearch:function(l){var h=this.inputNode.value;if(h&&h!=""){var k=this.searchUrl.replace("!{keyword}",h).replace("!{modelName}",this.modelName);k=a.formatUrl(k,"_self");location=k}},_onfocus:function(h){var k=h.target;g.set(k,"placeholder",this.label)},_onblur:function(h){var k=h.target;g.set(k,"placeholder","")}})})},"sys/mobile/js/mui/category/SwapCategoryList":function(){define(["dojo/_base/declare","dojo/dom-construct","dojox/mobile/View","dojo/parser","dojo/_base/lang","mui/util","dojo/request","dojo/Deferred"],function(e,b,h,k,g,a,f,d){return e("mui.simplecategory.SwapCategoryList",[h],{mixins:["mui/category/ACategoryListMixin","mui/category/BCategoryListMixin"],index:0,tmpl:"<div data-dojo-type=\"dojox/mobile/ScrollableView\" data-dojo-mixins=\"mui/category/AppBarsMixin\"data-dojo-props=\"scrollBar:false,threshold:100,key:'{key}'\"><ul data-dojo-type=\"mui/simplecategory/SimpleCategoryList\" data-dojo-mixins=\"mui/simplecategory/SimpleCategoryItemListMixin,!{mixin}\" data-dojo-props=\"___urlParam:'{___urlParam}',lazy:false,isMul:{isMul},key:'{key}',parentId:'!{fdId}',selType:{selType},modelName:'{modelName}',authType:'{authType}',curIds:'{curIds}',confirm:{confirm},index:{index}\" ></ul></div>",buildRendering:function(){this.inherited(arguments);this.containerNode=b.create("div",{className:"muiSimpleCateContainer"},this.domNode);this.subscribe("/mui/category/changed","_cateChange")},authed:false,_cateChange:function(m,l){if(m.key==this.key){this.authRequest(l)}},authUrl:"/sys/category/mobile/sysSimpleCategory.do?method=authData",authRequest:function(l){var m=new d();if(this.authed){m.resolve()}else{this.authed=true;f.post(a.formatUrl(this.authUrl),{handleAs:"json",data:{modelName:this.modelName,authType:this.authType}}).then(g.hitch(this,function(n){this.authCateIds=n.authIds;m.resolve()}))}m.promise.then(g.hitch(this,function(){this.generateList(l)}))},generateList:function(m){if(this.index>=this.mixins.length){return}m.mixin=this.mixins[this.index];var n=this.tmpl;n=a.urlResolver(n,m);n=g.replace(n,this);this.index++;var l=b.create("div",{innerHTML:n,className:"muiSimpleCateContent"},this.containerNode);k.parse(l).then(function(o){o[0].resize()})}})})},"sys/mobile/js/mui/panel/extend/_PromptPanelMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","mui/panel/extend/_PromptMixin","dojo/dom-style","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dojox/mobile/_StoreMixin","mui/util","mui/openProxyMixin","mui/store/JsonRest","mui/device/adapter","dojo/on"],function(g,a,e,k,d,o,m,p,h,f,b,n,l){return g("mui.panel._NavPanelPrompt",[p,f],{url:"/sys/mobile/sys_mobile_module_navitem_config/sysMobileModuleNavItemConfig.do?method=dataNavItem&fdModelName=!{modelName}&fdModelId=!{modelId}",modelName:null,modelId:null,startup:function(){this.url=h.urlResolver(this.url,this);this.url=h.formatUrl(this.url);var q=new b({idProperty:"fdId",target:this.url,defaultType:"get"});setTimeout(a.hitch(this,function(){this.setStore(q,this.query,this.queryOptions)}),1);this.inherited(arguments);this.bindEvent()},buildRendering:function(){this.promptWgt=new e({content:"测试"});this.moreNavItemBtnNode=d.create("div",{className:"muiMoreNavitemBtn"});d.place(this.promptWgt.domNode,this.moreNavItemBtnNode,"last");o.add(this.promptWgt.iconNode,"muiMoreNavitemIcon");this.promptWgt.contentDom.innerHTML="";this.promptWgt.tabItems=d.create("ul",{className:"muiNavItems"},this.promptWgt.contentDom);this.inherited(arguments)},buildOtherItems:function(q){if(q){k.set(this.moreNavItemBtnNode,{"margin-top":".4rem"})}else{k.set(this.fixedItem.domNode,{"padding-right":"5rem",position:"relative"})}d.place(this.moreNavItemBtnNode,this.fixedItem.domNode,"last")},bindEvent:function(){this.connect(this.promptWgt.contentDom,"click",function(s){var t=s.target;var q;while(t){if(o.contains(t,"muiNavItem")&&m.get(t,"data-url")){q=m.get(t,"data-url");q=h.formatUrl(q,true);break}t=t.parentElement}if(q){n.open(q,"_blank")}})},onComplete:function(q){this.generateList(q);this.promptWgt.content=this.promptWgt.contentDom.innerHTML},generateList:function(s){var q=this;if(!s){return}for(var w=0;w<s.length;w++){var u=s[w].url;var y=s[w].text;var x=s[w].iconClassName;var t=d.create("li",{className:"muiNavItem"},q.promptWgt.tabItems);var v=d.create("i",{className:"muiTabItemIcon"},t);d.create("span",{className:"muiTabItemText",innerHTML:y},t);m.set(t,"data-url",u);o.add(v,x)}}})})},"sys/mobile/js/mui/form/checkbox/render/CheckBoxTable":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","mui/util"],function(e,b,g,f,d,a){return e("mui.form.checkbox.render.CheckBoxTable",[g],{renderType:"table",checkboxNode:null,postCreate:function(){this.inherited(arguments);this.subscribe("mui/form/checkbox/renderCheckedStatus","_renderCheckedStatus")},_buildRender:function(h){if(this.renderType==h.renderType){this.checkboxNode=b.create(h.tag,{className:"muiCheckBoxContainer muiCheckBoxTableItem"+(h.unCheckedIcon?" "+h.unCheckedIcon:"")},h.domNode,"after");this.checkboxText=b.create("span",{className:"muiCheckBoxTableText",innerHTML:h.text&&h.text.indexOf("&#039;")>0?h.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.formatText(h.text)},this.checkboxNode,"last");this.checkboxIcon=b.create("i",{className:"fontmuis muis-form-selected-cor muiCheckBoxTableChecked"},this.checkboxNode)}return this.checkboxNode},_renderCheckedStatus:function(k,h){if(this.checkboxNode==h.domNode){if(h.checked){f.replace(this.checkboxNode,h.checkedIcon,h.unCheckedIcon);f.replace(this.checkboxIcon,h.checkedIcon,h.unCheckedIcon)}else{f.replace(this.checkboxNode,h.unCheckedIcon,h.checkedIcon);f.replace(this.checkboxIcon,h.unCheckedIcon,h.checkedIcon)}}}})})},"sys/mobile/js/mui/calendar/base/CalendarScrollable":function(){define(["dojo/_base/declare","dojox/mobile/_css3","mui/calendar/base/CalendarBase","dojo/dom-style","dojo/topic"],function(f,e,g,d,b){var a=f("mui.calendar.CalendarScrollable",[g],{makeTranslateStr:function(k){var h=k.y+"px";b.publish("/mui/calendar/bottomStatus",this,{status:false});return"translate3d(0,"+h+",0px)"},scrollTo:function(l,h){if(h){this.smooth()}var k=this.domNode.style;k[e.name("transform")]=this.makeTranslateStr(l)},smooth:function(){var h="-webkit-transition";d.set(this.domNode,h," -webkit-transform 100ms linear");this.defer(function(){d.set(this.domNode,h,"")},100)}});return a})},"sys/mobile/js/mui/form/validate/OldReminder":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/dom-geometry","dojo/query"],function(e,h,a,d,k,g,f){var b=e("mui.form.validate.OldReminder",null,{element:null,error:null,context:{},serialAttrName:"__validate_serial",_prifix:"reminder_",constructor:function(n,l,m){this.inherited(arguments);this.element=n;this.error=l;this.context=m;this.reminderId=this._prifix+k.get(this.element,this.serialAttrName)},show:function(l){var m=f("#"+this.reminderId);if(m.length>0){this.renderDom=m[0];this._reDrawErrorMsg()}else{this._buildRenderDom(this.reminderId)}d.set(this.renderDom,{display:"block"});if(l&&typeof(l)==="function"){l(this)}},hide:function(){var l=f("#"+this.reminderId);if(l.length>0){this.renderDom=l[0];d.set(this.renderDom,{display:"none"})}},_reDrawErrorMsg:function(){var l=f("#"+this.reminderId+" .muiValidateMsg");if(l.length>0){a.empty(l[0]);l[0].innerHTML=this._resolverError()}},_buildRenderDom:function(m){this.renderDom=a.create("div",{className:"muiValidate",id:m},this.element,"after");this.contentDom=a.create("div",{className:"muiValidateContent"},this.renderDom);a.create("div",{className:"muiValidateShape"},this.contentDom);var l=a.create("div",{className:"muiValidateInfo"},this.contentDom);a.create("span",{className:"muiValidateMsg",innerHTML:this._resolverError()},l)},_resolverError:function(){return this.error.replace(/\{([\w\.]*)\}/gi,h.hitch(this,function(l,m){var n=null;if(this.context){n=this.context[m]}return(n===null||n===undefined)?"":("<span class='muiValidateTitle'>"+n+"</span>")}))}});return b})},"sys/mobile/js/mui/list/_ViewPushAppendMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/dom-construct","dojo/query","dojox/mobile/viewRegistry","dojo/when","dojo/dom-style","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/_base/array"],function(d,a,e,m,k,l,h,f,b,g){return d("mui.list._PushMixin",null,{push:false,_pushItem:null,_pushDom:null,_createPushDom:function(){if(!this._pushDom){this._pushDom=m.toDom('<div class="listPushItem"><span><i class="mui mui-loading mui-spin"></i>'+b["mui.list.push.more"]+"</span></div>");m.place(this._pushDom,this.containerNode,"last")}},_setPushAttr:function(n){this._set("push",n)},pushDone:function(){this.set("push",false)},_buildPushHandle:function(){var n=this;return{work:function(){},done:function(){n.pushDone()},error:function(){n.pushDone()}}},onAfterScroll:function(n){if(n.afterBottom&&!this.push){this.set("push",true);var o=this._buildPushHandle();this.onPush(this,o);e.publish("/mui/list/onPush",this,o)}return this.inherited(arguments)},adjustDestination:function(s,q,p){var n=this._pushDom.offsetHeight;if(s.y+p.o.h<n&&!this.push){this.set("push",true);var o=this._buildPushHandle();this.onPush(this,o);e.publish("/mui/list/onPush",this,o)}return this.inherited(arguments)},onPush:function(n){},handlePushDomHide:function(n){if(g.some(this.getChildren(),function(o){return o==n})){f.set(this._pushDom,{display:"none"})}},handlePushDomShow:function(n){if(g.some(this.getChildren(),function(o){return o==n})){f.set(this._pushDom,{display:"table"})}},startup:function(){if(this._started){return}this.inherited(arguments);this._createPushDom();this.set("push",false);this.subscribe("/mui/list/pushDomHide","handlePushDomHide");this.subscribe("/mui/list/pushDomShow","handlePushDomShow")}})})},"sys/mobile/js/mui/ChannelMixin":function(){define(["dojo/_base/declare"],function(a){return a("mui.ChannelMixin",[],{channelPropName:"key",isSameChannel:function(d){var e=this.channelPropName;var b=function(f){return typeof(f)==="undefined"||this[f]===null};if(b(this[e])&&b(d)){return true}return this[e]==d}})})},"sys/mobile/js/mui/header/Header":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/dom-class","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/_base/array","dojo/_base/lang"],function(e,g,k,d,l,b,h,a){var f=e("mui.header.Header",[d,b,l],{width:"100%",height:"",baseClass:"muiHeader",buildRendering:function(){this.inherited(arguments);if(this.width!="100%"){g.set(this.domNode,{width:this.width})}if(this.height!=""){g.set(this.domNode,{height:this.height})}},startup:function(){this.inherited(arguments);this.changeChildDisplay()},changeChildDisplay:function(){h.forEach(this.getChildren(),a.hitch(this,function(m){if(m&&m.domNode){k.add(m.domNode,"muiHeaderItem")}}))}});return f})},"sys/mobile/js/mui/form/SysCategory":function(){define(["dojo/_base/declare","mui/form/Category","mui/syscategory/SysCategoryMixin"],function(d,e,b){var a=d("mui.form.SysCategory",[e,b],{});return a})},"sys/mobile/js/mui/query/QueryList":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/window","dojo/_base/array","dojo/dom-style","dojo/dom-class"],function(e,g,d,a,h,k,b,f){return e("mui.query.QueryList",[g,d,a],{baseClass:"muiQueryList",topHeight:0,HIDE_EVENT:"/mui/folder/hide",SHOW_EVENT:"/mui/folder/show",startup:function(){this.subscribe(this.HIDE_EVENT,"hide");this.subscribe(this.SHOW_EVENT,"show");this.inherited(arguments);var m=this.getChildren();var l=this.domNode.offsetWidth/(m.length)-m.length+1;k.forEach(m,function(n){if(n&&n.setStyle){n.setStyle({width:l+"px"})}},this)},show:function(){var l=this.getChildren();var m=80,n=400,o=400;k.forEach(l,function(p){if(p&&p.itemR){this.defer(function(){f.add(p.itemR,"muiQueryScale");this.defer(function(){f.remove(p.itemR,"muiQueryScale");f.add(p.itemR,"muiQueryListItemROn")},o)},n);n+=m}},this)},hide:function(){var m=this.getChildren(),l=m.length;var n=80,o=n*l,p=400;k.forEach(m,function(q){if(q&&q.itemR){this.defer(function(){f.add(q.itemR,"muiQueryScaled");this.defer(function(){f.remove(q.itemR,"muiQueryScaled");f.remove(q.itemR,"muiQueryListItemROn")},p)},o);o-=n}},this)}})})},"sys/mobile/js/mui/calendar/CalendarJsonStoreList":function(){define(["dojo/_base/declare","dojo/topic","dojo/when","dojox/mobile/EdgeToEdgeStoreList","dojox/mobile/_StoreListMixin","mui/list/_ListNoDataMixin","dojo/date","mui/util","dojo/_base/lang","dojo/request","dojo/dom-class","./CalendarUtil"],function(g,h,l,e,m,a,d,k,b,f,n,o){return g("mui.calendar.CalendarJsonStoreList",[e,m,a],{url:"",busy:false,__caches:{},_setUrlAttr:function(p){this.url=k.formatUrl(p)},postMixInProperties:function(){this.subscribe("/mui/calendar/dataChange","handleDataChange");this.subscribe("/mui/calendar/valueChange","handleValueChange")},startup:function(){if(this._started){return}this.inherited(arguments)},formatData:function(p){return p.data},handleDataChange:function(u,s){if(this.getEnclosingCalendarView(u)!=this.getEnclosingCalendarView(this)){return}if(s.startDate&&s.endDate){var p=o.formatDate(s.startDate);var t=o.formatDate(s.endDate);this.url=k.setUrlParameter(this.url,"fdStart",p);this.url=k.setUrlParameter(this.url,"fdEnd",t);this.url=k.setUrlParameter(this.url,"t",new Date().getTime())}h.publish("/mui/calendar/loading",this);var q=this;var v=f.post(this.url,{handleAs:"json"}).response.then(function(x){var y=q.__caches={},A=q.formatData(x);q.processDatas(A);var z=o.formatDate(s.currentDate);if(!y[z]){y[z]=[]}q.sortDatas(y[z]);q.generateList(y[z]);q.totalSize=y[z].length;h.publish("/mui/list/loaded",q,y[z]);var w=q.hasCalendar(s);h.publish("/mui/calendar/notify",w,q)})},handleValueChange:function(s,q){if(this.getEnclosingCalendarView(s)!=this.getEnclosingCalendarView(this)){return}var p=this.__caches,t=o.formatDate(q.currentDate);if(!p[t]){p[t]=[]}this.sortDatas(p[t]);this.generateList(p[t]);this.totalSize=p[t].length;h.publish("/mui/list/loaded",this,p[t])},processDatas:function(p){var s=this.__caches;for(var u=0;u<p.length;u++){var q=o.parseDate(p[u].start),v=o.parseDate(p[u].end);q.setHours(0,0,0,0);while(d.compare(q,v)<=0){var t=o.formatDate(q);if(!s[t]){s[t]=[]}s[t].push(p[u]);q=d.add(q,"day",1)}}return s},sortDatas:function(p){this.quicksort(p,0,p.length-1)},quicksort:function(q,v,t){if(v<t){var s=q[v],p=v,u=t;while(p<u){while(p<u&&o.parseDate(q[u].start).getTime()>=o.parseDate(s.start).getTime()){u--}q[p]=q[u];while(p<u&&o.parseDate(q[p].start).getTime()<=o.parseDate(s.start).getTime()){p++}q[u]=q[p]}q[p]=s;this.quicksort(q,v,p-1);this.quicksort(q,p+1,t)}},hasCalendar:function(t){t.startDate.setHours(0,0,0,0);t.endDate.setHours(0,0,0,0);var p={},s=t.startDate,q=this.__caches;while(d.compare(s,t.endDate)<=0){var u=o.formatDate(s);if(q[u]&&q[u].length>0){p[u]=true}s=d.add(s,"day",1)}return p},getEnclosingCalendarView:function(p){if(p&&p.getParent){p=p.getParent();while(p){if(n.contains(p.domNode,"muiCalendarScrollableView")){return p}p=p.getParent()}}return null}})})},"sys/mobile/js/mui/form/_InputBase":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/form/_FormBase","dojo/dom-class","dojo/_base/lang","mui/util","dojo/_base/window","dojo/dom-style","mui/form/_PlaceholderMixin","dojo/dom-attr"],function(e,d,l,m,a,f,g,h,b,k){var n=e("mui.form._InputBase",[l,b],{placeholder:"",opt:true,buildRendering:function(){this.inherited(arguments);this._buildValue()},_buildValue:function(){var p="build"+f.capitalize(this.showStatus);this[p]?this[p]():"";var o=this.showStatus+"ValueSet";this.showStatusSet=this[o]?this[o]:new Function()},_setValueAttr:function(o){this.showStatusSet(o);this.inherited(arguments)},_onBlur:function(o){var p=o.target;o.preventDefault();o.stopPropagation();this.set("value",p.value);if(this.ClearIcon){h.set(this.ClearIcon,{display:"none"})}},_readOnlyAction:function(o){this.inherited(arguments);if(this.contentNode){if(o){k.set(this.contentNode,"readonly","readonly")}else{k.remove(this.contentNode,"readonly")}}}});return n})},"sys/mobile/js/mui/search/_SearchPromptList":function(){define(["dojo/_base/declare","dojo/parser","dojo/dom-construct","mui/util","dojo/dom-style","dojo/_base/query","dojo/topic"],function(f,h,b,a,e,g,d){return f("mui.search._SearchPromptList",null,{postCreate:function(){this.inherited(arguments);this.subscribe("/mui/list/loaded","_onLoaded")},_onLoaded:function(k){if(k==this.jsonList){var l=k.totalSize;g(".muiSearchTitle")[0].innerHTML="搜索到约"+l+"项结果"}},_onCancel:function(){this.inherited(arguments);this.hideList()},hideList:function(){if(this.listNode){e.set(this.listNode,{display:"none"})}},showList:function(){if(this.listNode){e.set(this.listNode,{display:"block"})}},_onClear:function(){this.inherited(arguments);this.hideList()},_onSubmit:function(p){this.inherited(arguments);var m=p.keyword;var q=p.searchFields||"";var o=p.docStatus||"";var k=this.modelName;var l=this;if(this.listNode){this.showList();var n=l.jsonList.url;l.jsonList.url=a.setUrlParameterMap(n,{queryString:m,modelName:k,searchFields:q,docStatus:o});d.publish("/mui/list/toTop",l.jsonList,{time:0});l.jsonList.reload()}else{m=encodeURIComponent(p.keyword);this.listNode=b.create("div",{className:"muiSearchPromptList",innerHTML:a.urlResolver(this.templateStr(),{modelName:this.modelName,keyword:m,searchFields:q,docStatus:o})},this.domNode);h.parse({rootNode:this.listNode,noStart:false}).then(function(s){l.jsonList=s[1]})}},templateStr:function(){return('<div data-dojo-type="mui/list/StoreScrollableView"> <div class="muiSearchTitle"></div><ul data-dojo-type="mui/list/JsonStoreList" data-dojo-mixins="sys/ftsearch/mobile/list/SysFtsearchItemListMixin" data-dojo-props="lazy:false,url:\'/sys/ftsearch/searchBuilder.do?method=search&queryString=!{keyword}&modelName=!{modelName}&newLUI=true&forward=mobileList&searchFields=!{searchFields}&docStatus=!{docStatus}\'"></ul></div>')}})})},"sys/mobile/js/mui/form/editor/CkeditorInit":function(){define(["dojo/topic","dijit/registry"],function(b,a){return{init:function(d){b.subscribe("parser/done",function(){window.CKEDITOR_BASEPATH=dojoConfig.baseUrl+"sys/mobile/js/lib/ckeditor/";require(["lib/ckeditor/ckeditor"],function(){var e=document.querySelector("[name='"+d+"']");e.dojoClick=false;CKEDITOR.replace(e);CKEDITOR.on("instanceReady",function(f){for(instance in CKEDITOR.instances){CKEDITOR.instances[instance].on("blur",function(l){var k=l&&l.sender;if(k){k.updateElement();var g=k.element.$;var h=a.getEnclosingWidget(g);if(h&&h.validation){h.validation.validateElement(h)}}})}});Com_Parameter.event.confirm.push(function(){if(Com_Submit.ajaxSubmit){CKEDITOR.instances[d].updateElement()}return true})})})}}})},"sys/mobile/js/mui/scrollable/IPhoneXScrollableMixin":function(){define(["dojo/_base/declare"],function(a){function b(){var f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,e=window.devicePixelRatio||1;var d={width:window.screen.width*e,height:window.screen.height*e};if(f&&d.width==1125&&d.height===2436){return true}return false}return a("mui.scrollable.IPhoneXScrollableMixin",null,{scrollType:b()?3:null})})},"sys/mobile/js/mui/datetime/_DateMixin7":function(){define(["dojo/_base/declare","mui/datetime/_EditDateTimeMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){return b("mui.datetime._DateMixin",[a],{type:"date",tmplStr:'<div data-dojo-type="mui/datetime/DatePicker7" id="_date_picker" data-dojo-props="value:\'!{dateValue}\'"></div>',title:d["mui.date.select"],_contentExtendClass:"muiDateDialogDisContent"})})},"sys/mobile/js/mui/listcategory/ListCategory_common":function(){define(["mui/util"],function(a){function b(f){var d=a.getUrlParameter(f,"showFavoriteCate");var e='<div id="defaultView_{categroy.key}" data-dojo-type="dojox/mobile/View" >';e+="<div data-dojo-type=\"mui/listcategory/SwapCategoryList\" id=\"allCateView_{categroy.key}\" data-dojo-props=\"isMul:{categroy.isMul},dataUrl:'{categroy.dataUrl}',key:'{categroy.key}',curIds:'{categroy.curIds}',selType:{categroy.type},___urlParam:'{categroy.___urlParam}',modelName:'{categroy.modelName}',authType:'{categroy.authType}',confirm:{categroy.confirm}\" ><div data-dojo-type=\"mui/listcategory/ListCategoryPath\" data-dojo-props=\"key:'{categroy.key}',height:'4rem',modelName:'{categroy.modelName}',titleNode:'{categroy.titleNode}'\" class='muiListCatePath'></div></div>";e+="</div>";e+='<div id="searchView_{categroy.key}" class="muiCateSearchPanel" data-dojo-type="dojox/mobile/ScrollableView" data-dojo-props="scrollBar:false,threshold:100,key:\'{categroy.key}\'"><ul data-dojo-type="mui/listcategory/ListCategoryList" data-dojo-mixins="mui/listcategory/ListCategoryItemListMixin" data-dojo-props="lazy:true,isMul:{categroy.isMul},dataUrl:\'{categroy.dataUrl}\',key:\'{categroy.key}\',selType:{categroy.type},modelName:\'{categroy.modelName}\',authType:\'{categroy.authType}\',confirm:{categroy.confirm}" ></ul></div>';return e}return{html:b}})},"sys/mobile/js/mui/category/BCategoryListMixin":function(){define(["dojo/_base/declare","mui/util","dojo/dom-style","dojo/topic","mui/category/AppBarsMixin"],function(e,a,d,b,f){return e("mui.category.BSwapCategoryList",[f],{SWAP_EVENT:"mui/category/swap",_cateChange:function(h,g){this.bChange(h,g)},_reload:function(){this.buildLoading();this.reload();this.getParent().slideTo({y:0},0,"linear")},bChange:function(h,g){if(h.key!=this.key){return}if(this.parentId==g.fdId){return}this.parentId=g.fdId;if(!this.parentId){d.set(this.domNode,{display:"none"});return}d.set(this.domNode,{display:"block"});this.url=a.urlResolver(a.formatUrl(this.dataUrl),this);this._reload()}})})},"sys/mobile/js/mui/folder/_Folder":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-style","dojo/dom-class","dojo/touch"],function(b,e,a,d,f){return b("mui.folder._Folder",null,{buildRendering:function(){this.inherited(arguments);d.add(this.domNode,"muiFolder")},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,f.press,"_onExpand")},_onExpand:function(g){this.defer(function(){if(this.defaultClickAction){this.defaultClickAction(g)}this.show(g)},410)},show:function(g){}})})},"sys/mobile/js/mui/view/DocView":function(){define(["dojo/_base/declare","dojo/topic","dojo/Deferred","dojox/mobile/ScrollableView","mui/list/_ViewScrollEventPublisherMixin","mui/scrollable/IPhoneXScrollableMixin","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojox/mobile/_css3","dojo/query","dojo/_base/window","./AddBottomTipMixins","dojo/_base/lang"],function(d,e,m,n,b,f,h,l,o,q,k,g,p,a){return d("mui.view.DocScrollableView",[n,b,f,p],{scrollBar:false,optionConfig:[],startup:function(){this.inherited(arguments);this.connect(window,"orientationchange","_handleOrientation");this.addBottomTip(this.containerNode);var t=this.domNode;var s=0;if(t){document.body.addEventListener("focusout",function(){setTimeout(function(){if(s==0){return}t.style.height=s+"px"},100)});document.body.addEventListener("focusin",function(){if(t.style.display=="none"){return}if(s==0){s=t.clientHeight||t.offsetHeight}setTimeout(function(){t.style.height=s+"px"},100)})}},buildRendering:function(){this.inherited(arguments)},_handleOrientation:function(){try{var u=this;var v=120;var t=new m();function s(x,y){window.innerHeight!=y||x>=v?t.resolve():window.requestAnimationFrame(function(){s(x+1,y)})}s(0,window.innerHeight);t.then(function(){u.resize&&u.resize()})}catch(w){}},isFormElement:function(u){if(u&&u.nodeType!==1){u=u.parentNode}if(!u||u.nodeType!==1){return false}var s=u.tagName;return(s==="SELECT"||s==="INPUT"||s==="TEXTAREA"||s==="BUTTON"||s==="I"||l.get(u,"contenteditable")=="true"||this.isSelectableElement(u))},isSelectableElement:function(u){var t=q.name("userSelect"),s=h.getComputedStyle(u).userSelect||h.getComputedStyle(u).webkitUserSelect;if(s==="text"){this.fixAppBar();return true}return false},fixAppBar:function(){function s(w,x,v){var y;return function(){if(y){window.clearTimeout(y);y=null}var A=(v&&v.context)||this,z=arguments;y=window.setTimeout(function(){w.apply(A,arguments)},x)}}var u=k('[fixed="bottom"]');for(var t=0;t<u.length;t++){o.add(u[t],"fixed")}g.global.addEventListener("scroll",s(function(){for(var v=0;v<u.length;v++){o.remove(u[v],"fixed")}},1000))},onAfterTransitionIn:function(){e.publish("mui/view/currentView",this)},holdTime:250,lastTime:null,isdbClick:function(s){var t=this.lastTime;this.lastTime=new Date().getTime();if(t&&this.lastTime-t<=this.holdTime){return true}return false}})})},"sys/mobile/js/mui/simplecategory/simplecategory_sgl":function(){define(["mui/simplecategory/simplecategory_common"],function(b){function a(f,e){var d=b.html(f);d+="<div data-dojo-type=\"mui/simplecategory/SimpleCategorySelection\" data-dojo-props=\"required:{categroy.required},key:'{categroy.key}',curIds:'{categroy.curIds}',curNames:'{categroy.curNames}',modelName:'{categroy.modelName}',isMul:false,beforeSelectCateHistoryId:'{categroy.beforeSelectCateHistoryId}'\" fixed=\"bottom\"></div>";e(d)}return{load:function(f,d,e){a(f,e)}}})},"sys/mobile/js/mui/store/JsonRest":function(){define(["./xhr","dojo/_base/lang","dojo/_base/declare","dojo/store/util/QueryResults","dojo/store/JsonRest","mui/dialog/Tip","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(h,g,e,a,d,b,f){return e("mui.store.JsonRest",d,{defaultType:"POST",query:function(v,z){z=z||{};if(z.type){this.defaultType=z.type}var n=g.mixin({Accept:this.accepts},this.headers,z.headers);var s={};var u=this.target.indexOf("?")>-1,l={};if(v&&typeof v=="object"){if(this.defaultType.toLowerCase()=="post"){s.postData=v;v=""}else{v=h.objectToQuery(v);v=v?(u?"&":"?")+v:""}}if(z.start>=0||z.count>=0){n["X-Range"]="items="+(z.start||"0")+"-"+(("count" in z&&z.count!=Infinity)?(z.count+(z.start||0)-1):"");if(this.rangeParam){v+=(v||u?"&":"?")+this.rangeParam+"="+n["X-Range"];u=true}else{n.Range=n["X-Range"]}}if(z&&z.sort){var m=this.sortParam;v+=(v||u?"&":"?")+(m?m+"=":"sort(");for(var t=0;t<z.sort.length;t++){var q=z.sort[t];v+=(t>0?",":"")+(q.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(q.attribute)}if(!m){v+=")"}}var y=this.target;if(this.target.length>2048&&this.target.indexOf(".jsp?")>-1){var k=this.target.split("?");var w=k[1].split("&");var o=[];for(var t=0;t<w.length;t++){if(w[t].length>0){var x=w[t].split("=");if(x[1].length>500){s.postData[x[0]]=x[1]}else{o.push(w[t])}}}y=k[0]+"?"+o.join("&")}g.mixin(s,{url:y+(v||""),handleAs:"json",headers:n});var p=h(this.defaultType,s);p.total=p.then(function(){var A=p.ioArgs.xhr.getResponseHeader("Content-Range");if(!A){A=p.ioArgs.xhr.getResponseHeader("X-Content-Range")}return A&&(A=A.match(/\/(.*)/))&&+A[1]},function(){var A=p.ioArgs.xhr;if(A.status==401||A.responseURL.indexOf("login.jsp")>-1){window.location.reload()}else{if(A.status<400){b.fail({text:f["mui.jsonRest.failure"],cover:true})}}});return a(p)}})})},"sys/mobile/js/mui/list/NavView":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/_base/array","dojo/Deferred","dojox/mobile/View","mui/list/StoreElementScrollableView","dojo/dom-construct","dojo/dom-attr","dojo/parser","mui/util","./NavViewHashMixin"],function(h,f,l,m,o,b,e,g,n,a,k,d){return h("mui.list.NavView",[b,d],{canStore:true,refNavBar:null,templateString:null,currView:null,postCreate:function(){this.inherited(arguments);this.subscribe("/dojox/mobile/viewChanged","handleViewChanged");this.subscribe("/mui/nav/onComplete","handleNavOnComplete");this.subscribe("/mui/navView/resize","navViewResize");this.connect(window,"orientationchange","_handleOrientation")},buildRendering:function(){this.inherited(arguments);if(!this.templateString){this.templateString=this.domNode.innerHTML;this.domNode.innerHTML=""}},navViewResize:function(q,p){if(!p){return}if(this.getChildren().length>0){this.getChildren()[p.key].resize()}},startup:function(){if(this._started){return}this.inherited(arguments)},handleNavOnComplete:function(q,p){if(q.channelName&&q.channelName!=this.channelName){return}this.refNavBar=q;this.generateList(q.getChildren(),this.ensureloadIndex(q),p)},_createScrollView:function(p){return new e({rel:p})},channelName:"",generateList:function(s,t,p){m.forEach(s,function(y,x){if(y.url){var z=p[x];var u=this._createScrollView(y);u.key=this.channelName+x;this.addChild(u);y.moveTo=u.id;var w={key:this.channelName+x,parent:u};if(z.listTemplate){var v=new o();require([k.formatUrl(z.listTemplate)],f.hitch(this,function(A){this.renderListWithTemplate(A,w);v.resolve(A)}));u._listPromise=v.promise}else{this.renderListWithTemplate(this.templateString,w)}}},this);if(t==0){this.handleViewChanged(this.getChildren()[t])}else{var q=this;require(["dojox/mobile/TransitionEvent"],function(u){setTimeout(function(){new u(document.body,{moveTo:q.getChildren()[t].id}).dispatch()},1)})}this.resize()},renderListWithTemplate:function(p,q){var s=g.create("div",{innerHTML:p});m.forEach(s.childNodes,function(t){if(t.nodeType===1){n.set(t,"key",q.key)}},this);a.parse(s,{noStart:true}).then(function(t){m.forEach(t,function(v,u){q.parent&&q.parent.addChild(v,u+1)})})},ensureloadIndex:function(t){var p=t?t.getChildren().length:0;var s=0;if(t&&t.selectedItem){var q=t.getChildren();s=m.indexOf(q,t.selectedItem)}if(window.localStorage&&this.canStore){s=localStorage.getItem("swapIndex:"+location.pathname);if(s==null){s=0}else{s=parseInt(s)+1>p?0:parseInt(s)}}var u=this.inherited(arguments);if(u!==null){s=parseInt(u)+1>p?0:parseInt(u)}return s},handleViewChanged:function(p){if(p._listPromise){var q=p._listPromise;q.then(f.hitch(this,function(){this.handleViewChanged$(p);p._listPromise=null}))}else{this.handleViewChanged$(p)}},handleViewChanged$:function(q){var p=0;if(!(q instanceof e)){return}m.forEach(this.getChildren(),function(y,u){if(y===q){var v=q.reloadTime||0;var x=new Date().getTime();var t=(this.currView!=q)&&(v==0);this.currView=q;if(this.refNavBar){var s=m.indexOf(this.getChildren(),q);var w=this.refNavBar.getChildren()[s];this.refNavBar.selectedItem=w;w.setSelected()}if(t){q.reloadTime=x;if(q.reload){q.reload()}}p=u;this.setLocalStorage("swapIndex:"+location.pathname,q.getIndexInParent());if(p==0){if(!this.switchFirstTabCount){this.switchFirstTabCount=0}if(this.switchFirstTabCount<=1){q.domNode.style["font-style"]="italic";setTimeout(function(){q.domNode.style["font-style"]="inherit"},1)}this.switchFirstTabCount++}return false}},this);this.inherited(arguments,[q,p])},setLocalStorage:function(p,q){if(window.localStorage&&this.canStore){try{localStorage.setItem(p,q)}catch(s){if(window.console){console.log(s.name)}}}},_handleOrientation:function(){try{var s=this;var t=120;var q=new o();function p(v,w){window.innerHeight!=w||v>=t?q.resolve():window.requestAnimationFrame(function(){p(v+1,w)})}p(0,window.innerHeight);q.then(function(){s.resize&&s.resize()})}catch(u){}}})})},"sys/mobile/js/mui/list/PosterMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/util"],function(d,b,a){return d("mui.list.PosterMixin",null,{poster:null,startup:function(){if(this._started){return}if(this.poster){b.create("img",{style:"width:100%;margin-top:1rem",src:a.formatUrl(this.poster)},this.domNode)}this.inherited(arguments)}})})},"sys/mobile/js/mui/simplecategory/simplecategory_common":function(){define(["mui/util"],function(a){function b(f){var d=a.getUrlParameter(f,"showFavoriteCate");var e="<div data-dojo-type=\"mui/header/Header\"><div data-dojo-type=\"mui/category/CategorySearchBar\" data-dojo-props=\"modelName:'{categroy.modelName}',getTemplate:'{categroy.getTemplate}',authType:' {categroy.authType}',needPrompt:false,height:'5rem',key:'{categroy.key}'\"> </div></div>";e+='<div id="defaultView_{categroy.key}" data-dojo-type="dojox/mobile/View" >';if("true"==d){e+='<div data-dojo-type="mui/header/Header" class="muiHeaderNav"><div data-dojo-type="mui/nav/StaticNavBar" data-dojo-mixins="mui/category/FavoriteCateMixin" data-dojo-props="key:\'{categroy.key}\'"> </div></div><div id="favoriteCateView_{categroy.key}" data-dojo-type="dojox/mobile/ScrollableView" data-dojo-mixins="mui/category/AppBarsMixin" data-dojo-props="scrollBar:false,threshold:100,key:\'{categroy.key}\'"> <ul data-dojo-type="mui/syscategory/FavoriteCategoryList" class="muiFavoriteContainer" data-dojo-mixins="mui/simplecategory/SimpleCommonCategoryItemListMixin" data-dojo-props="lazy:false,isMul:{categroy.isMul},key:\'{categroy.key}\',curIds:\'{categroy.curIds}\',selType:{categroy.type},modelName:\'{categroy.modelName}\',mainModelName:\'{categroy.mainModelName}\'"></ul></div>'}e+="<div data-dojo-type=\"mui/category/SwapCategoryList\" id=\"allCateView_{categroy.key}\" data-dojo-props=\"isMul:{categroy.isMul},key:'{categroy.key}',curIds:'{categroy.curIds}',selType:{categroy.type},___urlParam:'{categroy.___urlParam}',modelName:'{categroy.modelName}',authType:'{categroy.authType}',confirm:{categroy.confirm}\" ><div data-dojo-type=\"mui/simplecategory/SimpleCategoryPath\" data-dojo-props=\"key:'{categroy.key}',height:'4rem',modelName:'{categroy.modelName}'\"></div></div>";e+="</div>";e+='<div id="searchView_{categroy.key}" class="muiCateSearchPanel" data-dojo-type="dojox/mobile/ScrollableView" data-dojo-props="scrollBar:false,threshold:100,key:\'{categroy.key}\'"><ul data-dojo-type="mui/simplecategory/SimpleCategoryList" data-dojo-mixins="mui/simplecategory/SimpleCategoryItemListMixin,mui/simplecategory/SimpleCategorySearchListMixin" data-dojo-props="lazy:true,isMul:{categroy.isMul},key:\'{categroy.key}\',selType:{categroy.type},modelName:\'{categroy.modelName}\',authType:\'{categroy.authType}\',confirm:{categroy.confirm}" ></ul></div>';return e}return{html:b}})},"sys/mobile/js/mui/catefilter/NavFilter":function(){define(["dojo/_base/declare","dojo/dom-construct","dojox/mobile/_ItemBase","dojo/parser","dojo/_base/array","mui/util","dojo/dom-style"],function(f,d,b,h,g,a,e){return f("mui.catefilter.NavFiler",[b],{templateString:'<div data-dojo-type="mui/catefilter/FilterItem" data-dojo-mixins="mui/simplecategory/SimpleCategoryMixin" data-dojo-props="modelName:\'!{modelName}\',title:false,hash:false,key:\'cate_!{id}\'"></div>',baseClass:"muiNavFilter",postCreate:function(){this.inherited(arguments);this.subscribe("/dojox/mobile/viewChanged","handleViewChanged");this.subscribe("/mui/nav/onComplete","handleNavOnComplete")},handleNavOnComplete:function(k){this.generateList(k.getChildren(),k)},addChild:function(l,k){this.inherited(arguments);e.set(l.domNode,{display:"none"})},generateList:function(l){var k=this,m=0;var n;g.forEach(l,function(o){n+=a.urlResolver(k.templateString,o)});h.parse(d.create("div",{innerHTML:n})).then(function(o){g.forEach(o,function(q,p){k.addChild(q,p)});k.change(m)})},change:function(k){this.index=k;g.forEach(this.getChildren(),function(m,l){if(this.index==l){e.set(m.domNode,{display:"block"})}else{e.set(m.domNode,{display:"none"})}},this)},handleViewChanged:function(k){this.change(k.rel.tabIndex)}})})},"sys/mobile/js/mui/panel/_TogglePanelMixin":function(){define("mui/panel/_TogglePanelMixin",["dojo/dom-construct","dojo/_base/declare","dojo/dom-style","dojo/topic","dojo/_base/lang"],function(a,e,d,b,f){return e("mui.panel._TogglePanelMixin",null,{toggle:true,startup:function(){this.inherited(arguments);if(this.toggle){this.bindTitleClick()}},bindTitleClick:function(){this.connect(this.domNode,"onclick",function(g){var m=g.target;for(var k=0;k<this.titleList.length;k++){if(m.tagName=="DIV"){if(m&&m.parentNode==this.titleList[k]){var l=this.contentList[k];var h=l.claz;if(l.show){h.hide();l.show=false}else{h.show();l.show=true}}}}})}})})},"sys/mobile/js/mui/NativeView":function(){define(["dojo/_base/declare","dojox/mobile/View","dijit/registry","dojo/dom-class","dojo/dom-style"],function(d,f,a,e,b){return d("mui.view.NativeView",[f],{baseClass:"mblView mblScrollableView",scrollDir:"v",keepScrollPos:false,fixedTop:null,fixedBottom:null,buildRendering:function(){this.inherited(arguments);this.domNode.dojoClick=false},startup:function(){this._v=this.scrollDir.indexOf("v")!=-1;this._h=this.scrollDir.indexOf("h")!=-1;this.init();this.inherited(arguments)},init:function(){if(this._v){this.findAppBars();e.add(this.domNode,"muiViewV");return}if(this._h){e.add(this.domNode,"muiViewH")}},checkFixedBar:function(h){if(h.nodeType===1){var g=h.getAttribute("fixed")||(a.byNode(h)&&a.byNode(h).fixed);if(g==="top"){this.fixedTop=h;e.add(h,"muiViewTop");return}if(g==="bottom"){e.add(h,"muiViewBottom");this.fixedBottom=h;b.set(this.domNode,"padding-bottom",h.offsetHeight+"px")}}},resize:function(){this.inherited(arguments);if(this.fixedBottom){b.set(this.domNode,"padding-bottom",this.fixedBottom.offsetHeight+"px")}},scrollTo:function(g){this.domNode.scrollTop=-g.y},findAppBars:function(){var k,h;for(k=0,h=this.domNode.childNodes.length;k<h;k++){this.checkFixedBar(this.domNode.childNodes[k])}var g=this.domNode.parentNode;if(g){for(k=0,h=g.childNodes.length;k<h;k++){this.checkFixedBar(g.childNodes[k])}}},getPos:function(){return{y:document.documentElement.scrollTop||document.body.scrollTop}},onBeforeTransitionOut:function(){if(this._v){this.scrollTop=document.documentElement.scrollTop;this._setScrollTop(0)}},onAfterTransitionIn:function(){if(this._v){if(this.scrollTop&&this.scrollTop>0){this.defer(function(){this._setScrollTop(this.scrollTop)},200)}}},_setScrollTop:function(g){document.body.scrollTo&&document.body.scrollTo(0,g);document.documentElement.scrollTo&&document.documentElement.scrollTo(0,g)}})})},"sys/mobile/js/mui/form/Textarea":function(){define(["dojo/_base/declare","mui/form/_InputBase","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/touch","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/dialog/BarTip","dojo/dom-attr"],function(f,a,d,k,g,e,h,b,n,m){var l=f("mui.form.Textarea",[a],{isForm:false,edit:true,type:"textarea",name:null,baseClass:"muiFormEleWrap textarea",inputClass:"muiTextarea",_hasTip:false,_CorrectContent:"",_onInput:function(o){var p=o.target;this.textareaPre.innerText=p.value;g.publish("/mui/textarea/onInput",this,this.get("value"));this._removeEmoji(this.get("value"))},_removeEmoji:function(o){if(h.isExistFace(o)){if(!this._hasTip){n.tip({text:b["mui.emoji"]});this._hasTip=true}this.set("value",this._CorrectContent)}else{this._CorrectContent=o}},_onChange:function(p,o){if(p==this){this.resizeHeight(this.textareaNode)}},resizeHeight:function(p){var o=38;k.set(p,{height:"auto"});if(this.textareaPre){o=this.textareaPre.offsetHeight}if(o<=0&&(p.value!=""||(p.value===""&&this.placeholder!=""))){o=p.scrollHeight}if(o<=38){o=38}k.set(p,{height:o+"px"})},buildRendering:function(){this.inherited(arguments);this.align="left";if(this.placeholder){this.placeholder=h.decodeHTML(this.placeholder);this.placeholder=this.placeholder.replace(/&#39;/g,"'")}},buildEdit:function(){var o=(this.textareaNode=d.create("div",{className:"muiFormItem"},this.domNode));o.innerHTML="<textarea class='muiTextarea' name="+this.name+"></textarea>";var q=(this.textareaNode=o.querySelector("textarea"));var p=this.buildXFormStyle();if(p){m.set(this.textareaNode,"style",p)}this.contentNode=this.textareaNode;this.textareaPre=d.create("pre",{name:this.name+"_pre",className:this.inputClass+"Pre",style:"display:none;"},this.domNode);this.connect(this.textareaNode,"keyup","_onInput");this.connect(this.textareaNode,"blur","_onBlur");this.connect(this.textareaNode,"keydown",function(s){window.focus();q.focus()});this.connect(this.textareaNode,e.press,"_handleFocus");this.subscribe("/mui/form/valueChanged","_onChange")},_handleFocus:function(o){if(o.target==this.textareaNode){o.stopPropagation()}else{o.preventDefault();o.stopPropagation();this.textareaNode&&this.textareaNode.focus()}},startup:function(){this.inherited(arguments);if(h.capitalize(this.showStatus)=="Edit"){if(this.value){this.textareaPre.innerHTML=h.formatText(this.value);this.resizeHeight(this.textareaNode)}else{if(this.placeholder){this.resizeHeight(this.textareaNode)}}}this.connect(document.body,"click","_handleBlur")},_handleBlur:function(o){if(this.textareaNode&&document.activeElement==this.textareaNode){var p=o.srcElement||o.target;if(p!=this.textareaNode){this.textareaNode.blur()}}},buildReadOnly:function(){this.textareaNode=d.create("textarea",{name:this.name,className:this.inputClass,readonly:"readonly"},this.domNode)},_getValueAttr:function(){if(this.textareaNode){return this.textareaNode.value}else{return this._get("value")}},buildHidden:function(){this.textareaNode=d.create("textarea",{name:this.name,className:this.inputClass,style:"display:none"},this.domNode)},_setValueAttr:function(){this.inherited(arguments)},viewValueSet:function(p){var q=d.create("div",{className:"muiFormTextareaContent",style:{"word-break":"break-word"}});q.innerHTML=p;var o=this.buildXFormStyle();if(o){m.set(this.domNode,"style",o)}d.place(q,this.domNode,"last")},editValueSet:function(o){o=h.decodeHTML(o);o=h.formatText(o);o=this.formatHTML(o);this.textareaNode.value=o;if(o){if(this.textareaPre){this.textareaPre.innerHTML=h.formatText(o)}this.resizeHeight(this.textareaNode)}},readOnlyValueSet:function(o){this.editValueSet(o)},hiddenSet:function(o){this.editValueSet(o)},formatHTML:function(o){var p=d.create("div");o=o.replace(/<br\>/g,"\n");p.innerHTML=o;return p.innerText||p.innerContent||""}});return l})},"sys/mobile/js/mui/device/attachment/_attachmentDirect":function(){define(["dojo/_base/declare","mui/device/attachment/_attachmentProxy","dojo/request","mui/util"],function(d,b,e,a){return d("mui.device.attachment._attachmentDirect",[b],{tokenurl:a.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttUpload&gettype=getuserkey&format=json",true),addFileUrl:"/sys/attachment/sys_att_main/sysAttMain.do?method=addFile",uploadurl:window.attachmentConfig?window.attachmentConfig.uploadurl:this.uploadurl,tokenSuccess:function(g){var f=g.token;g.direct={path:f.path,fileId:f.fileId,fileSize:g.size}},md5Success:function(f,h,g){f.direct.md5=h},uploadSuccess:function(g,h){var f=this;if(!g.direct){f._uploadSuccess(g,h);return}e.post(a.formatUrl(this.addFileUrl),{handleAs:"json",data:g.direct}).then(function(k){g.status=2;g.filekey=g.direct.fileId;f._uploadSuccess(g,h)},function(k){g.status=0;f.uploadError(g,{rtn:k})})}})})},"sys/mobile/js/mui/category/PathItem":function(){define(["dojo/_base/declare","dojox/mobile/_ItemBase","dojo/dom-construct","dojo/topic"],function(e,b,a,d){var f=e("mui.category.PathItem",b,{tag:"li",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||a.create("li",{className:""});this.textNode=a.create("div",{className:""},this.domNode);this.inherited(arguments);if(this.label){this.labelNode=a.create("span",{className:""},this.textNode);this.labelNode.innerHTML=this.label}},startup:function(){if(this._started){return}this.connect(this.textNode,"onclick","_onClick");this.inherited(arguments)},_onClick:function(g){d.publish("/mui/category/changed",this,{value:this.fdId})}});return f})},"sys/mobile/js/mui/search/SearchDbBar":function(){define(["dojo/_base/declare","mui/search/SearchBar","dojo/_base/lang","mui/util","dojo/topic"],function(d,f,e,a,b){return d("mui.search.SearchDbBar",[f],{redirectURL:"",params:"",searchType:"",_onSearch:function(g){this.searchNode.blur();this._eventStop(g);if(this.searchNode.value!=""||this.emptySearch){var k=e.clone(this);k.keyword=this.searchNode.value;if(typeof(this.searchType)!="undefined"&&this.searchType=="db"){if(typeof(this.params)=="string"){this.searchUrl=this.redirectURL+encodeURIComponent(this.params)}}var l=this.searchUrl+"!{keyword}";var h=a.formatUrl(a.urlResolver(l,k));b.publish("/mui/search/submit",this,{keyword:k.keyword,url:h})}return false}})})},"sys/mobile/js/mui/form/_GroupBase":function(){define(["dojo/_base/declare","mui/form/_FormBase","mui/form/_StoreFormMixin","dojo/dom-construct","dojo/topic","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/query","dijit/registry"],function(e,k,g,d,f,b,h,a){var l=e("mui.form._GroupBase",[k,g],{name:null,baseClass:"muiFormEleWrap muiFormGroup",groupValueChange:"mui/group/valueChage",addValue:function(m){},removeValue:function(m){},buildRendering:function(){this.inherited(arguments);if(this.edit){this.containerNode=this.domNode;this.hiddenNode=d.create("input",{type:"hidden",name:this.name},this.domNode)}},_readOnlyAction:function(n){var m=h("*[widgetid]",this.domNode);m.forEach(function(p){var o=a.byNode(p);if(o._readOnlyAction){o._readOnlyAction(n)}})},_setValueAttr:function(m){this.inherited(arguments);if(this.edit){this.hiddenNode.value=m}f.publish(this.groupValueChange,this,m)},getText:function(){var p=[];if(this.value!=null&&this.value!=""){var o=this.value.split(";");for(var m=0;m<this.values.length;m++){var n=this.values[m];for(j=0;j<o.length;j++){if(n.value==o[j]){p.push(n.text);break}}}}return p.join(";")}});return l})},"sys/mobile/js/mui/chart/ChartDarkMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,e,a,d){return b("mui.chart.chartDarkMixin",null,{colors:["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],concatDefaultOptions:function(f){this.defaultColor(f);this.defaultXAxis(f)},defaultXAxis:function(f){var h=f.xAxis;if(h instanceof Array){for(var g=0;g<h.length;g++){if(!f.xAxis[g].axisLabel){f.xAxis[g].axisLabel={}}if(!f.xAxis[g].axisLabel.rotate){f.xAxis[g].axisLabel.rotate=30}}}},defaultColor:function(f){if(!f.color){f.color=this.colors}},registerTheme:function(g){var f="#eee";var l=function(){return{axisLine:{lineStyle:{color:f}},axisTick:{lineStyle:{color:f}},axisLabel:{textStyle:{color:f}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:f}}}};var k=this.colors;var h={color:k,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:f},crossStyle:{color:f}}},legend:{textStyle:{color:f}},textStyle:{color:f},title:{textStyle:{color:f}},toolbox:{iconStyle:{normal:{borderColor:f}}},dataZoom:{textStyle:{color:f}},timeline:{lineStyle:{color:f},itemStyle:{normal:{color:k[1]}},label:{normal:{textStyle:{color:f}}},controlStyle:{normal:{color:f,borderColor:f}}},timeAxis:l(),logAxis:l(),valueAxis:l(),categoryAxis:l(),line:{symbol:"circle"},graph:{color:k},gauge:{title:{textStyle:{color:f}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};h.categoryAxis.splitLine.show=false;g.registerTheme("dark",h)}})})},"sys/mobile/js/mui/syscategory/SysCategoryDialogMixin":function(){define(["dojo/_base/declare","mui/query/_CategoryQueryDialogMixin","mui/syscategory/SysCategoryMixin"],function(d,e,b){var a=d("mui.syscategory.SysCategoryDialogMixin",[e,b],{type:window.SYS_CATEGORY_TYPE_CATEGORY,getTemplate:0,authType:"03",key:"_sys_cate_dialog"});return a})},"sys/mobile/js/mui/list/_ViewScrollEventPublisherMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojox/mobile/common"],function(b,a,e,d){return b("mui.list._ViewScrollEventPublisherMixin",null,{adjust:"/mui/list/adjustDestination",runSlide:"/mui/list/_runSlideAnimation",afScroll:"/mui/list/afterScroll",toTop:"/mui/list/toTop",scrollResizeEvent:"/mui/list/resize",startup:function(){if(this._started){return}this.inherited(arguments);this.subscribe(this.toTop,"handleToTopTopic");this.subscribe("/mui/list/onReload",function(){a.publish(this.adjust,this,{y:0})});this.subscribe(this.scrollResizeEvent,"scrollResize")},scrollResize:function(){var f=this;if(f.resize){setTimeout(function(){f.resize()},300)}},handleToTopTopic:function(k,f){var n={y:0};if(f!=null){n=e.mixin(n,f)}if(n.y&&n.y!=0){var h=this.domNode.offsetHeight;if(this.fixedFooterHeight){h-=this.fixedFooterHeight}if(this.fixedHeaderHeight){h-=this.fixedHeaderHeight}var o=this.containerNode.offsetHeight;var g=o+n.y;var l=0;if(g<h){if(o<h){l=0}else{l=0-(o-h)}n.y=l}}var m=0.5;if(typeof(n.time)!="undefined"&&n.time>=0){m=n.time}this.slideTo(n,m,"linear");window.setTimeout(e.hitch(this,function(){a.publish(this.adjust,this,n)}),520)},adjustDestination:function(h,g,f){a.publish(this.adjust,this,h,g,f);return this.inherited(arguments)},_runSlideAnimation:function(m,l,h,k,g,f){a.publish(this.runSlide,this,{from:m,to:l});this.inherited(arguments)},onAfterScroll:function(f){a.publish(this.afScroll,this,f);return this.inherited(arguments)},onFilter:function(){this._runSlideAnimation(this.getPos(),{y:0},0,"ease-out",this.containerNode,2)}})})},"sys/mobile/js/mui/panel/extend/_PromptMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","mui/dialog/Prompt","dojo/dom-class","dojo/dom-style","dojo/on","dojo/dom"],function(d,g,h,e,b,a,f){return d("mui.panel._PromptMixin",[h],{moveNodeId:"scrollView",buildRendering:function(){this.inherited(arguments);this.elem=this.iconNode;a(document,"click",g.hitch(this,this._hideNode));a(f.byId(this.moveNodeId),"touchmove",g.hitch(this,this._hideNode))},contentElementPosition:function(){this.inherited(arguments);if(e.contains(this.contentDom,"lui_dropdown_tooltip_menu_down")){e.remove(this.contentDom,"lui_dropdown_tooltip_menu_down");e.add(this.contentDom,"lui_dropdown_tooltip_menu_right_down");e.add(this.contentDom,"lui_dropdown_tooltip_menu_right_down_recover");var k=-(this.contentDom.offsetHeight+10);b.set(this.contentDom,"bottom",k+"px")}},_hideNode:function(l){var m=l?l.target:null;if(m==this.elem||m==this.domNode){return}if(!this.contentShow){return}var k=false;while(m.parentNode){if(m==this.elem||m==this.domNode){k=true;break}m=m.parentNode}if(k){return}b.set(this.contentDom,"display","none");this.contentShow=false}})})},"sys/mobile/js/mui/address/AddressRecentItemListMixin":function(){define(["dojo/_base/declare","./AddressRecentItemMixin"],function(b,a){return b("mui.address.AddressRecentItemListMixin",null,{dataUrl:"/sys/organization/sys_org_element/sysOrgElement.do?method=getRecentContact&orgType=!{selType}&selectCount=10",itemRenderer:a})})},"sys/mobile/js/mui/address/AddressScrollNavMixin":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/registry","dojo/dom-construct","dojo/dom-style","dojo/_base/array","./AddressChannelMixin"],function(e,g,b,a,d,h,f){return e("mui.address.AddressScrollNavMixin",f,{_addNavItem:function(l,k){this.isSameChannel(l,k)&&this.inherited(arguments)},_resizeNav:function(o){if(o.key==this.key){a.empty(this.domNode);var l=this.refrenceDom.offsetHeight;var m=0;if(this.absoluteDom){m=this.absoluteDom.offsetHeight}var k=this;h.forEach(this.navDatas,function(s,q){if(s!="2"&&s!="4"){var t=a.create("span",{className:"muiCateNavItem",innerHTML:s},k.domNode);k.connect(t,"click",function(){k._ItemClick({label:s,refHeight:l})});k.navItems.push(t)}});if(this.navItems.length>0){d.set(this.domNode,{display:"block",top:(this.refrenceDom.offsetTop+m)+"px"});var p=a.create("span",{className:"muiCateNavItem"},this.domNode,"first");var n=a.create("i",{className:"mui mui-search"},p);this.connect(p,"click","_toTop");this.navItems.push(p);d.set(n,{"font-size":"12px"});d.set(n,{height:"18px"});d.set(n,{"line-height":"18px"});h.forEach(this.navItems,function(q){d.set(q,{height:"18px","line-height":"18px","font-size":"12px"})})}else{d.set(this.domNode,{display:"none"})}}},startup:function(){var k=this;k.inherited(arguments);k.defer(function(){if(k.containerDom){var l=b.byId(k.containerDom);a.place(k.domNode,l.domNode)}})}})})},"sys/mobile/js/mui/dialog/Prompt":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase","dojo/dom-attr","dojo/dom-class","dojo/query","dojo/touch","dojo/topic","dojox/mobile/viewRegistry","dijit/registry","dojo/dom-construct","mui/util","dojo/on","dojo/dom","dojo/_base/array","dojo/dom-style","dojo/ready"],function(h,b,f,p,u,q,g,l,t,a,d,k,o,e,n,m,s){return h("mui.dialog.Prompt",[f],{content:"",font:"",text:"",elem:"",fontSize:"1.4rem",fontColor:"#FFF",contentShow:false,buildRendering:function(){this.inherited(arguments);this.buildDefaultRender()},postCreate:function(){this.inherited(arguments);if(this.elem){o(this.elem,"click",b.hitch(this,this.promptLabelClick))}else{o(this.domNode,"click",b.hitch(this,this.promptLabelClick))}},buildDefaultRender:function(){u.add(this.domNode," muiFormEleWrap muiFormStatusEdit lui_prompt_tooltip lui_mobile_tooltip muiFormLeft");if(this.content){this.content=this.content}else{if(this.domNode.innerHTML){this.contentNameDom=q("[name='"+this.fdId+"_content']",this.domNode)[0]}this.content=this.contentNameDom.innerHTML}this.iconNode=d.create("span",{className:"mui-PromptInfo",innerHTML:"<a href='javascript:;' style='color:#C4C6CF'>?</a>"},this.domNode);this.contentDom=d.create("div",{style:"display:none",className:"lui_dropdown_tooltip_menu lui_tool_tip_ding"},this.domNode)},promptLabelClick:function(w){w=w||window.event;w.cancelBubble=true;if(w.preventDefault){w.preventDefault()}if(w.stopPropagation){w.stopPropagation()}var E=new Date().getTime();var A=this.ctime;if(A!="undefined"&&(E-A<500)){return false}this.ctime=E;if(this.contentShow){m.set(this.contentDom,"display","none");this.contentShow=false}else{var B=this.htmlUnEscape(this.content);var C=/<(\w+)\s*.+\/?>(?:<\/\1>)?/.test(B);if(C){this.contentDom.innerHTML=B}else{this.contentDom.innerText=B}var z=this.contentWidth(this.contentDom.innerText);p.set(this.contentDom,"style","width:"+z*0.7+"rem");var y=q("a",this.contentDom);var x="";var v="window.open('url','_self')";var D="_blank";y.forEach(function(G,F){x=p.get(G,"href");if(p.get(G,"target")){D=p.get(G,"target")}p.set(G,"onclick",v.replace("url",x).replace("target",D));p.set(G,"href","javascript:void(0);")});m.set(this.contentDom,"zIndex","2000");m.set(this.contentDom,"display","inline-block");this.contentElementPosition();this.contentShow=true}},contentElementPosition:function(){var D=this.iconNode.offsetLeft+document.body.scrollLeft;var C=this.iconNode.offsetTop;var G=this.domNode.offsetLeft+document.body.scrollLeft;var F=this.domNode.offsetTop;var B=document.body.scrollWidth;var H=document.body.scrollHeight;var z=m.get(this.contentDom,"width");var A=m.get(this.contentDom,"height");offset={};u.remove(this.contentDom,"lui_dropdown_tooltip_menu");if(G<(B/2)){if(this.contentNameDom){u.add(this.contentDom,"lui_dropdown_tooltip_menu")}else{if(A<F){u.add(this.contentDom,"lui_dropdown_tooltip_menu")}else{u.add(this.contentDom,"lui_dropdown_tooltip_menu_down")}}}else{if(this.contentNameDom){u.add(this.contentDom,"lui_dropdown_tooltip_menu_right")}else{if(A<F){u.add(this.contentDom,"lui_dropdown_tooltip_menu_right")}else{u.add(this.contentDom,"lui_dropdown_tooltip_menu_right_down")}}}var E=this.findDetailTableScrollView();if(E){m.set(E.domNode,"overflow","");var w=q(".muiDetailTableAdd",q(".detailTableContent",E.domNode)[0])[0];if(w){var v=q(".mui-plus",w)[0];if(v){p.set(v,"style","position:static")}}}},setStyle:function(v){if(this.font){m.set(v,"fontFamily",this.font)}if(this.size){this.fontSize=this.size}m.set(v,"fontSize",this.fontSize);if(this.color){this.fontColor=this.color}m.set(v,"color",this.fontColor);if(this.b=="true"){m.set(v,"fontWeight","bold")}if(this.i=="true"){m.set(v,"fontStyle","bold","italic")}if(this.underline=="true"){m.set(v,"textDecoration","underline")}m.set(v,"background-color","#4285f4")},findDetailTableScrollView:function(){var v=this.findTableNormal();if(v){var w=q(this.domNode).closest(".mblScrollableView")[0];if(w){return a.byNode(w)}}return null},findTableNormal:function(){var w=this.domNode;if(w){var v=w.parentNode;while(v){if(u.contains(v,"detailTableNormal")||u.contains(v,"detailTableSingleRow")){return v}v=v.parentNode}}return null},htmlUnEscape:function(v){if(v==null||v==" "){return""}v=v.replace(/&amp;/g,"&");v=v.replace(/&quot;/g,'"');v=v.replace(/&lt;/g,"<");v=v.replace(/&nbsp;/g," ");return v.replace(/&gt;/g,">")},contentWidth:function(x){var v=0;for(var w=0;w<x.length;w++){var y=x.charCodeAt(w);if((y>=1&&y<=126)||(65376<=y&&y<=65439)){v++}else{v+=2}}return v},startup:function(){this.inherited(arguments);if(this.hidden==="true"){m.set(this.domNode,"display","none")}m.set(this.domNode,"min-width","1rem")}})})},"sys/mobile/js/mui/list/NavViewHashMixin":function(){define(["dojo/_base/declare","mui/hash"],function(a,b){return a("mui.list.NavViewHashMixin",[],{ensureloadIndex:function(){var d=null;if(!b.canHash()){return d}var f=b.getPath();if(f&&f.length>0){var e=Number(f[0]);return isNaN(e)?d:e}return d},handleViewChanged$:function(d,e){if(!b.canHash()){return}b.replacePath([e]);if(this.shouldClearQuery){b.clearQueryR()}this.shouldClearQuery=true}})})},"sys/mobile/js/mui/category/ScrollableCategoryPath":function(){define(["dojo/_base/declare","mui/category/CategoryPath","dojox/mobile/ScrollableView","dojo/_base/array","dojo/topic","dojo/dom-class"],function(d,a,f,h,b,e){var g=d("mui.category.ScrollableCategoryPath",[a],{buildRendering:function(){this.inherited(arguments);e.add(this.containerNode,"muiCateScrollablePathContent");this.titleNode=this._createTitleNode();this._createScrollNode()},_createScrollNode:function(){this.scroll=new f({scrollBar:false,scrollDir:"h",height:"4rem"});this.addChild(this.scroll)},getPathContainer:function(){return this.scroll.containerNode},_createPath:function(l){this.getPathContainer().innerHTML="";var k=[];if(l.length==0){e.add(this.titleNode,"selected")}else{e.remove(this.titleNode,"selected")}h.forEach(l,function(m){k.push(m.fdId);this._createPathItem(m,m.label)},this);window.pathItem=k;b.publish("/mui/category/path",this,k)}});return g})},"sys/mobile/js/mui/list/iframe/_IframeItemListMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-geometry","resource/js/domain"],function(b,a,d){domain.register("$ekpIframePush",function(e){a.publish("/mui/list/iframe/push")});return b("mui.list._IframeItemListMixin",[],{lazy:false,startup:function(){this.inherited(arguments);this.subscribe("/mui/list/iframe/push","handleOnIframePush")},handleOnIframePush:function(){this.loadMore&&this.loadMore()},doLoad:function(h,e){h=h||{};var g=h.done||function(){},f=this;h.work=h.work||function(){};h.done=function(l){g(l);var k=d.getMarginSize(document.body);domain.call(parent,"$ekpIframeListLoaded",[{target:domain.getParam(window.location.href,"LUIID"),geometry:{height:k.h,width:k.w},data:{loadOver:f._loadOver}}])};h.error=h.error||function(){};this.inherited(arguments,[h,e])}})})},"sys/mobile/js/mui/property/filter/FilterAddress":function(){define(["dojo/_base/declare","mui/property/filter/FilterBase","dojo/dom-construct","dojo/_base/array","dojo/topic","dojo/text!./address/tmpl.tmpl","dojo/html","dojo/_base/lang","mui/util","dojo/request"],function(f,d,b,m,k,n,h,a,g,e){var l=f("mui.property.FilterAddress",[d],{detailUrl:"/sys/organization/mobile/address.do?method=detailList&orgIds=!{curId}",buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/Category/valueChange","onChange");this.subscribe("/mui/property/filter/input/change","reset")},render:function(q,s){var p=this;var o=new h._ContentSetter({parseContent:true,cleanContent:true,node:this.contentNode,onBegin:function(){this.content=a.replace(this.content,{type:p.type,idField:p.name,nameField:p.name,curIds:q||"",curNames:s||""});this.inherited("onBegin",arguments)}});o.set(n);o.parseDeferred.then(a.hitch(this,function(t){p.addressWidget=t[0]}));o.tearDown()},startup:function(){this.inherited(arguments);var o=this;this.getValue(function(p){var s=p||[];s=a.isString(s)?[s]:s;if(s.length>0&&s[0]){var q=g.urlResolver(o.detailUrl,{curId:s[0]});q=g.formatUrl(q);var t=e.post(q,{handleAs:"json"});t.then(a.hitch(o,function(u){if(u.length>0){var v=u[0];this.render(v.fdId,v.label)}}))}else{o.render()}})},onChange:function(q,o){if(!o||q!=this.addressWidget){return}var p=[o.curIds];k.publish(this.SET_EVENT,this,{name:this.name,value:p})},reset:function(o){if(o){this.render("","")}}});return l})},"sys/mobile/js/mui/address/AddressItemMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-class","mui/iconUtils","mui/category/CategoryItemMixin","dojo/dom-construct","mui/util","dijit/registry","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/request","dojo/topic","mui/dialog/Tip"],function(h,m,n,d,e,f,l,a,b,g,k,o){var p=h("mui.address.AddressItemMixin",[e],{buildRendering:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);this.addColorToKeyWords()},_buildItemBase:function(){this.inherited(arguments);if(this.header!="true"){var s=f.create("div",{className:"muiCateInfo "},this.cateContainer);f.place(s,this.infoNode,"after");f.destroy(this.infoNode);this.infoNode=s;this.titleNode=f.create("div",{className:"muiCatemuiCateName"},this.infoNode);this.labelNode=f.create("span",{className:"muiAddressLabelName",innerHTML:l.formatText(this.label)},this.titleNode)}if(this.type!=null&&(this.type||window.ORG_TYPE_PERSON)==window.ORG_TYPE_PERSON){n.add(this.infoNode,"muiAddressPersonInfo");if(this.staffingLevel){f.create("span",{className:"muiAddressStaffingLevelName",innerHTML:l.formatText(this.staffingLevel)},this.titleNode)}if(this.authElementAdmin){f.create("span",{className:"muiAddressAuthElementAdminName",innerHTML:l.formatText(this.authElementAdmin)},this.titleNode)}if(this.posts&&this.posts.length>0){for(var q=0;q<this.posts.length;q++){f.create("span",{className:"muiAddressPostName",innerHTML:l.formatText(this.posts[q])},this.titleNode)}}if(this.leaderType){n.add(this.infoNode,"muiAddressLeaderPerson");var t=f.create("span",{className:"muiAddressLeaderLabel"},this.titleNode);if((this.leaderType&window.ORG_TYPE_ORG)==window.ORG_TYPE_ORG){n.add(t,"muiAddressLeaderOrg");f.create("img",{className:"muiAddressLeaderImg",src:l.formatUrl("/sys/mobile/css/themes/default/images/address-leader-org.png")},t)}if((this.leaderType&window.ORG_TYPE_DEPT)==window.ORG_TYPE_DEPT){n.add(t,"muiAddressLeaderDept");f.create("img",{className:"muiAddressLeaderImg",src:l.formatUrl("/sys/mobile/css/themes/default/images/address-leader-dept.png")},t)}f.create("span",{className:"muiAddressLeaderLabel",innerHTML:b["mui.mobile.address.leader.label"]},t)}}else{if(this.header!="true"){n.add(this.infoNode,"muiAddressNonePersonInfo")}}if(this.parentNames){n.add(this.infoNode,"muiAddressWithParentNames");f.create("div",{className:"muiAddressParentNames",innerHTML:this._formatParentNames(l.formatText(this.parentNames))},this.infoNode)}if(this.type!=null&&(this.type||window.ORG_TYPE_GROUP_CATE)==window.ORG_TYPE_GROUP_CATE){if(this.iconNode){f.destroy(this.iconNode)}n.add(this.domNode,"muiAddressGroupCateItem")}this.iconNode&&this.connect(this.iconNode,"click","_selectCate");this.infoNode&&this.connect(this.infoNode,"click","_selectCate")},_formatParentNames:function(v){if(!v){return v}var x="";var s=v.split("_");var u=s.length;var w=u<=3?0:u-3;for(var t=w;t<u;t++){var q=s[t];if(q.length>8){q=q.substring(0,8)+"..."}x+=q+"_"}x=x.replace(/_$/,"");return x},getTitle:function(){if(this.label=="1"){return b["mui.address.org"]}if(this.label=="2"){return b["mui.address.dept"]}if(this.label=="4"){return b["mui.address.post"]}if(this.label=="8"){return b["mui.address.person"]}if(this.label=="16"){return b["mui.address.group"]}return this.label},showMore:function(){if((this.type|window.ORG_TYPE_ORGORDEPT)==window.ORG_TYPE_ORGORDEPT){if(this.scope=="22"||this.scope=="33"||this.scope=="44"){return false}return true}if((this.type|window.ORG_TYPE_GROUP_CATE)==window.ORG_TYPE_GROUP_CATE){if(this.scope=="22"||this.scope=="33"||this.scope=="44"){return false}return true}if((this.type|window.ORG_TYPE_GROUP)==window.ORG_TYPE_GROUP){if(this.scope=="22"||this.scope=="33"||this.scope=="44"){return false}return true}return false},showSelect:function(){if(this.type=="2"&&this.isAllDept&&this.isAllDept=="false"){return false}var q=this.getParent();if(q&&q.selType=="512"&&this.type=="8"){return true}if(q&&((q.selType&this.type)==this.type)){if(this.isAllDept){if(this.isAllDept=="true"){return true}else{return false}}else{return true}}return false},_toggleSelect:function(q){this.inherited(arguments);if(q){k.publish("/mui/category/setSelected",this,this)}else{k.publish("/mui/category/cancelSelected",this,this)}},_setSelectedTrigger:function(){k.publish("/mui/category/selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type,staffingLevel:this.staffingLevel,parentNames:this.parentNames,isExternal:this.isExternal});k.publish("/mui/category/cate_selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type,staffingLevel:this.staffingLevel,parentNames:this.parentNames,isExternal:this.isExternal})},isSelected:function(){var s=this.getParent();if(s&&s.curIds){var q=s.curIds.split(";");if(m.indexOf(q,this.fdId)>-1){return true}}return false},buildIcon:function(q){if(this.icon){f.create("span",{style:{background:"url("+l.formatUrl(this.icon)+") center center no-repeat",backgroundSize:"cover",display:"inline-block"}},q)}else{if(dojoConfig.dingXForm&&dojoConfig.dingXForm==="true"&&this.type==window.ORG_TYPE_PERSON){q.innerHTML=d.createDingIcon(this.label,"div")}else{if(this.isExternal&&this.isExternal=="true"){if((this.type|window.ORG_TYPE_ORG)==window.ORG_TYPE_ORG){this.icon="address-org-external";this.isPngIcon=true}if((this.type|window.ORG_TYPE_DEPT)==window.ORG_TYPE_DEPT){this.icon="address-dept-external";this.isPngIcon=true}if((this.type|window.ORG_TYPE_POST)==window.ORG_TYPE_POST){this.icon="address-post-external";this.isPngIcon=true}}else{if((this.type|window.ORG_TYPE_ORG)==window.ORG_TYPE_ORG){this.icon="address-org";this.isPngIcon=true}if((this.type|window.ORG_TYPE_DEPT)==window.ORG_TYPE_DEPT){this.icon="address-dept";this.isPngIcon=true}if((this.type|window.ORG_TYPE_POST)==window.ORG_TYPE_POST){this.icon="address-post";this.isPngIcon=true}}if((this.type|window.ORG_TYPE_GROUP)==window.ORG_TYPE_GROUP){this.icon="address-group";this.isPngIcon=true}if(this.isPngIcon){this.buildPNGIcon(this.icon,q)}else{d.setIcon(this.icon,null,this._headerIcon,null,q)}}}},buildPNGIcon:function(s,q){f.create("img",{src:l.formatUrl("/sys/mobile/css/themes/default/images/"+s+".png")},q)},addColorToKeyWords:function(){if(!this.labelNode){return}var s=this.findSearchBar();if(!s){return}var v=s.searchNode.value;if(v){var q=v.replace(/'/g,"''").replace(/,/g,";").replace(/，/g,";").replace(/；/g,";").split(";");var u=[];var t=this.labelNode.innerHTML;m.forEach(q,function(x){if(u.indexOf(x)<0){var w=("<em>"+x+"</em>");t=t.replace(x,w);u.push(x)}},this);if(t){this.labelNode.innerHTML=t}}},findSearchBar:function(){var q="_address_search_"+this.key;var s=a.byId(q);return s},_openCate:function(q){q&&q.stopPropagation();var s=this;this.set("entered",true);this.defer(function(){this.set("entered",false);if(this.selType==1||this.selType==2||this.selType==3){var t=l.urlResolver(l.formatUrl(this.dataUrl),{parentId:this.fdId||"",selType:this.selType||"",deptLimit:this.deptLimit||""});g.post(t,{handleAs:"json"}).then(function(u){if((u||[]).length<1){s.moreArea&&f.destroy(s.moreArea);o.fail({text:"当前没有下级部门"})}else{k.publish("/mui/view/scrollTo",this,{y:(0)});k.publish("/mui/category/changed",s,{fdId:s.fdId,label:s.label,type:s.type})}},function(u){o.fail({text:"请求获取数据失败"})})}else{k.publish("/mui/view/scrollTo",this,{y:(0)});k.publish("/mui/category/changed",s,{fdId:s.fdId,label:s.label,type:s.type})}},200);return}});return p})},"sys/mobile/js/mui/top/Top":function(){define(["dojo/_base/declare","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/_base/array","dojo/topic","dojo/dom-geometry","dojo/window"],function(f,n,b,e,m,d,k,l,g,a,h){return f("mui.top.Top",[e,b,n],{bottom:"80px",right:"1.25rem",_show:false,canDrag:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode}m.replace(this.containerNode,"muiTop");k.set(this.domNode,{bottom:this.bottom,right:this.right});this.topNode=d.create("i",{className:"fontmuis muis-stick"},this.domNode);this.handleDragEvent()},startup:function(){if(this._started){return}this.inherited(arguments)},postCreate:function(){this.connect(this.domNode,"onclick","_onClick");this.connectToggle();var o=this;this.subscribe("/mui/top/viewChanged",function(p){o.hide()});this.subscribe("/dojox/mobile/viewChanged,/dojox/mobile/afterTransitionIn",function(p){if(p.isShowTop){if(p.isShowTop()){this.show()}else{this.hide()}return}this.hide();if(p._v&&p.toTop){if(p.getPos().y<-5){this.show();g.publish("mui/view/addBottomTip")}}else{l.forEach(p.getChildren(),function(q){if(q._v&&q.toTop){if(q.getPos().y<-5){this.show()}return false}},this)}})},destroy:function(){this.destoryDragEvent();this.inherited(arguments)},_onClick:function(o){this.toTop(o)},show:function(){k.set(this.domNode,{display:"block"});this.set("_show",true)},hide:function(){k.set(this.domNode,{display:"none",bottom:this.bottom,right:this.right,top:"initial",left:"initial"});this.set("_show",false)},toTop:function(o){},connectToggle:function(){},handleDragEvent:function(){if(!this.canDrag){return}this.domNode.addEventListener("touchstart",this.touchstartEvent.bind(this));this.domNode.addEventListener("touchmove",this.touchmoveEvent.bind(this),{passive:false});this.handleDragSuccess=true;this.dragInfo={}},touchstartEvent:function(o){this.dragInfo.startPoint=this.getDragPoint(o);this.dragInfo.startPoint=this.dragInfo.startPoint;this.drag_initBoundary()},touchmoveEvent:function(u){u.preventDefault();var o=this.getDragPoint(u);var p=o.y-this.dragInfo.startPoint.y;var q=o.x-this.dragInfo.startPoint.x;var t=this.dragInfo.originPosition.y;var s=this.dragInfo.originPosition.x;if(p>0){t+=p}else{t+=p}t=this.drag_checkTopBoundary(t);if(q>0){s+=q}else{s+=q}s=this.drag_checkLeftBoundary(s);k.set(this.domNode,{top:t+"px",left:s+"px",bottom:"initial",right:"initial"});this.dragInfo.lastPoint=o},drag_initBoundary:function(){this.dragInfo.originPosition=a.position(this.domNode);this.dragInfo.boundary={maxTop:h.getBox().h-this.dragInfo.originPosition.h,minTop:0,maxLeft:h.getBox().w-this.dragInfo.originPosition.w,minLeft:0}},drag_checkTopBoundary:function(o){var p=this.dragInfo.boundary;if(o<p.minTop){o=p.minTop}if(o>p.maxTop){o=p.maxTop}return o},drag_checkLeftBoundary:function(o){var p=this.dragInfo.boundary;if(o<p.minLeft){o=p.minLeft}if(o>p.maxLeft){o=p.maxLeft}return o},getDragPoint:function(o){return{x:o.touches?o.touches[0].pageX:o.clientX,y:o.touches?o.touches[0].pageY:o.clientY}},destoryDragEvent:function(){if(!this.canDrag){return}this.domNode.revomeEventListener("touchstart",this.touchstartEvent.bind(this));this.domNode.revomeEventListener("touchmove",this.touchmoveEvent.bind(this),{passive:false})}})})},"sys/mobile/js/mui/address/address_common":function(){define(["mui/util","mui/createUtils","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,b,k){var g=b.createTemplate;function f(m){var l=[];if(m.className){l=l.concat(m.className)}var h={key:"{categroy.key}",height:"3rem",channel:m.channel,visible:m.visible?true:false,isExt:"{categroy.isExt}",isEco:"{categroy.isEco}",deptLimit:"{categroy.deptLimit}"};if(m.titleNode){h.titleNode=m.titleNode}if(m.detailUrl){h.detailUrl=m.detailUrl}return g("div",{dojoType:"mui/address/AddressCategoryPath",dojoMixins:m.mixins||[],dojoProps:h})}function e(m){var h=["mui/address/AddressItemListMixin"];if(m.mixins){h=h.concat(m.mixins)}h=h.join(",");var l='<ul data-dojo-type="mui/address/AddressList" data-dojo-mixins="'+h+"\" data-dojo-props=\"isExternal:'{categroy.isExternal}',isEco:'{categroy.isEco}',exceptValue:'{categroy.exceptValue}',cateId:'{categroy.cateId}',deptLimit:'{categroy.deptLimit}',beforeSelectCateHistoryId: '{categroy.beforeSelectCateHistoryId}',isMul:{categroy.isMul},key:'{categroy.key}',channel:'"+m.channel+"',curIds:'{categroy.curIds}',curNames:'${lfn:escapeJs({categroy.curNames})}',selType:{categroy.type},exceptValue:'{categroy.exceptValue}',scope:'{categroy.scope}'\"></ul>";return l}function d(n){var m=n.mul;var z=g("div",{className:"muiCateSearchArea muiAddressSearchArea"},g("div",{id:"_address_search_{categroy.key}",dojoType:"mui/address/AddressSearchBar",dojoProps:{key:"{categroy.key}",searchUrl:"{categroy.searchUrl}",orgType:"$${categroy.type}$$",exceptValue:"{categroy.exceptValue}",deptLimit:"{categroy.deptLimit}",height:"4rem"}}));var q=z;var p=g("div",{dojoType:"mui/header/Header",dojoProps:{height:"4rem"}},g("div",{id:"categoryNavBar",dojoType:"mui/nav/StaticNavBar",dojoMixins:"mui/address/AddressNavBarMixin",dojoProps:{key:"{categroy.key}",deptLimit:"{categroy.deptLimit}"}}));var h=g("div",{dojoType:"mui/address/AddressDeptMember",dojoProps:{key:"{categroy.key}",selType:"$${categroy.type}$$",exceptValue:"{categroy.exceptValue}"}});var y=g("div",{dojoType:"mui/address/AddressSubordinate",dojoProps:{key:"{categroy.key}",selType:"$${categroy.type}$$",exceptValue:"{categroy.exceptValue}"}});var t=g("div",{dojoType:"dojox/mobile/ScrollableView",dojoMixins:["mui/address/AddressViewScrollResizeMixin","mui/category/AppBarsMixin"],dojoProps:{key:"{categroy.key}",scrollBar:false,threshold:10,channel:"usual"}},[f({channel:"usual",visible:false}),e({channel:"usual",mixins:["mui/address/AddressRecentItemListMixin"]})]);var w=g("div",{id:"usualCateView_{categroy.key}",dojoType:"dojox/mobile/View"},[h,y,g("div",{className:"muiAddressItemTitle muiUsualRecentTitle"},k["mui.mobile.address.recently"]),t]);var u=g("div",{dojoType:"dojox/mobile/ScrollableView",dojoMixins:["mui/address/AddressViewScrollResizeMixin","mui/category/AppBarsMixin"],dojoProps:{key:"{categroy.key}",channel:"all",scrollBar:false,threshold:10}},[e({key:"{categroy.key}",channel:"all"})]);var o=g("div",{id:"allCateView_{categroy.key}",dojoType:"dojox/mobile/View"},[f({isExt:"{categroy.isExt}",key:"{categroy.key}",channel:"all",height:"3rem",titleNode:k["mui.mobile.address.allCate"],visible:true,mixins:"mui/address/AddressOrgCategoryPathMixin"}),u]);var l=g("div",{id:"groupView_{categroy.key}",dojoType:"dojox/mobile/View",dojoMixins:["mui/address/AddressGroupViewMixin"],dojoProps:{key:"{categroy.key}"}});var x=g("div",{id:"commonGroupView_{categroy.key}",dojoType:"dojox/mobile/View"},[g("div",{dojoType:"mui/address/AddressCommonGroupCategoryPath",dojoProps:{key:"{categroy.key}",channel:"common_group",height:"3rem"}}),g("div",{dojoType:"dojox/mobile/ScrollableView",dojoMixins:["mui/address/AddressViewScrollResizeMixin","mui/category/AppBarsMixin"],dojoProps:{key:"{categroy.key}",channel:"common_group",scrollBar:false,threshold:10}},["<ul data-dojo-type=\"mui/address/AddressList\" data-dojo-mixins=\"mui/address/AddressCommonGroupListMixin\" data-dojo-props=\"isExt:'{categroy.isExt}',deptLimit:'{categroy.deptLimit}',beforeSelectCateHistoryId: '{categroy.beforeSelectCateHistoryId}',isMul:{categroy.isMul},key:'{categroy.key}',channel:'common_group',curIds:'{categroy.curIds}',curNames:'${lfn:escapeJs({categroy.curNames})}',selType:{categroy.type},exceptValue:'{categroy.exceptValue}',scope:'{categroy.scope}',maxPageSize:{categroy.maxPageSize}\"></ul>"])]);var v=g("div",{id:"myGroupView_{categroy.key}",dojoType:"dojox/mobile/View"},[g("div",{dojoType:"mui/address/AddressMyGroupCategoryPath",dojoProps:{key:"{categroy.key}",channel:"my_group",height:"3rem"}}),g("div",{dojoType:"dojox/mobile/ScrollableView",dojoMixins:["mui/address/AddressViewScrollResizeMixin","mui/category/AppBarsMixin"],dojoProps:{key:"{categroy.key}",channel:"my_group",scrollBar:false,threshold:10}},["<ul data-dojo-type=\"mui/address/AddressList\" data-dojo-mixins=\"mui/address/AddressMyGroupListMixin\" data-dojo-props=\"isExt:'{categroy.isExt}',deptLimit:'{categroy.deptLimit}',beforeSelectCateHistoryId: '{categroy.beforeSelectCateHistoryId}',isMul:{categroy.isMul},key:'{categroy.key}',channel:'my_group',curIds:'{categroy.curIds}',curNames:'${lfn:escapeJs({categroy.curNames})}',selType:{categroy.type},exceptValue:'{categroy.exceptValue}',scope:'{categroy.scope}',maxPageSize:{categroy.maxPageSize}\"></ul>"])]);var s=g("div",{dojoType:"dojox/mobile/View",dojoProps:{key:"{categroy.key}",channel:"group"}},[l,x,v]);q+=g("div",{id:"defaultView_{categroy.key}",dojoType:"dojox/mobile/View"},[p,w,o,s]);q+=g("div",{id:"deptMemberView_{categroy.key}",dojoType:"dojox/mobile/ScrollableView",dojoMixins:"mui/address/AddressViewScrollResizeMixin",dojoProps:{key:"{categroy.key}",channel:"deptMember",scrollBar:false,threshold:10}},[f({channel:"deptMember",visible:false}),e({channel:"deptMember",mixins:["mui/address/AddressDeptMemberListMixin","mui/address/AddressSearchListMixin"]})]);q+=g("div",{id:"subordinateView_{categroy.key}",className:"muiSubordinateView",dojoType:"dojox/mobile/ScrollableView",dojoMixins:"mui/address/AddressViewScrollResizeMixin",dojoProps:{key:"{categroy.key}",channel:"subordinate",scrollBar:false,threshold:10}},[f({channel:"subordinate",visible:true,className:["muiAddressSubordinatePath"],titleNode:k["mui.mobile.address.subordinate"],mixins:["mui/address/AddressSubordinatePathMixin"]}),e({channel:"subordinate",mixins:["mui/address/AddressSubordinateListMixin","mui/address/AddressSearchListMixin"]})]);q+=g("div",{id:"searchView_{categroy.key}",className:"muiAddressView",dojoType:"dojox/mobile/ScrollableView",dojoMixins:"mui/address/AddressViewScrollResizeMixin",dojoProps:{key:"{categroy.key}",channel:"search",scrollBar:false,threshold:10}},["<ul data-dojo-type=\"mui/address/AddressList\" data-dojo-mixins=\"mui/address/AddressItemListMixin,mui/address/AddressSearchListMixin\" data-dojo-props=\"isExt:'{categroy.isExt}',exceptValue:'{categroy.exceptValue}',cateId:'{categroy.cateId}',history:true,deptLimit:'{categroy.deptLimit}',beforeSelectCateHistoryId: '{categroy.beforeSelectCateHistoryId}',isMul:{categroy.isMul},key:'{categroy.key}',channel:'search',curIds:'{categroy.curIds}',curNames:'${lfn:escapeJs({categroy.curNames})}',selType:{categroy.type},orgType:{categroy.type},exceptValue:'{categroy.exceptValue}',scope:'{categroy.scope}'\"></ul>"]);if(m){q+=g("div",{dojoType:"mui/address/AddressSelection",dojoProps:{key:"{categroy.key}",beforeSelectCateHistoryId:"{categroy.beforeSelectCateHistoryId}",curIds:"{categroy.curIds}",curNames:"${lfn:escapeJs({categroy.curNames})}",fixed:"bottom"}})}return q}return{html:d}})},"sys/mobile/js/mui/picslide/PicSlide":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/query","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/topic","mui/store/JsonRest","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojox/mobile/_StoreListMixin","dojox/mobile/SwapView","mui/picslide/PicItem","mui/util","mui/loadingMixin"],function(g,v,s,d,k,n,f,o,p,q,t,m,b,u,h,a,l){var e=s("mui.picslide.PicSlide",[q,m,t,b,l],{itemRenderer:h,width:"inherit",height:"inherit",refreshTime:0,showType:"",showSubject:true,url:"",items:[],picTensile:false,curIndex:0,openByProxy:false,time:null,picResizeEvt:"/mui/picitem/resize",viewChanged:"/dojox/mobile/viewChanged",changeView:"/mui/picslide/changeview",_getSource:function(){if(!this.store&&this.url!=null&&this.url!=""){this.store=new p({idProperty:"fdId",target:a.formatUrl(this.url)})}},buildRendering:function(){this.containerNode=f.create("div",{className:"muiListPicslideContainer",id:this.id+"_container"});this.inherited(arguments);var y,w;if(this.srcNodeRef){for(y=0,w=this.srcNodeRef.childNodes.length;y<w;y++){this.containerNode.appendChild(this.srcNodeRef.firstChild)}}if(this.showType=="dot"){this.switchNode=f.create("div",{className:"muiListPicslideSwitch"},this.containerNode);if(this.showSubject){this.titleNode=f.create("div",{className:"muiListPicslideTitleDot"},this.containerNode)}}else{var x=f.create("div",{className:"muiListPicslidePaging"},this.containerNode);this.curPagingNode=f.create("span",{className:"muiListPicslideCur"},x);this.totalPagingNode=f.create("span",{className:"muiListPicslideTotal"},x);if(this.showSubject){this.titleNode=f.create("div",{className:"muiListPicslideTitle"},this.containerNode)}}this.domNode.appendChild(this.containerNode);this._getSource();if(this.refreshTime==0){return}this.connect(this.domNode,"touchstart",this.doTouchStartHandler);this.connect(this.domNode,"touchend",this.doTouchEndHandler)},doTouchStartHandler:function(){if(this.time){clearInterval(this.time);this.time=null}},doTouchEndHandler:function(){var w=this;if(!this.time){this.time=setInterval(function(){w._changView()},this.refreshTime*1000)}},postCreate:function(){this.inherited(arguments);this.subscribe(this.viewChanged,"_handleViewChanged");this.subscribe(this.changeView,"_changView")},startup:function(){if(this._started){return}var y,x;if(this.height==="inherit"){if(this.domNode.parentNode){y=this.domNode.parentNode.offsetHeight+"px"}}else{if(this.height){y=this.height}}if(y){this.domNode.style.height=y}if(this.width==="inherit"){if(this.domNode.parentNode){x=this.domNode.parentNode.offsetWidth+"px"}}else{if(this.width){x=this.width}}if(x){this.domNode.style.width=x}if(this.store){this.buildLoading(this.domNode);this.setQuery({},{})}else{this.onComplete(this.items)}this.inherited(arguments)},resizeItems:function(){var y=this.domNode.offsetHeight,x=this.domNode.offsetWidth;o.publish(this.picResizeEvt,this,{height:y,width:x,tensile:this.picTensile,id:this.id})},onComplete:function(B){g.forEach(this.getChildren(),function(w){if(w instanceof u){w.destroyRecursive()}});this.destroyLoading(this.domNode);this.items=B;var x,A=this.domNode.offsetHeight;if(B.length>0){if(B.length==1&&!B[0].icon){var D=f.create("a",{className:"mblView mblSwapView",href:a.formatUrl(B[0].href)},this.containerNode);var E=f.create("div",{className:"muiListPicslideItem"},D);f.create("img",{className:"muiListPicItemImg",alt:B[0].label,src:B[0].url,width:"100%",height:A+"px"},E);if(this.showSubject){if(this.items[0].label||this.items[0].alt){this.titleNode.innerHTML='<div class="muiListPicItemTitle muiFontSizeM textEllipsis">'+(this.items[0].label?this.items[0].label:this.items[0].alt)+"</div>";n.set(this.titleNode,{display:"block"})}else{n.set(this.titleNode,{display:"none"})}}}else{if(B.length>0){var D=new u({height:A+"px",lazy:true,w:4});D.addChild(new this.itemRenderer(v.mixin(B[B.length-1],{itemIndex:B.length-1,openByProxy:this.openByProxy})));this.addChild(D);D.hide()}for(var z=0;z<B.length;z++){var D=new u({height:A+"px",lazy:true,w:4});D.addChild(new this.itemRenderer(v.mixin(B[z],{itemIndex:z,openByProxy:this.openByProxy})));this.addChild(D);if(z===0){D.show();x=D}else{D.hide()}}if(B.length>0){var D=new u({height:A+"px",lazy:true,w:4});D.addChild(new this.itemRenderer(v.mixin(B[0],{itemIndex:0,openByProxy:this.openByProxy})));this.addChild(D);D.hide()}if(this.showType=="dot"){if(B.length>1){for(var z=0;z<B.length;z++){f.create("span",{className:this.id+"_muiListPicslideDotItem_"+z},this.switchNode)}}}}this.resizeItems();this._handleViewChanged(x);if(this.refreshTime>0){var F=this;this.time=setInterval(function(){F._changView()},this.refreshTime*1000)}}else{if(this.showType=="dot"){if(this.switchNode){n.set(this.switchNode,"display","none")}if(this.titleNode){n.set(this.titleNode,"display","none")}}var G=a.formatUrl("/sys/mportal/mobile/css/imgs/nodata.png");var y=f.create("div",{className:"muiListNoDataArea"},this.containerNode);var C=f.create("div",{className:"muiListNoDataInnerArea"},y);f.create("div",{className:"muiListNoDataContainer muiListNoDataImg",innerHTML:"<img src="+G+">"},C);f.create("div",{className:"muiListNoDataTxt muiFontSizeM muiFontColorInfo",innerHTML:"暂无内容"},y)}},_handleViewChanged:function(A){var z=null;var y=0;if(A instanceof u&&A.getParent()===this){z=A;var B=this.getIndexOfChild(z);if(B==0){y=this.items.length-1;var C=this.getChildren()[this.items.length];C.show();this.currentView=C}else{if(B==this.items.length+1){y=0;var D=this.getChildren()[1];D.show();this.currentView=D}else{y=B-1}}if(B==this.items.length&&z==this.currentView){y=0;var D=this.getChildren()[1];this.currentView.goTo(1,D);this.currentView=D}if(this.currentView!=z){this.curIndex=B;if(this.showType=="dot"){if(this.items.length>1){for(var w=0;w<this.items.length;w++){if(w==y){k.add(d("."+this.id+"_muiListPicslideDotItem_"+w)[0],"item_on")}else{k.remove(d("."+this.id+"_muiListPicslideDotItem_"+w)[0],"item_on")}}}}else{this.curPagingNode.innerHTML=(y+1);this.totalPagingNode.innerHTML="/"+this.items.length}if(this.showSubject){if(this.items[y].label||this.items[y].alt){this.titleNode.innerHTML='<div class="muiListPicItemTitle muiFontSizeM textEllipsis">'+(this.items[y].label?this.items[y].label:this.items[y].alt)+"</div>";n.set(this.titleNode,{display:"block"})}else{n.set(this.titleNode,{display:"none"})}}this.currentView=z}}this._setSiblingViewsInMotion(false)},_setSiblingViewsInMotion:function(w){var x=w?"true":false;this.containerNode.setAttribute("data-dojox-mobile-swapview-inmotion",x)},_changView:function(x,z){if(z){var w=z.curIndex;var A=w+1;var y=this.getChildren()[A];if(this.currentView!=y){y.show();this._handleViewChanged(y)}}else{this._setSiblingViewsInMotion(true);if(this.curIndex==this.items.length){this.curIndex=0}var y=this.getChildren()[this.curIndex+1];if(this.currentView!=y){this.currentView.goTo(1,y);this.curIndex++}}}});return e})},"sys/mobile/js/mui/rtf/_TableResizeMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/query","dojo/_base/array","dojox/mobile/ScrollableView","mui/NativeView"],function(e,a,d,g,h,f,b){return e("mui.rtf._TableResizeMixin",null,{formatContent:function(m){this.inherited(arguments);var l=[];if(typeof m=="object"){l=g("table",m)}else{l=g(m+" table")}if(l.length>0){var k=this;h.forEach(l,function(n){if(parseInt(n.offsetHeight)>0){k.resizeTable(n)}});h.forEach(l,function(n){n.parentNode.removeChild(n)})}},resizeTable:function(l){var m=a.create("div",null,l,"before");var n=dojoConfig._native?b:f;var k=new n({scrollDir:"h",height:(l.offsetHeight+10)+"px"});k.containerNode.innerHTML=l.outerHTML;a.place(k.domNode,m,"last");k.startup();k.resize()}})})},"sys/mobile/js/mui/commondialog/DialogMixin":function(){define(["dojo/_base/declare","mui/query/_CategoryQueryDialogMixin","mui/commondialog/DialogSelectMixin"],function(a,e,d){var b=a("mui.simplecategory.SimpleCategoryDialogMixin",[e,d],{key:"_common_cate_dialog"});return b})},"sys/mobile/js/mui/list/iframe/_IframePushAppendMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/registry","dojo/topic","dojo/dom-construct","dojo/dom-geometry","dojo/query","dojox/mobile/viewRegistry","dojo/when","dojo/dom-style","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/_base/array","resource/js/domain"],function(f,b,a,g,o,d,m,n,l,h,e,k){domain.register("$ekpIframeListLoaded",function(p){var q=a.byId(p.target);if(!q){return}q.handleIframeListLoaded&&q.handleIframeListLoaded(p)});return f("mui.list.iframe._PushMixin",null,{push:false,_pushItem:null,_pushDom:null,startup:function(){if(this._started){return}this.inherited(arguments);this._createPushDom();this.set("push",false);document.addEventListener("scroll",b.hitch(this,this.handleScroll),false)},_createPushDom:function(){if(!this._pushDom){this._pushDom=o.toDom('<div class="listPushItem"><span><i class="mui mui-loading mui-spin"></i>'+e["mui.list.push.more"]+"</span></div>");h.set(this._pushDom,"display","none");o.place(this._pushDom,this.domNode,"last")}},_setPushAttr:function(p){this._set("push",p)},pushDone:function(){this.set("push",false)},handleScroll:function(p){var s=document.documentElement.scrollTop||window.scrollY,t=window.innerHeight||window.document.documentElement.clientHeight,q=window.document.documentElement.offsetHeight;if(s>=q-t&&this.isVisible(this.iframeNode)&&!this.push){this.set("push",true);if(this.iframeNode){domain.call(this.iframeNode.contentWindow,"$ekpIframePush",[{target:this.id}])}}},handleIframeListLoaded:function(q){var t=q.geometry,s=q.data;if(t){this.iframeNode&&t.height&&h.set(this.iframeNode,{height:t.height+"px"})}if(s){var p=s.loadOver;if(p){h.set(this._pushDom,{display:"none"})}else{h.set(this._pushDom,{display:"table"})}}this.pushDone()},isVisible:function(p){var q=function(t){return h.get(t,"display")!=="none"};for(var s=this.domNode;s.tagName!=="BODY";s=s.parentNode){if(!q(s)){return false}}return true}})})},"sys/mobile/js/mui/category/ACategoryListMixin":function(){define(["dojo/_base/declare","mui/util","mui/category/AppBarsMixin"],function(b,a,d){return b("mui.category.ASwapCategoryList",[d],{SWAP_EVENT:"mui/category/swap",buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/category/path","aChange");if(window.pathItem){this.aChange(this,[])}},_reload:function(){this.buildLoading();this.reload();this.getParent().slideTo({y:0},0,"linear")},_cateChange:function(f,e){},aChange:function(f,e){if(f.key!=this.key){return}var g;if(e&&e.length>1){g=e[e.length-2]}if(this.parentId==g){return}this.parentId=g;if(this._dataUrl&&this._dataUrl!="undefined"){this.dataUrl=this._dataUrl}this.url=a.urlResolver(a.formatUrl(this.dataUrl),this);this._reload()}})})},"sys/mobile/js/mui/syscategory/SwapSysCategoryList":function(){define(["dojo/_base/declare","mui/category/SwapCategoryList"],function(b,a){return b("mui.simplecategory.SwapCategoryList",[a],{tmpl:"<div data-dojo-type=\"dojox/mobile/ScrollableView\" data-dojo-mixins=\"mui/category/AppBarsMixin\"data-dojo-props=\"scrollBar:false,threshold:100,key:'{key}'\"><ul data-dojo-type=\"mui/syscategory/SysCategoryList\" data-dojo-mixins=\"mui/syscategory/SysCategoryItemListMixin,!{mixin}\" data-dojo-props=\"_dataUrl:'{_dataUrl}',lazy:false,isOnlyShowCate:{isOnlyShowCate},isMul:{isMul},key:'{key}',parentId:'!{fdId}',selType:{selType},fdTempKey:'{fdTempKey}',modelName:'{modelName}',getTemplate:'{getTemplate}',confirm:{confirm},curIds:'{curIds}',showType:'{showType}',authType:'{authType}'\" ></ul></div>",authUrl:"/sys/category/mobile/sysCategory.do?method=authData"})})},"sys/mobile/js/mui/syscategory/SysCommonCategoryItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/syscategory/SysCommonCategoryItemMixin"],function(d,b,a){return d("mui.syscategory.SysCommonCategoryItemListMixin",[b],{itemRenderer:a})})},"sys/mobile/js/mui/tabfilter/TabfilterLeftItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/tabfilter/TabfilterLeftItemMixin"],function(d,b,a){return d("mui.tabfilter.TabfilterLeftItemListMixin",[b],{itemRenderer:a})})},"sys/mobile/js/mui/nav/NavBarStepMixin":function(){define("mui/nav/NavBarStepMixin",["dojo/dom-construct","dojo/_base/declare","dojo/dom-class","dojo/topic","dojo/_base/array","mui/nav/_ShareNavBarMixin","dojo/_base/lang"],function(b,e,f,d,k,h,g){var a=e("mui.nav.NavBarStepMixin",null,{height:"3.4rem",buildRendering:function(){this.inherited(arguments);f.remove(this.containerNode,"muiNavbarContainer");var n=b.create("div",{className:"muiStepNavBarContainer"});b.place(n,this.domNode,"before");b.place(this.domNode,n,"first");f.add(this.domNode,"muiStepNavBar");f.add(this.containerNode,"muiStepNav");var l=this;var m=function(o){var s=l;for(var p=0;p<s.getChildren().length;p++){var q=s.getChildren()[p];if(o.id==q.moveTo){q.beingSelected(q.domNode);return}}};d.subscribe("mui/form/validateFail",function(o){m(o)});d.subscribe("mui/view/currentView",function(o){m(o)})},generateList:function(l){k.forEach(l,function(n,m){if(m==0){this.addFirstChild(this.createListItem(g.mixin(n,{tabIndex:m,order:m+1})));return}this.addChild(this.createListItem(g.mixin(n,{tabIndex:m,order:m+1})));if(n[this.childrenProperty]){k.forEach(n[this.childrenProperty],function(p,o){this.addChild(this.createListItem(g.mixin(n,{tabIndex:o,order:o+1})))},this)}},this)}});return a})},"sys/mobile/js/mui/catefilter/simplecategory/FilterItem":function(){define(["dojo/_base/declare","mui/catefilter/FilterItem","mui/simplecategory/SimpleCategoryMixin"],function(b,a,d){return b("mui.catefilter.simplecategory.filterItem",[a,d],{})})},"sys/mobile/js/mui/device/ding/adapter":function(){define(["https://g.alicdn.com/dingding/dingtalk-jsapi/2.10.3/dingtalk.open.js","dojo/_base/lang","mui/device/device","dojo/request","mui/util","mui/coordtransform","mui/i18n/_i18n!sys/mobile/js/mui/mui","mui/dialog/Tip","dojo/Deferred","dojo/topic","mui/map","mui/device/web/attachment","mui/base64"],function(t,d,b,h,l,g,e,s,p,k,a,f,n){var m=false,o=false;var q={__readyCallbacks:[],__readyfailCallbacks:[],__hasListener__:false,ready:function(v,u){if(o){u&&u.call(this);return}if(m){v&&v.call(this);return}this.__readyCallbacks.push(v);this.__readyfailCallbacks.push(u);if(!this.__hasListener__){this.__hasListener__=true;k.subscribe("/third/ding/ready",d.hitch(this,function(){var w=null;while(w=this.__readyCallbacks.shift()){w&&w.call(this)}}));k.subscribe("/third/ding/readyfail",d.hitch(this,function(){var w=null;while(w=this.__readyfailCallbacks.shift()){w&&w.call(this)}}))}},closeWindow:function(){this.ready(function(){t.biz.navigation.close()},function(){t.biz.navigation.close()});return{}},share2ding:function(u){console.log(u);t.biz.chat.pickConversation({corpId:u.corpId,isConfirm:"true",onSuccess:function(v){$.post(dojoConfig.baseUrl+"third/ding/ThirdDingShare.do?method=share",{cid:v.cid,title:v.title,reqUrl:u.reqUrl,fdSubject:u.fdSubject,fdContent:u.fdContent,fdContentPro:u.fdContentPro,fdModelName:u.fdModelName,fdModelId:u.fdModelId},function(w){var x=$.parseJSON(w);if(x.error==0){s.success({text:"分享成功"})}else{s.fail({text:"分享失败:"+x.msg})}})},onFail:function(v){console.log("error:",v);if(v.errorCode&&v.errorCode!=3){s.fail({text:"fail:"+v.errorMessage})}}})},resume:function(u){console.log("注册钉钉resume事件监听");document.addEventListener("resume",u)},setTitle:function(u){if(!u){u=""}u=u.trim();t.biz.navigation.setTitle({title:u,onSuccess:function(v){},onFail:function(v){}});this.ready(function(){t.biz.navigation.setTitle({title:u,onSuccess:function(v){},onFail:function(v){}})},function(){console.log("ready失败！");t.biz.navigation.setTitle({title:u,onSuccess:function(v){},onFail:function(v){}})});document.title=u},imagePreview3:function(u){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,u);return{}},imagePreview:function(u){this.ready(function(){if(u.curSrc.indexOf("blob:")==0){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,u)}else{t.biz.util.previewImage({current:u.curSrc,urls:u.srcList,onSuccess:function(v){},onFail:function(v){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,u)}})}},function(){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,u)});return{}},sleep:function(v){var u=new Date().getTime()+parseInt(v,10);while(new Date().getTime()<u){}},downloadToDing:function(w,A){var x="";var v="";var B="";var z=w.time;$.ajaxSettings.async=false;$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=downloadToOther",{fdId:w.fdId,key:"ding",t:z},null);$.ajaxSettings.async=true;if(A){var u=false;var y=0;while(y<3){$.ajaxSettings.async=false;$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=isSuccess",{fdId:w.fdId,key:"ding",t:z,type:"0"},function(C){if(C.status=="0"){u=true;x=C.msg.url;v=C.msg.corpId;_name=C.msg.name}});$.ajaxSettings.async=true;if(u){break}y=Number(y)+1;if(y==3){s.tip({time:5000,text:e["mui.sysAttMain.download.oversize"]})}else{this.sleep(5000)}}if(x!=""&&v!=""){var w={corpId:v,url:x,name:_name};this.saveFile(w)}else{}}},isSuccess:function(w,v){var u=false;$.ajaxSettings.async=false;$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=isSuccess",{fdId:w,key:"ding",t:v,type:"0"},function(x){if(x.status=="0"){u=true}});$.ajaxSettings.async=true;return u},checkFileTypeByDing:function(y,u){var x=new Array(".js",".bat",".exe",".sh");if(y&&u){var v="."+u;var w=true;for(i=0;i<x.length;i++){if(v==x[i]){w=false;break}}if(!w){s.tip({text:"系统不允许上传“"+x+"”类型附件."});return true}}return false},isTypeDisable:function(w,z){if(w.fileName&&typeof(z.fdDisabledFileType)!="undefined"){var v=null;var u=w.fileName;v=u.substring(u.lastIndexOf("."));v=v.toLowerCase();var y=new Array();y=z.fdDisabledFileType.split(";");if("1"==z.fileLimitType){var x=true;for(i=0;i<y.length;i++){if(v==y[i]){x=false;break}}if(!x){s.tip({text:"系统不允许上传“"+this.fdDisabledFileType+"”类型附件."});return true}}else{if("2"==z.fileLimitType){var x=false;for(i=0;i<y.length;i++){if(v==y[i]){x=true;break}}if(!x){s.tip({text:"系统只允许上传“"+this.fdDisabledFileType+"”类型附件."});return true}}}}return false},isSizeDisable:function(u,v){if(v.fdSmallMaxSize&&null!=v.fdSmallMaxSize&&"pic"!=v.fdAttType){if(u.size>(v.fdSmallMaxSize*1024*1024)){s.tip({text:"单个附件上传最大不超过"+v.fdSmallMaxSize+"MB,请重新选择文件"});return true}}return false},isPicDisable:function(w,x){var u=w.fileName;if("pic"==x.fdAttType){if(u.lastIndexOf(".")>-1){var v=u.substring(u.lastIndexOf("."));v=v.toLowerCase();if(".gif"!=v&&".jpg"!=v&&".jpeg"!=v&&".png"!=v){s.tip({text:"仅支持gif、jpg、jpeg、png格式"});return true}}if(null!=x.fdImageMaxSize){if(w.fileSize>(x.fdImageMaxSize*1024*1024)){s.tip({text:"图片上传最大不超过"+x.fdImageMaxSize+"MB,请重新选择图片"});return true}}}return false},getToken:function(w){var u=l.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttUpload&gettype=getuserkey&format=json",true);var y=encodeURIComponent(w.fileName);var v="filesize="+w.fileSize+"&fileName="+y+"&fdAttMainId=&md5=";var x;h.post(u,{data:v,handleAs:"json",sync:true}).then(function(A){if(A.status=="1"){w.status=1;var z=A.token;x=(z&&z.header)?z.header.userkey:""}else{s.fail({text:"上传附件失败"})}},function(z){s.fail({text:"上传附件失败"})});return x},downloadFromDing:function(u,w){var v=this;this.ready(function(){t.runtime.permission.requestAuthCode({corpId:u.corpId,onSuccess:function(y){var x=y.code;t.biz.util.uploadAttachment({space:{corpId:u.corpId,isCopy:0,max:1},types:["space"],onSuccess:function(z){if(v.checkFileTypeByDing(z.data[0].fileName,z.data[0].fileType)){return}if(v.isTypeDisable(z.data[0],w)){return}if(v.isSizeDisable(z.data[0],w)){return}if(v.isPicDisable(z.data[0],w)){return}var D=v.getToken(z.data[0]);if(!D){return}if(!window.AttachmentList){window.AttachmentList={}}var A=window.AttachmentList[u.fdKey];if(!A){A=new f(u);window.AttachmentList[u.fdKey]=A}var B=n.encode(z.data[0].fileName);B=B.replace(/\+/g,"");B=B.replace(/\//g,"");B=B.replace(/\=/g,"");var C=s.processing();C.show();$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=uploadToEkp",{code:x,key:"ding",fdSign:B,token:D,spaceId:z.data[0].spaceId,fileId:z.data[0].fileId,fileName:z.data[0].fileName,fileSize:z.data[0].fileSize,fileType:z.data[0].fileType,fdAttType:u.fdAttType,fdKey:u.fdKey,fdModelId:u.fdModelId,fdModelName:u.fdModelName},function(E){k.publish("/third/ding/status/"+u.fdKey,{url:dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=isSuccess",fdId:E.fdAttId+";"+E.fileId,size:z.data[0].fileSize,name:z.data[0].fileName,attachment:A,obj:v,tip:C,_fdAttId:E.fdAttId})})},onFail:function(z){}})}})},function(){s.fail({text:"ready失败"})})},saveFile:function(u){this.ready(function(){t.biz.cspace.saveFile({corpId:u.corpId,url:u.url,name:u.name,onSuccess:function(v){},onFail:function(v){}})},function(){s.fail({text:"ready失败"})})},open:function(u,x,v){if(u.indexOf("/")==0){u=l.getHost()+u}if(!(window.self===window.top)){window.open(u,"_self");return}try{t.biz.util.openLink({url:u,onFail:function(y){window.open(u,"_self")}});return}catch(w){window.open(u,"_self");return}},openChat:function(u){this.ready(function(){var v=this._fetchUserId(u);v.then(function(w){t.biz.chat.openSingleChat(w)})},function(){this["$super$openChat"]&&this["$super$openChat"].call(this,u)})},openUserCard:function(u){this.ready(function(){var w=this._fetchUserId(u),v=this;w.then(function(x){t.biz.util.open({name:"profile",params:{id:x.userId,corpId:x.corpId},onFail:function(y){console.log("errorMessage:"+y.errorMessage);v["$super$openUserCard"]&&v["$super$openUserCard"].call(v,u)}})})},function(){this["$super$openUserCard"]&&this["$super$openUserCard"].call(this,u)})},_fetchUserId:function(w){w.userId=w.loginName;var y=new p();if(!w.userId&&w.ekpId){var x=null;var u=dojoConfig.baseUrl+"sys/mobile/adapter.do?method=getDingPrefix",v={data:{url:location.href},handleAs:"json"};h.post(u,v).response.then(function(A){var B=A.data;x=B.url;var z=l.formatUrl("/"+x+"/user.do?method=getUserId&fdId="+w.ekpId);h(z,{handleAs:"json"}).then(function(C){w.userId=C.userId;w.corpId=C.corpId;y.resolve(w)})},function(){console.log("请求失败！")})}else{y.resolve(w)}return y},download:function(x){var u=function(){var A=navigator.userAgent.toLowerCase();if(/(iPhone|iPad|iPod|iOS)/i.test(A)){return true}return false};var z=function(){var A=navigator.userAgent.toLowerCase();if(A.indexOf("android")>-1){return true}return false};if(u()){var w=x.name.toLowerCase(),v=w.substring(w.lastIndexOf(".")+1);if(v=="zip"||v=="rar"){s.fail({text:"暂不支持此文件类型打开"});return}}if(!z()){location.href=l.formatUrl(x.href);return}var y=l.formatUrl(x.href);$.ajaxSettings.async=false;$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=getSignDownload",{fdAttMainId:x.fdId},function(A){if(A.hasAtt==true){if(A.hasRest){y=l.formatUrl("/resource/jsp/download.jsp?url="+encodeURIComponent(A.downloadUrl))}else{s.fail({text:"未配置附件rest服务访问策略"})}}else{s.fail({text:"附件不存在"})}});$.ajaxSettings.async=true;location.href=y;return},scanQRCode:function(u){this.ready(function(){t.biz.util.scan({type:"qrCode",onSuccess:function(v){u&&u({text:v.text})},onFail:function(v){}})},function(){this["$super$scanQRCode"]&&this["$super$scanQRCode"].call(this,u)});return true},openViewMap:function(u,w,v){this.ready(function(){var x=[u.lng,u.lat];if(u.coordType=="bd09"){x=g.bd09togcj02(u.lng,u.lat)}t.biz.map.view({longitude:x[0],latitude:x[1],title:u.value});w&&w()},function(){this["$super$openViewMap"]&&this["$super$openViewMap"].call(this,u,w,v)})},openEditMap:function(u,w,v){this.ready(function(){var x=[u.lng,u.lat];if(u.coordType=="bd09"&&u.lng&&u.lat){x=g.bd09togcj02(u.lng,u.lat)}t.biz.map.locate({longitude:x[0],latitude:x[1],onSuccess:function(z){var y={lat:z.latitude,lng:z.longitude};if(u.coordType=="bd09"){var A=g.gcj02tobd09(y.lng,y.lat);y.lng=A[0];y.lat=A[1]}w&&w({point:y,value:z.title,detail:z.snippet})}})},function(){this["$super$openEditMap"]&&this["$super$openEditMap"].call(this,u,w,v)})},getNetworkType:function(u){this.ready(function(){t.device.connection.getNetworkType({onSuccess:function(v){u&&u({networkType:v.result})},onFail:function(v){u&&u()}})},function(){this["$super$getNetworkType"]&&this["$super$getNetworkType"].call(this,u)})},getWifiInfo:function(v){var u=this;this.ready(function(){t.device.base.getInterface({onSuccess:function(w){v&&v({ssid:w.ssid,macIp:u._fixMacIp(w.macIp)})},onFail:function(w){s.fail({text:"获取WIFI信息失败:"+w});v&&v()}})},function(){s.fail({text:"调用钉钉wifi接口授权失败"});this["$super$getWifiInfo"]&&this["$super$getWifiInfo"].call(this,v)})},_fixMacIp:function(u){var y="";if(u){var z=u.split(":");var v=[];for(var w in z){var x=z[w]||"";if(x.length==0){x="00"}else{if(x.length==1){x="0"+x[0]}}v.push(x)}y=v.join(":")}return y},getDeviceInfo:function(u){this.ready(function(){t.device.base.getUUID({onSuccess:function(v){u&&u({deviceId:v.uuid})},onFail:function(v){u&&u()}})})},complexPicker:function(u,v){this.ready(function(){t.biz.contact.complexPicker({title:u.title,corpId:u.corpId,multiple:true,limitTips:"超出了",maxUsers:1000,pickedUsers:u.pickedUsers,pickedDepartments:[],disabledUsers:[],disabledDepartments:[],requiredUsers:[],requiredDepartments:[],appId:u.appId,permissionType:"GLOBAL",responseUserOnly:true,startWithDepartmentId:0,onSuccess:function(w){v&&v({users:w.users})},onFail:function(w){console.log(w)}})},function(){s.tip({icon:"mui mui-warn",text:"调钉钉jsapi:dd.biz.contact.complexPicker失败"})})},doCreageScenegroup:function(v,x){var u=baseUrl+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=createScenegroup";var w={title:v.title,fdId:v.fdId,modelName:v.modelName,fdKey:v.fdKey,moduleKey:v.moduleKey,ownerPersonId:v.ownerPersonId,users:v.users};h.post(u,{data:v,handleAs:"json",sync:true}).then(function(y){s.fail({text:"场景群创建成功"});x&&x({data:y})},function(y){s.fail({text:"调用createScenegroup接口失败"});return})},creageScenegroup:function(w,z){var x=dojoConfig.baseUrl;var u=this;var v=x+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=getCreateScenegroupInfo";var y={fdId:w.fdId,modelName:w.modelName,fdKey:w.fdKey,moduleKey:w.moduleKey,ownerPersonId:w.ownerPersonId,personIds:w.personIds};h.post(v,{data:y,handleAs:"json",sync:true}).then(function(C){if(C!=null){var A=C.result;if(A==true){var D=C.data;w.appId=D.appId;w.corpId=D.corpId;w.pickedUsers=D.pickedUsers;var B=u;u.complexPicker(w,function(I){I=I.users;var H="";$.each(I,function(K,J){H+=J.emplId+";"});var F=dojoConfig.baseUrl;var E=F+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=createScenegroup";var G={title:w.title,fdId:w.fdId,modelName:w.modelName,fdKey:w.fdKey,moduleKey:w.moduleKey,ownerPersonId:w.ownerPersonId,users:H};h.post(E,{data:G,handleAs:"json",sync:true}).then(function(K){var J=K.result;if(J==true){s.success({text:"场景群创建成功"});z&&z({data:K})}else{s.fail({text:K.errorMsg})}},function(J){s.fail({text:"调用createScenegroup接口失败"});return})})}else{s.fail({text:C.errorMsg});return}}else{alert(JSON.stringify(C));return}},function(A){alert(JSON.stringify(data_res));s.fail({text:"调用thirdDingScenegroupMapp接口失败"});return})},addScenegroupMember:function(w,z){var x=dojoConfig.baseUrl;var u=this;var v=x+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=getScenegroupInfo";var y={fdId:w.fdId,modelName:w.modelName,fdKey:w.fdKey,personIds:w.personIds};h.post(v,{data:y,handleAs:"json",sync:true}).then(function(C){if(C!=null){var A=C.result;if(A==true){var D=C.data;w.appId=D.appId;w.corpId=D.corpId;w.pickedUsers=D.pickedUsers;var B=u;u.complexPicker(w,function(I){I=I.users;var H="";$.each(I,function(K,J){H+=J.emplId+";"});var F=dojoConfig.baseUrl;var E=F+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=addScenegroupMember";var G={fdId:w.fdId,modelName:w.modelName,fdKey:w.fdKey,users:H};h.post(E,{data:G,handleAs:"json",sync:true}).then(function(K){var J=K.result;if(J==true){s.success({text:"场景群加人成功"});z&&z({data:K})}else{s.fail({text:K.errorMsg})}},function(J){s.fail({text:"调用addScenegroupMember接口失败"});return})})}else{s.fail({text:C.errorMsg});return}}else{alert(JSON.stringify(C));return}},function(A){alert(JSON.stringify(data_res));s.fail({text:"调用thirdDingScenegroupMapp接口失败"});return})},delScenegroupMember:function(w,z){var x=dojoConfig.baseUrl;var u=this;var v=x+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=getScenegroupInfo";var y={fdId:w.fdId,modelName:w.modelName,fdKey:w.fdKey,personIds:w.personIds};h.post(v,{data:y,handleAs:"json",sync:true}).then(function(C){if(C!=null){var A=C.result;if(A==true){var D=C.data;w.appId=D.appId;w.corpId=D.corpId;w.pickedUsers=D.pickedUsers;var B=u;u.complexPicker(w,function(I){I=I.users;var H="";$.each(I,function(K,J){H+=J.emplId+";"});var F=dojoConfig.baseUrl;var E=F+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=delScenegroupMember";var G={fdId:w.fdId,modelName:w.modelName,fdKey:w.fdKey,users:H};h.post(E,{data:G,handleAs:"json",sync:true}).then(function(K){var J=K.result;if(J==true){s.success({text:"场景群删人成功"});z&&z({data:K})}else{s.fail({text:K.errorMsg})}},function(J){s.fail({text:"调用delScenegroupMember接口失败"});return})})}else{s.fail({text:C.errorMsg});return}}else{alert(JSON.stringify(C));return}},function(A){alert(JSON.stringify(data_res));s.fail({text:"调用thirdDingScenegroupMapp接口失败"});return})},createGroup:function(u,v){this.ready(function(){t.biz.contact.createGroup({corpId:u.corpId,users:u.emplIds,onSuccess:function(w){v&&v({groupID:w.id})},onFail:function(w){s.fail({text:w.errorMessage})}})})},openGroup:function(u){this.ready(function(){t.biz.chat.toConversation({corpId:u.corpId,chatId:u.chatId,onSuccess:function(){},onFail:function(){}})})},chooseConversationByCorpId:function(u,v){this.ready(function(){t.biz.chat.chooseConversationByCorpId({corpId:u,onSuccess:function(){v&&v({chatId:result.chatId})},onFail:function(){}})})},startRecord:function(){this.ready(function(){t.device.audio.startRecord({onSuccess:function(){},onFail:function(u){s.fail({text:u.errorMessage})}})})},stopRecord:function(){this.ready(function(){t.device.audio.stopRecord({onSuccess:function(u){download(u.mediaId)},onFail:function(u){s.fail({text:u.errorMessage})}})})},audioDownload:function(u){this.ready(function(){t.device.audio.download({mediaId:u,onSuccess:function(v){v.localAudioId},onFail:function(v){s.fail({text:v.errorMessage})}})})},play:function(u){this.ready(function(){t.device.audio.play({localAudioId:u,onSuccess:function(){},onFail:function(v){s.fail({text:v.errorMessage})}})})},createDing:function(u){this.ready(function(){t.biz.ding.create(u)})},call:function(v,u){this.ready(function(){t.biz.telephone.call({users:v,corpId:u,onSuccess:function(){},onFail:function(){}})})},getCurrentCoord:function(w,v,u){this.ready(function(){t.device.geolocation.get({targetAccuracy:200,coordinate:1,withReGeocode:false,useCache:false,onSuccess:function(y){var x={lat:y.latitude,lng:y.longitude,coordType:5};w&&w(x)},onFail:function(x){if(window.console){window.console.log(x)}s.tip({icon:"mui mui-warn",text:"钉钉地理定位失败"});v&&v(x)}})},function(){if(window.console){window.console.log("调用钉钉坐标定位接口授权失败")}this["$super$getCurrentCoord"]&&this["$super$getCurrentCoord"].call(this,w,v)})},getCurrentPosition:function(w,v,u){u=u||{};this.ready(function(){this.getCurrentCoord(function(x){a.getMapLocation(d.mixin(x,u),w,v)},v,u)},function(){if(window.console){window.console.log("调用钉钉定位接口失败")}this["$super$getCurrentPosition"]&&this["$super$getCurrentPosition"].call(this,w,v)})},editOffice:function(u,x){var w=this.uploadOffice;try{t._invoke("exclusive.sdk.invoke",{bundle_id:"landray-officesdk",api:"office.edit",request_params:{downloadUri:u.downloadUri,fileId:u.fileId,fileName:u.fileName,wpsSerNum:u.wpsSerNum},onSuccess:function(y){var z={};z.uploadUri=u.uploadUri;z.fileId=u.fileId;w(z,x)},onFail:function(y){console.log(y);x&&x.call(false,y)}}).then(function(){console.log("done")})}catch(v){console.log("editOffice调用失败,"+JSON.stringify(v));x&&x.call(false,v)}},uploadOffice:function(u,w){try{t._invoke("exclusive.sdk.invoke",{bundle_id:"landray-officesdk",api:"office.upload",request_params:{uploadUri:u.uploadUri,uploadMethod:"post",fileId:u.fileId,uploadConfig:{fileStreamKey:"file",fileSizeKey:"fileSize"}},onSuccess:function(x){w&&w.call(true,x)},onFail:function(x){console.log(JSON.stringify(x));w&&w.call(false,x)}}).then(function(){console.log("done")})}catch(v){console.log("uploadOffice调用失败,"+JSON.stringify(v));w&&w.call(false,v)}},viewOffice:function(u,w){try{t._invoke("exclusive.sdk.invoke",{bundle_id:"landray-officesdk",api:"office.view",request_params:{downloadUri:u.downloadUri,fileId:u.fileId,fileName:u.fileName},onSuccess:function(x){alert(JSON.stringify(x))},onFail:function(x){console.log(JSON.stringify(x))}}).then(function(){console.log("done")})}catch(v){console.log("viewOffice调用失败,"+JSON.stringify(v));w&&w.call(false,v)}}};(function(){var y=b.getClientType();if(y!=11){return}if(!t){return}var x=dojoConfig.baseUrl;var w=location.href;var z=function(){var A=navigator.userAgent.toLowerCase();if(A.indexOf("android")>-1){return true}return false};if(z()&&window.oldLocaHrefUrl){console.log("取window.oldLocaHrefUrl的值：",window.oldLocaHrefUrl);w=window.oldLocaHrefUrl}option={data:{url:w},handleAs:"json"};console.log("queryUrl:"+w);var u=dojoConfig.baseUrl+"sys/mobile/adapter.do?method=getDingPrefix",v={data:{url:location.href},handleAs:"json"};h.post(u,v).response.then(function(A){var B=A.data;x=x+B.url+"/jsapi.do?method=jsapiSignature";h.post(x,option).response.then(function(D){var C=D.data;if(C){t.config({appId:C.appId,agentId:C.appId,corpId:C.corpId,timeStamp:C.timeStamp,nonceStr:C.nonceStr,signature:C.signature,jsApiList:["biz.chat.openSingleChat","biz.util.open","biz.util.openLink","biz.map.locate","biz.map.view","device.connection.getNetworkType","device.base.getInterface","device.base.getUUID","biz.contact.complexPicker","biz.contact.createGroup","biz.chat.toConversation","biz.chat.chooseConversationByCorpId","device.audio.startRecord","device.audio.stopRecord","device.audio.download","device.audio.play","biz.ding.create","biz.telephone.call","device.geolocation.get","biz.chat.pickConversation","biz.navigation.quit","biz.navigation.setTitle","biz.cspace.saveFile","biz.util.uploadAttachment","biz.util.downloadFile"]});t.ready(function(){m=true;k.publish("/third/ding/ready")});t.error(function(F){console.log(F);var G=JSON.stringify(F.errorMessage);var I=G.indexOf("url:[");var E=G.indexOf("],ticketList:");var H=G.substring(I+5,E);console.log("error_url:"+H);console.log("location.href:"+location.href);if(H!=""){option={data:{url:H},handleAs:"json"};h.post(x,option).response.then(function(K){var J=K.data;if(J){t.config({appId:J.appId,agentId:J.appId,corpId:J.corpId,timeStamp:J.timeStamp,nonceStr:J.nonceStr,signature:J.signature,jsApiList:["biz.chat.openSingleChat","biz.util.open","biz.util.openLink","biz.map.locate","biz.map.view","device.connection.getNetworkType","device.base.getInterface","device.base.getUUID","biz.contact.complexPicker","biz.contact.createGroup","biz.chat.toConversation","biz.chat.chooseConversationByCorpId","device.audio.startRecord","device.audio.stopRecord","device.audio.download","device.audio.play","biz.ding.create","biz.telephone.call","device.geolocation.get","biz.chat.pickConversation","biz.navigation.quit","biz.navigation.setTitle","biz.cspace.saveFile","biz.util.uploadAttachment","biz.util.downloadFile"]});t.ready(function(){m=true;k.publish("/third/ding/ready");console.log("二次尝试鉴权ready成功")});t.error(function(L){o=true;k.publish("/third/ding/readyfail");console.log("error",L);console.log("signInfo",J)})}else{o=true;k.publish("/third/ding/readyfail");console.log("signInfo empty(ding)")}},function(){o=true;k.publish("/third/ding/readyfail");console.log(JSON.stringify(arguments))})}else{o=true;k.publish("/third/ding/readyfail")}})}else{t.ready(function(){console.log("dd.ready")});o=true;k.publish("/third/ding/readyfail");console.log("signInfo empty(ding)")}},function(){o=true;k.publish("/third/ding/readyfail");console.log(JSON.stringify(arguments))})},function(A){console.log("请求失败！"+A)})})();return q})},"sys/mobile/js/mui/property/FilterContainer":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/_WidgetBase","dojo/dom-construct","mui/util","mui/history/listener"],function(d,g,e,b,a,f){return d("mui.property.FilterContainer",[e],{commonQuery:"",baseClass:"muiHeaderItem muiHeaderItemIcon",icon:"fontmuis muis-filter",buildRendering:function(){this.inherited(arguments);this.labelNode=b.create("div",{className:"muiHeaderItemLable",innerHTML:a.formatText(this.label)},this.domNode);b.create("i",{className:this.icon},this.labelNode);this.connect(this.domNode,"onclick","openDialog")},openDialog:function(){var h=this;f.push({forwardCallback:function(){h.show()},backCallback:function(){h.hide()}})},getStaticFilters:function(){var h="";if(this.commonQuery&&this.commonQuery.length>0){var k=[];g.forEach(this.commonQuery,function(m,l){k.push({name:m.text,value:m.dataURL})});h+='<div data-dojo-type=\'mui/property/filter/FilterRadio\' data-dojo-props=\'subject:"常用筛选",name:"_common",options:'+JSON.stringify(k)+"'></div>"}if(this.filters&&this.filters.length>0){g.forEach(this.filters,function(m,l){if(!m.filterType){return}h+="<div data-dojo-type='mui/property/filter/"+m.filterType+"' data-dojo-props='_props:"+JSON.stringify(m)+"'></div>"})}return h}})})},"sys/mobile/js/mui/datetime/SpinWheelDatePicker7":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","mui/datetime/_DatePickerMixin7","dojox/mobile/SpinWheel","dojox/mobile/SpinWheelSlot"],function(g,b,e,d,f,a){return b("mui.datetime.SpinWheelDatePicker7",[f,d],{slotClasses:[a,a,a],slotProps:[{labelFrom:1970,labelTo:2038},{},{}],buildRendering:function(){this.initSlots();this.inherited(arguments);e.add(this.domNode,"mblSpinWheelDatePicker");$(".mblSpinWheelSlot").eq(2).hide();this._conn=[this.connect(this.slots[0],"onFlickAnimationEnd","_onYearSet"),this.connect(this.slots[1],"onFlickAnimationEnd","_onMonthSet"),this.connect(this.slots[2],"onFlickAnimationEnd","_onDaySet")]},disableValues:function(h){g.forEach(this.slots[2].panelNodes,function(k){for(var l=27;l<31;l++){e.toggle(k.childNodes[l],"mblSpinWheelSlotLabelGray",l>=h)}})}})})},"sys/mobile/js/mui/category/CategoryItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/topic","dojox/mobile/_ItemBase","mui/util","mui/history/listener","mui/iconUtils"],function(e,d,h,f,k,g,a,b){var l=e("mui.category.CategoryItemMixin",[k],{fdId:"",label:"",icon:"",type:null,header:"false",tag:"li",key:null,buildRendering:function(){this._templated=!!this.templateString;var n=this.domNode==null&&this.containerNode==null&&this.srcNodeRef==null;if(!this._templated&&n){this.domNode=this.containerNode=this.srcNodeRef||d.create(this.tag,{className:"muiCateItem fadeIn animated"});var m="muiCateInfoItem";if(this.header=="true"){m=" muiGroupItem"}this.contentNode=d.create("div",{className:m},this.domNode)}this.inherited(arguments);if(!this._templated){this._buildItemBase()}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/cancelSelected","_cancelSelected");this.subscribe("/mui/category/setSelected","_setSelected");this.subscribe("/mui/category/commonSelected","commonSelected");this.subscribe("/mui/category/commonUnSelected","commonUnSelected")},_buildItemBase:function(){this.cateContainer=d.create("div",{className:"muiCateContainer"},this.contentNode);if(this.header!="true"){this.iconNode=d.create("div",{className:"muiCateIcon"},this.cateContainer);this.buildIcon(this.iconNode);if(this.fdIsAvailable===false){this.availableNode=d.create("div",{className:"muiAddressIsAvailableFalse"},this.iconNode)}this.infoNode=d.create("div",{className:"muiCateInfo"},this.cateContainer);this.titleNode=d.create("div",{className:"muiCateName",innerHTML:g.formatText(this.label)},this.infoNode);this.connect(this.iconNode,"click","_selectCate");this.connect(this.infoNode,"click","_selectCate")}else{this.titleNode=d.create("div",{className:"muiCateName muiCateTitle",innerHTML:this.getTitle()},this.cateContainer)}this.moreArea=d.create("div",{className:"muiCateMore"},this.cateContainer)},startup:function(){if(this._started){return}this.inherited(arguments);var m=this.getParent();this.key=m.key;if(this.header!="true"){if(m.showMore&&this.showMore()){if(this.moreArea.childElementCount==0){d.create("i",{className:"mui mui-forward"},this.moreArea)}this.connect(this.moreArea,"click","_openCate")}else{d.destroy(this.moreArea)}if(m.selType!=null){if(this.showSelect()){this.selectArea=d.create("div",{className:"muiCateSelArea"},this.cateContainer,"first");this.selectNode=d.create("div",{className:"muiCateSel"},this.selectArea);var n=this.getParent();if(n.isMul){h.add(this.selectNode,"muiCateSelMul")}if(this.isSelected()){this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);h.add(this.selectNode,"muiCateSeled")}h.add(this.domNode,"muiCateHasSel");this.connect(this.selectArea,"click","_selectCate")}}}else{f.publish("/mui/category/addNav",this,{label:this.label})}},_openCate:function(m){m&&m.stopPropagation();f.publish("/mui/category/changed",this,{fdId:this.fdId,label:this.label});return},_cancelSelectedTrigger:function(m){f.publish("/mui/category/unselected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type});f.publish("/mui/category/cate_unselected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})},_cancelSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){window._curIds="-";if(this.checkedIcon){h.remove(this.selectNode,"muiCateSeled");d.destroy(this.checkedIcon);this.checkedIcon=null;this._cancelSelectedTrigger(m)}}}}},commonUnSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){if(this.checkedIcon){h.remove(this.selectNode,"muiCateSeled");d.destroy(this.checkedIcon);this.checkedIcon=null}}}}},commonSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){h.add(this.selectNode,"muiCateSeled");if(!this.checkedIcon){this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode)}}}}},_setSelectedTrigger:function(){f.publish("/mui/category/selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type});f.publish("/mui/category/cate_selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})},_setSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){window._curIds=this.fdId;if(this.checkedIcon){d.destroy(this.checkedIcon);this.checkedIcon=null}if(!this.selectNode){return}if(!h.contains(this.selectNode,"muiCateSeled")){h.add(this.selectNode,"muiCateSeled")}this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);this._setSelectedTrigger(m)}}}},startTime:0,_toggleSelect:function(m){if(m){this._setSelected(this,this)}else{this._cancelSelected(this,this)}},_selectCate:function(m){if(m){if(m.stopPropagation){m.stopPropagation()}if(m.cancelBubble){m.cancelBubble=true}if(m.preventDefault){m.preventDefault()}if(m.returnValue){m.returnValue=false}}var o=new Date().getTime();var p=this.ctime;if((p!="undefined"&&(o-p<500))||this.selectCateCalling){return false}else{this.ctime=new Date().getTime();this.selectCateCalling=true;if(this.selectNode){if(this.checkedIcon!=null){this._toggleSelect(false)}else{this._toggleSelect(true)}}else{var n=this.getParent();if(this.showMore()&&n.showMore){this._openCate()}else{this.showItemDetail()}}this.ctime=new Date().getTime();this.selectCateCalling=false;return true}},getTitle:function(){return this.label},showMore:function(){return true},showSelect:function(){return true},isSelected:function(){return true},showItemDetail:function(){},buildIcon:function(m){if(this.icon){b.setIcon(this.icon,null,this._headerIcon,null,m)}},_setLabelAttr:function(m){if(m){this._set("label",m)}}});return l})},"sys/mobile/js/mui/pageLoading":function(){define(["dojo/dom","dojo/request/notify","dojo/dom-class","dojo/dom-style"],function(h,d,g,b){var e=false;var k=false;var f=0;var a=function(){if(k&&0<=f){setTimeout(function(){var l=h.byId("pageLoading");if(l){b.set(l,"display","none");e=true}},11)}};d("start",function(){if(e){return}f++});d("stop",function(){if(e){return}f--;a()});return{hide:function(){k=true;a()},isHide:function(){return e},opcity:function(){opcity()}}})},"sys/mobile/js/mui/category/CommonCategoryList":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/util","mui/list/JsonStoreList","mui/category/CategoryAllSelectMixin"],function(d,b,a,f,e){return d("mui.category.CommonCategoryList",[f,e],{dataUrl:"",parentId:null,selType:null,curIds:null,curNames:null,isMul:false,baseClass:"muiCateLists",key:null,buildRendering:function(){this.url=a.urlResolver(this.dataUrl,this);this.inherited(arguments);this.domNode.className=this.baseClass;this.subscribe("/mui/category/selChanged","_setCurSel");this.buildLoading()},_setCurSel:function(h,g){if(h.key==this.key){if(g){this.curIds=g.curIds;this.curNames=g.curNames}}},startup:function(){this.inherited(arguments)},buildLoading:function(){if(this.tmpLoading==null){b.empty(this.domNode);this.tmpLoading=b.create("li",{className:"muiCateLoading",innerHTML:'<i class="mui mui-loading mui-spin"></i>'},this.domNode)}},onComplete:function(){if(this.tmpLoading){b.destroy(this.tmpLoading);this.tmpLoading=null}this.inherited(arguments)}})})},"sys/mobile/js/mui/form/Editor":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-class","mui/util","dojo/_base/array","dojo/topic","dojo/touch","mui/form/editor/EditorPluginMixin","dojo/text!./editor/tmpl/layout.html","dojo/html","dojo/_base/lang","dojo/query","dojo/Deferred","dojo/dom-style","dojo/dom-attr","dijit/registry","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(u,q,e,k,b,g,p,f,m,t,l,v,d,a,o,s,h,n){return u("mui.form.Editor",[q,m],{edit:true,name:null,options:{},baseClass:"muiEditor",showStatus:"edit",layout:t,EVENT_VALUE_CHANGED:"/mui/form/valueChanged",fdMulti:true,tipMsg:n["mui.form.please.input"],orient:"none",startup:function(){this.inherited(arguments);this.subscribe(this.EVENT_VALUE_CHANGED,"_onValueChange")},buildRendering:function(){if(this.orient=="vertical"){this.baseClass="newMui "+this.baseClass}else{this.baseClass="oldMui "+this.baseClass}this.formatContent=[];this.saveContentHandler=[];this.inherited(arguments);k.add(this.domNode,this.baseClass);this.edit=this.showStatus!="view";this._buildValue();this.synValue()},synValue:function(){if(typeof(Com_Parameter)=="undefined"){return}var w=this;Com_Parameter.event.submit.push(function(){w._synValue();return true})},format:function(){var x=this._format();for(var w=0;w<this.saveContentHandler.length;w++){x=this.saveContentHandler[w](x,this)}return b.base64Encode(x)},_format:function(){if(this.__textNode){var x=this.__textNode.innerHTML;for(var w=0;w<this.formatContent.length;w++){x=this.formatContent[w](x)}return x}return""},_synValue:function(){this.valueNode.value=this.format()},_buildValue:function(){this.inherited(arguments);var x="build"+b.capitalize(this.showStatus);this[x]?this[x]():"";var w=this.showStatus+"ValueSet";this.showStatusSet=this[w]?this[w]:new Function()},buildEdit:function(){this.editorDeferred=new a();var z="";if(!this.placeholder){this.placeholder=this.tipMsg+(this.subject?this.subject:"")}z=this.placeholder;this.editorNode=e.create("div",{className:"muiEditorContainer"},this.domNode);this.inherited(arguments);var y=this;var x=new l._ContentSetter({parseContent:true,cleanContent:true,node:this.editorNode,onBegin:function(){if(y.name){y.options.name=y.name}this.content=v.replace(this.content,y.options);this.inherited("onBegin",arguments)}});if(this.layout){x.set(this.layout)}else{x.set(t)}var w=this;x.parseDeferred.then(v.hitch(this,function(A){this.pluginNode=d(".muiEditorPlugin",this.editorNode)[0];this.titleNode=d(".muiEditorTitle",this.editorNode)[0];if(w.subject){this.titleNode.innerHTML=w.subject}this.textContainerNode=d(".muiEditorTextContainer",this.editorNode)[0];this.__textNode=d("div.muiEditorTextarea",this.textContainerNode)[0];if(this.placeholder&&!this.value){s.set(this.__textNode,"placeholder",z)}this.connect(this.__textNode,"blur","onBlur");this.connect(this.__textNode,"input","onInput");this.valueNode=d("textarea.muiEditorTextarea",this.textContainerNode)[0];this.editorDeferred.resolve()}));x.tearDown()},placeholder:null,onInput:function(w){this.publishValueChange();this.resizeContentEditableHeight();var y=h.byId("mui_form_editor_plugins_face_Plugin_0");if(y){if(y._isShow){y.hide()}}var x=w.target;if(x.innerHTML){k.add(this.domNode,"showTitle")}else{k.remove(this.domNode,"showTitle")}},resizeContentEditableHeight:function(){var w=180;if(this.valueNode){w=this.valueNode.offsetHeight}if(w<=0&&this.__textNode.value!=""){w=this.__textNode.scrollHeight}if(w<=180){w=180}o.set(this.__textNode,{height:w+"px"})},onBlur:function(x){var z=document.getSelection();var y=null;try{y=z.getRangeAt(0)}catch(A){}var B=y.endOffset,w=y.endContainer;if(w.nodeType===3){this.isText=true}else{this.isText=false}this.__pos=B;this.__container=w},insertElement:function(x){var z=this.__container;if(!z){e.place(x,this.__textNode,"last")}else{var y=this.__pos;if(this.isText){z.splitText(y);z.parentNode.insertBefore(x,z.nextSibling)}else{z.insertBefore(x,z.childNodes[y])}}this.publishValueChange();var w=this.__textNode.innerHTML;if(w.indexOf("<br>")==0){this.__textNode.innerHTML=w.replace("<br>","")}},_getValueAttr:function(){return this.__textNode.innerHTML},publishValueChange:function(){p.publish(this.EVENT_VALUE_CHANGED,this,{value:this._format()})},_setValueAttr:function(w){this._set("value",w);if(this.showStatusSet){this.showStatusSet(w)}this.publishValueChange()},viewValueSet:function(w){this.editValueSet(w)},editValueSet:function(w){if(this.valueNode){this.valueNode.value=w}if(this.__textNode){this.__textNode.innerHTML=w}},readOnlyValueSet:function(w){this.editValueSet(w)},hiddenValueSet:function(w){if(this.valueNode){this.valueNode.value=w}},_onValueChange:function(){}})})},"sys/mobile/js/mui/address/AddressChannelMixin":function(){define(["dojo/_base/declare"],function(a){return a("mui.address.AddressChannelMixin",null,{channel:null,isSameChannel:function(b){if(b&&b.channel){return this.channel==b.channel}return false}})})},"sys/mobile/js/mui/person/PersonDetailJsonStoreList":function(){define(["dojo/_base/declare","mui/list/JsonStoreList","dojo/_base/lang"],function(a,b,d){return a("mui.person.PersonDetailJsonStoreList",[b],{formatDatas:function(e){var f=[];if(e.length>0){var g=e[0];if(g instanceof Array){f=this.inherited(arguments)}else{f=e}}return f},buildQuery:function(){return d.mixin({},{pageno:this.pageno,rowsize:this.rowsize,personId:this.personId})}})})},"sys/mobile/js/mui/form/_AlignMixin":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/registry","dojo/_base/query"],function(b,d,a,e){return b("mui.form._AlignMixin",null,{alignClass:"muiFormAlign",buildRendering:function(){this.inherited(arguments);if(!this.isForm){this.containerAlign()}else{this.formAlign()}},getAlign:function(){return"edit"==this.showStatus?"right":"left"},containerAlign:function(){d.add(this.domNode,this.alignClass)},formAlign:function(){var f=e(this.domNode).parents("."+this.alignClass);if(f.length==0){return}this.align=this.getAlign()}})})},"sys/mobile/js/mui/list/item/TextItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dojox/mobile/_ItemBase","dojox/mobile/iconUtils","mui/util","./_ListLinkItemMixin","mui/list/item/DocStatusMixin","mui/list/item/TopMixin","mui/list/item/IntroduceMixin"],function(f,d,n,k,m,o,b,h,l,e,a,g){var p=f("mui.list.item.TextItemMixin",[o,l,g,a,e],{label:"",summary:"",status:"",tagClass:"muiTextItemTag",isTop:"",isIntroduce:"",created:"",creator:"",tag:"li",buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||d.create(this.tag,{className:"muiTextItem muiListItemCard"});this.contentNode=d.create("div",{})}this.inherited(arguments);if(!this._templated){this.buildInternalRender()}if(this.contentNode){d.place(this.contentNode,this.domNode)}},buildLabel:function(){if(this.label){this.muiTextItemTitle=d.create("div",{className:"muiTextItemTitle muiFontSizeM"},this.domNode);this.buildTag(this.muiTextItemTitle);this.muiTextItemTitle.innerHTML=this.muiTextItemTitle.innerHTML+this.label}},buildSummary:function(){if(this.summary){d.create("div",{className:"muiTextItemSummary",innerHTML:this.summary},this.domNode)}},buildMessage:function(){this.messageDomNode=d.create("ul",{className:"muiTextItemInfo"});this.buildCreator();this.buildCreated();if(this.buildMessage){d.place(this.messageDomNode,this.domNode,"last")}},buildCreator:function(){if(this.creator){d.create("li",{innerHTML:this.creator},this.messageDomNode);this.buildMessage=true}},buildCreated:function(){if(this.created){d.create("li",{innerHTML:this.created},this.messageDomNode);this.buildMessage=true}},buildInternalRender:function(){if(this.href){this.makeLinkNode(this.domNode)}this.buildLabel();this.buildSummary();this.buildMessage()},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(q){if(q){this._set("label",q)}}});return p})},"sys/mobile/js/mui/syscategory/syscategory_common":function(){define(["mui/util"],function(a){function b(h){var f=a.getUrlParameter(h,"showCommonCate");var d=a.getUrlParameter(h,"mainModelName");var g=a.getUrlParameter(h,"fdTmepKey");var e="<div data-dojo-type=\"mui/header/Header\"><div data-dojo-type=\"mui/category/CategorySearchBar\" data-dojo-props=\"modelName:'{categroy.modelName}',getTemplate:'{categroy.getTemplate}',authType:' {categroy.authType}',needPrompt:false,height:'5rem',key:'{categroy.key}'\"> </div></div>";e+='<div id="defaultView_{categroy.key}" data-dojo-type="dojox/mobile/View" >';if("true"==f&&d){e+='<div data-dojo-type="mui/header/Header" class="muiHeaderNav"><div data-dojo-type="mui/nav/StaticNavBar" data-dojo-mixins="mui/category/CommonCateMixin"data-dojo-props="key:\'{categroy.key}\'"> </div></div><div id="commonCateView_{categroy.key}" class="muiFavoriteContainer"data-dojo-type="dojox/mobile/ScrollableView" data-dojo-mixins="mui/category/AppBarsMixin" data-dojo-props="scrollBar:false,threshold:100,key:\'{categroy.key}\'"> <ul data-dojo-type="mui/syscategory/SysCommonCategoryList" data-dojo-mixins="mui/syscategory/SysCommonCategoryItemListMixin" data-dojo-props="lazy:false,isMul:{categroy.isMul},key:\'{categroy.key}\',curIds:\'{categroy.curIds}\',curNames:\' {categroy.curNames}\',selType:{categroy.type},modelName:\'{categroy.modelName}\',mainModelName:\'{categroy.mainModelName}\'"></ul></div>'}e+="<div data-dojo-type=\"mui/syscategory/SwapSysCategoryList\" id=\"allCateView_{categroy.key}\" data-dojo-props=\"_dataUrl:'{categroy._dataUrl}',isOnlyShowCate:{categroy.isOnlyShowCate},isMul:{categroy.isMul},key:'{categroy.key}',fdTempKey:'"+g+"',curIds:'{categroy.curIds}',curNames:'{categroy.curNames}',selType:{categroy.type},modelName:'{categroy.modelName}',getTemplate:'{categroy.getTemplate}',confirm:{categroy.confirm},showType:'{categroy.showType}',authType:'{categroy.authType}'\" ><div data-dojo-type=\"mui/syscategory/SysCategoryPath\" data-dojo-props=\"key:'{categroy.key}',height:'4rem',modelName:'{categroy.modelName}'\"></div></div>";e+="</div>";e+="<div id=\"searchView_{categroy.key}\" class=\"muiCateSearchPanel\" data-dojo-type=\"dojox/mobile/ScrollableView\" data-dojo-props=\"scrollBar:false,threshold:100,key:'{categroy.key}'\"><ul data-dojo-type=\"mui/syscategory/SysCategoryList\" data-dojo-mixins=\"mui/syscategory/SysCategoryItemListMixin,mui/syscategory/SysCategorySearchListMixin\" data-dojo-props=\"lazy:true,isOnlyReturnCate:{categroy.isOnlyShowCate},isMul:{categroy.isMul},key:'{categroy.key}',selType:{categroy.type},fdTempKey:'{categroy.fdTempKey}',getTemplate:'{categroy.getTemplate}',modelName:'{categroy.modelName}',showType:'{categroy/showType}',authType:'{categroy.authType}',confirm:{categroy.confirm}\" ></ul></div>";return e}return{html:b}})},"sys/mobile/js/mui/list/iframe/Iframe":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/registry","dojox/mobile/viewRegistry","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/touch","mui/util","./_IframePushAppendMixin","resource/js/domain"],function(e,k,a,n,b,g,l,d,f,m){var h=e("mui.list.iframe.Iframe",[k,m],{url:"",lazy:true,_setUrlAttr:function(o){this.url=f.formatUrl(o)},startup:function(){if(this._started){return}this.inherited(arguments);if(!this.lazy){this.doLoad()}},doLoad:function(s,o){var q=this;if(this.busy){return}this.busy=true;if(this.append&&this._loadOver){this.busy=false;return}if(!this.iframeNode){var t=this.url;t=f.setUrlParameter(t,"LUIID",this.id);var p=this.iframeNode=b.create("iframe",{src:t,scrolling:"no"},this.domNode,"first");g.set(p,{border:"0",width:"100%","-webkit-overflow-scrolling":"touch"});p.onload=function(){q.busy=false}}},reload:function(o){this.doLoad(o,false)}});return h})},"sys/mobile/js/mui/commondialog/template/DialogItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/commondialog/template/DialogItemMixin"],function(b,a,d){return b("mui.commondialog.template.DialogItemListMixin",[a],{itemRenderer:d})})},"sys/mobile/js/mui/dialog/Confirm":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/dialog/Dialog","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(d,b,a,e){return function(n,o,p,l,f,g){var q=o?o:e["mui.dialog.tips"];var h=n?n:"";var m=null;if(n!=""){m=b.create("div",{className:"muiConfirmDialogElement",innerHTML:"<div>"+h+"</div>"})}else{m=b.create("div",{className:"muiConfirmDialogNoElement"})}var k=l===true?true:false;g=g||{};var s={title:q,showClass:"muiConfirmDialogShow",element:m,closeOnClickDomNode:false,scrollable:false,parseable:false,iconClose:k,callback:f||null,buttons:[{title:g.cancelTitle||e["mui.search.cancel"],fn:function(t){if(g.cancelValidator&&Object.prototype.toString.call(g.cancelValidator)=="[object Function]"&&!g.cancelValidator(t)){return}t.hide();if(p){p(false,t)}}},{title:g.checkTitle||e["mui.button.ok"],fn:function(t){if(g.checkValidator&&Object.prototype.toString.call(g.checkValidator)=="[object Function]"&&!g.checkValidator(t)){return}t.hide();if(p){p(true,t)}}}]};return a.element(s)}})},"sys/mobile/js/mui/fixed/FixedItem":function(){define("mui/fixed/FixedItem",["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container"],function(d,e,b,a){return d("mui.fixed.FixedItem",[e,b,a],{showNav:function(){},hideNav:function(){}})})},"sys/mobile/js/mui/tabfilter/TabfilterSelection":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/array","dojox/mobile/ScrollableView","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/topic","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-geometry"],function(g,f,m,n,e,d,l,o,k,h,b,a){var p=g("mui.tabfilter.TabfilterSelection",[f],{values:"",texts:"",splitStr:";",baseClass:"muiTabfilterSec",itemSelArr:[],itemPrefix:"_tabfilter_s_item_",buildRendering:function(){this.inherited(arguments);this.itemSelArr=[];this.containerNode=d.create("div",{className:"muiTabfilterSecContainer"},this.domNode);this.view=new n({scrollBar:false,threshold:100,scrollDir:"h",dirLock:true,height:"inherit"});this.containerNode.appendChild(this.view.domNode)},postCreate:function(){this.subscribe("/mui/tabfilter/item/select","_addSelItme");this.subscribe("/mui/tabfilter/item/unselect","_delSelItem");this.subscribe("/mui/tabfilter/ok","_submitSelect")},startup:function(){if(this._started){return}this.inherited(arguments);this.view.startup();this._initSelection()},destroy:function(){this.inherited(arguments);if(this.view.destroy){this.view.destroy();delete this.view}},_initSelection:function(){if(this.values){if(this.values==this.texts){var q=this.values.split(/[\s+;,]/);for(var s=0;s<q.length;s++){this._addSelItme(null,{text:h.formatText(q[s]),value:h.formatText(q[s])})}}}},_buildSelItem:function(q){var s=d.create("div",{className:"muiTabfilterSecItem",innerHTML:q.text,id:this.itemPrefix+q.value});this.connect(s,"click",function(t){this._delSelItem(null,q);k.publish("/mui/tabfilter/item/unselect",this,q)});return s},_addSelItme:function(u,q){if(u===this){return}if(q){this.itemSelArr.push(q);var s=this;var t=this._buildSelItem(q);if(!this.itemContainer){this.itemContainer=d.create("div",{className:"muiTabfilterSecItems"},this.view.containerNode)}this.itemContainer.appendChild(t)}this._resizeSelection("add")},_delSelItem:function(t,q){if(t===this){return}for(var s=0;s<this.itemSelArr.length;s++){if(this.itemSelArr[s].value==q.value){this.itemSelArr.splice(s,1);d.destroy(e.byId(this.itemPrefix+q.value));break}}this._resizeSelection("delete")},_resizeSelection:function(v){var u=0.1;if(this.itemContainer){var s=this.itemSelArr.length;if(s>0){var q=0;m.forEach(this.itemContainer.children,function(w){var x=a.getMarginBox(w).w;q+=x});var t=this.view.domNode.offsetWidth;if(q>t){u=-(q-t+10)}}}if(this.view.resize){this.view.resize()}if(this.view.scrollTo){this.view.scrollTo({y:0,x:u})}k.publish("/mui/tabfilter/selChanged"+(v?("/"+v):""),this,this._calcCurSel())},_submitSelect:function(){k.publish("/mui/tabfilter/submit",this,this._calcCurSel())},_calcCurSel:function(){var s={values:"",texts:""};var q=this;if(this.itemSelArr.length>0){var t="";var u="";m.forEach(this.itemSelArr,function(v){t+=q.splitStr+v.value;u+=q.splitStr+v.text});if(t!=""){t=t.substring(1);u=u.substring(1);s.values=t;s.texts=u}}return s}});return p})},"sys/mobile/js/mui/panel/AccordionPanelMixin":function(){define("mui/panel/AccordionPanelMixin",["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/dom-construct","mui/panel/Content"],function(f,g,e,b,a,d){return f("mui.panel.AccordionPanelMixin",[g,e,b],{startup:function(){if(this._started){return}this.buildContent();this.inherited(arguments)},titleList:[],contentList:[],containDom:function(l){var k=this.getChildren();for(var h=0;h<k.length;h++){if(k[h].domNode==l){return k[h]}}return null},buildContent:function(){var s=[];for(var l=0;l<this.domNode.childNodes.length;l++){s.push(this.domNode.childNodes[l])}for(var m=0;m<s.length;m++){var o=this.containDom(s[m]);if(o){if(o instanceof d){var h=a.create("div",{className:"muiAccordionPanelContainer"},this.domNode);var q=a.create("div",{className:"muiAccordionPanelTitle"},h);this.titleList.push(q);var n=o;this.contentList.push({claz:n});var p="";if(n.icon){if(n.icon.indexOf("muis-")==0){p='<span class="fontmuis '+n.icon+'"></span>'}else{p='<span class="mui '+n.icon+'"></span>'}}var k=n.title;if(k){q.innerHTML=p+"<div>"+k+"</div>"}a.place(n.domNode,h)}}else{a.place(s[m],this.domNode)}}}})})},"sys/mobile/js/mui/property/filter/FilterCheckBox":function(){define(["dojo/_base/declare","mui/property/filter/FilterRadio"],function(a,b){return a("mui.property.FilterCheckBox",[b],{multi:true})})},"sys/mobile/js/mui/simplecategory/SimpleCategoryMixin":function(){define(["dojo/_base/declare"],function(b){window.SIMPLE_CATEGORY_TYPE_CATEGORY=0;var a=b("mui.simplecategory.SimpleCategoryMixin",null,{type:window.SIMPLE_CATEGORY_TYPE_CATEGORY,parentId:"",confirm:!this.isMul,modelName:null,isMul:false,___urlParam:"",detailUrl:"/sys/category/mobile/sysSimpleCategory.do?method=detailList&cateId=!{currentId}&modelName=!{modelName}",jsURL:"/sys/mobile/js/mui/simplecategory/simplecategory_sgl.js!modelName=!{modelName}&extendPara=key:!{key}&showFavoriteCate=!{showFavoriteCate}&authType=!{authType}&confirm=!{confirm}&required=!{required}",_setIsMulAttr:function(d){this._set("isMul",d);if(this.isMul){this.jsURL="/sys/mobile/js/mui/simplecategory/simplecategory_mul.js!modelName=!{modelName}&extendPara=key:!{key}&showFavoriteCate=!{showFavoriteCate}&authType=!{authType}"}else{this.jsURL="/sys/mobile/js/mui/simplecategory/simplecategory_sgl.js!modelName=!{modelName}&extendPara=key:!{key}&showFavoriteCate=!{showFavoriteCate}&authType=!{authType}&confirm=!{confirm}&required=!{required}"}},_set___urlParamAttr:function(d){if(d){d=d.replace(/\'/g,"\\'").replace(/\"/g,'\\"')}this._set("___urlParam",d)},postCreate:function(){this.inherited(arguments);this.type=window.SIMPLE_CATEGORY_TYPE_CATEGORY}});return a})},"sys/mobile/js/mui/datetime/SpinWheelDatePicker_year":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","mui/datetime/_DatePickerMixin_year","dojox/mobile/SpinWheel","dojox/mobile/SpinWheelSlot"],function(g,d,e,b,f,a){return d("mui.datetime.SpinWheelDatePicker_year",[f,b],{slotClasses:[a,a,a],slotProps:[{labelFrom:1970,labelTo:2038},{},{}],buildRendering:function(){this.initSlots();this.inherited(arguments);e.add(this.domNode,"mblSpinWheelDatePicker");if(dojoConfig.locale=="en-us"){dojo.style(dojo.query(".mblSpinWheelSlot:nth-child(1)")[0],"display","none")}else{dojo.style(dojo.query(".mblSpinWheelSlot:nth-child(3)")[0],"display","none")}dojo.style(dojo.query(".mblSpinWheelSlot:nth-child(2)")[0],"display","none");dojo.query(".mblSpinWheelSlotLabel").forEach(function(h){h.style.textAlign="center"});this._conn=[this.connect(this.slots[0],"onFlickAnimationEnd","_onYearSet"),this.connect(this.slots[1],"onFlickAnimationEnd","_onMonthSet"),this.connect(this.slots[2],"onFlickAnimationEnd","_onDaySet")]},disableValues:function(h){g.forEach(this.slots[2].panelNodes,function(k){for(var l=27;l<31;l++){e.toggle(k.childNodes[l],"mblSpinWheelSlotLabelGray",l>=h)}})}})})},"sys/mobile/js/mui/device/kk5/xhr":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/io-query","dojo/errors/RequestError","dojo/request/handlers","dojo/request/util","dojo/request/watch","dojo/request/xhr","lib/kk5/kk5","mui/util","mui/device/kk5/kkHttpRequest"],function(q,v,g,s,k,a,h,n,b,l,t){var u=t;function o(w,x){var z=w.xhr;w.status=w.xhr.status;try{w.text=z.responseText}catch(y){}if(w.options.handleAs==="xml"){w.data=z.responseXML}if(!x){try{k(w)}catch(y){x=y}}if(x){this.reject(x)}else{if(a.checkStatus(z.status)){this.resolve(w)}else{x=new s("Unable to load "+w.url+" status: "+z.status,w);this.reject(x)}}}isValid=function(w){return w.xhr.readyState};isReady=function(w){return 4===w.xhr.readyState};cancel=function(w,x){};addListeners=function(A,w,x){function y(B){w.handleResponse(x)}function z(B){var D=B.target;var C=new s("Unable to load "+x.url+" status: "+D.status,x);w.handleResponse(x,C)}A.addEventListener("load",y,false);A.addEventListener("error",z,false);return function(){A.removeEventListener("load",y,false);A.removeEventListener("error",z,false);A=null}};var d={blob:"arraybuffer",document:"document",arraybuffer:"arraybuffer"};function m(w){return this.xhr.getResponseHeader(w)}var e,p={data:null,query:null,sync:false,method:"GET"};function f(x,M,L){var K=x.indexOf("?")>-1?x.substring(0,x.indexOf("?")):x;if(dojoConfig.fileMapping&&dojoConfig.fileMapping[K]){var B=dojoConfig.fileMapping[K]+(x.indexOf("?")>-1?x.substring(x.indexOf("?"),x.length):"");return n(B,M,L)}var C=a.parseArgs(x,a.deepCreate(p,M),false);x=C.url;M=C.options;var J,H=function(){J&&J()};var I=a.deferred(C,cancel,isValid,isReady,o,H);var y=C.xhr=f._create();if(!y){I.cancel(new s("XHR was not created"));return L?I:I.promise}C.getHeader=m;if(addListeners){J=addListeners(y,I,C)}var D=M.data,A=!M.sync,w=M.method;try{y.open(w,x,A);y.handleAs=M.handleAs;if(M.handleAs in d){y.responseType=d[M.handleAs]}var z=M.headers,G="application/x-www-form-urlencoded";if(z){for(var F in z){if(F.toLowerCase()==="content-type"){G=z[F]}else{if(z[F]){y.setRequestHeader(F,z[F])}}}}if(G&&G!==false){y.setRequestHeader("Content-Type",G)}if(!z||!("X-Requested-With" in z)){y.setRequestHeader("X-Requested-With","KKProxyHttpRequest")}y.setRequestHeader("Landray-Resonponse-Type","offline");if(a.notify){a.notify.emit("send",C,I.promise.cancel)}y.send(D)}catch(E){I.reject(E)}h(I);y=null;return L?I:I.promise}f._create=function(){return new u()};a.addCommonMethods(f);return f})},"sys/mobile/js/mui/search/SearchFilterContainer":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct"],function(b,d,a){return b("mui.search.SearchFilterContainer",[d],{buildRendering:function(){this.inherited(arguments)}})})},"sys/mobile/js/mui/list/NavSwapScrollableView":function(){define(["dojo/_base/declare","dojo/topic","dojo/_base/array","./SwapScrollableView"],function(d,b,e,a){return d("mui.list.NavSwapScrollableView",[a],{refNavBar:null,postCreate:function(){this.inherited(arguments);this.subscribe("/mui/nav/onComplete","handleNavOnComplete")},handleNavOnComplete:function(g,f){this.refNavBar=g;this.generateSwapList(g.getChildren(),g)},onSwapViewChanged:function(f){this.inherited(arguments);if(this.refNavBar){var g=e.indexOf(this.getChildren(),f);var h=this.refNavBar.getChildren()[g];this.refNavBar.selectedItem=h;h.setSelected()}}})})},"sys/mobile/js/mui/table/toggle/View":function(){define(["dojo/_base/declare","dojox/mobile/ScrollableView","dojo/dom-style","dojo/ready","dojox/mobile/_css3"],function(d,f,b,e,a){return d("mui.table.View",[f],{scrollDir:"h",height:"100%",scrollBar:false,appBars:false,postCreate:function(){this.inherited(arguments);this.subscribe("/mui/list/resize","resize")},resize:function(){if(this.timer){clearTimeout(this.timer)}var g=this;var h=arguments;this.timer=setTimeout(function(){var k=g.containerNode.offsetHeight;var l=g.getParent();if(l&&l.resizeH){l.resizeH(k)}g.inherited(h)},10)},isFormElement:function(k){var h=a.name("userSelect"),g=b.getComputedStyle(k).userSelect||b.getComputedStyle(k).webkitUserSelect;if(g==="text"){return true}return false}})})},"sys/mobile/js/mui/search/SearchBarDialogMixin":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/dom-construct","dojo/topic","mui/search/SearchBar","mui/search/SearchDbBar","mui/util","dojo/touch","dojox/mobile/_css3"],function(f,k,d,g,b,a,h,e,l){return f("mui.search.SearchBarDialogMixin",null,{modelName:"",searchCancelEvt:"/mui/search/cancel",searchShowEvt:"/mui/searchbar/show",redirectURL:"",params:"",jumpToSearchUrl:true,needPrompt:true,showLayer:true,show:function(m){var o=false;if(!this.searchNodeDiv){var n={modelName:this.modelName,showLayer:this.showLayer,redirectURL:this.redirectURL,searchType:this.searchType,jumpToSearchUrl:this.jumpToSearchUrl,needPrompt:this.needPrompt};this.searchNodeDiv=d.create("div",{className:"muiSearchBarDiv"},document.body);this._searchBar=this.chooseSearch(n);this.searchNodeDiv.appendChild(this._searchBar.domNode);o=true}k.set(this.searchNodeDiv,"display","block");this.defer(function(){h.disableTouch(this.searchNodeDiv,e.move);if(o){this._searchBar.startup()}g.publish(this.searchShowEvt,this)},10);if(!this.bindedEvent){this.subscribe(this.searchCancelEvt,"hideSearchBar");this.bindedEvent=true}},chooseSearch:function(m){if(!m.redirectURL){return new b(m)}else{m.searchUrl=this.redirectURL+encodeURIComponent(this.params);return new a(m)}},hideSearchBar:function(m){k.set(this.searchNodeDiv,{display:"none"})}})})},"sys/mobile/js/mui/view/ViewHeader":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/cache","dijit/_WidgetBase","dijit/_TemplatedMixin","mui/util"],function(d,g,b,f,e,a){return d("mui.view.ViewHeader",[f,e],{mode:"default",tempPath:null,context:{},templReplace:function(p,k){var h=p.replace(/<(script)[\s|\S]*?<\/\1>/ig,function(q){var s=$(q).attr("src");if(s){s=$.trim(s);if(s.substring(0,1)=="/"){return q}}else{return q}return""}).replace(/{\$(\s|\S)*?\$}/g,function(q){return q.replace(/("|\\)/g,"\\$1").replace("{$",'_s.push("').replace("$}",'");').replace(/{\%([\s\S]*?)\%}/g,'",$1,"').replace(/(\r\n|\n)/g,"\\$1")});var m=[];var o=[];var l;for(l in k){m.push(l);o.push(k[l])}var n=new Function(m,"var _s=[];"+h+" return _s.join('');");return n.apply(window,o)},buildRendering:function(){var h="";if(this.tempPath!=null&&this.tempPath!=""){h=b(a.formatUrl(this.tempPath),{sanitize:true})}else{if(this.mode!=null&&this.mode!=""){h=b(a.formatUrl("/sys/mobile/js/mui/view/templ/"+this.mode+".tmpl"),{sanitize:true})}}if(h==""){window.console.warn("组件属性model和tempPath都为空，组件无用。");this.templateString=null}else{this.templateString=this.templReplace(h,{util:a,data:this.context})}this.inherited(arguments)},startup:function(){this.inherited(arguments)}})})},"sys/mobile/js/mui/property/FilterItem":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-class","mui/util","mui/property/PropertyDialogMixin","mui/property/FilterDialogButtonMixin","mui/property/HashMixin","mui/history/listener"],function(f,a,h,e,d,l,g,m,k,n,b){return f("mui.property.FilterItem",[e,m,k,n],{commonQuery:"",baseClass:"muiHeaderItem muiHeaderItemIcon",icon:"fontmuis muis-filter",buildRendering:function(){this.inherited(arguments);this.labelNode=d.create("div",{className:"muiHeaderItemLable",innerHTML:g.formatText(this.label)},this.domNode);d.create("i",{className:this.icon},this.labelNode);this.connect(this.domNode,"onclick","openDialog")},startup:function(){this.inherited(arguments);l.toggle(this.domNode,"selected",this.hasValue())},openDialog:function(){var p=this;var o=b.push({forwardCallback:function(){p.show()},backCallback:function(){p.hide()}});this.previousHistoryId=o.previousId},getStaticFilters:function(){var o="";if(this.commonQuery&&this.commonQuery.length>0){var p=[];h.forEach(this.commonQuery,function(s,q){p.push({name:s.text,value:s.dataURL})});o+="<div data-dojo-type='mui/property/filter/FilterRadio' data-dojo-props='key:\""+this.key+'",subject:"常用筛选",name:"_common",options:'+JSON.stringify(p)+"'></div>"}if(this.filters&&this.filters.length>0){h.forEach(this.filters,function(s,q){if(!s.filterType){return}isTypePathFull=s.isTypePathFull===true?true:false;if(isTypePathFull){o+="<div data-dojo-type='"+s.filterType+"'"}else{o+="<div data-dojo-type='mui/property/filter/"+s.filterType+"'"}o+=" data-dojo-props='_props:"+JSON.stringify(s)+',key:"'+this.key+"\"'></div>"},this)}return o},hasValue:function(){if(!this.values){return false}for(var p in this.values){var q=this.values[p];if(a.isString(q)&&q){return true}if(a.isArray(q)&&q.length>0){for(var o=0;o<q.length;o++){if(q[o]!=""){return true}}}if(!a.isArray(q)&&a.isObject(q)){var s=q.value;if(a.isArray(s)&&s.length>0||a.isString(s)&&s){return true}}}return false}})})},"sys/mobile/js/mui/select/SelectMenu":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase","dojo/dom-attr","dojo/dom-class","dojo/query","dojo/touch","dojo/topic","dojox/mobile/viewRegistry","dijit/registry","dojo/dom-construct","mui/util","dojo/on","dojo/dom","dojo/_base/array","dojo/dom-style","dojo/ready"],function(h,b,f,p,u,q,g,l,t,a,d,k,o,e,n,m,s){return h("mui.select.SelectMenu",[f],{nextId:"",data:[],dataIndex:0,SELECT_CHANGE:"mui/select/changed",buildRendering:function(){this.inherited(arguments);this.buildDefaultRender();this.buildSelectingRender()},buildDefaultRender:function(){var v=this;var x=(function(){for(var A=0;A<v.data.length;A++){var B=data[A];if(B.selected){v.dataIndex=A;return B.text}}var B=data[0];return B.text})();var z=this.headNode=d.toDom('<div id="h" class="muiFontSizeM muiFontColorInfo">'+x+'<span class="arrow"></span></div>');d.place(z,this.domNode);if(this.domNode.parentNode){var y=this.domNode.parentNode.style.height;var w={height:y,"line-height":y,"text-align":"center",width:"100%"};m.set(this.domNode,w)}this.connect(z,g.press,"headClick")},headClick:function(){var v=q(".muiSignInList")[0];if(!m.get(v,"display")||m.get(v,"display")=="none"){m.set(v,"display","block")}else{m.set(v,"display","none")}},buildSelectingRender:function(){this.parentNode=d.create("div",{className:"muiSignInList"},e.byId(this.nextId));this.parentLiNode=d.create("li",{className:"emphasize muiSignInDropDown muiSignInOpen"},this.parentNode);this.selectingNode=d.create("ul",{className:"muiSignInDropDownMenu"},this.parentLiNode);m.set(this.parentNode,"display","none");for(var w=0;w<this.data.length;w++){var v="";var x=this.data[w].text;if(w==this.dataIndex){v="selected";this.headNode.innerHTML=k.formatText(x)+'<span class="arrow"></span>'}this.liNode=d.create("li",{id:this.data[w].url,className:v,innerHTML:x},this.selectingNode);p.set(this.liNode,"data-index",w);this.connect(this.liNode,g.press,"itemClick")}this.hbgDiv=d.create("div",{id:"hbg",className:"ekp-ledger-customer-option-mask"},this.parentNode);this.connect(this.hbgDiv,g.press,"headBackClick");e.byId("content").insertBefore(this.parentNode,e.byId(this.nextId).nextSibling)},headBackClick:function(v){this.defer(function(){var w=q(".muiSignInList")[0];m.set(w,"display","none")},350)},itemClick:function(v){this.defer(function(){var z=q(".muiSignInList")[0];if(!m.get(z,"display")||m.get(z,"display")=="none"){m.set(z,"display","block")}else{m.set(z,"display","none")}q(".muiSignInDropDownMenu li").forEach(function(B){u.remove(B,"selected")});for(var y=0;y<this.data.length;y++){var w=p.get(v.target,"data-index");if(y==w){u.add(v.target,"selected");this.headNode.innerHTML=k.formatText(this.data[y].text)+'<span class="arrow"></span>';this.dataIndex=y}}var x=this.dataIndex,A=this.data[x].params||{};l.publish(this.SELECT_CHANGE,{args:A})},350)},startup:function(){if(this._started){return}this.inherited(arguments);var v=this.dataIndex,w=this.data[v].params||{};l.publish(this.SELECT_CHANGE,{args:w})}})})},"sys/mobile/js/mui/property/PropertyFilterValuesMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/_base/lang","mui/ChannelMixin"],function(d,b,e,a){return d("mui.property.PropertyFilterValuesMixin",[a],{EVENT_VALUES:"/mui/property/filter/values",values:{},_values:{},buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/property/filter/value/get","getValue");this.subscribe("/mui/property/filter/value/set","setValue");this.subscribe("/mui/property/filter/values/get","getValues");this.subscribe("/mui/property/filter/values/set","setValues");this.values={}},publishValues:function(){b.publish(this.EVENT_VALUES,this,{values:this.values})},getValues:function(g,f){if(!this.isSameChannel(g.key)){return}if(!f||!f.cb){return}f.cb(this.values)},setValues:function(g,f){if(!this.isSameChannel(g.key)){return}if(!f||!f.values){return}this.values=f.values||{};this.publishValues()},getValue:function(g,f){if(!this.isSameChannel(g.key)){return}if(!f||!f.cb||!f.name){return}f.cb(this.values[f.name]||[])},setValue:function(g,f){if(!this.isSameChannel(g.key)){return}if(!f||!f.name||!f.value){return}this.values[f.name]=f.value||[];this.publishValues()}})})},"sys/mobile/js/mui/device/adapter":function(){define(["mui/device/device","dojo/_base/lang","mui/device/web/adapter","dojo/dom-class"],function(b,d,g,k){var m=d.clone(g);var l=m;var f=b.getClientType();var e=false;k.add(document.body,"clientType"+b.getClientType());var h=false;____readyCallbacks=[];l.resume=function(n){};l.mixinReady=function(n){if(h){n&&n.call(this);return}____readyCallbacks.push(n)};l._mixinReady=function(o){h=true;var n=null;while(n=____readyCallbacks.shift()){n&&n.call(o||this)}};if(f==6||f==12){e=true;require({async:false},["mui/device/weixin/adapter"],function(n){l=a(m,n);l._mixinReady()})}if(f==7||f==8){e=true;require({async:false},["mui/device/kk/adapter"],function(n){l=a(m,n);l._mixinReady()})}if(f==9||f==10){e=true;require({async:false},["mui/device/kk5/adapter"],function(n){l=a(m,n);l.ready(function(){if(l.isEBEN()){require({async:false},["mui/device/ereb/adapter"],function(o){l=a(l,o);l._mixinReady()})}else{l._mixinReady()}})})}if(f==11){e=true;require({async:false},["mui/device/ding/adapter"],function(n){l=a(m,n);l._mixinReady()})}if(f==14){e=true;require({async:false},["mui/device/govding/adapter"],function(n){l=a(m,n);l._mixinReady()})}if(f==22){e=true;require({async:false},["mui/device/feishu/adapter"],function(n){l=a(m,n);l._mixinReady()})}if(!e){l._mixinReady()}function a(o,v){var n,t,p,u={};for(n in v){t=v[n];var q="$super$"+n;o[q]=o[n];if(!(n in o)||(o[n]!==t&&(!(n in u)||u[n]!==t))){o[n]=t}}return o}l.mixinReady(function(){l.getFontSize(function(n){var o=n&&n.fontSize?n.fontSize:0;k.add(document.documentElement,"fontSize"+o)})});return l})},"sys/mobile/js/mui/syscategory/SysCategoryHeader":function(){define(["dojo/_base/declare","mui/category/CategoryHeader","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){var e=b("mui.syscategory.SysCategoryHeader",[a],{modelName:null,title:d["mui.category.title"],detailUrl:"/sys/category/mobile/sysCategory.do?method=detailList&cateId=!{curId}&modelName=!{modelName}"});return e})},"sys/mobile/js/mui/device/weixin/wxAgentConfig":function(){require(["dojo/topic","dojo/ready","dijit/registry","dojo/query","dojo/request","lib/weixin/jweixin-1.0.0","mui/util","mui/dialog/Tip"],function(f,l,a,k,d,b,g,m){var h=false;window.livingImmediately=function(n){this.agentConfig(function(){b.invoke("startLiving",n,function(o){console.log("立即直播：",o);if(o.err_msg=="startLiving:ok"){n.livingId=o.livingId;e(n)}else{if(o.err_msg!="startLiving:cancel"){m.fail({text:"创建直播失败:"+JSON.stringify(o)})}}})})};function e(n){url=g.formatUrl("/third/weixin/work/third_weixin_work_living/thirdWeixinWorkLiving.do?method=createMapping");d.post(url,{data:n,handleAs:"json",headers:{accept:"application/json"}}).response.then(function(o){console.log("建立mapping",o)})}window.checkLiving=function(n){url=g.formatUrl("/third/weixin/work/third_weixin_work_living/thirdWeixinWorkLiving.do?method=checkLiving");var o;$.ajax({type:"post",url:url,data:n,async:false,success:function(p){console.log("检查结果：",p);p=JSON.parse(p);if(p.success){o=p.exist;window.__livingid__=p.livingId}else{m.fail({text:p.result})}}});return o};window.canLiving=function(o){url=g.formatUrl("/third/weixin/work/third_weixin_work_living/thirdWeixinWorkLiving.do?method=canLiving");var n;$.ajax({type:"post",url:url,data:o,async:false,success:function(p){console.log(p);p=JSON.parse(p);n=p.success}});return n};window.getLivingId=function(){return window.__livingid__};window.agentConfig=function(n){if(h){n&&n.call(this)}else{console.log("---延迟500毫秒----");setTimeout(n,500)}};window.openLiving=function(n){console.log("linvingid:"+n);this.agentConfig(function(){b.invoke("startLiving",{livingId:n},function(o){console.log("打开直播res",o);if(o.err_msg=="startLiving:ok"){livingId=o.livingId}else{m.fail({text:"打开直播失败:"+JSON.stringify(o)})}})})};(function(){var n=["startLiving","config","agentConfig"];url=g.formatUrl("/third/wxwork/jsapi/wxJsapi.do?method=jsapiSignature&type=agent_config"),option={data:{url:location.href},handleAs:"json"};console.log("url:",url);d.post(url,option).response.then(function(p){var o=p.data;if(o&&o.appId){console.log("signInfo",o);b.agentConfig({beta:true,debug:true,corpid:o.corpid,agentid:o.agentid,timestamp:o.timestamp,nonceStr:o.noncestr,signature:o.signature,jsApiList:n,success:function(q){h=true;console.log("agentConfig鉴权成功",q)},fail:function(q){h=false;m.fail({text:"agentConfig失败:"+JSON.stringify(q)});console.log("agentConfig失败",q)}})}else{console.log("signInfo appId empty(wxwork)")}})})()})},"sys/mobile/js/mui/person/PersonDetailItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/person/PersonDetailItemMixin"],function(b,d,a){return b("mui.person.PersonDetailItemListMixin",[d],{itemTemplateString:null,itemRenderer:a})})},"sys/mobile/js/mui/form/_FormBase":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/topic","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/form/_AutoAdaptionMixin","mui/form/_AlignMixin","dojo/query"],function(f,b,e,m,n,k,g,h,a,d,o,l){var p=f("mui.form._FormBase",[e,d,o],{isForm:true,subject:null,onValueChange:null,validate:null,edit:true,showStatus:"edit",value:"",required:false,baseClass:"muiFormEleWrap",opt:false,optText:"",align:"left",orient:"none",EVENT_VALUE_CHANGED:"/mui/form/valueChanged",tipMsg:a["mui.form.please.input"],placeholder:null,buildRendering:function(){if(this.orient=="vertical"){this.baseClass="newMui "+this.baseClass}else{this.baseClass="oldMui "+this.baseClass}if(this.orient=="vertical"){this.baseClass+=" showTitle"}this.showStatus=this.showStatus=="noShow"?"hidden":this.showStatus;this.inherited(arguments);this.edit=this.showStatus=="edit";this.innerHTML=this.domNode.innerHTML;this.valueNode=this.domNode;n.add(this.domNode,"muiFormStatus"+this.showStatus.substring(0,1).toUpperCase()+this.showStatus.substring(1));if(this.orient=="vertical"){if(this.subject){this.tipNode=b.create("div",{className:"muiFormEleTip"},this.domNode);this.titleNode=b.create("span",{className:"muiFormEleTitle",innerHTML:h.formatText(this.subject)},this.tipNode)}}if(this.edit){var q="muiFormRequired ";if(this.required){q="muiFormRequired muiFormRequiredShow"}this.requiredNode=b.create("div",{className:q,innerHTML:"*"},this.domNode,"last")}if(this.opt&&this.edit){var q="muiSelInputRight muiSelInputRightShow ";if(this.required){q="muiSelInputRight muiSelInputRightShow muiSelInputRightHaveFormRequired"}this.rightIcon=b.create("div",{className:q},this.domNode);this.buildOptIcon(this.rightIcon)}},startup:function(){this.inherited(arguments);if(this.orient==="vertical"){this.align="left"}if(this.align){var q=this.align;n.add(this.domNode,"muiForm"+q.substring(0,1).toUpperCase()+q.substring(1))}this._initText()},_setReadOnlyAttr:function(q){if(q&&this.showStatus=="readOnly"){this._initText();this._readOnlyAction(q);return}if(!q&&this.showStatus=="edit"){return}if(q){this._set("showStatus","readOnly");this.edit=false;n.replace(this.domNode,"showTitle muiFormStatusReadOnly","muiFormStatusEdit");if(this.validate){this._set("_validate",this.validate);this._set("validate",null);this._set("required",false)}}else{this._set("showStatus","edit");this.edit=true;n.replace(this.domNode,"muiFormStatusEdit","muiFormStatusReadOnly");if(this._validate){this._set("validate",this._validate);this._set("_validate",null);this._set("required",/\brequired\b/.test(this.validate))}}this._initText();this._readOnlyAction(q)},_getReadOnlyAttr:function(){return this._get("showStatus")=="readOnly"},_initText:function(){if(this.requiredNode){n.toggle(this.requiredNode,"muiFormRequiredShow",this.required)}if(this.required==false){if(this.validation){this.validation.hideWarnHint(this.domNode)}}if(this.contentNode){var q="";if(this.edit){if(this.placeholder){q=this.placeholder}else{q=this.tipMsg;q+=this.subject?this._htmlUnEscape(this.subject):""}}else{if(this.showStatus=="readOnly"){q=""}}m.set(this.contentNode,"placeholder",q)}},_htmlUnEscape:function(q){if(q==null||q==" "){return""}q=q.replace(/&amp;/g,"&");q=q.replace(/&quot;/g,'"');q=q.replace(/&lt;/g,"<");q=q.replace(/&#39;/g,"'");q=q.replace(/&nbsp;/g," ");return q.replace(/&gt;/g,">")},_readOnlyAction:function(q){},_setRequiredAttr:function(s){var q=this.validate&&/\brequired\b/.test(this.validate);if(s){if(this.validate){this._set("_validate",this.validate)}if(!q){if(this._validate){this._validate=/\brequired\b/.test(this._validate)?this._validate:this._validate+" required";this._set("validate",this._validate)}else{this._set("validate","required")}}}else{if(q){this._set("validate",this.validate.replace(/(\s*required\s*)/,""));if(this.validation){this.validation.validateElement(this)}}}this._set("required",s);this._initText()},_getRequiredAttr:function(){return this._get("required")==true},_setValueAttr:function(t){var q=this.value||"";this._set("value",t);if(q!=t){if(this.onValueChange){var s=this.onValueChange+"(this.get('value'),this);";new Function(s).apply(this,[this])}g.publish(this.EVENT_VALUE_CHANGED,this,{oldValue:q,value:t})}if(this._started){if(this.validate!=""&&this.edit&&this.validateImmediate){if(this.validation){this.validation.validateElement(this)}}}},buildOptIcon:function(q){if(this.showStatus!=="edit"||(!this.optClass&&!this.optText)){b.destroy(q);return}if(this.optClass){var s=this.optClass.startsWith("muis-")?"fontmuis ":"mui ";b.create("span",{className:s+this.optClass},q);return}if(this.optText){n.add(q,"muiSelInputRightText");b.create("span",{innerHTML:this.optText},q);return}},isNewDesktopLayout:function(){if(this.isForm&&window._xform_isNewDesktopLayout=="true"){var q=l("[isXform='true'][isDesktopLayoutForm='true']")[0];if(q&&l(this.domNode,q).length>0&&l(this.domNode).closest("xformflag").length>0){return true}}return false},buildXFormStyle:function(){var s=this.get("xformStyle");if(s){var q;if(typeof KMSSData!="undefined"){try{var t=new KMSSData();t.AddBeanData("sysFormDefaultSettingService");t=t.GetHashMapArray();if(t.length>0){q=t[0].showMobileStyle}}catch(u){}}if(q=="true"){return s}}}});return p})},"sys/mobile/js/mui/category/CategoryAllSelectItem":function(){define(["dojo/_base/declare","mui/category/CategoryItemMixin","dojo/dom-style","dojo/dom-class","dojo/_base/array","dojo/topic","dojo/dom-construct"],function(e,g,d,f,h,b,a){return e("mui.category.CategoryAllSelectItem",[g],{buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"muiCateAllSelectItem")},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/unselected","unselected");this.subscribe("/mui/category/selected","selected")},show:function(){d.set(this.domNode,{display:"block"})},hide:function(){d.set(this.domNode,{display:"none"})},startup:function(){this.inherited(arguments);this.hide();this.defer(function(){this.initALlSelecte()})},buildIcon:function(){d.set(this.iconNode,{display:"none"})},buildCount:function(){this.countNode=a.create("div",{innerHTML:this.getCount(),className:"muiCateSelect"},this.cateContainer)},setCount:function(){if(this.countNode){this.countNode.innerHTML=this.getCount()}},getCount:function(){var l=this.getParent().getChildren();var m=0;var k=0;h.forEach(l,function(o,n){if(n==0){return}if(o.showSelect&&o.showSelect()){m++}if(o.isSelected&&o.isSelected()){k++}});if(m==0){this.hide()}else{this.show()}return k+"/"+m},samParent:function(k){return k.getParent()==this.getParent()},initALlSelecte:function(){this.selected(this);this.buildCount()},unselected:function(k){if(this.samParent(k)){this.setCount();this._cancelSelected(this,{fdId:this.fdId,trigger:true})}},selected:function(k){if(this.samParent(k)){this.setCount();if(this.isAllSelected()){this._setSelected(this,{fdId:this.fdId,trigger:true})}else{this._cancelSelected(this,{fdId:this.fdId,trigger:true})}}},topicEvt:function(k){var m="/mui/category/cancelSelected";if(k){m="/mui/category/setSelected"}var n=this.getParent(),l=n.getChildren();h.forEach(l,function(p,o){if(o==0){return}b.publish(m,this,{fdId:p.fdId})},this)},isAllSelected:function(){var l=this.getParent().getChildren();var m=true;for(var k=0;k<l.length;k++){if(k==0){continue}var n=l[k];if(n.showSelect&&n.showSelect()&&!n.isSelected()){m=false;break}}return m},_cancelSelectedTrigger:function(k){if(k.trigger){return}this.topicEvt(false)},_setSelectedTrigger:function(k){if(k.trigger){return}this.topicEvt(true)},showMore:function(){return false},isSelected:function(){return false}})})},"sys/mobile/js/mui/form/validate/Reminder":function(){define(["./OldReminder"],function(a){return a})},"sys/mobile/js/mui/property/filter/FilterItem":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/topic","dojo/dom-class","dojo/_base/array","mui/ChannelMixin"],function(g,f,a,e,h,k,d){var b=g("mui.property.FilterItem",[f,d],{EVENT_VALUES:"/mui/property/filter/values",SET_EVENT:"/mui/property/filter/value/set",GET_EVENT:"/mui/property/filter/value/get",name:null,value:null,expr:null,tagName:"li",selectedClass:"selected",resolveValue:null,compareValue:null,buildRendering:function(){this.inherited(arguments);if(!this.key&&this.getParent()){this.key=this.getParent().key}this.domNode=a.create(this.tagName,{});this.subscribe(this.EVENT_VALUES,"_onChange");this.buildItem()},startup:function(){this.inherited(arguments);var l=this;e.publish("/mui/property/filter/values/get",this,{cb:function(m){l._onChange(l,{values:m})}})},buildItem:function(){this.itemNode=a.create("a",{href:"javascript:;",innerHTML:this.name},this.domNode);this.connect(this.domNode,"click","_onClick")},unSelected:function(){h.remove(this.domNode,this.selectedClass)},selected:function(){h.add(this.domNode,this.selectedClass)},_onChange:function(p,l){if(!this.isSameChannel(p.key)){return}if(!l||!l.values){return}var n=this.getParent();var o=l.values[n.name]||[];var m=false;if(this.compareValue){m=this.compareValue(this.value,o)}else{if(o&&o.expr){m=o.expr==this.expr}else{if(typeof(o)=="string"){m=(o==this.value)}else{m=k.indexOf(o,this.value)>=0}}}if(m){this.selected()}else{this.unSelected()}},_onClick:function(u){var v=this;var t=this.getParent();var l=t.name;var p=t.multi;var s=t.value||[];var q=u.currentTarget;var o=h.contains(q,this.selectedClass);var n;if(this.expr){n={expr:this.expr}}else{n=[];if(this.resolveValue){n=this.resolveValue(o,v.value)}else{var m=o?[]:[v.value];var n=p?k.filter(s,function(w){return w!==v.value}).concat(m):m}}e.publish(this.SET_EVENT,this,{name:l,value:n})}});return b})},"sys/mobile/js/mui/person/PersonDetailItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-attr","dojox/mobile/_ItemBase","mui/util","mui/list/item/_ListLinkItemMixin","dojo/date/locale","mui/device/adapter"],function(b,a,l,e,f,m,d,g,k,h){var n=b("mui.person.PersonDetailItemMixin",[m,g],{tag:"li",baseClass:"muiListItem muiPerson",href:"",buildRendering:function(){this.inherited(arguments);this.domNode=this.containerNode=this.srcNodeRef||a.create(this.tag,{className:this.baseClass});var p=a.create("div",{className:"muiPersonIcon"},this.containerNode);var s=d.formatUrl(this.src);a.create("span",{className:"muiPersonIconImg",style:{background:"url("+s+") center center no-repeat",backgroundSize:"cover",display:"inline-block"}},p);var o=a.create("div",{className:"muiPersonInfo"},this.containerNode);a.create("div",{className:"muiPersonName",innerHTML:this.name},o);if(this.fdParentName){a.create("div",{className:"muiParentNames",innerHTML:this.fdParentName},o)}var q=this;this.connect(this.domNode,"click",function(){var t="";if(!!q.src&&q.src.indexOf(q.fdModelId)>-1){t=q.fdModelId}else{t=q.fdId}h.openUserCard({ekpId:t})})},startup:function(){if(this._started){return}this.inherited(arguments)},_setLabelAttr:function(o){if(o){this._set("label",o)}},makeUrl:function(){if(!this.href){return""}return this.inherited(arguments)}});return n})},"sys/mobile/js/mui/address/AddressViewScrollResizeMixin":function(){define(["dojo/_base/declare","mui/category/_ViewScrollResizeMixin","./AddressChannelMixin"],function(a,d,b){return a("mui.address._NewViewScrollResizeMixin",[d,b],{_scrollTo:function(f,e){this.isSameChannel(f)&&this.inherited(arguments)},_scrollResize:function(e){this.isSameChannel(e)&&this.inherited(arguments)}})})},"sys/mobile/js/mui/list/item/_ListLinkItemMixin":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/on","mui/util","dojo/_base/window","mui/device/adapter"],function(e,f,d,b,g,a){return e("mui.list.item._ListLinkItemMixin",null,{hrefTarget:"_blank",_selClass:"mblListItemSelected",_delayedSelection:true,_selStartMethod:"touch",handleSelection:function(h){},makeLinkNode:function(h){h.href=this.makeUrl();h.target="_self";d(h,"click",function(k){k.preventDefault();return false})},makeUrl:function(){var h=b.formatUrl(this.href,true);if(h.indexOf("?")>-1){h+="&_mobile=1"}else{h+="?_mobile=1"}h+="&_referer="+encodeURIComponent(location.href);return h},makeTransition:function(k){var h=this.makeUrl();a.open(h,this.hrefTarget||"_self")},_onClick:function(h){this.defaultClickAction(h)},_setSelectedAttr:function(h){this.inherited(arguments);f.toggle(this.domNode,this._selClass,h)}})})},"sys/mobile/js/mui/list/_ViewUpAppendMixin":function(){define(["dojo/_base/declare","dojo/topic","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-construct","./_ViewScrollCommonMixin","dojo/dom-style"],function(f,d,g,a,b,e){return f("mui.list._ViewUpAppendMixin",[b],{isNeedTopBtn:true,constructor:function(){this.optUp={use:true,auto:true,isLock:false,isBoth:false,isBounce:true,callback:null,noMoreSize:5,offset:150,hardwareClass:"mui-mescroll-hardware",warpId:null,warpClass:"mui-mescroll-upwarp",htmlLoading:'<span><i class="fontmuis muis-tips-loading mui-spin"></i>'+g["mui.list.push.more"]+"</span>",htmlNodata:'<p class="mui-upwarp-nodata">-- '+g["mui.list.msg.nomore"]+" --</p>",inited:function(h,k){},showLoading:function(h,k){k.innerHTML=h.optUp.htmlLoading},showNoMore:function(h,k){k.innerHTML=h.optUp.htmlNodata},onScroll:null,hasNext:true}},buildRendering:function(){this.inherited(arguments);this.scrollDom=this.domNode;this.upwarp=document.createElement("div");this.upwarp.className=this.optUp.warpClass;this.scrollDom.appendChild(this.upwarp);this.initUpScroll()},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/list/toTop","toTop")},startup:function(){this.inherited(arguments)},upCallback:function(){d.publish("/mui/list/onPush",this)},endUpSuccess:function(h){if(h._loadOver){if(h.totalSize<=0){this.endUpScroll(false,true)}else{this.endUpScroll(true)}this.optUp.hasNext=false}else{this.optUp.hasNext=true;this.endUpScroll(false);this.loadFull()}},scrollEvent:function(){var l=this.getScrollTop();var k=l-this.preScrollY>0;this.preScrollY=l;if(k&&!this.isUpScrolling&&this.optUp.hasNext&&!this.optUp.isLock&&(!this.isDownScrolling||(this.isDownScrolling&&this.optDown.isBoth))){var h=this.getScrollHeight()-this.getClientHeight()-l;if(h<=this.optUp.offset){this.triggerUpScroll()}}if(this.isNeedTopBtn){if(l>=50){this.showTopBtn()}else{this.hideTopBtn()}}this.optUp.onScroll&&this.optUp.onScroll(me,l,k)},initUpScroll:function(){var h=this;if(!this.optUp.isBounce){this.setBounce(false)}if(this.optUp.use===false){return}this.optUp.hasNext=true;this.preScrollY=0;this.scrollDom.addEventListener("scroll",this.scrollEvent.bind(this));setTimeout(function(){h.optUp.inited(h,h.upwarp)},0)},setBounce:function(h){if(!this.os.ios){return}if(h===false){this.optUp.isBounce=false;window.addEventListener("touchmove",this.bounceTouchmove,{passive:false})}else{this.optUp.isBounce=true;window.removeEventListener("touchmove",this.bounceTouchmove)}},bounceTouchmove:function(o){var q=this;var l=o.target;var m=true;while(l!==document.body&&l!==document){var u=l.classList;if(u){if(u.contains("mescroll")||u.contains("mescroll-touch")){m=false;break}else{if(u.contains("mescroll-touch-x")||u.contains("mescroll-touch-y")){var k=o.touches?o.touches[0].pageX:o.clientX;var h=o.touches?o.touches[0].pageY:o.clientY;if(!this.preWinX){this.preWinX=k}if(!this.preWinY){this.preWinY=h}var t=Math.abs(this.preWinX-k);var s=Math.abs(this.preWinY-h);var p=Math.sqrt(t*t+s*s);this.preWinX=k;this.preWinY=h;if(p!==0){var n=Math.asin(s/p)/Math.PI*180;if((n<=45&&u.contains("mescroll-touch-x"))||(n>45&&u.contains("mescroll-touch-y"))){m=false;break}}}}}l=l.parentNode}if(m&&o.cancelable&&!o.defaultPrevented&&typeof o.preventDefault==="function"){o.preventDefault()}},triggerUpScroll:function(){if(!this.isUpScrolling){this.showUpScroll();this.isUpAutoLoad=true;this.upCallback&&this.upCallback(this)}},showUpScroll:function(){this.isUpScrolling=true;this.upwarp.classList.add(this.optUp.hardwareClass);this.upwarp.style.visibility="visible";this.upwarp.style.display="block";this.optUp.showLoading(this,this.upwarp)},showNoMore:function(){if(this.getClientHeight()>this.getBodyHeight()){this.upwarp.style.visibility="visible";this.upwarp.style.display="block";this.optUp.showNoMore(this,this.upwarp)}else{this.upwarp.style.display="none"}},hideUpScroll:function(h){if(h){this.upwarp.style.display="none"}else{this.upwarp.style.visibility="hidden"}this.upwarp.classList.remove(this.optUp.hardwareClass);var k=this.upwarp.getElementsByClassName("upwarp-progress")[0];if(k){k.classList.remove("mescroll-rotate")}},endUpScroll:function(k,h){if(k!=null){if(k){this.showNoMore()}else{this.hideUpScroll(h)}}this.isUpScrolling=false},loadFull:function(){var h=this;if(!this.optUp.isLock&&this.optUp.hasNext){setTimeout(function(){if(h.getScrollHeight()<=h.getClientHeight()){h.triggerUpScroll()}},500)}},lockUpScroll:function(h){if(h==null){h=true}this.optUp.isLock=h},toTop:function(l,h){if(this._isVisible()){var m=0,k=300;if(h){m=h.y||0;k=h.t>=0?h.t:300}this.scrollTo(m,k)}},showTopBtn:function(){this.isTopBtnDisplay=true;d.publish("mui/list/showTop",this)},hideTopBtn:function(){this.isTopBtnDisplay=false;d.publish("mui/list/hideTop",this)},scrollTo:function(o,k){var l=this;var n=this.getScrollTop();var h=o;if(h>0){var m=this.getScrollHeight()-this.getClientHeight();if(h>m){h=m}}else{h=0}this.isScrollTo=true;this.scrollDom.style.webkitOverflowScrolling="auto";this.getStep(n,h,function(p){l.setScrollTop(p);if(p===h){l.scrollDom.style.webkitOverflowScrolling="touch";l.isScrollTo=false}},k)},getStep:function(n,l,s,u,p){var q=l-n;if(u===0||q===0){s&&s(l);return}u=u||300;p=p||30;var o=u/p;var k=q/o;var m=0;var h=window.setInterval(function(){if(m<o-1){n+=k;s&&s(n,h);m++}else{s&&s(l,h);window.clearInterval(h)}},p)},_isVisible:function(h){var k=function(m){return e.get(m,"display")!=="none"};if(h){for(var l=this.domNode;l.tagName!=="BODY";l=l.parentNode){if(!k(l)){return false}}return true}else{return k(this.domNode)}},isShowTop:function(){return this.isTopBtnDisplay||false}})})},"sys/mobile/js/mui/simplecategory/SimpleCategorySearchListMixin":function(){define(["dojo/_base/declare","mui/category/CategorySearchListMixin"],function(b,a){return b("sys.syscategory.SimpleCategorySearchListMixin",[a],{dataUrl:"/sys/category/mobile/sysSimpleCategory.do?method=searchList&keyword=!{keyword}&getTemplate=!{selType}&modelName=!{modelName}&authType=!{authType}"})})},"sys/mobile/js/mui/store/JsonpRest":function(){define(["dojo/_base/xhr","dojo/_base/lang","dojo/json","dojo/_base/declare","dojo/store/util/QueryResults","dojo/request/script"],function(h,g,f,d,b,a){var e=null;return d("mui.store.JsonpRest",e,{constructor:function(k){this.headers={};d.safeMixin(this,k)},headers:{},target:"",idProperty:"id",ascendingPrefix:"+",descendingPrefix:"-",_getTarget:function(l){var k=this.target;if(typeof l!="undefined"){if(k.charAt(k.length-1)=="/"){k+=l}else{k+="/"+l}}return k},get:function(n,l){l=l||{};var k=this.target.indexOf("?")>-1;var m=l.query;if(m&&typeof m=="string"){m=h.queryToObject(m);m=m?(k?"&":"?")+m:""}return a.get(this.target,{jsonp:"jsonpcallback",query:m,timeout:typeof(l.timeout)=="number"?l.timeout:10000})},accepts:"application/javascript, application/json",getIdentity:function(k){return k[this.idProperty]},put:function(l,k){},add:function(l,k){},remove:function(l,k){},query:function(q,m){m=m||{};var k=this.target.indexOf("?")>-1;if(q&&typeof q=="string"){q=h.queryToObject(q);q=q?(k?"&":"?")+q:""}if(m&&m.sort){var l=this.sortParam;q+=(q||k?"&":"?")+(l?l+"=":"sort(");for(var p=0;p<m.sort.length;p++){var o=m.sort[p];q+=(p>0?",":"")+(o.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(o.attribute)}if(!l){q+=")"}}var n=a.get(this.target,{jsonp:"jsonpcallback",query:q,timeout:typeof(m.timeout)=="number"?m.timeout:10000});return b(n)}})})},"sys/mobile/js/mui/chart/ChartZoomMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,e,a,d){return b("mui.chart.chartZoomMixin",null,{session:{},buildRenderingCompleted:function(){this.connect(this.container,"touchstart",this.doTouchStart);this.connect(this.container,"touchmove",this.doTouchMove);this.connect(this.container,"touchend",this.doTouchEnd)},doTouchStart:function(f){this.initTargetTouches(f);this.session.start={};this.session.move={};for(var h=0;h<this.targetTouches.length;h++){var k=this.targetTouches[h],g=k.identifier;this.session.start[g]={identifier:g,pageX:k.pageX,pageY:k.pageY};this.session.move[g]={identifier:g,pageX:k.pageX,pageY:k.pageY}}},doTouchMove:function(f){var k=this.getTargetTouches(f);for(var h=0;h<k.length;h++){var l=k[h],g=l.identifier;this.session.move[g]={identifier:g,pageX:l.pageX,pageY:l.pageY}}},doTouchEnd:function(y){var t=this.getTargetTouches(y);for(var o=0;o<t.length;o++){var g=t[o],q=g.identifier;this.session.move[q]={identifier:q,pageX:g.pageX,pageY:g.pageY}}var k=false,p=false,h=[];for(var q in this.session.start){h.push(this.session.start[q])}for(var o=0;o<h.length;o++){var n=h[o],x=n.identifier,u=this.session.move[x];for(var m=o+1;m<h.length;m++){var l=h[m],w=l.identifier,s=this.session.move[w];var f=this.calculate(n,l),v=this.calculate(u,s);if(v-f>10){p=true}if(f-v>10){k=true}}}if(k){this.doZoomIn();return}if(p){this.doZoomOut();return}},initTargetTouches:function(g){var f=this.toArray(g.touches);this.targetIds=[];this.targetTouches=f.filter(function(k){var h=this.hasParent(k.target,this.domNode);if(h){this.targetIds.push(k.identifier)}return h},this)},getTargetTouches:function(h){var g=this.toArray(h.touches),k=[];g=g.concat(this.toArray(h.changedTouches));for(var f=0;f<g.length;f++){var l=g[f];if(this.contain(this.targetIds,l.identifier)){k.push(l)}}return k},hasParent:function(g,f){while(g){if(g===f){return true}g=g.parentNode}return false},toArray:function(f){return Array.prototype.slice.call(f,0)},contain:function(h,g){if(h==null){return false}for(var f=0;f<h.length;f++){if(h[f]==g){return true}}return false},calculate:function(k,g){var f=Math.abs(k.pageX-g.pageY),h=Math.abs(k.pageY-g.pageY);return Math.sqrt(f*f+h*h)},doZoomOut:function(){var l=d.getBox(document),f=e.getContentBox(this.content),g=f.w+50,k=f.h+10;a.set(this.content,"width",g+"px");a.set(this.content,"height",k+"px");a.set(this.container,"height",k+"px");this.echart.resize()},doZoomIn:function(){var l=d.getBox(document),f=e.getContentBox(this.content),g=f.w-50,k=f.h-10;if(g<=l.w){return}a.set(this.content,"width",g+"px");a.set(this.content,"height",k+"px");a.set(this.container,"height",k+"px");this.echart.resize()}})})},"sys/mobile/js/mui/property/filter/FilterSearch":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/_base/array","dojo/topic","dojo/dom-style","dojo/dom-class","./FilterBase"],function(f,a,h,b,e,g,d){return f("mui.property.FilterRadio",[d],{buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/property/filter/input/change","setInputValue")},renderInput:function(k){this.inputNode=a.create("input",{className:"filterItemInput",value:k[0]||""});a.place(this.inputNode,this.contentNode);this.connect(this.inputNode,"oninput","onChange")},startup:function(){var k=this;this.getValue(function(l){k.renderInput(l||[])})},onChange:function(k){b.publish(this.SET_EVENT,this,{name:this.name,value:[k.target.value]})},setInputValue:function(k){if(k){this.inputNode.value=""}else{return}}})})},"sys/mobile/js/mui/property/HashMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","mui/hash","mui/ChannelMixin"],function(d,f,b,e,a){return d("mui.property.HashMixin",[a],{startup:function(){this.inherited(arguments);if(e.matchPath(this.key)){var g=e.getQuery();if(g){this.values=this._removeOtherProps(this._removePrefix(g))}}},postCreate:function(){this.inherited(arguments);this.subscribe("/dojox/mobile/viewChanged","handleViewChanged")},handleViewChanged:function(g){if(!this.isSameChannel(g.key)){return}e.replaceQuery(this._addPrefix(this.values))},submit:function(){this.inherited(arguments);this.defer(function(){e.replaceQuery(this._addPrefix(this.values))},1)},_findPrefix:function(h){if(this.filters&&this.filters.length>0){for(var g=0;g<this.filters.length;g++){var k=this.filters[g];if(k.name===h&&typeof(k.prefix)!=="undefined"){return k.prefix?k.prefix+".":""}if(k.name===h){break}}}return"q."},_addPrefix:function(h){var k={};for(var l in h){var g=this._findPrefix(l)+l;k[g]=h[l]}return k},_removePrefix:function(h){var k={};for(var l in h){var m=new RegExp("^"+this._findPrefix(l));var g=l.replace(m,"");k[g]=h[l]}return k},_removeOtherProps:function(h){var k={};var g=f.hitch(this,function(n){if(n.indexOf("_prop_.")>-1){return true}if(!this.filters||this.filters.length==0){return false}for(var m=0;m<this.filters.length;m++){var o=this.filters[m];if(o.name===n){return true}}});for(var l in h){if(g(l)){k[l]=h[l]}}return k}})})},"sys/mobile/js/mui/fixed/Fixed":function(){define("mui/fixed/Fixed",["./ScrollableFixed","./NativeFixed"],function(a,b){return dojoConfig._native?b:a})},"sys/mobile/js/mui/tabbar/TabBar":function(){define(["dojo/_base/declare","dojox/mobile/TabBar","dojo/dom-class","dojo/dom-style","dojo/_base/lang","dojo/dom-geometry","dojo/_base/array","dojo/query","dojo/NodeList-dom","dojo/NodeList-traverse","dojo/topic"],function(e,g,n,k,a,b,l,m,d,h,f){return e("mui.tabbar.TabBar",[g],{fill:"always",resize:function(o){if(!this._resized){this.resizeByGrid(o)}},initWidth:60,intiDraftBtnWidth:0,startup:function(){this.inherited(arguments);f.publish("/mui/tabbar/TabBar/startup",this)},resizeByGrid:function(y){var s,x,u;var v=this;if(y&&y.w){x=y.w}else{x=b.getMarginBox(this.domNode).w;var q=Math.floor(x/4);if(!this.intiDraftBtnWidth){this.intiDraftBtnWidth=q}var t=this.getChildren().length;var o=t;l.forEach(this.getChildren(),function(z,w){if(z.domNode.className&&z.domNode.className.indexOf("muiSplitterButton")>0){if(!(z.totalCopies&&z.totalCopies>0&&z.proportion&&z.proportion>0)){x=x-b.getMarginBox(z.domNode).w;t=t-1}}if(z.domNode.className&&z.domNode.className.indexOf("muiBarFloatLeftButton")>0){x=x-v.initWidth;t=t-1}if(z.domNode.className&&z.domNode.className.indexOf("muiBarFloatRightButton")>0){x=x-v.initWidth;t=t-1}if(z.domNode.className&&z.domNode.className.indexOf("muiBarSaveDraftButton")>0){if(!z._resized){if(!q){q=this.intiDraftBtnWidth}z.domNode.style.width=q+"px"}x=x-q;t=t-1}if(k.get(z.domNode,"display")=="none"){t=t-1}})}n.toggle(this.domNode,"mblTabBarNoIcons",!l.some(this.getChildren(),function(z){return z.iconNode1}));n.toggle(this.domNode,"mblTabBarNoText",!l.some(this.getChildren(),function(z){return z.label}));n.add(this.domNode,"muiTabBarGrid");var p=x;if(x>0){p=x/t-2;let childNumWidth=0;let isChangeWidth=true;if(t>5){l.forEach(this.getChildren(),function(z,w){let doNodewidth=m(z.domNode)[0].offsetWidth;if(doNodewidth>200){isChangeWidth=false}})}else{isChangeWidth=false}m(".mblTabBarTabBar.mblTabBar>li").forEach(function(w){m(w).children("li")}).style("flex","none");l.forEach(this.getChildren(),function(z,w){let doNodewidth=m(z.domNode)[0].offsetWidth;childNumWidth+=doNodewidth});let emptyWidthAug=(x-childNumWidth)/t;l.forEach(this.getChildren(),function(z,w){let tempWidth;if(z.totalCopies&&z.totalCopies>0&&z.proportion&&z.proportion>0){p=(x/z.totalCopies*z.proportion);if((z.domNode.className.indexOf("muiSplitterButton")<0&&z.domNode.className.indexOf("muiBarFloatLeftButton")<0&&z.domNode.className.indexOf("muiBarFloatRightButton")<0&&z.domNode.className.indexOf("muiBarSaveDraftButton")<0)||z.domNode.className.indexOf("muiSplitterButton")>=0){z.domNode.style.width=(p)+"px"}}else{if(z.domNode.className.indexOf("muiSplitterButton")<0&&z.domNode.className.indexOf("muiBarFloatLeftButton")<0&&z.domNode.className.indexOf("muiBarFloatRightButton")<0&&z.domNode.className.indexOf("muiBarSaveDraftButton")<0){if(isChangeWidth){tempWidth=emptyWidthAug+m(z.domNode)[0].offsetWidth}else{tempWidth=p}z.domNode.style.width=(tempWidth)+"px"}}})}if(y&&y.w){b.setMarginBox(this.domNode,y)}}})})},"sys/mobile/js/mui/datetime/DatePicker":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/date/locale","dojo/date/stamp","dojox/mobile/SpinWheelDatePicker","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-attr"],function(e,m,o,l,a,p,n,d,b,m){var h=b["mui.datetime.week.shortName"].split(",");var q={minItems:12,format:function(t){return p.format(t,{datePattern:this.pattern,selector:"date"})},setColor:function(B,A,w){var v=this.flag=="date";var y=this.panelNodes.length;for(var x=0;x<y;x++){var t=this.panelNodes[x];var z=t.querySelectorAll(".mblSpinWheelSlotLabelBlue:not([data-mobile-val='"+B+"'])");l.forEach(z,function(D){var C=m.get(D,"data-mobile-val");if(D.innerHTML!=C){o.toggle(D,w||"mblSpinWheelSlotLabelBlue",false);D.innerHTML=C}});var u=t.querySelectorAll("[data-mobile-val='"+B+"']");l.forEach(u,function(E){var C=p.parse(B,{datePattern:this.pattern,selector:"date"});var D=p.format(C,{datePattern:this.disPattern,selector:"date"});D=D+'<span class="mblSpainWheelSlotLabelText">'+this.disText+"</span>";if(v){D=D+'<span class="mblSpainWheelSlotLabelWeek">'+h[A.getDay()]+"</span>"}if(E.innerHTML!=D){o.toggle(E,w||"mblSpinWheelSlotLabelBlue",true);E.innerHTML=D}},this)}}};var g=a.mixin({flag:"year",initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var v=new Date(this.labelFrom,0,1);var u,t;for(u=this.labelFrom,t=0;u<=this.labelTo;u++,t++){this["currYearFrom"]=u;v.setFullYear(u);this.labels.push(this.format(v))}}}},q);var f=a.mixin({flag:"month",initLabels:function(){this.labels=[];var u=new Date(2000,0,16);for(var t=0;t<12;t++){this["currMonthFrom"]=t;u.setMonth(t);this.labels.push(this.format(u))}}},q);var s=a.mixin({flag:"date",initLabels:function(){this.labels=[];var u=new Date(2000,0,1);for(var t=1;t<=31;t++){this["currDateFrom"]=t;u.setDate(t);this.labels.push(this.format(u))}}},q);var k=e("mui.datetime.DatePicker",[d],{yearPattern:"yyyy",monthPattern:"MM",dayPattern:"dd",disYearPattern:"yyyy",disMonthPattern:"MM",disDayPattern:"dd",disYearText:b["mui.datetime.year"],disMonthText:b["mui.datetime.month"],disDayText:b["mui.datetime.day"],slotProps:[{labelFrom:1899,labelTo:2099},{},{}],initSlots:function(){var u=this.slotClasses,t=this.slotProps;u[0]=e(u[0],g);u[1]=e(u[1],f);u[2]=e(u[2],s);t[0].pattern=this.yearPattern;t[1].pattern=this.monthPattern;t[2].pattern=this.dayPattern;t[0].disPattern=this.disYearPattern;t[1].disPattern=this.disMonthPattern;t[2].disPattern=this.disDayPattern;t[0].disText=this.disYearText;t[1].disText=this.disMonthText;t[2].disText=this.disDayText;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var t=p._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=l.map(t,function(u){return{y:0,m:1,d:2}[u.charAt(0)]});if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){this.slotOrder=[2,1,0]}},reset:function(){this.inherited(arguments);this._resetColors()},onYearSet:function(){this._resetColors()},onMonthSet:function(){this._resetColors()},onDaySet:function(){this._resetColors()},_setColorsAttr:function(t){var u=this.get("date");l.forEach(this.getSlots(),function(v,x){v.setColor&&v.setColor(t[x],u)})},_resetColors:function(){var t=this.get("values");this.set("colors",t)},_setValueAttr:function(w){var u=w;if(dojoConfig.locale=="en-us"&&w){var v=w.split("/");u=v[2]+"-"+v[0]+"-"+v[1]}if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)&&w){var v=w.split("/");u=v[2]+"-"+v[1]+"-"+v[0]}var t=new Date();if(u){t=n.fromISOString(u)}this.set("values",l.map(this.slots,function(x){return x.format(t)}))},_getValueAttr:function(){var t=this.get("date");if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){return p.format(t,{datePattern:"dd/MM/yyyy",selector:"date"})}if(dojoConfig.locale=="en-us"){return p.format(t,{datePattern:"MM/dd/yyyy",selector:"date"})}return n.toISOString(t,{selector:"date"})}});return k})},"sys/mobile/js/mui/property/filter/FilterStaticMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/request","dojo/dom-construct","dojo/dom-class","mui/util","./FilterItem"],function(e,h,k,g,b,f,a,d){return e("mui.property.FilterStaticMixin",null,{buildRendering:function(){this.inherited(arguments)},staticDataUrl:null,buildStaticRadio:function(){if(this.staticDataUrl){this.renderStatic()}else{this.renderItems()}},renderStatic:function(){var l=this;var m=a.formatUrl(this.staticDataUrl);g.get(m,{handleAs:"json",headers:{accept:"application/json"}}).response.then(function(n){var o=n.data;if(o&&o!=""&&o.options){l.drawStatic(o.options)}})},drawStatic:function(l){this.options=l;this.buildExpand();k.forEach(l,function(n,m){var o=new d(h.mixin({key:this.key},n));b.place(o.domNode,this.contentNode);if(this.value&&this.value.expr){if(this.value.expr==o.expr){f.add(o.domNode,this.selectedClass)}}else{if(h.isString(this.value)&&this.value===o.value){f.add(o.domNode,this.selectedClass)}if(h.isArray(this.value)&&this.value.indexOf(o.value)>=0){f.add(o.domNode,this.selectedClass)}}if(m>=6){f.add(o.domNode,this.overflowClass)}},this)}})})},"sys/mobile/js/mui/syscategory/syscategory_sgl":function(){define(["mui/syscategory/syscategory_common"],function(b){function a(f,e){var d=b.html(f);d+="<div data-dojo-type=\"mui/syscategory/SysCategorySelection\" data-dojo-props=\"required:{categroy.required},fdTmepKey:'{fdTmepKey}',key:'{categroy.key}',curIds:'{categroy.curIds}',curNames:'{categroy.curNames}',modelName:'{categroy.modelName}',isMul:{categroy.isMul},beforeSelectCateHistoryId:'{categroy.beforeSelectCateHistoryId}'\" fixed=\"bottom\"></div>";e(d)}return{load:function(f,d,e){a(f,e)}}})},"sys/mobile/js/mui/address/AddressGroupItemMixin":function(){define(["dojo/_base/declare","mui/address/AddressItemMixin"],function(a,d){var b=a("mui.address.AddressGroupItemMixin",[d],{showMore:function(){if(this.canShowMore==="false"){return false}if((this.type|window.ORG_TYPE_GROUP_CATE)==window.ORG_TYPE_GROUP_CATE){return true}if((this.type|window.ORG_TYPE_GROUP)==window.ORG_TYPE_GROUP){return true}return false}});return b})},"sys/mobile/js/mui/form/Select":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-class","mui/form/_SelectBase","dojo/dom-construct","mui/form/select/_StoreSelectMixin","mui/dialog/Dialog","dojo/parser","dojo/_base/array","dojo/_base/lang","dojo/topic","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(g,m,o,a,f,n,l,b,k,d,h,e){var p=g("mui.form.Select",[a,n],{value:"",text:"",type:"select",muiSingleRowViewClass:"muiSelInput",needToUpdateAttInDetail:["name","valueField"],mul:true,CHECK_CHANGE:"mui/form/checkbox/change",SELECT_CALLBACK:"mui/form/select/callback",value_s:[],showPleaseSelect:false,opt:true,startup:function(){this.inherited(arguments);this.valueField=this.name},renderListItem:function(){this.inherited(arguments)},closeDialog:function(s,q){if(!this.mul){if(q.name==(this.selectBoxPrefix+this.valueField)){this.set("value",q.value);this._closeDialog()}}else{if(s.params.name==(this.selectBoxPrefix+this.valueField)){var t=s.checked?"add":"remove";this[t+"Value"](s.value)}}},_DoneClick:function(){this.set("value",this.value_s.join(";"));this._closeDialog()},_clearClick:function(){this.set("value","");this.editValueSet("");this._closeDialog()},_closeDialog:function(){h.publish(this.SELECT_CALLBACK,this);if(this.dialog){this.dialog.hide();this.dialog=null}},buildRendering:function(){this.inherited(arguments)},_setTextAttr:function(q){this.inputContent.innerHTML=q;this.text=q},buildEdit:function(){this.inherited(arguments);this.selectNode=f.create("input",{name:this.name,type:"hidden",value:this.value},this.domNode);this.bindEvent()},buildReadOnly:function(){this.selectNode=f.create("input",{name:this.name,type:"hidden",readOnly:"readOnly",value:this.value},this.domNode)},buildHidden:function(){this.selectNode=f.create("input",{name:this.name,type:"hidden",value:this.value},this.domNode)},viewValueSet:function(q){if(q!=null&&q!=""){this.set("text",this.getTextByValue(q))}},editValueSet:function(q){if(q||!this.showPleaseSelect){o.add(this.domNode,"showTitle");this.set("text",this.getTextByValue(q))}else{this.set("text","")}this.selectNode.value=q},hiddenValueSet:function(q){this.editValueSet(q)},readOnlyValueSet:function(q){this.editValueSet(q)},addValue:function(q){if(this.value_s.indexOf(q)>=0){return}this.value_s.push(q)},removeValue:function(s){var q=this.value_s.indexOf(s);if(q<0){return}this.value_s.splice(q,1)},bindEvent:function(){this._clickHandle=this.connect(this.domNode,"click",function(q){this.defer(function(){this._onClick(q)},320)});this.subscribe(this.CHECK_CHANGE,"closeDialog")},_readOnlyAction:function(q){this.inherited(arguments);if(q){if(this._clickHandle){this.disconnect(this._clickHandle)}this._clickHandle=null}else{this._clickHandle=this.connect(this.domNode,"click",function(s){this.defer(function(){this._onClick(s)},320)})}},resizeTop:function(q){var u=q.htmlWdgts,v=0;var t=this.get("value").split(";");for(var s=0;s<u.length;s++){if(t[0]==u[s].value&&u[s].checked){if(u[s].checkboxNode.offsetTop<q.containerNode.clientHeight){break}else{if(this.contentNode.clientHeight-u[s].checkboxNode.offsetTop<q.containerNode.clientHeight){v=this.contentNode.clientHeight-q.containerNode.clientHeight}else{v=u[s].checkboxNode.offsetTop-(q.containerNode.clientHeight-u[s].checkboxNode.clientHeight)/2}}q.contentNode.scrollTop=v}}},_onClick:function(q){if(this.dialog){return}this.contentNode=f.create("div",{className:"muiCheckBoxPopWarp"});var t=f.create("ul",{className:"muiRadioGroupPopList"},this.contentNode);this.renderListItem(t);var s=[];if(this.mul){s=[{title:e["mui.button.cancel"],fn:d.hitch(this,this._closeDialog)},{title:e["mui.button.ok"],fn:d.hitch(this,this._DoneClick)},{title:e["mui.button.clear"],fn:d.hitch(this,this._clearClick)}]}this.dialog=l.element({canClose:false,element:this.contentNode,buttons:s,position:"bottom",scrollable:false,parseable:true,showClass:"muiFormSelect",callback:d.hitch(this,function(){h.publish(this.SELECT_CALLBACK,this);this.dialog=null}),onDrawed:d.hitch(this,function(u){this.resizeTop(u);if(this.mul){this.value_s=[];var v=this.value.split(";");for(var w=0;w<v.length;w++){if(v[w]!=""){this.value_s.push(v[w])}}}})})}});return p})},"sys/mobile/js/mui/form/CommonDialog":function(){define(["dojo/_base/declare","mui/form/Category","mui/commondialog/DialogSelectMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-construct","dojo/dom-attr","dojo/dom-class"],function(b,h,g,d,a,k,f){var e=b("mui.form.CommonDialog",[h,g],{});return e})},"sys/mobile/js/mui/form/editor/plugins/face/Plugin":function(){define(["dojo/_base/declare","dojo/dom-construct","sys/mobile/js/lib/emoji/emoji","dojo/dom-style","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/text!../tmpl/panelV.html","dojo/html","mui/util","dojo/topic","mui/form/editor/plugins/EditorPluginBaseMixin"],function(f,d,l,m,b,n,p,q,k,h,g,o){function a(w,u){var v=w.length;var t=[];while(v--){t[v]=u(w[v])}return t}function e(w){var v=[],u=0,x=w.length,y,t;while(u<x){y=w.charCodeAt(u++);if(y>=55296&&y<=56319&&u<x){t=w.charCodeAt(u++);if((t&64512)==56320){v.push(((y&1023)<<10)+(t&1023)+65536)}else{v.push(y);u--}}else{v.push(y)}}return v}function s(t){return a(t,function(v){var u="";if(v>65535){v-=65536;u+=String.fromCharCode(v>>>10&1023|55296);v=56320|v&1023}u+=String.fromCharCode(v);return u}).join("")}return f("mui.form.editor.plugins.face.Plugin",[o],{type:"face",icon:"mui-editor-face",event:function(t){this._faceShow(t)},_faceIsInit:false,constructor:function(t){this.inherited(arguments)},startup:function(){this.editor.formatContent.push(this._faceFormat)},_faceFormat:function(D){if(!D){return""}var G=D;var E=e(G);var t="";var u=l.getEmojiList();var z=false;for(var v=0;v<E.length;){var M=E[v];var O=false;var I=false;if(M>=57344&&M<58680){t=M.toString(16);O=true}else{if((M>=8598&&M<=8601)||(M==9664||M==9654)||(M==9194||M==9193)||(M>=9728&&M<=12953)||(M>=126976&&M<=128768)){t=M.toString(16);O=true;I=true}else{if(M==8419){if(v>0){var B=E[v-1];if(B==35||B>=48&&B<=57){O=true;I=true;--v;M=B}}}}}if(O){z=true;for(var K=0;K<u.length;++K){var A=u[K];for(var J=0;J<A.length;++J){var F=A[J];var x=0;var w=F[1];if(I){var C=(typeof w!="string");if(C&&v+w.length-1<E.length){for(var H=0;H<w.length;H++){var L=E[v+H].toString(16);if(L!=w[H]){x=0;break}else{x++}}}else{if(!C&&F[1]==t){x=1}}}else{if(!I&&F[0]==t){x=1}}if(x>0){var P="data:image/png;base64,"+F[2];var D='<img src="'+P+'"/>';var y=e(D);E.splice(v,x);for(var N=0;N<y.length;++N){E.splice(v,0,y[N]);++v}--v;break}}}}++v}if(z){return s(E)}return D},_faceBuildPanel:function(){var y="";var v=l.getEmojiList();for(var x=0;x<v.length;x++){var u=v[x];for(var w=0;w<u.length;w++){y+='<a href="javascript:;" class="muiEditorFaceItem"><img class="muiEditorFaceItemImg" src="data:image/png;base64,'+u[w][2]+'"></a>'}}var t=new k._ContentSetter({parseContent:true,cleanContent:true,node:this.faceNode,onBegin:function(){this.content=this.content.replace(/!{panel}/g,y);this.inherited("onBegin",arguments)}});t.set(q);t.tearDown()},show:function(){this.inherited(arguments);m.set(this.faceNode,{display:"block"});this.defer(function(){m.set(this.faceNode,{height:this.panelHeight})},1)},hide:function(){this.inherited(arguments);m.set(this.faceNode,{height:0});this.defer(function(){m.set(this.faceNode,{display:"none"})},200)},_faceShow:function(t){if(this._isShow){this.hide();return}this._isShow=true;if(this._falseIsInit){this.show();return}this.iconNode=t.target;this.faceNode=d.create("div",{className:"muiEditorFace"},this.editor.domNode,"last");var u=this.editor.domNode.offsetHeight;this.panelHeight="28rem";this.connect(this.faceNode,"click",b.hitch(this,function(v){this.editor.__textNode.blur();if(!this._faceFireClick()){return}var x=v.target;while(x){if(x.tagName=="IMG"){var y=n.get(x,"src");var w=d.create("img",{src:y,className:"muiEditorFaceImg","data-type":"face"});this.editor.insertElement(w);break}x=x.parentNode}}));this._faceBuildPanel();this.show();this._falseIsInit=true}})})},"sys/mobile/js/mui/loadingMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style"],function(d,a,e,b){return d("mui.loadingMixin",null,{isDestroy:false,buildLoading:function(g){this.loadingNode=a.create("div",{className:"muiLoadingTextContainer"},g);for(var f=0;f<3;f++){var h=a.create("div",{className:"muiLoadingText"},this.loadingNode);a.create("div",{className:"muiLoadingTextTitle"},h);a.create("div",{className:"muiLoadingTextContent",innerHTML:"<i></i><span></span>"},h)}this.muiLoadingTextBox=a.create("div",{className:"muiLoadingTextBox"},this.loadingNode);e.add(g,"loading");this.animation()},animation:function(){var f=this;this.timeout=setTimeout(function(){b.set(f.muiLoadingTextBox,{left:"100%"})},0);this.interval=setInterval(function(){b.set(f.muiLoadingTextBox,{transition:"all 0s ease","-webkit-transition":"all 0s ease"});b.set(f.muiLoadingTextBox,{left:"-110%"});setTimeout(function(){b.set(f.muiLoadingTextBox,{transition:"all 3s ease","-webkit-transition":"all 3s ease"});b.set(f.muiLoadingTextBox,{left:"100%"})},1)},3500)},destroyLoading:function(f){if(this.loadingNode){a.destroy(this.loadingNode);e.remove(f,"loading");clearTimeout(this.timeout);clearInterval(this.interval)}}})})},"sys/mobile/js/mui/list/TemplateItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/list/item/TemplateItemMixin"],function(b,d,a){return b("mui.list.TemplateItemListMixin",[d],{itemTemplateString:null,itemRenderer:a})})},"sys/mobile/js/mui/property/filter/FilterDatetime":function(){define(["dojo/_base/declare","dojo/_base/lang","mui/property/filter/FilterBase","dojo/dom-construct","dojo/_base/array","dojo/topic","dojo/text!./datetime/tmpl.tmpl","dojo/html","mui/util","./FilterItem","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/dialog/Tip"],function(h,d,g,f,o,m,p,l,k,b,e,a,q){var n=h("mui.property.FilterDatetime",[g],{types:["Date","Time","DateTime"],buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/form/datetime/change","onChange");this.subscribe(this.SET_EVENT,"onValueSet");this.renderItems();this.pickerNode=f.create("li",{className:"filterItemPicker"},this.contentNode,"last");this.pickerWrapperNode=f.create("div",{className:"filterItemPicker_wrapper"},this.pickerNode);f.create("span",{className:"filterItemPicker_split"},this.pickerNode)},getDate:function(){var s=new Date();return new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999)},buildOptions:function(){var s=[];var v="";switch(this.type){case"date":v=dojoConfig.Date_format;break;case"time":v=dojoConfig.Time_format;break;case"datetime":v=dojoConfig.DateTime_format;break;default:break}if(!v){return[]}var u=this.getDate();var t=this.getDate();t.setDate(u.getDate()-7);s.push({name:e["mui.data.volume.week"],value:[k.formatDate(t,v),k.formatDate(u,v)]});u=this.getDate();t=this.getDate();t.setMonth(u.getMonth()-1);s.push({name:e["mui.data.volume.month"],value:[k.formatDate(t,v),k.formatDate(u,v)]});u=this.getDate();t=this.getDate();t.setMonth(u.getMonth()-3);s.push({name:e["mui.data.volume.three.month"],value:[k.formatDate(t,v),k.formatDate(u,v)]});u=this.getDate();t=this.getDate();t.setMonth(u.getMonth()-6);s.push({name:e["mui.data.volume.harf.a.year"],value:[k.formatDate(t,v),k.formatDate(u,v)]});u=this.getDate();t=this.getDate();t.setYear(u.getFullYear()-1);s.push({name:e["mui.data.volume.year"],value:[k.formatDate(t,v),k.formatDate(u,v)]});return s},onValueSet:function(u,s){if(!s){return}if(s.name==this.name){var t=s.value;if(this.startWidget){this.startWidget.set("value",t[0]||"")}if(this.endWidget){this.endWidget.set("value",t[1]||"")}}},renderItems:function(){var s=this.buildOptions();o.forEach(s,function(t){var u=new b(d.mixin({key:this.key,compareValue:function(y,x){if(y.length!==x.length){return false}var w,v=y.length;for(w=0;w<v;w++){if(y[w]!=x[w]){return false}}return true},resolveValue:function(v,w){return v?[]:w}},t));f.place(u.domNode,this.contentNode);if(this.value==t){domClass.add(u.domNode,this.selectedClass)}},this)},startup:function(){this.inherited(arguments);var s=this;this.getValue(function(u){var w=o.filter(s.types,function(x){return x.toLowerCase()==s.type},s);if(w.length==0){return}var v=u||[];var t=new l._ContentSetter({parseContent:true,cleanContent:true,node:s.pickerWrapperNode,onBegin:function(){this.content=d.replace(this.content,{type:w[0],name:s.name,value1:v.length>0?v[0]||"":"",value2:v.length>1?v[1]||"":""});this.inherited("onBegin",arguments)}});t.set(p);t.parseDeferred.then(d.hitch(s,function(x){s.startWidget=x[0];s.endWidget=x[1]}));t.tearDown()})},validateDate:function(s){if(s.value!=""){if(s.dateType=="start"){this.startTime=new Date(s.value)}else{if(s.dateType=="end"){this.endTime=new Date(s.value)}}}if(this.startTime&&this.endTime){if(this.startTime-this.endTime>0){s.contentNode.innerText="";q.fail({text:a["mui.datetime.validate.compare.fail"]});return false}}return true},onChange:function(v,u){if(v&&v.valueField!=this.name){return}var t=this.value;if(!u){if(v==this.startWidget){t[0]=v.value}if(v==this.endWidget){t[1]=v.value}if(t[0]==undefined){t[0]=""}if(t[1]==undefined){t[1]=""}}else{t=new Array()}var s=this.getChildren();o.forEach(s,function(x,w){if(x.compareValue){if(x.compareValue(x.value,this.value)){x.selected()}else{x.unSelected()}}},this);if(t[0]!=""||t[1]!=""){m.publish(this.SET_EVENT,this,{name:this.name,value:t})}}});return n})},"sys/mobile/js/mui/property/ImportantFilterItem":function(){},"sys/mobile/js/mui/table/toggle/ScrollableView":function(){define(["./View","./NativeView"],function(b,a){return dojoConfig._native?a:b})},"sys/mobile/js/mui/header/NavHeaderHashMixin":function(){define(["dojo/_base/declare","mui/hash"],function(a,b){return a("mui.header.NavHeaderHashMixin",[],{ensureloadIndex:function(){var d=null;if(!b.canHash()){return d}var f=b.getPath();if(f&&f.length>0){var e=Number(f[0]);return isNaN(e)?d:e}return d}})})},"sys/mobile/js/mui/view/NativeDocView":function(){define(["dojo/_base/declare","mui/NativeView","dojo/topic","./AddBottomTipMixins"],function(d,a,b,e){return d("mui.view.NativeDocView",[a,e],{buildRendering:function(){this.inherited(arguments);this.addBottomTip(this.containerNode);window.addEventListener("scroll",this.scrollEvent.bind(this));this.subscribe("/mui/list/toTop","toTop")},toTop:function(m,s){var p=0;if(s){p=s.y||0}var k=-p;var g=this.getPos().y;var q=k-g;var u=300;var o=30;var n=10;var h=q/n;var l=0;var f=window.setInterval(function(){if(l<=n-1){g+=h;l++;window.scrollTo(0,g)}else{window.clearInterval(f)}},o)},scrollEvent:function(){var f=this.getPos().y;if(f>=50){b.publish("mui/view/showTop")}else{b.publish("mui/view/hideTop")}},handleToTopTopic:function(g,f){if(window.console){window.console.log("function is null")}}})})},"sys/mobile/js/mui/nav/HeaderMoreItem":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/topic","dojo/dom-construct","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/query","dojo/_base/array"],function(b,g,d,a,h,l,e,k,f){return b("mui.nav.HeaderMoreItem",[g],{baseClass:"muiHeaderMoreItem",hideIcon:"muis-tab-open",showIcon:"muis-tab-close",icon:"fontmuis",index:-1,buildRendering:function(){this.inherited(arguments);this.moreNode=a.create("div",{className:"moreNode"},this.domNode);this.moreNodeIcon=a.create("div",{className:this.icon+" "+this.hideIcon},this.moreNode);this.connect(this.moreNode,"onclick","_showMorePanel");a.create("div",{className:"muiMoreSplit"},this.moreNode);this.moreNodeContainerWrap=a.create("div",{className:"moreNodeWrap",style:{display:"none"}},this.domNode);this.connect(this.moreNodeContainerWrap,"onclick","_hideMoreNode");this.moreNodeContainer=a.create("ul",{className:"moreNodeContainer muiFontSizeMS"},this.moreNodeContainerWrap);this.subscribe("/mui/nav/onMoreComplete","handleNavOnMoreComplete");this.subscribe("/mui/navitem/_moreSelected","handleNavItemMoreSelected");this.subscribe("/mui/folder/show","_hideMoreNode")},handleNavItemMoreSelected:function(m){this.index=m;this._setSelectedItem()},_setSelectedItem:function(){if(this.index!=-1){this._removeAllMoreStatus();var m=this;var n=k(".moreItem",this.moreNodeContainer);f.forEach(n,function(o){if(h.get(o,"data_index")==m.index){l.add(o,"selected")}})}},_showMorePanel:function(m){if(l.contains(this.moreNode,"selected")){this._hideMoreNode()}else{this._showMoreNode()}},_showMoreNode:function(){l.add(this.moreNode,"selected");l.replace(this.moreNodeContainerWrap,"expanded","unExpanded");e.set(this.moreNodeContainerWrap,{display:"block"});l.replace(this.moreNodeIcon,this.showIcon,this.hideIcon)},_hideMoreNode:function(){l.remove(this.moreNode,"selected");l.replace(this.moreNodeContainerWrap,"unExpanded","expanded");e.set(this.moreNodeContainerWrap,{display:"none"});l.replace(this.moreNodeIcon,this.hideIcon,this.showIcon)},_removeAllMoreStatus:function(){var m=k(".moreItem",this.moreNodeContainer);f.forEach(m,function(n){l.remove(n,"selected")})},handleNavOnMoreComplete:function(m){this.generateItemList(m);this._setSelectedItem()},_createMoreItem:function(m){var n=a.create("li",{className:"moreItem",data_index:m.value},this.moreNodeContainer);this.connect(n,"onclick",function(p){this._hideMoreNode();var o=h.get(n,"data_index");d.publish("/mui/nav/moreItemChange",o)});a.create("span",{className:"moreItemTxt",innerHTML:m.text},n)},generateItemList:function(m){if(m.length<3){e.set(this.domNode,{display:"none"})}else{e.set(this.domNode,{display:"table-cell"});f.forEach(m,function(n){this._createMoreItem(n)},this)}}})})},"sys/mobile/js/mui/category/FavoriteCateMixin":function(){define(["dojo/_base/declare","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,b){return a("mui.category.FavoriteCateMixin",null,{memory:[{moveTo:"favoriteCateView",text:b["mui.mobile.favoriteCateView"],selected:true},{moveTo:"allCateView",text:b["mui.mobile.allCateView"]}]})})},"sys/mobile/js/mui/nav/_StaticNavBarMixin":function(){define("mui/nav/_StaticNavBarMixin",["dojo/_base/declare","dojo/dom-style","dojox/mobile/_StoreMixin","dojo/_base/array","./NavItem","mui/store/JsonRest","mui/util"],function(h,g,e,k,a,f,d){var b=h("mui.nav._StaticNavBarMixin",e,{itemRenderer:a,key:"",defaultUrl:"",memory:null,buildRendering:function(){this.inherited(arguments)},onComplete:function(l){this.generateList(l);this._shareNav();if(this.selectedItem){this.selectedItem.setSelected();if(this.selectedItem.moveTo){this.selectedItem.defaultClickAction({})}}},_shareNav:function(){var p=this.containerNode.offsetWidth,m=this.domNode.offsetWidth;if(p>m){return}var o=this.getChildren();var l=0;k.forEach(o,function(s){var q=s.domNode;l+=q.offsetWidth});var n=(p-l)/(o.length*2);k.forEach(o,function(s){var q=s.domNode;g.set(q,{"margin-left":n+"px","margin-right":n+"px"})})},generateList:function(l){k.forEach(l,function(n,m){if(m==0){this.addFirstChild(this.createListItem(n));return}this.addChild(this.createListItem(n));if(n[this.childrenProperty]){k.forEach(n[this.childrenProperty],function(p,o){this.addChild(this.createListItem(p))},this)}},this)},selectedItem:null,addFirstChild:function(l){this.addChild(l)},createListItem:function(l){var l=new this.itemRenderer(this._createItemProperties(l));if(l.selected===true){this.selectedItem=l}return l},_createItemProperties:function(l){return l},startup:function(){if(this._started){return}if(this.memory){this.defer(function(){this.onComplete(this.memory)},1)}else{if(!this.store&&!this.defaultUrl){return}if(!this.store&&this.defaultUrl){var l=new f({idProperty:"fdId",target:d.formatUrl(this.defaultUrl)})}else{l=this.store}this.store=null;this.setStore(l,this.query,this.queryOptions)}this.inherited(arguments)}});return b})},"sys/mobile/js/mui/property/FilterDialogButtonMixin":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/query","dojo/dom-class","dojo/topic","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(d,f,a,g,e,b,h){return d("mui.property.FilterDialogButtonMixin",null,{buildDialogButton:function(){var l=a.create("div",{className:"filterlayer_bottom_buttons"});var k=a.create("div",{className:"filterlayer_bottom_button bg_1",innerHTML:h["mui.button.reset"]},l);this.connect(k,"onclick","reset");var m=a.create("div",{className:"filterlayer_bottom_button bg_2",innerHTML:h["mui.button.ok"]},l);this.connect(m,"onclick","submit");return l}})})},"sys/mobile/js/mui/form/DateTime":function(){define(["dojo/_base/declare","mui/form/_SelectBase","dojo/query","mui/datetime/_DateMixin","mui/datetime/_DateMixin7","mui/datetime/_TimeMixin","mui/datetime/_DateTimeMixin","dojo/_base/lang","dojo/topic","mui/form/_CompositeContainedMixin"],function(h,a,l,m,e,g,n,b,k,d){var o=h("mui.form.DateTime",[a,d],{needToUpdateAttInDetail:["valueField","nameField"],nameField:null,value:"",VALUE_CHANGE:"/mui/form/datetime/change",opt:true,tipMsg:"",optClass:"muis-to-right",muiSingleRowViewClass:"muiSelInput",isValidate:false,dimension:"",buildRendering:function(){this.inherited(arguments);if(this.getParent()){if(this.getParent().validateDate){this.isValidate=true}}},_setValueAttr:function(p){var s=p!=this.value;this.inherited(arguments);var q=true;if(this.isValidate){if(this.getParent().validateDate(this)){if(s){k.publish(this.VALUE_CHANGE,this)}}}else{if(s){k.publish(this.VALUE_CHANGE,this)}}}});var f={selectDate7:function(t,p,u,w,s){var v=l('[name="'+p+'"]');if(v.length==0){return}var q=new h([o,e])({valueDom:v[0],value:v[0].value});q.openDateTime()},selectDate:function(t,p,u,w,s){var v=l('[name="'+p+'"]');if(v.length==0){return}var q=new h([o,m])({valueDom:v[0],value:v[0].value});q.openDateTime()},selectTime:function(t,p,u,w,s){var v=l('[name="'+p+'"]');if(v.length==0){return}var q=new h([o,g])({valueDom:v[0],value:v[0].value});q.openDateTime()},selectDateTime:function(t,p,u,w,s){var v=l('[name="'+p+'"]');if(v.length==0){return}var q=new h([o,n])({valueDom:v[0],value:v[0].value});q.openDateTime()}};return b.mixin(o,f)})},"sys/mobile/js/mui/address/AddressDeptMember":function(){define(["dojo/_base/declare","dojo/topic","dijit/_WidgetBase","dojo/dom-construct","dojox/mobile/TransitionEvent","mui/device/adapter","mui/history/listener","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,g,e,d,k,l,a,h,b){return f("mui.address.AddressDeptMember",[e],{buildRendering:function(){var n=this;this.inherited(arguments);if((this.selType&window.ORG_TYPE_PERSON)!=window.ORG_TYPE_PERSON){return}this.dom=d.create("div",{className:"muiAddressItem muiUsualDeptMember"},this.domNode);var m=d.create("div",{className:"muiAddressItemIcon"},this.dom);d.create("img",{src:h.formatUrl("/sys/mobile/css/themes/default/images/address-deptmember.png")},m);d.create("div",{className:"muiAddressItemName",innerHTML:b["mui.mobile.address.deptMember"]},this.dom);var o=d.create("div",{className:"muiAddressItemMore"},this.dom);d.create("i",{className:"mui mui-forward"},o)},startup:function(){this.inherited(arguments);this.dom&&this.connect(this.dom,"click","openView")},openView:function(){var n;var m=this;a.push({forwardCallback:function(){n=document.title;g.publish("/mui/address/swapView",m,{viewKey:"deptMember"});new k(document.body,{moveTo:"deptMemberView_"+m.key}).dispatch();l.setTitle(b["mui.mobile.address.deptMember"])},backCallback:function(){g.publish("/mui/address/swapView",m,{viewKey:"default"});new k(document.body,{moveTo:"defaultView_"+m.key}).dispatch();if(n){l.setTitle(n);n=null}}})}})})},"sys/mobile/js/mui/syscategory/FavoriteCategoryList":function(){define(["dojo/_base/declare","mui/category/CommonCategoryList"],function(b,a){return b("mui.syscategory.FavoriteCategoryList",[a],{modelName:null,dataUrl:"/sys/person/sys_person_favorite_category/sysPersonFavoriteCategory.do?method=favorite&modelName=!{modelName}"})})},"sys/mobile/js/mui/person/PersonList":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/_base/array","dojo/text!./person_list.tmpl","dojo/request","dojo/query","dojo/dom-geometry","dojo/dom-construct","dojo/dom-style","dojox/mobile/TransitionEvent","mui/util","mui/person/PersonDetailMixin","mui/device/adapter"],function(f,d,q,k,o,e,m,a,b,h,l,g,p,n){return f("mui.person.PersonList",[d,q,p],{personId:null,defaultUrl:"/sys/organization/mobile/address.do?method=personList",title:"",url:"",templateString:o,total:0,buildRendering:function(){this.inherited(arguments);if(this.personId&&!this.url){this.url=this.defaultUrl}else{m(".personMore",this.domNode)[0].style.display="none"}},startup:function(){this._request({});this._bindEvent();if(!this.title){b.destroy(this.personListTitleNode)}},_request:function(t){var s=this;if(this.url){var w=m(".personList",this.domNode)[0].offsetWidth,v=a.getMarginSize(m(".personMore",this.domNode)[0]).w;var u=parseInt(w/v)-1;t.count=u;t.rowsize=u;if(this.personId){t.personId=this.personId}e.post(g.formatUrl(this.url),{handleAs:"json",data:t}).response.then(function(x){if(x.status=="200"){s._render(x)}})}},_render:function(s){var v=s.data;var u=0;if(v&&v.list){this._buildingDom(v.list);if(v.total){this.total=v.total}u=this.total-v.list.length}else{if(v&&v.page){this.total=v.page.totalSize;var t=this.formatDatas(v.datas);this._buildingDom(t);u=this.total-t.length}}if(u>0){m(".personMore",this.domNode)[0].style.display=""}else{m(".personMore",this.domNode)[0].style.display="none"}if(this.title){m(".personTotal",this.domNode)[0].innerHTML=this.total}},_buildingDom:function(v){for(var t=0;t<v.length;t++){var s=b.create("div",{className:"staffCell"},this.personListNode);var u=g.formatUrl(v[t].src);b.create("span",{style:{background:"url("+u+") center center no-repeat",backgroundSize:"cover",display:"inline-block"}},s);b.create("span",{className:"name",innerHTML:v[t].name},s);this.connect(s,"click",(function(w){return function(){n.openUserCard({ekpId:v[w].fdId})}})(t))}},_bindEvent:function(){if(this.personMoreNode){this.connect(this.personMoreNode,"click","onMoreClick")}},onMoreClick:function(){if(this.moveTo){var s={transition:"slide",moveTo:this.moveTo};new l(this.personMoreNode,s).dispatch()}else{if(this.href){location.href=g.formatUrl(this.href)}else{if(this.detailUrl){this.openDeatailView()}}}},formatDatas:function(s){var u=[];for(var w=0;w<s.length;w++){var v=s[w];u[w]={};for(var t=0;t<v.length;t++){u[w][v[t].col]=v[t].value}}return u}})})},"sys/mobile/js/mui/simplecategory/SimpleCategorySelection":function(){define(["dojo/_base/declare","mui/category/CategorySelection","dojo/dom-construct","dojo/dom-class","dojo/request","mui/util","dojo/_base/lang","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(g,k,e,l,f,h,a,d,b){var m=g("mui.simplecategory.SimpleCategorySelection",[k],{modelName:null,max:3,required:false,pathUrl:"/sys/category/mobile/sysSimpleCategory.do?method=pathList&cateId=!{curId}&modelName=!{modelName}&fdTmepKey=!{fdTmepKey}",detailUrl:"/sys/category/mobile/sysSimpleCategory.do?method=detailList&cateId=!{curIds}&modelName=!{modelName}&fdTmepKey=!{fdTmepKey}",buildIcon:function(){return null},_buildSelItem:function(){var n=this.inherited(arguments);l.add(n,"muiCategorySItem");return n},startup:function(){this.inherited(arguments);if(!this.isMul){l.add(this.leftArea,"muiCateSecBtnDis");if(!this.required){this.clearButtonNode.innerHTML=d["mui.button.reset"]}}},_resizeSelection:function(){if(!this.isMul){var n=this.cateSelArr;var o="";if(n.length>0){l.remove(this.buttonNode,"muiCateSecBtnDis");if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}o=n[0].label;this.clearButtonNode.className="muiCateClearBtn";if(this.clearHandle==null){this.clearHandle=this.connect(this.clearButtonNode,"click",a.hitch(this,function(){this._clearSelItem(this);this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}}))}}else{this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}if(this.required){l.add(this.buttonNode,"muiCateSecBtnDis");if(this.subHandle){this.disconnect(this.subHandle);this.subHandle=null}}else{if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}}}if(o){o=b["mui.mobile.sysMobile.simpleCategory.selected"]+"："+o}this.leftArea.innerHTML=o;return}this.inherited(arguments)},buildDesc:function(p,o){var n=h.urlResolver(this.pathUrl,{modelName:this.modelName,curId:o.fdId});n=h.formatUrl(n);var q=f.post(n,{handleAs:"json"});q.then(a.hitch(this,function(t){var w=e.create("div",{className:"muiCateSecItemDesc"},p);var s=t.length;var u=0;for(var v=s-1;v>=0;v--){if(u>=this.max){break}e.create("div",{innerHTML:t[v].label},w,"first");u++}}))}});return m})},"sys/mobile/js/mui/form/Label":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-class","dojo/dom-construct","mui/form/_FormBase"],function(d,f,e,a,g){var b=d("mui.form.Label",[g],{baseClass:"muiFormEleWrap showTitle",value:null,showStatus:"view",buildRendering:function(){this.inherited(arguments);if(this.value){this.labelNode=a.create("div",{className:"muiSelLabel",innerHTML:this.value},this.domNode)}}});return b})},"sys/mobile/js/mui/list/JsonStoreList":function(){define(["dojo/_base/declare","dojox/mobile/EdgeToEdgeStoreList","./_JsonStoreListMixin","mui/list/_ListNoDataMixin"],function(b,a,d,e){return b("mui.list.JsonStoreList",[a,d,e],{})})},"sys/mobile/js/mui/address/AddressCategoryPath":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/topic","dojo/request","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/query","dojox/mobile/ScrollableView","mui/category/ScrollableCategoryPath","mui/util","./AddressChannelMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(h,a,o,m,g,f,n,q,t,b,p,s,l,k,e,d){return h("mui.syscategory.AddressCategoryPath",[l,e],{visible:true,detailUrl:"/sys/organization/sys_org_element/sysOrgElement.do?method=getParentOrgs&fdId=!{curId}&isEcoPath=!{isEcoPath}&noPath=!{noPath}&deptLimit=!{deptLimit}",titleNode:d["mui.mobile.address.allCate"],buildRendering:function(){if(this._started){return}this.inherited(arguments);t.add(this.domNode,"muiAddressPath");this.arrowNode=f.create("div",{className:"muiAddressPathArrow"},this.domNode);f.create("i",{className:"muiAddressPathArrowIcon"},this.arrowNode)},postCreate:function(){this.inherited(arguments);this.connect(this.arrowNode,"click","_toggleExpand")},_createScrollNode:function(){this.scroll=new s({scrollBar:false,scrollDir:"h",height:"3rem"});this.addChild(this.scroll)},_createPath:function(u){var v=p(".muiAddressPathItemExpand",this.domNode);o.forEach(v,function(w){f.destroy(w)},this);this.inherited(arguments);q.set(this.containerNode,"data-length",u.length);if(!this.visible){n.set(this.domNode,"display","none")}t.toggle(this.domNode,"hasExpand",false);this._resizePath()},_resizePath:function(){var u=this._hasExpand();if(u){n.set(this.scroll.domNode,"display","none");var w=this.scroll.containerNode;while(w.firstElementChild){var v=w.firstElementChild;t.add(v,"muiAddressPathItemExpand");f.place(v,this.containerNode,"last")}}else{var x=p(".muiAddressPathItemExpand",this.domNode);o.forEach(x,function(y){t.remove(y,"muiAddressPathItemExpand");f.place(y,this.scroll.containerNode,"last")},this);n.set(this.scroll.domNode,"display","block")}t.toggle(this.domNode,"canExpand",this._hasExpand()||this._canExpand())},_canExpand:function(){var v=b.getContentBox(this.scroll.containerNode).w;var u=b.getContentBox(this.scroll.domNode).w;return v>u},_hasExpand:function(){return t.contains(this.domNode,"hasExpand")},_toggleExpand:function(){t.toggle(this.domNode,"hasExpand",!this._hasExpand());this._resizePath()},_chgHeaderInfo:function(v,u){if(this.isSameChannel(v)){this.inherited(arguments)}},resize:function(){this.inherited(arguments);this._resizePath()}})})},"sys/mobile/js/mui/datetime/_EditDateTimeMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/registry","dojo/query","mui/dialog/Dialog","dojo/dom-style","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(g,b,e,h,a,f,k){var d=g("mui.datetime._EditDateTimeMixin",null,{edit:true,type:"",tmplURL:null,mixinId:null,title:"",value:"",canClear:true,_contentExtendClass:null,showClass:"muiDateTimeShow",getMixinIds:function(){if(this.mixinIds){return this.mixinIds}if(this.type=="date"||this.type=="time"){this.mixinIds=["_"+this.type+"_picker"]}else{this.mixinIds=["_date_picker","_time_picker"]}return this.mixinIds},setDateTimeValue:function(o){var m=this.getMixinIds();if(m.length>0){if(m.length==1){e.byId(m[0]).set("value",o)}else{var n=this.splitValue();for(var l=0;l<m.length;l++){e.byId(m[l]).set("value",n[l])}}}},getDateTimeValue:function(){var m=this.getMixinIds();var n="";if(m.length>0){if(m.length==1){n=e.byId(m[0]).get("value")}else{var o=[];for(var l=0;l<m.length;l++){o.push(e.byId(m[l]).get("value"))}n=o.join(" ")}}return n},getDialogDiv:function(){var l=h(".muiDateTimeDialogContent",this.dialog);return l.length>0?l[0]:null},openDateTime:function(l){var n=this;var m=this.tmplStr;if(n.dialog){return}n.dialog=b.create("div",{className:"muiDateTimeDialog "+n.showClass});n.dialogContentDiv=b.create("div",{className:"muiDateTimeDialogContent"+(n._contentExtendClass?" "+n._contentExtendClass:"")},n.dialog);var p=n.splitValue();n.dialogContentDiv.innerHTML=m.replace("!{dateValue}",p[0]).replace("!{timeValue}",p[1]).replace("!{minuteStep}",n.params.minuteStep||"");var o=[{title:k["mui.button.cancel"],fn:function(q){q.hide()}},{title:k["mui.button.ok"],fn:function(q){var s=n.getDateTimeValue();n.set("value",s);q.hide()}}];if(n.canClear){o.push({title:k["mui.button.clear"],fn:function(q){n.set("value","");q.hide()}})}a.element({element:n.dialog,scrollable:false,parseable:true,position:"bottom",showClass:"muiFormDateTime",canClose:false,buttons:o,callback:function(){n.destroyDialog()}})},splitValue:function(){var l=["",""];if(this.value==null||this.value==""){return l}if(this.type=="date"||this.type=="week"){l[0]=this.value}else{if(this.type=="time"){l[1]=this.value}else{l=this.value.split(" ")}}if(l.length<2){l=["",""]}return l},destroyDialog:function(){if(this.dialog){b.destroy(this.dialog);this.dialog=null}},editValueSet:function(l){if(this.valueDom){this.valueDom.value=l}this.inputContent.innerHTML=l;this.valueDom.value=l},hiddenValueSet:function(l){},viewValueSet:function(l){this.inputContent.innerHTML=l},readOnlyValueSet:function(l){this.editValueSet(l)},buildEdit:function(){this.inherited(arguments);this.valueDom=b.create("input",{readonly:"readonly",name:this.valueField,type:"hidden"},this.domNode,"first");if(this.domNode){this.domNodeOnClickEvent=this.connect(this.domNode,"click",this.domNodeClick)}},_readOnlyAction:function(l){this.inherited(arguments);if(l){if(this.domNodeOnClickEvent){this.disconnect(this.domNodeOnClickEvent)}this.domNodeOnClickEvent=null}else{this.domNodeOnClickEvent=this.connect(this.domNode,"click",this.domNodeClick)}},domNodeClick:function(){this.openDateTime()},buildReadOnly:function(){this.valueDom=b.create("input",{readonly:"readonly",name:this.valueField,type:"hidden"},this.domNode,"first")},buildView:function(){},buildHidden:function(){this.buildReadOnly();f.set(this.domNode,{display:"none"})},_getNameAttr:function(){return this._get("valueField")}});return d})},"sys/mobile/js/mui/i18n/i18nItem":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dijit/_WidgetBase","dojo/dom-construct","mui/i18n/i18nUtils","dojo/topic"],function(f,h,e,g,b,a,d){return f("mui.i18n.i18nItem",[g],{bundle:null,key:null,buildRendering:function(){this.inherited(arguments);e.set(this.domNode,"display","inline")},startup:function(){a.queue(this.bundle+":"+this.key);d.subscribe("mui.i18n.complete",h.hitch(this,this.i18nComplete))},i18nComplete:function(k){k=k||{};var l=k[this.bundle+":"+this.key];this.domNode.innerHTML=l}})})},"sys/mobile/js/mui/panel/NavPanel":function(){define("mui/panel/NavPanel",["dojo/_base/declare","dojo/_base/lang","dojo/store/Memory","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/topic","dojo/query","dojo/window","dojo/dom-geometry","dijit/registry","mui/panel/AccordionPanelMixin","mui/fixed/Fixed","mui/fixed/FixedItem","mui/panel/NavPanelBar","mui/panel/DelayContent"],function(l,f,q,k,t,o,m,s,n,g,a,e,b,d,h,p){return l("mui.panel.NavPanel",[e],{navBarHeight:"4.4rem",selectedNavIndex:0,fixedOrder:0,startup:function(){this.inherited(arguments);var u=[];if(this.contentList){for(var w=0;w<this.contentList.length;w++){var A=this.contentList[w].claz;var z={text:A.title,key:w};u.push(z)}}if(u.length>1){var y=this.titleList[0];o.set(y,"display","none");var x=k.create("div",{className:"muiAccordionVirtualTitleLine"});k.place(x,y,"before");this.titleList[0]=x;var v=new q({data:u});this.fixed=new b({fixedOrder:this.fixedOrder});k.place(this.fixed.domNode,this.domNode,"first");this.fixedItem=new d({baseClass:"muiFlowFixedItem"});k.place(this.fixedItem.domNode,this.fixed.domNode,"first");this.navPanelBar=new h({store:v,height:this.navBarHeight});k.place(this.navPanelBar.domNode,this.fixedItem.domNode,"first");this.fixed.startup();this.fixedItem.startup();this.navPanelBar.startup();if(this.buildOtherItems){this.buildOtherItems()}this.bindNavPanelListener()}},bindNavPanelListener:function(){this.handleScrollEventFunc=f.hitch(this,"handleScrollEvent");this.defer(function(){this.subscribe("/mui/navitem/_selected","handleNavChanged");window.addEventListener("scroll",this.handleScrollEventFunc)},500);this.subscribe("/mui/panel/navPanel/scroll","handleNavPanelScroll");this.defer(function(){var u=this.navPanelBar.getChildren()[this.selectedNavIndex];m.publish("/mui/navitem/changedSelected",u,{key:this.selectedNavIndex})},50);this.defer(function(){var w=this.getSelectedNavIndex();for(var u=0;u<this.contentList.length;u++){if(u<=w){var v=this.contentList[u].claz;if(v instanceof p){v.isInFirstScreen=true;m.publish("/mui/panel/delayContent/init",v)}}}},100)},handleNavChanged:function(y,A){var w=this.navPanelBar.getChildren();if(w&&w.length>0){var u=false;for(var v in w){if(w[v]==y){u=true}}if(!u){return}}else{return}var z=this.contentList[A.index].claz;if(z instanceof p){m.publish("/mui/panel/delayContent/init",z)}var x=this.titleList[A.index];this._scrollToNode(x);this.selectedNavIndex=A.index},handleNavPanelScroll:function(u,v){if(u==this&&v&&v.target){this._scrollToNode(v.target)}},_scrollToNode:function(y){var x=g.getContentBox(y).t;var v=n.getBox().t;var u=this;var w=10;if(x>v){window.removeEventListener("scroll",u.handleScrollEventFunc);var z=setInterval(function(){x=u._getToWinTop(y);if(x-v<=w||v>=document.documentElement.scrollHeight){u._setScrollTop(x);clearInterval(z);setTimeout(function(){window.addEventListener("scroll",u.handleScrollEventFunc)},100)}else{v+=w;u._setScrollTop(v);if(w<50){w++}}},1)}else{if(x<v){window.removeEventListener("scroll",u.handleScrollEventFunc);var z=setInterval(function(){x=u._getToWinTop(y);if(v-x<=w||v<=0){u._setScrollTop(x);clearInterval(z);setTimeout(function(){window.addEventListener("scroll",u.handleScrollEventFunc)},100)}else{v-=w;u._setScrollTop(v);if(w<50){w++}}},1)}}},_setScrollTop:function(u){document.body.scrollTo(0,u);document.documentElement.scrollTo(0,u)},_getToWinTop:function(u){if(t.contains(this.fixed.domNode,"muiFixed")){return g.getContentBox(u).t-g.getContentBox(this.fixed.domNode).h}else{return g.getContentBox(u).t}},_isVisible:function(u){var v=function(x){return o.get(x,"display")!=="none"};for(var w=u;w.tagName!=="BODY";w=w.parentNode){if(!v(w)){return false}}return true},handleScrollEvent:function(u){var x=0;if(n.getBox().t>1){x=this.getSelectedNavIndex()}if(this.selectedNavIndex!=x){var v=this.navPanelBar.getChildren()[x];m.publish("/mui/navitem/changedSelected",v,{key:x});var w=this.contentList[x].claz;if(w instanceof p){m.publish("/mui/panel/delayContent/init",w)}this.selectedNavIndex=x}},getFixedBottomHeight:function(){var v=0;var w=s("[fixed='bottom'].muiViewBottom");if(w.length>0){var u=w[0];if(this._isVisible(u)){v=g.getContentBox(u).h}}return v},getSelectedNavIndex:function(){var C=0;var D=this.getFixedBottomHeight();var v=n.getBox();var y=v.t;var H=v.h;var G=this.titleList;if(G.length>0){for(var z=0;z<G.length;z++){var B=G[z];var F=g.getContentBox(B);var x=F.t;var A=F.h;var w=0;if(t.contains(this.fixed.domNode,"muiFixed")){w=this.fixed.domNode.offsetTop}var u=x+D+A+w-H;var E=u-y;if(y>=u||(E>0&&E<1)){C=z}else{break}}}return C}})})},"sys/mobile/js/mui/fixed/NativeFixed":function(){define("mui/fixed/NativeFixed",["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","./NativeFixedMixin"],function(e,f,d,a,b){return e("mui.fixed.NativeFixed",[f,d,a,b],{fixed:"top",noSrcoll:true})})},"sys/mobile/js/mui/listcategory/ListCategorySelection":function(){define(["dojo/_base/declare","mui/listcategory/CategorySelection","dojo/dom-construct","dojo/dom-class","dojo/request","mui/util","dojo/_base/lang","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,h,d,k,e,g,a,b){var l=f("mui.listcategory.ListCategorySelection",[h],{modelName:null,max:3,required:false,pathUrl:"/sys/category/mobile/sysSimpleCategory.do?method=pathList&cateId=!{curId}&modelName=!{modelName}&fdTmepKey=!{fdTmepKey}",detailUrl:"!{dataUrl}",buildIcon:function(){return null},_buildSelItem:function(){var m=this.inherited(arguments);k.add(m,"muiCategorySItem");return m},startup:function(){this.inherited(arguments);if(!this.isMul){k.add(this.leftArea,"muiCateSecBtnDis");if(!this.required){this.clearButtonNode.innerHTML=b["mui.button.reset"]}}},_resizeSelection:function(){if(!this.isMul){var m=this.cateSelArr;var n="";if(m.length>0){k.remove(this.buttonNode,"muiCateSecBtnDis");if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}n=m[0].label;this.clearButtonNode.className="muiCateClearBtn";if(this.clearHandle==null){this.clearHandle=this.connect(this.clearButtonNode,"click",a.hitch(this,function(){this._clearSelItem(this);this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}}))}}else{this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}if(this.required){k.add(this.buttonNode,"muiCateSecBtnDis");if(this.subHandle){this.disconnect(this.subHandle);this.subHandle=null}}else{if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}}}if(n){n="已选择："+n}this.leftArea.innerHTML=n;return}this.inherited(arguments)},buildDesc:function(o,n){var m=g.urlResolver(this.pathUrl,{modelName:this.modelName,curId:n.fdId});m=g.formatUrl(m);var p=e.post(m,{handleAs:"json"});p.then(a.hitch(this,function(s){var v=d.create("div",{className:"muiCateSecItemDesc"},o);var q=s.length;var t=0;for(var u=q-1;u>=0;u--){if(t>=this.max){break}d.create("div",{innerHTML:s[u].label},v,"first");t++}}))}});return l})},"sys/mobile/js/mui/panel/NavPanelBar":function(){define("mui/panel/NavPanelBar",["dojo/_base/declare","dojo/store/Memory","mui/nav/NavBarStore"],function(a,d,b){return a("mui.panel.NavPanelBar",[b],{})})},"sys/mobile/js/mui/device/web/adapter":function(){define(["mui/picslide/ImagePreview","mui/device/web/attachment","mui/util","dojo/request","dojo/Deferred","mui/dialog/Tip","dojo/_base/array","mui/map","dojo/_base/lang","dojo/request/script"],function(m,e,g,f,k,n,h,a,b,d){var l={resetTempVal:{x:0,y:0,flag:false},closeWindow:function(){location=dojoConfig.baseUrl?dojoConfig.baseUrl:"/";return{}},setTitle:function(o){document.title=o},goBack:function(q){var p=this;if(history.length>1){var o=g.getUrlParameter(window.location.href,"mdingclose");if(o=="1"){this.closeWindow()}else{history.back()}}else{this.closeWindow()}return{}},goForward:function(){history.forward();return{}},getUserID:function(){window.building();return null},openSpeech:function(o){window.building();return null},openCamera:function(o){window.building();return null},selectFile:function(o){this.uploadFile(o);return{}},uploadFile:function(u){var s=u.options;if(!window.AttachmentList){window.AttachmentList={}}var p=window.AttachmentList[s.fdKey];if(!p){p=new e(s);window.AttachmentList[s.fdKey]=p}if(u.evt.target){var v=u.evt.target.files;for(var t=0;t<v.length;t++){var w=v[t].name;var o=v[t].type;if(s&&s.nameAtts){if(h.indexOf(s.nameAtts,w)>-1&&o.indexOf("image")==-1){n.fail({text:"不允许上传同名文件！"});continue}else{s.nameAtts.push(w)}}var q=this.readAsDataURL(v[t]);if(q){v[t].href=q}if("false"===p.startUploadFile(v[t])){s.nameAtts.pop()}}}else{p.startUploadFile({href:u.evt.dataURL,size:u.evt.dataURL.size,name:"image.png"})}return{}},playSpeech:function(o){window.building();return null},imagePreview:function(o){if(!this.preivew){this.preivew=new m()}this.preivew.play(o);return{}},fileView:function(o){},download:function(o){window.open(g.formatUrl(o.href),"_blank")},captureScreen:function(o){window.building();return null},readAsDataURL:function(o){if(window.URL){return window.URL.createObjectURL(o)}else{if(window.webkitURL){return window.webkitURL.createObjectURL(o)}}return null},ready:function(p,o){},setOrientation:function(o){},getOrientation:function(p,o){},getCurrentCoord:function(s,q,p){var o=this;this._loadScript(function(v,x){var w=document.createElement("div");w.id="Map_"+new Date().getTime();document.body.appendChild(w);if(window.AMap){var y=new AMap.Map(w.id,{resizeEnable:true});AMap.plugin("AMap.Geolocation",function(){var z=new AMap.Geolocation({enableHighAccuracy:true,timeout:10000});y.addControl(z);z.getCurrentPosition(function(B,A){if(B=="complete"){s&&s({lat:A.position.lat,lng:A.position.lng,coordType:5})}else{if(window.console){window.console.error(A)}}})})}else{if((v&&v.mapType==="qmap")||(window.qq&&window.qq.maps)){var u=function(z){let r=z.data;if(r&&r.module=="geolocation"){let temp=o.resetTempVal;if(temp&&temp.flag===true){let lat=r.lat;let lng=r.lng;if(lat!=temp.x&&lng!=temp.y){o.resetTempVal={x:lat,y:lng,flag:false};s&&s({lat:lat,lng:lng,coordType:5})}}}};window.removeEventListener("message",u,false);window.addEventListener("message",u,false)}else{var t=new BMap.Geolocation();t.getCurrentPosition(function(z){if(this.getStatus()==BMAP_STATUS_SUCCESS){s&&s({lat:z.point.lat,lng:z.point.lng,coordType:3})}else{q&&q(this.getStatus())}},{enableHighAccuracy:true})}}},s)},getCurrentPosition:function(q,p,o){o=o||{};this.getCurrentCoord(function(s){a.getMapLocation(b.mixin(s,o),q,p)},p,o)},getPois:function(p,o){this.getCurrentCoord(function(s){var q=g.formatUrl("/sys/mobile/bapi.do?method=getPoisList");f.post(q,{data:{coord:s.point.lat+","+s.point.lng},handleAs:"json"}).response.then(function(t){if(t.status=="200"){if(p){p(t)}}else{if(window.console){console.error("errorCode:"+t)}}},function(t){if(window.console){console.error(t)}})},o)},_loadScript:function(s,q){var o=this;if(window.BMap||window.AMap){if(s){s(window.Map_Result||{})}return}var p=g.formatUrl("/sys/attend/map/sysAttendMapConfig.do?method=getCurrentMap");f.post(p,{handleAs:"json"}).then(function(t){window.Map_Result=t;var u=document.createElement("script");u.type="text/javascript";if(t.mapType==="amap"){u.src="https://webapi.amap.com/maps?v=1.4.15&key="+t.mapKey+"&plugin=AMap.Geolocation&callback=bInitCallback";window.bInitCallback=function(){s&&s(t)};document.body.appendChild(u)}else{if(t.mapType==="qmap"){var v=document.getElementById("qMapGeolocation");o.resetTempVal={x:0,y:0,flag:true};if(v==null){var w=document.createElement("iframe");w.id="qMapGeolocation";w.style.display="none";w.src="https://apis.map.qq.com/tools/geolocation?key="+t.mapKey+"&referer="+t.mapKeyName;document.body.appendChild(w);s&&s(t)}else{v.contentWindow.postMessage("getLocation","*")}}else{u.src="https://api.map.baidu.com/api?v=2.0&ak="+t.mapKey+"&s=1&callback=bInitCallback";window.bInitCallback=function(){s&&s(t)};document.body.appendChild(u)}}},function(t){var u=document.createElement("script");u.type="text/javascript";var v=dojoConfig.map.bMapKey||"cnG6G1wW70lQ36H693uVOyOXiwvMaph3";u.src="https://api.map.baidu.com/api?v=2.0&ak="+v+"&s=1&callback=bInitCallback";window.bInitCallback=function(){s&&s()};document.body.appendChild(u)})},callPhone:function(o){location.href="tel:"+o},sendMsg:function(o){location.href="sms:"+o},open:function(o,s,q){if(s==="_top"){try{window.open(o,"_top")}catch(p){if(window.console){console.error(p)}n.tip({icon:"mui mui-warn",text:"URL跳转失败！"})}return}window.open(o,"_self")},scanQRCode:function(o){n.tip({icon:"mui mui-warn",text:"web端暂不支持扫码功能！"});return false},openChat:function(){return},canUseJinGe:function(o,p){return},openUserCard:function(o){if(o.ekpId){window.location.href=g.formatUrl("/sys/zone/index.do?userid="+o.ekpId)}},supportfingerPrint:function(){return 1},validatefingerPrint:function(p,o){p&&p()},supportFacePrint:function(){return 1},checkFace:function(p,o){p&&p()},supportCamera:function(){return 1},validateCamera:function(q,p,o){q&&q()},openViewMap:function(o,q,p){p&&p()},openEditMap:function(o,q,p){p&&p()},getNetworkType:function(o){o&&o({})},getWifiInfo:function(o){o&&o({})},getDeviceInfo:function(o){o&&o({})},getFontSize:function(o){o&&o({fontSize:0})},addCalendar:function(o){if(o&&typeof o.webAdapterCallback==="function"){o.webAdapterCallback()}}};return l})},"sys/mobile/js/mui/list/ProcessItemNewListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/list/item/ProcessItemNewMixin"],function(a,b,d){return a("mui.list.ProcessItemNewMixin",[b],{itemTemplateString:null,itemRenderer:d})})},"sys/mobile/js/mui/rtf/RtfResizeUtil":function(){define(["dojo/_base/declare","dojo/dom","mui/rtf/_ImageGlobalResizeMixin","mui/rtf/_TableResizeMixin","mui/rtf/_VideoResizeMixin","dojo/_base/array","dojo/_base/lang","dojo/dom-attr","dojo/query","dojo/on"],function(e,d,a,f,l,k,b,n,m,h){var g=e("mui.rtf.RtfResizeUtil",[a,f,l],{constructor:function(o){if(o){this.name=o.name;this.channel=o.channel||"default";this.formatContent(o.containerNode);this.restore(o.containerNode)}},restore:function(o){k.forEach(m("a",o),b.hitch(this,function(q){var p=q.href;n.set(q,"href","javascript:;");h(q,"click",function(){if(p&&(p.indexOf("http")==0||p.indexOf("/")==0)){window.open(p,"_self")}else{new Function(p)()}})}))},destroy:function(){this.emptySrcList()}});return g})},"sys/mobile/js/mui/form/radio/render/RadioNormal":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","mui/util"],function(e,b,g,f,d,a){return e("mui.form.radio.render.RadioNormal",[g],{renderType:"normal",radioNode:null,postCreate:function(){this.inherited(arguments);this.subscribe("mui/form/radio/renderCheckedStatus","_renderCheckedStatus")},_buildRender:function(h){if(this.renderType==h.renderType){this.radioNode=b.create("label",{className:"muiRadioItem",style:h.style,innerHTML:"<span class='mui-radio-base'>"+h.text&&h.text.indexOf("&#039;")>0?h.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.formatText(h.text)+"</span>"},h.domNode,"after");this.radioIcon=b.create("span",{className:"fontmuis muis-form-radio muiRadioCircle "+h.unCheckedIcon},this.radioNode,"first")}return this.radioNode},_renderCheckedStatus:function(k,h){if(this.radioNode==h.domNode){if(h.checked){f.replace(this.radioNode,h.checkedIcon,h.unCheckedIcon);f.replace(this.radioIcon,h.checkedIcon,h.unCheckedIcon)}else{f.replace(this.radioNode,h.unCheckedIcon,h.checkedIcon);f.replace(this.radioIcon,h.unCheckedIcon,h.checkedIcon)}}}})})},"sys/mobile/js/mui/view/DocScrollableView":function(){define(["./DocView","./NativeDocView"],function(a,b){return dojoConfig._native?b:a})},"sys/mobile/js/mui/tabfilter/TabfilterRightItemMixin":function(){define(["dojo/_base/declare","dojox/mobile/_ItemBase","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/topic","mui/util","dojo/_base/array"],function(g,d,b,h,f,e,a,k){return g("mui.tabfilter.TabfilterRightItemMixin",[d],{tag:"li",selected:false,_enterClass:"mblListItemSelected",_selectClass:"selected",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||b.create(this.tag,{className:"tabfilterRightItem"});this.inherited(arguments);if(this.text){b.create("label",{innerHTML:a.formatText(this.text)},this.domNode);b.create("span",{innerHTML:"<i class= 'mui mui-right'></i>"},this.domNode)}this.connect(this.domNode,"click","_selectNode")},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/tabfilter/item/unselect","_unselect")},_selectNode:function(){this.set("entered",true);this.defer(function(){this.set("entered",false)},150);if(this.selected){this._unselect()}else{this._select()}},_select:function(m,l){if(m&&m===this){return}if(m&&m!==this){if(l&&l.value==this.value){this._selectWithoutPublish()}}else{this._selectWithoutPublish();e.publish("/mui/tabfilter/item/select",this,{text:this.text,value:this.value})}},_unselect:function(m,l){if(m&&m===this){return}if(m&&m!==this){if(l&&l.value==this.value){this._unselectWithoutPublish()}}else{this._unselectWithoutPublish();e.publish("/mui/tabfilter/item/unselect",this,{text:this.text,value:this.value})}},_selectWithoutPublish:function(){this.selected=true;h.add(this.domNode,this._selectClass)},_unselectWithoutPublish:function(){this.selected=false;h.remove(this.domNode,this._selectClass)},isSelected:function(){var m=this.getParent();if(m&&m.curValues){var l=m.curValues.split(/[\s+;,]/);if(k.indexOf(l,this.value)>-1){return true}}return false},startup:function(){if(this._started){return}this.inherited(arguments);if(this.isSelected()){this._selectWithoutPublish()}},_setLabelAttr:function(l){if(l){this._set("label",l)}},_setEnteredAttr:function(l){h.toggle(this.domNode,this._enterClass,l)}})})},"sys/mobile/js/mui/list/item/TopMixin":function(){define(["dojo/_base/declare","dojo/dom-construct"],function(b,a){var d=b("mui.list.item.TextItem.topMixin",null,{topTagClass:"",buildTag:function(e){this.inherited(arguments);if(this.isTop&&e){this.formatTopData();a.create("span",{className:this.tagClass+this.topTagClass,innerHTML:this.topTagText},e)}},formatTopData:function(){if(this.isTop){this.topTagText="置顶";this.topTagClass=" muiTopTag"}}});return d})},"sys/mobile/js/mui/calendar/CalendarItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/calendar/item/CalendarItemMixin"],function(b,d,a){return b("mui.calendar.CalendarItemListMixin",[d],{itemTemplateString:null,itemRenderer:a,currentDate:new Date(),buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/calendar/valueChange","saveCurrentDate")},saveCurrentDate:function(f,e){this.currentDate=e.currentDate}})})},"sys/mobile/js/mui/rtf/RtfResize":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-construct","mui/rtf/_ImageResizeMixin","mui/rtf/_TableResizeMixin","mui/rtf/_VideoResizeMixin","mui/util","dojo/_base/array","dojo/_base/lang","dojo/dom-attr","dojo/query","dojo/on","dojo/dom-style","dojo/topic","dojo/ready"],function(f,e,d,a,k,p,h,o,b,s,q,n,l,g,t){var m=f("mui.rtf.RtfResize",[a,k,p],{containerNode:null,name:null,formatContent:function(u){this.inherited(arguments);t(function(){var v=u.getBoundingClientRect().x||u.getBoundingClientRect().left||0;var w=document.documentElement.clientWidth;if(w&&u.getBoundingClientRect().width>w){l.set(u,{"max-width":(w-v-12)+"px"})}})},renderTitle:function(u){if(dojoConfig.newMui&&this.label){this.tipNode=d.create("div",{className:"muiFormEleTip"},u,"first");this.titleNode=d.create("span",{className:"muiFormEleTitle",innerHTML:h.formatText(this.label)},this.tipNode)}},setName:function(u){this.name=u},setLabel:function(u){this.label=u},constructor:function(v,u){this.inherited(arguments);if(typeof(v)=="object"){this.setName(v.name);this.containerNode=v.containerNode}else{this.setName(v)}this.setLabel(u);this.load()},load:function(){var u=null;if(this.name!=null){u="_____rtf_____"+this.name;u=e.byId(u)}else{u=this.containerNode}this.renderTitle(u);this.formatContent(u);o.forEach(q("a",u),b.hitch(this,function(w){var v=w.href;s.set(w,"href","javascript:;");n(w,"click",function(){if(v&&(v.indexOf("http")==0||v.indexOf("/")==0)){window.open(v,"_self")}else{new Function(v)()}})}))}});return m})},"sys/mobile/js/mui/device/govding/adapter":function(){define(["https://g.alicdn.com/gdt/jsapi/1.8.2/index.js","dojo/_base/lang","mui/device/device","dojo/request","mui/util","mui/coordtransform","mui/i18n/_i18n!sys/mobile/js/mui/mui","mui/dialog/Tip","dojo/Deferred","dojo/topic","mui/map"],function(q,d,b,g,k,f,e,p,n,h,a){q=q["default"];var l=false,m=false;var o={__readyCallbacks:[],__readyfailCallbacks:[],__hasListener__:false,ready:function(t,s){if(m){s&&s.call(this);return}if(l){t&&t.call(this);return}this.__readyCallbacks.push(t);this.__readyfailCallbacks.push(s);if(!this.__hasListener__){this.__hasListener__=true;h.subscribe("/third/govding/ready",d.hitch(this,function(){var u=null;while(u=this.__readyCallbacks.shift()){u&&u.call(this)}}));h.subscribe("/third/govding/readyfail",d.hitch(this,function(){var u=null;while(u=this.__readyfailCallbacks.shift()){u&&u.call(this)}}))}},goBack:function(u){var t=this;if(history.length>1){var s=k.getUrlParameter(window.location.href,"mdingclose");if(s=="1"){this.closeWindow()}else{window.location.href=document.referrer}}else{this.closeWindow()}return{}},closeWindow:function(){this.ready(function(){q.closePage().then(function(s){console.log(s)},function(s){console.log(s)})},function(){q.closePage().then(function(s){console.log(s)},function(s){console.log(s)})});return{}},setTitle:function(s){if(!s){s=""}s=s.trim();this.ready(function(){q.setTitle({title:s}).then(function(t){console.log(t)},function(t){console.log(t)})});document.title=s},imagePreview3:function(s){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,s);return{}},imagePreview:function(s){this.ready(function(){if(s.curSrc.indexOf("blob:")==0){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,s)}else{q.previewImage({current:s.curSrc,urls:s.srcList}).then(function(t){console.log(t)},function(t){console.log(t)})}},function(){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,s)});return{}},open:function(s,u,t){if("_blank"==u){this.ready(function(){try{q.openLink({url:s}).then(function(w){console.log(w)},function(w){window.open(s,"_self")});return}catch(v){window.open(s,"_self");return}})}else{window.open(s,u);return}},download:function(s){p.warn({text:"根据国家政务安全规定，暂不支持下载文件到移动端"});return},scanQRCode:function(s){this.ready(function(){q.scan({type:"qrCode"}).then(function(t){s&&s({text:t.text})},function(t){console.log(t)})},function(){this["$super$scanQRCode"]&&this["$super$scanQRCode"].call(this,s)});return true},openViewMap:function(s,u,t){this.ready(function(){var v=[s.lng,s.lat];if(s.coordType=="bd09"){v=f.bd09togcj02(s.lng,s.lat)}q.showOnMap({latitude:v[0],longitude:v[1],title:s.value}).then(function(w){console.log(w)},function(w){console.log(w)});u&&u()},function(){this["$super$openViewMap"]&&this["$super$openViewMap"].call(this,s,u,t)})},openEditMap:function(s,u,t){this.ready(function(){var v=[s.lng,s.lat];if(s.coordType=="bd09"&&s.lng&&s.lat){v=f.bd09togcj02(s.lng,s.lat)}q.locateOnMap({latitude:v[0],longitude:v[1]}).then(function(x){var w={lat:x.latitude,lng:x.longitude};if(s.coordType=="bd09"){var y=f.gcj02tobd09(w.lng,w.lat);w.lng=y[0];w.lat=y[1]}u&&u({point:w,value:x.title,detail:x.snippet})},function(w){console.log(w)})},function(){this["$super$openEditMap"]&&this["$super$openEditMap"].call(this,s,u,t)})},getNetworkType:function(s){this.ready(function(){q.getNetworkType({}).then(function(t){s&&s({networkType:t.result})},function(t){s&&s()})},function(){this["$super$getNetworkType"]&&this["$super$getNetworkType"].call(this,s)})},getWifiInfo:function(t){var s=this;this.ready(function(){q.getHotspotInfo().then(function(u){t&&t({ssid:u.ssid,macIp:s._fixMacIp(u.macIp)})},function(u){p.fail({text:"获取WIFI信息失败:"+u});t&&t()})},function(){p.fail({text:"调用政务钉钉wifi接口授权失败"});this["$super$getWifiInfo"]&&this["$super$getWifiInfo"].call(this,t)})},_fixMacIp:function(s){var w="";if(s){var x=s.split(":");var t=[];for(var u in x){var v=x[u]||"";if(v.length==0){v="00"}else{if(v.length==1){v="0"+v[0]}}t.push(v)}w=t.join(":")}return w},getDeviceInfo:function(s){this.ready(function(){q.getUUID().then(function(t){s&&s({deviceId:t.uuid})},function(t){s&&s()})})},complexPicker:function(s,t){this.ready(function(){q.chooseContactWithComplexPicker({title:s.title,multiple:true,maxUsers:1000,pickedUsers:s.pickedUsers,disabledUsers:[],requiredUsers:[],responseUserOnly:true,limitTips:"超出了",pickedDepartments:[],disabledDepartments:[],requiredDepartments:[]}).then(function(u){t&&t({selectedCount:u.selectedCount,users:u.users,departments:u.departments})},function(u){p.fail({text:u.errorMessage})})},function(){p.tip({icon:"mui mui-warn",text:"调钉钉jsapi:dd.biz.contact.complexPicker失败"})})},createGroup:function(s,t){this.ready(function(){q.createChatGroup({corpId:s.corpId,users:s.emplIds}).then(function(u){t&&t({groupID:u.id})},function(u){p.fail({text:u.errorMessage})})})},pickChat:function(s,t){this.ready(function(){q.pickChat({corpId:s}).then(function(u){t&&t({chatId:u.cid})},function(u){p.fail({text:u.errorMessage})})})},startRecord:function(){this.ready(function(){q.startRecordAudio().then(function(s){console.log(s)},function(s){p.fail({text:s.errorMessage})})})},stopRecord:function(){this.ready(function(){q.stopRecordAudio().then(function(s){audioDownload(s.mediaId)},function(s){p.fail({text:s.errorMessage})})})},audioDownload:function(s){this.ready(function(){q.downloadAudio({mediaId:s}).then(function(t){console.log(t.localAudioId)},function(t){p.fail({text:t.errorMessage})})})},play:function(s){this.ready(function(){q.playAudio({localAudioId:s}).then(function(t){console.log(t)},function(t){p.fail({text:t.errorMessage})})})},createDing:function(s){this.ready(function(){q.createDing(s)})},createVideoMeeting:function(t,s){this.ready(function(){q.createVideoMeeting({title:s,calleeStaffIds:t}).then(function(u){console.log(u)},function(u){console.log(u)})})},getCurrentCoord:function(u,t,s){this.ready(function(){q.getGeolocation({targetAccuracy:200,coordinate:1,withReGeocode:false,useCache:false}).then(function(w){var v={lat:w.latitude,lng:w.longitude,coordType:5};u&&u(v)},function(v){if(window.console){window.console.log(v)}p.tip({icon:"mui mui-warn",text:"政务钉钉地理定位失败"});t&&t(v)})},function(){p.tip({icon:"mui mui-warn",text:"调用政务钉钉坐标定位接口授权失败"});this["$super$getCurrentCoord"]&&this["$super$getCurrentCoord"].call(this,u,t)})},getCurrentPosition:function(u,t,s){s=s||{};this.ready(function(){this.getCurrentCoord(function(v){a.getMapLocation(d.mixin(v,s),u,t)},t,s)},function(){p.tip({icon:"mui mui-warn",text:"调用政务钉钉定位接口失败"});this["$super$getCurrentPosition"]&&this["$super$getCurrentPosition"].call(this,u,t)})}};(function(){var w=b.getClientType();if(w!=14){return}if(!q){return}var u=dojoConfig.baseUrl,v={data:{url:location.href},handleAs:"json"};var s=dojoConfig.baseUrl+"sys/mobile/adapter.do?method=getDingPrefix",t={data:{url:location.href},handleAs:"json"};g.post(s,t).response.then(function(x){var y=x.data;u=u+y.url+"/jsapi.do?method=jsapiSignature";g.post(u,v).response.then(function(A){var z=A.data;if(z){q.ready(function(){l=true;h.publish("/third/govding/ready");q.authConfig({ticket:z.ticket,jsApiList:["showOnMap","locateOnMap","getUUID","chooseContactWithComplexPicker","createChatGroup","createDing","getGeolocation"]}).then(function(B){console.log(B)},function(B){console.log(B)})})}else{m=true;h.publish("/third/govding/readyfail");console.log("signInfo empty(ding)")}},function(){m=true;h.publish("/third/govding/readyfail");console.log(JSON.stringify(arguments))})},function(x){console.log("请求失败！"+x)})})();return o})},"sys/mobile/js/mui/list/ComplexRItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","mui/list/item/ComplexRItemMixin"],function(a,b,d){return a("mui.list.ComplexRItemListMixin",[b],{itemRenderer:d})})},"sys/mobile/js/mui/form/validate/Validation":function(){define(["dojo/_base/declare","mui/form/validate/Validator","mui/form/validate/Reminder","mui/form/validate/dom-value","dojo/dom-attr","dojo/_base/lang","mui/form/_FormBase","mui/i18n/_i18n!sys/mobile/js/mui/mui","mui/form/validate/Elements"],function(k,f,g,h,m,d,n,e,a){var l={skip:{test:function(o){return true}},required:{error:e["errors.required"].replace("{0}","{name}"),test:function(o){return !this.getValidator("isEmpty").test(o)}},number:{error:e["errors.number"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||(!isNaN(o)&&!/^\s+$/.test(o)&&/^.{1,20}$/.test(o)&&/(\.)?\d$/.test(o))}},digits:{error:e["errors.integer"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||/^-?\d+$/.test(o)}},alpha:{error:e["errors.alpha"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||/^[a-zA-Z]+$/.test(o)}},alphanum:{error:e["errors.alphanum"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||!/\W/.test(o)}},date:{error:e["errors.date"].replace("{0}","{name}"),test:function(o){var p=false;var q=/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/;if(dojoConfig.locale!=null&&(dojoConfig.locale!="zh-cn"&&dojoConfig.locale!="zh-hk"&&dojoConfig.locale!="ja-jp")){q=/^(((0[13578]|1[02])\/(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)\/(0[1-9]|[12][0-9]|30))|(02\/(0[1-9]|[1][0-9]|2[0-9])))\/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})$/}if(dojoConfig.Date_format&&dojoConfig.Date_format.match(/^d.*M.*y.*$/)){q=/^(((0[1-9]|[12][0-9]|3[01])\/(0[13578]|1[02]))|((0[1-9]|[12][0-9]|30)\/(0[469]|11))|((0[1-9]|[1][0-9]|2[0-9])\/02))\/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})$/}var t=/^[0-2][\d]:[0-5][\d]$/;if(o){var s=o.split(/\s+/);if(s.length==1){p=q.test(o)||t.test(o)}else{if(s.length==2){p=q.test(s[0])&&t.test(s[1])}}}return this.getValidator("isEmpty").test(o)||p}},email:{error:e["errors.email"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||/\w{1,}[@][\w\-]{1,}([.]([\w\-]{1,})){1,3}$/.test(o)}},url:{error:e["errors.url"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i.test(o)}},"currency-dollar":{error:e["errors.dollar"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||/^\$?\-?([1-9]{1}[0-9]{0,2}(\,[0-9]{3})*(\.[0-9]{0,2})?|[1-9]{1}\d*(\.[0-9]{0,2})?|0(\.[0-9]{0,2})?|(\.[0-9]{1,2})?)$/.test(o)}},"maxLength(length)":{error:e["errors.maxLength.simple"].replace("{0}","{name}").replace("{1}","{maxLength}"),test:function(q,t,u){var s=isNaN(u.length)?0:parseInt(u.length);if(s==0||this.getValidator("isEmpty").test(q)){return true}u.maxLength=s;var p=q.replace(/[^\x00-\xff]/g,"***");return p.length<=s}},"range(min,max)":{error:e["errors.range"].replace("{0}","{name}").replace("{1}","{min}").replace("{2}","{max}"),test:function(q,u,w){if(this.getValidator("isEmpty").test(q)){return true}if((!isNaN(q)&&!/^\s+$/.test(q))){var s=isNaN(w.min)?0:parseFloat(w.min);var p=isNaN(w.max)?0:parseFloat(w.max);var t=parseFloat(q);return(s<=t&&t<=p)}return false}},"max(num)":{error:e["errors.max"].replace("{0}","{name}").replace("{1}","{num}"),test:function(p,t,u){if(this.getValidator("isEmpty").test(p)){return true}if((!isNaN(p)&&!/^\s+$/.test(p))){var q=isNaN(u.num)?0:parseFloat(u.num);var s=parseFloat(p);return(s<=q)}return false}},"min(num)":{error:e["errors.min"].replace("{0}","{name}").replace("{1}","{num}"),test:function(p,t,u){if(this.getValidator("isEmpty").test(p)){return true}if((!isNaN(p)&&!/^\s+$/.test(p))){var q=isNaN(u.num)?0:parseFloat(u.num);var s=parseFloat(p);return(s>=q)}return false}},"scaleLength(num)":{error:e["errors.scaleLength"].replace("{0}","{name}").replace("{1}","{num}"),test:function(p,t,w){if(this.getValidator("isEmpty").test(p)){return true}if((!isNaN(p)&&!/^\s+$/.test(p))){var u=p.lastIndexOf(".");if(u<0){return true}var q=isNaN(w.num)?0:parseInt(w.num);var s=p.substr(u+1).length;return(s<=q)}return false}},before:{error:e["errors.time.before"].replace("{0}","{name}"),test:function(s,u,w){if(this.getValidator("isEmpty").test(s)){return true}var q=new Date();q.setSeconds(0,0);var t=null;if(dojoConfig.locale!=null&&(dojoConfig.locale!="zh-cn"&&dojoConfig.locale!="zh-hk")){t=Com_GetDate(s)}else{var p=s.split(/[^0-9]/);t=new Date(parseInt(p[0],10),parseInt(p[1],10)-1,parseInt(p[2],10),p[3]==null?0:parseInt(p[3],10),p[4]==null?0:parseInt(p[4],10),p[5]==null?0:parseInt(p[5],10),p[6]==null?0:parseInt(p[6],10),p[7]==null?0:parseInt(p[7],10)).getTime()}if(dojoConfig.Date_format&&dojoConfig.Date_format.match(/^d.*M.*y.*$/)){var p=s.split(/[^0-9]/);t=new Date(parseInt(p[2],10),parseInt(p[1],10)-1,parseInt(p[0],10),p[3]==null?0:parseInt(p[3],10),p[4]==null?0:parseInt(p[4],10),p[5]==null?0:parseInt(p[5],10),p[6]==null?0:parseInt(p[6],10),p[7]==null?0:parseInt(p[7],10)).getTime()}if(t<=q.getTime()){return true}return false}},after:{error:e["errors.time.after"].replace("{0}","{name}"),test:function(s,u,w){if(this.getValidator("isEmpty").test(s)){return true}var q=new Date();q.setSeconds(0,0);var t=null;if(dojoConfig.locale!=null&&(dojoConfig.locale!="zh-cn"&&dojoConfig.locale!="zh-hk")){t=Com_GetDate(s)}else{var p=s.split(/[^0-9]/);t=new Date(parseInt(p[0],10),parseInt(p[1],10)-1,parseInt(p[2],10),p[3]==null?0:parseInt(p[3],10),p[4]==null?0:parseInt(p[4],10),p[5]==null?0:parseInt(p[5],10),p[6]==null?0:parseInt(p[6],10),p[7]==null?0:parseInt(p[7],10)).getTime()}if(dojoConfig.Date_format&&dojoConfig.Date_format.match(/^d.*M.*y.*$/)){var p=s.split(/[^0-9]/);t=new Date(parseInt(p[2],10),parseInt(p[1],10)-1,parseInt(p[0],10),p[3]==null?0:parseInt(p[3],10),p[4]==null?0:parseInt(p[4],10),p[5]==null?0:parseInt(p[5],10),p[6]==null?0:parseInt(p[6],10),p[7]==null?0:parseInt(p[7],10)).getTime()}if(t>=q.getTime()){return true}return false}},__date:{error:e["errors.date"].replace("{0}","{name}"),test:function(o){var p=false;var q=/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/;if(dojoConfig.locale!=null&&(dojoConfig.locale!="zh-cn"&&dojoConfig.locale!="zh-hk")){q=/^(((0[13578]|1[02])\/(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)\/(0[1-9]|[12][0-9]|30))|(02\/(0[1-9]|[1][0-9]|2[0-9])))\/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})$/}if(dojoConfig.Date_format&&dojoConfig.Date_format.match(/^d.*M.*y.*$/)){q=/^(((0[1-9]|[12][0-9]|3[01])\/(0[13578]|1[02]))|((0[1-9]|[12][0-9]|30)\/(0[469]|11))|((0[1-9]|[1][0-9]|2[0-9])\/02))\/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})$/}if(o){p=q.test(o)}return this.getValidator("isEmpty").test(o)||p}},__datetime:{error:e["errors.datetime"].replace("{0}","{name}"),test:function(o){var p=false;var q=/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/;if(dojoConfig.locale!=null&&(dojoConfig.locale!="zh-cn"&&dojoConfig.locale!="zh-hk")){q=/^(((0[13578]|1[02])\/(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)\/(0[1-9]|[12][0-9]|30))|(02\/(0[1-9]|[1][0-9]|2[0-9])))\/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})$/}if(dojoConfig.Date_format&&dojoConfig.Date_format.match(/^d.*M.*y.*$/)){q=/^(((0[1-9]|[12][0-9]|3[01])\/(0[13578]|1[02]))|((0[1-9]|[12][0-9]|30)\/(0[469]|11))|((0[1-9]|[1][0-9]|2[0-9])\/02))\/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})$/}var t=/^[0-2][\d]:[0-5][\d]$/;if(o){var s=o.split(/\s+/);if(s.length==2){p=q.test(s[0])&&t.test(s[1])}}return this.getValidator("isEmpty").test(o)||p}},__time:{error:e["errors.time"].replace("{0}","{name}"),test:function(o){var p=false;var q=/^[0-2][\d]:[0-5][\d]$/;if(o){p=q.test(o)}return this.getValidator("isEmpty").test(o)||p}},phoneNumber:{error:e["error.noValidPhoneNumber"],test:function(p,q,s){if(this.getValidator("isEmpty").test(p)){return true}if(p.indexOf("-")!=-1){if(p.slice(0,"+".length)==="+"){if(p.slice(0,"+86".length)==="+86"){return/^(\+86)-1(\d{10})$/.test(p)}else{return/^(\+\d{1,5})-(\d{6,11})$/.test(p)}}else{if(p.slice(0,"86".length)==="86"){return/^(\86)-1(\d{10})$/.test(p)}else{return/^(\d{1,5})-(\d{6,11})$/.test(p)}}}else{if(p.slice(0,"+".length)==="+"){if(p.slice(0,"+86".length)==="+86"){return/^(\+86)1(\d{10})$/.test(p)}else{return/^(\+\d{1,5})(\d{6,11})$/.test(p)}}else{if(p.slice(0,"86".length)==="86"){return/^(\86)1(\d{10})$/.test(p)}else{return/^1(\d{10})$/.test(p)}}}}},idCard:{error:e["error.noValidIDCard"],test:function(B,z,p){var u=this.getValidator("isEmpty").test(B);var q=false;if(!u&&B.length==18){B=B.toUpperCase();var t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];var y=0;for(var w=0;w<t.length;w++){y+=parseInt(B.charAt(w),10)*t[w]}var A=[0,1,2,3,4,5,6,7,8,9,10];var x=[1,0,"X",9,8,7,6,5,4,3,2];var C="";for(var s=0;s<A.length;s++){if(A[s]==y%11){C=x[s]}}q=C==B.substring(B.length-1)}return u||q}}};var b=k("mui.form.validate.Validation",null,{serialAttrName:"__validate_serial",_validateSerialPrefix:"_validate_",Validators:{},constructor:function(){this.inherited(arguments);if(!window._validateSerialIndex){window._validateSerialIndex=1}this.addValidator("isEmpty","",function(p){return((p==null)||p.replace(/^(\s+|\u00A0+)|(\s+|\u00a0+)$/g,"")==""||(p.length==0))});for(var o in l){this.addValidator(o,l[o].error,l[o].test)}},addValidator:function(s,q,t){var o=this._parseValidatorName(s);var p=o.shift();if(!this.Validators[p]){this.Validators[p]=new f(p,q,t,o)}},hideWarnHint:function(p){var o=new g(this._getValidatorDom(p));o.hide()},getValidator:function(q){var o=this._parseValidatorName(q);var p=o.shift();var s=this.Validators[p]?this.Validators[p]:new f();s.setParamValues(o);s.setOwner(this);return s},validateElement:function(s){var u=this._getValidatorName(s);if(!u){return true}this._serializeElement(s);var t=u.split(" ");for(var q=0;q<t.length;q++){var p=t[q].trim();if(p!=""){var o=this.getValidator(p);if(o){if(o instanceof f){if(!this._doValidateElement(s,o)){return false}}else{if(o.doOwnValidate){if(!o.doOwnValidate(s)){return false}}}}}}return true},_doValidateElement:function(t,s){var u=this._isElementEnable(t)&&s.test(this._getValidatorValue(t),t);var q=d.mixin(s.options,{name:this._getValidatorLabel(t),validator:s,widget:t});var p=new g(this._getValidatorDom(t),s.error,q);if(!(/validatorControl_\w+/.test(s.type))){if(u){p.hide()}else{var o=null;if(t.showValiReminder&&typeof(t.showValiReminder)==="function"){o=d.hitch(t,"showValiReminder")}p.show(o)}}return u},_isElementEnable:function(o){return true},_serializeElement:function(o){var p=this._getValidatorDom(o);if(p!=null){if(m.get(p,this.serialAttrName)==null){m.set(p,this.serialAttrName,this._validateSerialPrefix+window._validateSerialIndex);window._validateSerialIndex=window._validateSerialIndex+1}}return},_getValidatorDom:function(o){if(o instanceof n){return o.domNode}return o},_getValidatorLabel:function(o){if(o instanceof n){return o.subject}return m.get(o,"subject")},_getValidatorValue:function(o){if(o instanceof n){return o.get("value")}var p=h.get(o);return p?p[1]:""},_getValidatorName:function(o){var p=null;if(o.getAttribute){p=o.getAttribute("validate");if(p!=null&&p!=""){p=p.trim()}}if(p!=null&&p!=""){return p}if(o.validate&&o.validate!=""){return o.validate}return p},_parseValidatorName:function(p){var o=p.replace("(",",").replace(")","");return o.split(",")},addElements:function(p,o){var s=new a();var q=this._getValidatorDom(p);s.addElementValiate(q,o)},removeElements:function(p,o){var s=new a();var q=this._getValidatorDom(p);s.removeElementValiate(q,o)}});return b})}}});