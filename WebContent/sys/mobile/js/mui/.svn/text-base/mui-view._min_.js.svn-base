require({cache:{"sys/mobile/js/mui/dialog/BarTip":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","mui/dialog/_DialogBase","dojo/_base/window","dojo/_base/fx","mui/util"],function(f,a,m,e,k,b,h,d,g){var l=f("mui.dialog.BarTip",[b],{baseClass:"muiDialogBarTip mblIn",icon:"mui mui-label",text:null,time:-1,buildRendering:function(){this.inherited(arguments);this.textNode=e.create("span",{innerHTML:this.text});this.iconNode=e.toDom("<div class='iconNode'></div>");e.place(e.create("i",{className:this.icon}),this.iconNode,"last");this.closeNode=e.toDom("<div class='closeNode'><i class='mui mui-close'></i></div>");var n=e.toDom("<div class='containerNode'></div>");var o=e.toDom("<div class='containerNodeWrap'></div>");e.place(this.iconNode,n,"last");e.place(this.textNode,n,"last");e.place(this.closeNode,n,"last");e.place(n,o,"last");e.place(o,this.domNode,"last")},postCreate:function(){e.place(this.domNode,h.body(),"last");this.connect(this.closeNode,"click",function(){this.hide()})},show:function(){k.set(this.domNode,"opacity","0");d.fadeIn({node:this.domNode,duration:1000}).play(300);return this.inherited(arguments)},hide:function(){var n=this.domNode;d.fadeOut({node:this.domNode,duration:1000,end:function(){k.set(n,"display","none")}}).play();return this.inherited(arguments)}});return{tip:function(n){return new l(n).show()},BarTip:l}})},"sys/mobile/js/mui/address/AddressDeptMemberListMixin":function(){define(["dojo/_base/declare","./AddressItemListMixin"],function(b,a){return b("mui.address.AddressDeptMemberListMixin",[a],{dataUrl:"/sys/organization/mobile/address.do?method=deptMemberList",searchUrl:"/sys/organization/mobile/address.do?method=deptMemberList&keyword=!{keyword}"})})},"sys/attachment/mobile/js/AttachmentOptListItem":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/device/device","mui/device/adapter","mui/dialog/Tip","dojox/mobile/sniff","sys/attachment/mobile/js/_AttachmentItem","mui/i18n/_i18n!sys/mobile/js/mui/mui-view","mui/i18n/_i18n!sys/mobile/js/mui/mui-view","dojo/dom-attr","dojo/touch","dojo/topic","dojo/dom-class","mui/form/_AlignMixin","dojo/on","dojo/query","dojo/_base/lang"],function(h,f,a,p,q,r,e,d,t,n,g,k,o,s,l,m,b){return h("sys.attachment.mobile.js.AttachmentOptListItem",[e,s],{isForm:true,baseClass:"muiAttachmentEditItem muiAttachmentEditOptItem",customSubject:"",capture:"",aligin:"",showStatus:"edit",postCreate:function(){this.inherited(arguments);this.subscribe("attachmentOptListItem_emit_events","emitEvents")},getIconClass:function(){if("pic"==this._fdAttType){return"muis-images-upload"}return"muis-uploader"},buildRendering:function(){this.inherited(arguments);if("right"==this.align){o.add(this.domNode,"muiRight")}this.domNode.dojoClick=!r("ios")},buildHItem:function(){this.attItemTop=f.create("div",{className:"muiAttachmentItemT"},this.containerNode);var u=f.create("div",{className:"muiAttachmentItemIcon"},this.attItemTop);this.uploadDom=f.create("i",{className:"fontmuis "+this.getIconClass()},u);f.create("div",{className:"muiAttachmentItemText"},this.attItemTop)},buildVItem:function(){o.add(this.domNode,"muiAttachmentEditVOptItem");this.attItemTop=f.create("div",{className:"muiAttachmentItemTV"},this.containerNode);var u=f.create("div",{className:"muiAttachmentItemTVIcon"},this.attItemTop);this.uploadDom=f.create("i",{className:"fontmuis "+this.getIconClass()},u)},buildItem:function(){var u=this;if(this.orient=="vertical"){this.buildVItem()}else{this.buildHItem()}var w=a.getClientType();if(w>6&&w<11){if(this.capture.toLowerCase().indexOf("camera")==-1){this.connect(this.uploadDom,g.press,"_onKKppload")}else{this.connect(this.uploadDom,"click","_onCamera")}}else{var x={type:"file",className:"muiAttachmentUploadFile"};if(this.getParent().fdAttType&&this.getParent().fdAttType=="pic"){if(w==6){x.accept="image/*"}else{x.accept="image/gif,image/jpeg,image/bmp,image/png"}}else{if(this.getParent().enabledFileType){var v=this.formatEnabledFileType(this.getParent().enabledFileType);x.accept="*";if(v!=null){$.ajax({url:Com_Parameter.ContextPath+"sys/attachment/js/mime.jsp",dataType:"json",data:"extFileNames="+v,type:"POST",async:false,success:function(y){if(y.status==1){x.accept=y.message.join(",")}},error:function(z,y,A){if(window.console){window.console.error(A)}}})}}}if(this.getParent().fdMulti==true){x.multiple=true}if(r("ios")&&r("ios")<6){this.connect(this.uploadDom,"click",function(){q.tip({icon:"mui mui-warn",time:2000,text:"不支持附件上传，请升级到IOS6.0以上"})})}else{if(r("android")&&r("android")<4){this.connect(this.uploadDom,"click",function(){q.tip({icon:"mui mui-warn",time:2000,text:"不支持附件上传，请升级到ANDROID4.0以上"})})}else{this.uploadDom=f.create("input",x,this.attItemTop);if(r("android")){this.connect(this.uploadDom,"click",function(y){if(!u.supportCustom||u.supportCustom=="false"){if(y.stopPropagation){y.stopPropagation()}if(y.cancelBubble){y.cancelBubble=true}if(y.preventDefault){y.preventDefault()}if(y.returnValue){y.returnValue=false}}})}this.connect(this.uploadDom,"click","_onValueClear");this.connect(this.uploadDom,"change","_onUpload")}}}},formatEnabledFileType:function(u){if(u==null||u==""){return null}u=u.replace(/\|/g,",");u=u.replace(/\;/g,",");u=u.replace(/[\.|\*]/g,"");return u},startup:function(){this.inherited(arguments);this._onUploadChange();this.subscribe("attachmentObject_"+this.getParent().fdKey+"_addItem","_onUploadChange");this.subscribe("attachmentObject_"+this.getParent().fdKey+"_del","_onUploadChange")},_onValueClear:function(){this.uploadDom.value=""},_onKKppload:function(x){if(this.selectDiv){return}this.selectDiv=f.create("div",{className:"muiAttachmentUploadArea"},document.body,"last");f.create("div",{className:"muiAttachmentUploadbak"},this.selectDiv);var w=f.create("div",{className:"muiAttachmentUploadOpt"},this.selectDiv);var v=f.create("div",{className:"muiAttachmentUploadSelect"},w);var y=f.create("div",{className:"muiAttachmentUploadCamera",innerHTML:d["mui.sysAttMain.photograph"]},v);this.connect(y,"click","_onCamera");var u=f.create("div",{className:"muiAttachmentUploadFiles",innerHTML:d["mui.sysAttMain.picture"]},v);n.set(u,"feature","album");this.connect(u,"click","_onUpload");if(this.getParent().fdAttType!="pic"){var A=f.create("div",{className:"muiAttachmentUploadFiles",innerHTML:d["mui.sysAttMain.file.manager"]},v);n.set(A,"feature","file_manager");this.connect(A,"click","_onUpload")}var z=f.create("div",{className:"muiAttachmentUploadCancel",innerHTML:t["sysAttMain.button.cancelAll"]},w);this.connect(z,"click","_onCancel")},_onCancel:function(u){if(this.selectDiv){f.destroy(this.selectDiv);this.selectDiv=null}},_onCamera:function(u){this._onCancel(u);p.openCamera({options:this.getParent()})},_onUpload:function(u){var v=u.target;if(v){v.blur()}this._onCancel(u);p.selectFile({options:this.getParent(),evt:u,feature:n.get(v,"feature")})},_onUploadChange:function(){var u=this.getParent();if(u&&!u.fdMulti){var v=u.getChildren();if(v.length>2){this.containerNode.style.display="none";return}}this.containerNode.style.display="inline-block";k.publish("/mui/list/resize",this)},emitEvents:function(w,v){if(!v.key||v.key!=this.getParent().fdKey){return}var u=a.getClientType();if(v.targetName==="uploadDom"){if(v.eventType==="click"){if(u>6&&u<11){if(this.capture.toLowerCase().indexOf("camera")==-1){this._onKKppload()}else{this._onCamera()}}else{this._onValueClear();this.uploadDom.click()}}}}})})},"sys/mobile/js/mui/nav/NavBar":function(){define("mui/nav/NavBar",["dojo/dom-construct","dojo/_base/declare","dojo/dom-class","dojox/mobile/_ScrollableMixin","dojo/dom-style","dojo/topic","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojox/mobile/SwapView","dojo/_base/array","mui/nav/_ShareNavBarMixin","dojox/mobile/sniff"],function(d,g,n,f,k,h,e,p,b,m,l,a,o){var q=g("mui.nav.NavBar",[e,p,b,f,a],{scrollDir:"h",curIndex:0,lastIndex:0,height:"inherit",width:"100%",scrollBar:false,appBars:false,buildRendering:function(){this.inherited(arguments);this.domNode.dojoClick=!o("ios")||o("ios")>13;n.add(this.domNode,"mblScrollableView");n.add(this.domNode,"muiNavbar");k.set(this.domNode,{top:0});if(this.height.toLowerCase().indexOf("px")!=-1||this.height.toLowerCase().indexOf("rem")!=-1){k.set(this.domNode,"line-height",this.height)}this.containerNode=d.create("ul",{className:"muiNavbarContainer"},this.domNode);this.subscribe("/mui/navbar/slideBar","handleSlideNavBar")},handleSlideNavBar:function(F,E){var t=this.getChildren(),s=E.target;var A=this.getIndexOfChild(s);if(A>-1){this.lastIndex=this.curIndex;this.curIndex=A;var D=this.curIndex-this.lastIndex;var w=this._dim||this.getDim(),C=0,B=false;if(D>0){var z=t.length;if(z-A>=2){var y=t[A+1].domNode;C=-y.offsetLeft+(w.v.w-y.offsetWidth);if(C<0){B=true}}else{var r=k.getComputedStyle(this.domNode),v=k.toPixelValue(this.domNode,r.paddingLeft),u=k.toPixelValue(this.domNode,r.paddingRight);C=-(this.containerNode.offsetWidth-this.domNode.offsetWidth+v+u);B=true}}else{if(D<0){if(A>=1){var y=t[A-1].domNode;C=-y.offsetLeft;if(C>-w.c.w&&C>-(w.c.w-w.v.w)){B=true}}else{C=0;B=true}}}E=this.formatEvt(E);if(B){this.slideEvt=E;this.slideTo({x:C},0.3,"ease-out")}}},formatEvt:function(r){var s=r.width;r.left=r.left+(s)/2;return r},slideTo:function(){this.inherited(arguments);if(this.slideEvt){this.slideEvt=null}},_setWidthAttr:function(r){this.width=r},startup:function(){if(this._started){return}this.reparent();this.inherited(arguments)},reparent:function(){var t,s,r,u;for(t=0,s=0,r=this.domNode.childNodes.length;t<r;t++){u=this.domNode.childNodes[s];if(u===this.containerNode||u===this.moreNode){s++;continue}this.containerNode.appendChild(this.domNode.removeChild(u))}}});return q})},"sys/mobile/js/mui/form/_AutoAdaptionMixin":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-class","dojo/query","dojo/dom-attr","dojo/dom-construct","dojo/dom-style","dojo/dom","dojo/topic","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(g,f,o,n,m,d,l,e,k,h,b){var a=g("mui.form._AutoAdaptionMixin",[f],{EVENT_AUTO_ADAPTION:"/mui/form/detailTableAutoAdaption",EVENT_SINGLE_ROW_VIEW:"mui/standDetailTable/singleRowView",XFORM_FLAG_PREFIX:"_xform_extendDataFormInfo.value(",XFORM_FLAG_SUFFIX:")",autoAdaptionClass:"muiDetailTableAutoAdaption",autoAdaptionViewClass:"autoAdaptionView",muiSingleRowViewClass:"muiInput_View",SWITCH_ID_PREFIX:"detailsTableAutoAdaption_TABLE_DL_",DETAIL_TABLE_ID_PREFIX:"_TABLE_DL_",RELATION_ATT_CHANGE:"/mui/relationRule/attrChange",SWITCH_ON:"on",SWITCH_OFF:"off",startup:function(){this.inherited(arguments);this.subscribe(this.EVENT_AUTO_ADAPTION,"switchChange");this.subscribe(this.EVENT_SINGLE_ROW_VIEW,"singleRowView");this.subscribe(this.RELATION_ATT_CHANGE,"relationAttrChange")},isNeedDestroy:function(){return true},relationAttrChange:function(){if(this.singleRowEditMode){this.buildSingleRowView()}},switchChange:function(p){if(p&&this._isAutoAdaption(p)){var q=p.value;if(q===this.SWITCH_ON){this._autoAdaptionAction()}if(q===this.SWITCH_OFF){this._reset()}}},isInStatisticTr:function(p){return this.hasParentClass(p,"detail_statistic")},hasParentClass:function(s,r){var q=s.domNode;if(q){var p=q.parentNode;while(p){if(o.contains(p,r)){return true}p=p.parentNode}}return false},parseName:function(t){var q=t.get("name");if(q==null||q==""){return null}var r=q.indexOf(".value(");if(r>-1){r=r+7}else{r=0}var s=q.lastIndexOf(")");if(s>-1&&(s+1)==q.length){s=s}else{s=q.length}var p=q.substring(r,s);p=p.replace(/\.id/gi,"");p=p.replace(/\.name/gi,"");return p},singleRowView:function(r){var q=this.parseName(this);var u;if(q&&/\.(\d+)\./g.test(q)){var p=q.indexOf(".");u=q.substring(0,p)}var s=this.isInStatisticTr(this);if(s){var v=n(this.domNode).closest("table")[0];var t=v.getAttribute("id");if(t&&t.indexOf("TABLE_DL_")>-1){u=t.replace("TABLE_DL_","")}}if(u===r){this.singleRowEditMode=true;this.buildSingleRowView();k.publish("/sys/xform/event/singleView/rebindNode",this)}},getDisplayVal:function(){var q=n(this.domNode).closest("xformflag")[0];var p;if(q){p=l.get(q,"display")}if(p!=="none"){p=l.get(this.domNode,"display")}return p},buildSingleRowView:function(){var p=this.getDisplayVal();if(this.showStatus!="hidden"&&p!=="none"){if(!this.autoAdaptionViewNode){this.autoAdaptionViewNode=this.createMarkNode(this.muiSingleRowViewClass)}else{o.replace(this.autoAdaptionViewNode,this.muiSingleRowViewClass,this.autoAdaptionClass)}if(this.autoAdaptionViewNode){this._initViewText();l.set(this.autoAdaptionViewNode,"display","")}}else{if(this.autoAdaptionViewNode){l.set(this.autoAdaptionViewNode,"display","none")}}},createMarkNode:function(u){var q=this.parseName(this);var z;if(q&&/\.(\d+)\./g.test(q)){var y=q.indexOf(".");z=q.substring(0,y)}var r=e.byId(this.DETAIL_TABLE_ID_PREFIX+z);var s=this.XFORM_FLAG_PREFIX+q+this.XFORM_FLAG_SUFFIX;var p=n("[id='"+s+"']",r)[0];var v;if(p){v=n("[mark='autoAdaptionView']",p)[0];if(!v){v=d.create("div",{mark:"autoAdaptionView",_name:this.get("name"),className:u,val:this.get("value")||""},p,"last");var A=n("input[name='"+this.name+"']",p)[0];if(A){var x=n("input[name='"+this.name+"']",this.domNode)[0];if(x){if(A.value){x.value=A.value}}if(this.declaredClass&&this.declaredClass=="sys.xform.mobile.controls.RelationChoose"){var w=n("input",p);if(w){for(var t=0;t<w.length;t++){d.destroy(w[t])}}}else{d.destroy(A)}}p.setAttribute("id","")}}return v},_isAutoAdaption:function(s){var x=s.id;var r=x.substring(this.SWITCH_ID_PREFIX.length);var u;var q=this.parseName(this);if(q&&/\.(\d+)\./g.test(q)){var w=q.indexOf(".");u=q.substring(0,w)}var p=this.isInStatisticTr(this);if(p){var v=n(this.domNode).closest("table")[0];var t=v.getAttribute("id");if(t&&t.indexOf("TABLE_DL_")>-1){u=t.replace("TABLE_DL_","")}}if(u===r){return true}return false},buildAutoAdaptionView:function(){var p=this.getDisplayVal();if(this.showStatus!="hidden"&&p!=="none"){if(!this.autoAdaptionViewNode){this.autoAdaptionViewNode=this.createMarkNode(this.autoAdaptionViewClass)}else{o.replace(this.autoAdaptionViewNode,this.autoAdaptionViewClass,this.muiSingleRowViewClass)}if(this.autoAdaptionViewNode){this._initViewText();if(!o.contains(this.domNode,this.autoAdaptionViewClass)){o.add(this.domNode,this.autoAdaptionViewClass)}l.set(this.autoAdaptionViewNode,"display","")}}else{if(this.autoAdaptionViewNode){l.set(this.autoAdaptionViewNode,"display","none")}}},_initViewText:function(){var q="";if(this.getText){q=h.decodeHTML(this.getText())}else{if(this.text){q=h.decodeHTML(this.text)}else{var p=this.value;if(this.percentFormat){p+="%"}q=h.decodeHTML(p||"")}}this.autoAdaptionViewNode.innerHTML=q},_autoAdaptionAction:function(){this.buildAutoAdaptionView()},_reset:function(){if(o.contains(this.domNode,this.autoAdaptionClass)){o.remove(this.domNode,this.autoAdaptionClass)}}});return a})},"sys/mobile/js/mui/tabbar/TabBarGroup":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/_base/array","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","mui/tabbar/SplitterButton","dojox/mobile/TabBar","dojo/topic"],function(e,b,h,d,l,a,k,g,f){return e("mui.tabbar.TabBarGroup",[d,l,a],{baseClass:"muiTabBarGroup",isFilterEmptyChild:false,buildRendering:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments)},filterEmptyChild:function(m){return h.filter(m,function(o,n){if(o.isInstanceOf(g)){if(o.getChildren().length>0){return true}else{o.destroy()}return false}return false})},startup:function(){this.inherited(arguments);var p=this.getChildren();if(this.isFilterEmptyChild){p=this.filterEmptyChild(p)}var o=p.length;if(o>1){var m=this;var n=true;h.forEach(p,function(r,q){if(r.getChildren().length<=0){n=false}else{n=true}});if(n){h.forEach(p,function(r,q){if(q==0){var s=new k({groupIndex:q,flag:"right"});r.addChild(s,"last")}else{if(q+1==o){var s=new k({groupIndex:q,flag:"left"});r.addChild(s,"first")}else{var s=new k({groupIndex:q,flag:"left"});r.addChild(s,"first");s=new k({groupIndex:q,flag:"right"});r.addChild(s,"last")}}})}this.switchTabBar(0)}},switchTabBar:function(m){if(m>-1){h.forEach(this.getChildren(),function(o,n){if(n==m){o.domNode.style.display="";setTimeout(function(){if(o.resize){o.resize()}},20)}else{o.domNode.style.display="none"}});f.publish("/mui/tabbar/switch",this,{tabbarIdx:m})}},getChildren:function(){var m=this.inherited(arguments);return h.filter(m,function(o,n){if(o.isInstanceOf(g)){return true}return false})}})})},"sys/mobile/js/mui/form/editor/EditorPluginMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-construct","dojo/_base/lang"],function(b,e,a,d){return b("mui.form.editor.plugins.EditorPluginMixin",null,{plugins:["face","image","lingling","dnyling"],holdTime:250,lastTime:null,fireClick:function(f){if(!this.lastTime){this.lastTime=new Date().getTime();return true}var g=this.lastTime;this.lastTime=new Date().getTime();if(g&&this.lastTime-g<=this.holdTime){return false}return true},formatPlugin:function(){this.plugins=e.map(this.plugins,function(g){var f=g;if(g.indexOf("/")<0){f="mui/form/editor/plugins/"+g+"/Plugin"}return f},this)},buildEdit:function(){this.inherited(arguments);this.formatPlugin();this.editorDeferred.then(d.hitch(this,function(){var f=this;require(this.plugins,function(){e.forEach(arguments,function(g){var k=new g({editor:this});var h;if(k.iconImg){h=a.create("a",{style:{lineHeight:"4.5rem"},className:k.icon+" mui",innerHTML:'<img src="'+k.iconImg+'" width="24" height="24"/>',href:"javascript:;"},this.pluginNode)}else{h=a.create("a",{className:k.icon+" mui",href:"javascript:;"},this.pluginNode)}if(k.event){this.connect(h,"click",function(l){if(!this.fireClick(l)){return}this.defer(function(){this.__textNode.blur();k.event.call(k,l)},1)})}k.startup()},f)})}))}})})},"sys/mobile/js/mui/fixed/ScrollableFixed":function(){define("mui/fixed/ScrollableFixed",["dojo/dom-construct","dojo/_base/declare","dojo/dom-style","dojo/topic","dojo/_base/lang","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","mui/fixed/FixedItem"],function(e,g,k,h,b,f,l,d,a){return g("mui.fixed.ScrollableFixed",[f,l,d],{runSlide:"/mui/list/_runSlideAnimation",buildRendering:function(){this.inherited(arguments);this.subscribeScroll()},nav:null,topList:[],buildTopList:function(){this.set("topList",[]);var n=this.getChildren();for(var m=0;m<n.length;m++){if(n[m] instanceof a){var o=n[m].domNode;var p={dom:o};if(this.currentDom&&this.currentDom==o){p.top=this.nav.offsetTop}else{p.top=o.offsetTop}this.topList.push(p)}}},compara:function(p){if(p<this.topList[0].top){return null}var m=this.topList.length-1,o=0;while(o<=m){var n=parseInt((m+o)/2);if(p==this.topList[n].top){return this.topList[n].dom}else{if(p>this.topList[n].top){o=n+1}}if(p<this.topList[n].top){m=n-1}}return this.topList[o-1].dom},subscribeScroll:function(){this.subscribe(this.runSlide,b.hitch(function(n,m){if(this.getParent()!=n){return}this.buildTopList();if(this.lock){return}this.lock=true;var p=m.to.y;if(p>=0){this.resetNav();this.lock=false;return}p=Math.abs(p);var o=this.compara(p);if(!o){this.resetNav();this.lock=false;return}if(o&&this.currentDom!=o){this.resetNav();this.currentDom=o;this.nav=b.clone(o);e.place(this.nav,o,"after");k.set(o,{position:"absolute",top:0,left:0,right:0,"background-color":"rgb(255, 255, 255)"});e.place(o,n.domNode,"last");h.publish(this.change,this,{dom:o})}this.lock=false}))},resetNav:function(){if(this.nav){e.place(this.currentDom,this.nav,"after");k.set(this.currentDom,{position:"static","background-color":"rgba(0, 0, 0, 0)"});this.nav.parentNode.removeChild(this.nav);this.nav=null}this.currentDom=null},startup:function(){if(this._started){return}this.inherited(arguments)}})})},"sys/mobile/js/mui/form/_SelectBase":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/form/_FormBase","dojo/dom-class","mui/util","mui/form/_PlaceholderMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-attr"],function(e,d,h,k,f,b,a,g){var l=e("mui.form._SelectBase",[h,b],{baseClass:"muiFormEleWrap popup",optClass:"muis-to-right",tipMsg:a["mui.form.please.select"],_buildValue:function(){this.inherited(arguments);var n="build"+f.capitalize(this.showStatus);this[n]?this[n]():"";var m=this.showStatus+"ValueSet";this.showStatusSet=this[m]?this[m]:new Function()},buildRendering:function(){this.inherited(arguments);this.inputContent=d.create("div",{className:"muiSelInput"},this.domNode);if(this.buildXFormStyle()){$(this.inputContent).attr("style",this.buildXFormStyle())}var m=this.buildXFormStyle();if(m){g.set(this.inputContent,"style",m)}this.contentNode=this.inputContent;this._buildValue()},_readOnlyAction:function(m){this.inherited(arguments)},_setValueAttr:function(m){this.showStatusSet(m);this.inherited(arguments);if(this.domNode){if(!m&&this.edit&&this.showPleaseSelect){k.remove(this.domNode,"showTitle")}else{k.add(this.domNode,"showTitle")}}}});return l})},"sys/mobile/js/mui/form/validate/Validator":function(){define(["dojo/_base/declare"],function(b){var a=b("mui.form.validate.Validator",null,{type:"",error:"",owner:this,options:{},params:[],testFun:function(e,d){return true},constructor:function(f,e,g,d){this.inherited(arguments);if(f){this.type=f}if(e){this.error=e}if(g){this.testFun=g}if(d){this.params=d}},test:function(e,d){return this.testFun.call(this.owner,e,d,this.options)},setOption:function(e,d){this.options[e]=d},setOwner:function(d){this.owner=d||this},setParams:function(d){this.params=d},setParamValues:function(d){for(var e=0,f=this.params.length;e<f;e++){if(e==d.length){break}this.setOption(this.params[e],d[e])}}});return a})},"sys/mobile/js/mui/search/SwapSearchMixin":function(){define(["dojo/_base/declare","mui/util","dojo/_base/array","dojo/query","dijit/registry","dojo/topic"],function(e,a,g,f,b,d){return e("mui.search.SwapSearchMixin",null,{searchKey:null,searchValue:null,buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/search/submit","searchConfirm");this.subscribe("/mui/search/cancel","cancelSearch")},generateSwapList:function(h,k){this.propertyUrls=[];if(this.searchValue){g.forEach(h,function(l){l.url=a.setUrlParameter(l.url,this.searchKey,this.searchValue)},this)}this.inherited(arguments)},cancelSearch:function(){this.searchValue=null;this._searchChangeUrl()},searchConfirm:function(k,h){if(!h){return}this.searchValue=h.keyword;this._searchChangeUrl()},_searchChangeUrl:function(){var h=this.getChildren();if(h.length==0){return}d.publish("/mui/list/toTop",this);g.forEach(h,function(k){k.reloadTime=0;var m=k.getChildren()[0];var l=b.getEnclosingWidget(f(".mblEdgeToEdgeList",k.domNode)[0]);m.rel.url=a.setUrlParameter(m.rel.url,this.searchKey,this.searchValue);l.url=a.formatUrl(m.rel.url);if(this.currView==k){l.reload()}},this)}})})},"sys/mobile/js/mui/datetime/_DatePickerMixin_yearMonth":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/date","dojo/date/locale","dojo/date/stamp"],function(g,b,a,f,k,h){var l={format:function(n){return k.format(n,{datePattern:this.pattern,selector:"date",locale:this.picker.lang})}};var e=a.mixin({initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var p=new Date(this.labelFrom,0,1);var o,n;for(o=this.labelFrom,n=0;o<=this.labelTo;o++,n++){p.setFullYear(o);this.labels.push(this.format(p))}}}},l);var d=a.mixin({initLabels:function(){this.labels=[];var o=new Date(2000,0,16);for(var n=0;n<12;n++){o.setMonth(n);this.labels.push(this.format(o))}}},l);var m=a.mixin({initLabels:function(){this.labels=[];var o=new Date(2000,0,1);for(var n=1;n<=31;n++){o.setDate(n);this.labels.push(this.format(o))}}},l);return b("mui/datetime/_DatePickerMixin_yearMonth",null,{yearPattern:"yyyy",monthPattern:"MMM",dayPattern:"d",initSlots:function(){var o=this.slotClasses,n=this.slotProps;o[0]=b(o[0],e);o[1]=b(o[1],d);o[2]=b(o[2],m);n[2].picker=n[1].picker=n[0].picker=this;n[0].pattern=this.yearPattern;n[1].pattern=this.monthPattern;n[2].pattern=this.dayPattern;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var n=k._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=g.map(n,function(o){return{y:0,m:1,d:2}[o.charAt(0)]})},reset:function(){var o=new Date();var n=g.map(this.slots,function(p){return p.format(o)});this.set("colors",n);this._disableEndDaysOfMonth();if(this.value){this.set("value",this.value);this.value=null}else{if(this.values){this.set("values",this.values);this.values=null}else{this.set("values",n)}}},_onYearSet:function(){var o=this.slots[0];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){this._disableEndDaysOfMonth();o._previousValue=n;o._set("value",n);this.onYearSet()}},onYearSet:function(){},_onMonthSet:function(){var o=this.slots[1];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){this._disableEndDaysOfMonth();o._previousValue=n;o._set("value",n);this.onMonthSet()}},onMonthSet:function(){},_onDaySet:function(){var o=this.slots[2];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){if(!this._disableEndDaysOfMonth()){o._previousValue=n;o._set("value",n);this.onDaySet()}}},onDaySet:function(){},_disableEndDaysOfMonth:function(){var q=this.slots[0].pattern+"/"+this.slots[1].pattern,o=this.get("values"),p=k.parse(o[0]+"/"+o[1],{datePattern:q,selector:"date",locale:this.lang}),n=f.getDaysInMonth(p);var r=false;if(n<o[2]){r=true;this.slots[2]._spinToValue(n,false)}this.disableValues(n);return r},_getDateAttr:function(){var n=this.get("values"),p=this.slots,o=p[0].pattern+"/"+p[1].pattern;return k.parse(n[0]+"/"+n[1],{datePattern:o,selector:"date",locale:this.lang})},_setValuesAttr:function(n){g.forEach(this.getSlots(),function(p,r){var q=n[r];if(typeof q=="number"){var o=[1970,1,1];o.splice(r,1,q-0);q=p.format(new Date(o[0],o[1]-1,o[2]))}p.set("value",q)})},_setValueAttr:function(o){var n=h.fromISOString(o);this.set("values",g.map(this.slots,function(p){return p.format(n)}))},_getValueAttr:function(){return h.toISOString(this.get("date"),{selector:"date"})}})})},"sys/mobile/js/mui/fixed/NativeFixedMixin":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/query","dojo/window","dojo/dom-geometry","dijit/registry"],function(e,f,d,a,g,k,h,b){return e("mui.fixed.NativeFixedMixin",[],{baseClass:"muiNativeFixedComponent",fixedClass:"muiFixed",fixedOrder:0,startup:function(){this.inherited(arguments);window.addEventListener("scroll",this.scrollEvent.bind(this))},scrollEvent:function(l){if(this.noSrcoll){return}if(!this.offsetTop){this.offsetTop=h.getContentBox(this.domNode).t}var m=k.getBox();var n=this.calculateFixedTop();if(m.t+n>this.offsetTop){this.addPlaceholder();f.add(this.domNode,"muiFixed");if(n!=0){d.set(this.domNode,"top",n+"px")}}else{this.removePlaceholder();f.remove(this.domNode,"muiFixed");d.set(this.domNode,"top","")}},calculateFixedTop:function(){var q=0;var p=g(".muiNativeFixedComponent");if(p.length>0){var n=[];for(var m=0;m<p.length;m++){var o=p[m];if(this._isVisible(o)){var l=b.byNode(o);if(l&&l.fixedOrder<this.fixedOrder){n.push(l)}}}n=n.sort(this.orderAscCompare);for(var m=0;m<n.length;m++){var l=n[m];q+=h.getContentBox(l.domNode).h}}return q},orderAscCompare:function(o,n){var m=o.fixedOrder;var l=n.fixedOrder;if(m>l){return 1}else{if(m<l){return -1}else{return 0}}},_isVisible:function(l){var m=function(n){return d.get(n,"display")!=="none"};for(var o=l;o.tagName!=="BODY";o=o.parentNode){if(!m(o)){return false}}return true},removePlaceholder:function(){if(this.hoderNode){a.destroy(this.hoderNode);this.hoderNode=null}},addPlaceholder:function(){if(this.hoderNode){return}var m=this.domNode.offsetWidth,l=this.domNode.offsetHeight;this.hoderNode=a.create("div",{},this.domNode,"after");d.set(this.hoderNode,{width:m+"px",height:l+"px",visibility:"hidden"})}})})},"sys/mobile/js/mui/address/AddressHistoryItemMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dijit/registry","dojox/mobile/_ItemBase"],function(g,e,b,h,f,d,a){return g("mui.address.AddressHistoryItemMixin",[a],{buildRendering:function(){this.inherited(arguments);this.domNode=this.containerNode=b.create("div",{className:"muiAddressHistoryItem"});this.contentNode=b.create("span",{className:"muiAddressHistoryItemContent",innerHTML:this.keyword},this.domNode);this.deleteNode=b.create("span",{className:"muiAddressHistoryItemDel"},this.domNode);b.create("i",{className:"mui mui-fail"},this.deleteNode)},postCreate:function(){this.connect(this.domNode,"click","_handleSearch");this.connect(this.deleteNode,"click","_handleDel")},_handleSearch:function(){e.publish("/mui/address/search/submit",this,{keyword:this.keyword})},_handleDel:function(k){k.stopPropagation();e.publish("/mui/address/search/history/remove",this,this.keyword)}})})},"sys/mobile/js/mui/form/Input":function(){define(["dojo/_base/declare","mui/form/_InputBase","dojo/dom-construct","mui/util","dojo/dom-style","dojo/dom-class","dojo/dom-attr"],function(f,h,b,a,e,g,k){var d=f("mui.form.Input",[h],{edit:true,type:"input",name:null,inputClass:"muiInput muiFormItem",originValue:"",optClass:"muis-form-delete-btn",buildRendering:function(){this.inherited(arguments);if(this.isNewDesktopLayout()==true){this.align="left"}if(this.placeholder){this.placeholder=a.decodeHTML(this.placeholder);this.placeholder=this.placeholder.replace(/&#39;/g,"'")}},startup:function(){this.inherited(arguments);this.connect(document.body,"click","_handleBlur")},_handleBlur:function(l){if(this.inputNode&&document.activeElement==this.inputNode){var m=l.srcElement||l.target;if(m!=this.inputNode){this.inputNode.blur()}}},showRight:function(l){if(this.rightIcon){g.toggle(this.rightIcon,"muiSelInputRightShow",l)}},_onInput:function(l){var m=l.target.value;this.showRight(m)},_onFocus:function(){this.showRight(this.value)},_onBlur:function(l){this.set("value",l.target.value);this.defer(function(){this.showRight(false)},400)},buildEdit:function(){this.inputNode=b.create("input",{name:this.name,className:this.inputClass,type:"text"},this.domNode);var l=this.buildXFormStyle();if(l){k.set(this.inputNode,"style",l)}b.create("input",{type:"text",style:"display:none;"},this.domNode);this.contentNode=this.inputNode;if(this.percentFormat){var m=b.toDom("<span style='padding-right: 10px;'>%</span>");b.place(m,this.inputNode,"after");this.inputNode.style.width="80%"}this.showRight(false);if(this.rightIcon){this.connect(this.rightIcon,"click","_onIconClick")}this.connect(this.inputNode,"keyup","_onInput");this.connect(this.inputNode,"focus","_onFocus");this.connect(this.inputNode,"blur","_onBlur")},_onIconClick:function(l){l.preventDefault();l.stopPropagation();this.set("value","");this.inputNode.focus()},_getValueAttr:function(){var l=this._get("value");if(l||l===0){return a.decodeHTML(l)}else{if(this.inputNode){return this.inputNode.value}}return l},buildView:function(){this.textNode=b.create("div",{className:"muiInput_View"},this.domNode);var l=this.buildXFormStyle();if(l){k.set(this.textNode,"style",l)}},buildHiddenEle:function(){this.inputNode=b.create("input",{name:this.name,className:this.inputClass,type:"hidden"},this.domNode)},buildReadOnly:function(){this.inputNode=b.create("input",{name:this.name,className:this.inputClass,readonly:"readonly"},this.domNode);this.connect(this.inputNode,"focus",function(m){m.target.blur()});var l=this.buildXFormStyle();if(l){k.set(this.inputNode,"style",l)}},buildHidden:function(){this.inputNode=b.create("input",{name:this.name,className:this.inputClass,type:"hidden"},this.domNode);e.set(this.domNode,{display:"none"})},viewValueSet:function(l){if(l==null||l.length==0){return""}l=(l+"").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#39;/g,"'").replace(/&amp;/g,"&");this.textNode.innerText=l},editValueSet:function(l){this.inputNode.value=a.decodeHTML(l)},readOnlyValueSet:function(l){this.inputNode.value=a.decodeHTML(l)},hiddenValueSet:function(l){this.inputNode.value=a.decodeHTML(l)},formatHTML:function(l){var m=b.create("div");l=l.replace(/<br\>/g,"\n");m.innerHTML=l;return m.innerText||m.innerContent||""}});return d})},"sys/mobile/js/mui/address/AddressCommonGroupListMixin":function(){define(["dojo/_base/declare","mui/util","./AddressItemListMixin","./AddressCommonGroupItemMixin"],function(d,b,a,e){return d("mui.address.AddressCommonGroupListMixin",[a],{itemRenderer:e,dataUrl:"/sys/organization/mobile/address.do?method=commonGroupCate&parent=!{parentId}&orgType=!{selType}",_cateChange:function(g,f){if(g.key==this.key){if((f.type|window.ORG_TYPE_GROUP_CATE)===window.ORG_TYPE_GROUP_CATE){this.dataUrl="/sys/organization/mobile/address.do?method=commonGroupCate&parent=!{parentId}&orgType=!{selType}"}else{this.dataUrl="/sys/organization/mobile/address.do?method=commonGroupList&groupCate=!{parentId}&nodeType=group&orgType=!{selType}"}}if(this.isExt!=""&&this.isExt!=undefined&&this.isExt=="true"){this.dataUrl+="&isExternal=false"}this.inherited(arguments)},resolveItems:function(){var k=this.inherited(arguments);var g=[];if(k&&k.length>0){var h;if(this.params&&this.params.exceptValue){h=this.params.exceptValue}for(var f=0;f<k.length;f++){if(h&&h.indexOf(k[f].id)!=-1){continue}g.push(this._transformItemProperties(k[f]))}}return g},_transformItemProperties:function(f){if(f.nodeType){f.type=f.nodeType==="cate"?window.ORG_TYPE_GROUP_CATE:window.ORG_TYPE_GROUP;f.fdId=f.value;f.label=f.text}else{f.type=f.orgType;f.fdId=f.id;f.label=f.name;if((f.type|window.ORG_TYPE_PERSON)==window.ORG_TYPE_PERSON){if(!f.dingImg||f.dingImg!=="true"){f.icon=b.urlResolver(this.iconUrl,{orgId:f.fdId})}}}return f}})})},"sys/mobile/js/mui/address/AddressSearchBarMixin":function(){define(["dojo/_base/declare","dojo/topic"],function(b,a){return b("mui.address.AddressSearchBarMixin",null,{_onSearch:function(){a.publish("/mui/navitem/selected",this,{key:"all"});return this.inherited(arguments)},startup:function(){this.inherited(arguments);a.publish("/mui/category/changed",this,{fdId:this.curId})}})})},"sys/mobile/js/mui/tabbar/TabBarButtonGroup":function(){define(["dojo/_base/declare","mui/tabbar/TabBarButton","dojo/dom-class","dojo/dom-style","dojox/mobile/Tooltip","dojo/dom-construct","dijit/registry","dojo/_base/lang","dojo/dom-attr"],function(e,l,k,f,h,d,a,b,g){return e("mui.tabbar.TabBarButtonGroup",[l],{adjustDestination:"/mui/list/adjustDestination",buildRendering:function(){this.openerContainer=new h();d.place(this.openerContainer.domNode,document.body,"last");k.add(this.openerContainer.domNode,"muiNavBarGroup");var n=this.openerContainer.containerNode;this.tabGroupContainer=d.create("div",{className:"muiNavBarGroupContainer"},n);var m=this.srcNodeRef.children;while(m.length>0){d.place(m[0],this.tabGroupContainer,"last")}this.inherited(arguments);k.add(this.domNode,"muiBarFloatRightButton");if(!this.label){k.add(this.getParent().domNode,"muiNavBarButton")}g.set(this.domNode,"title","更多")},startup:function(){if(this._started){return}this.inherited(arguments);if(this.align!="center"){f.set(this.iconDivNode,{"float":"none"})}if(!this.icon1){f.set(this.iconDivNode,{width:"0px",display:"block"})}this.subscribe(this.adjustDestination,b.hitch(this,this.hideOpener))},_onClick:function(m){var n=this.openerContainer;if(n.resize){k.add(n.domNode,"muiTooltipHidden");this.defer(function(){this.hideOpener(this);k.remove(n.domNode,"muiTooltipHidden")},300)}else{n.show(this.iconDivNode?this.iconDivNode:this.domNode,["above"])}this.defaultClickAction(m);this.handle=this.connect(document.body,"touchend","unClick")},hideOpener:function(m){this.openerContainer.hide()},addExpButton:function(m,n){if(m instanceof l){d.place(m.domNode,this.tabGroupContainer,n)}},unClick:function(m){var o=m.target,n=true;while(o){if(o==this.domNode){n=false;break}o=o.parentNode}if(n){this.defer(function(){this.hideOpener();this.disconnect(this.handle)},400)}}})})},"sys/mobile/js/mui/datetime/_DatePickerMixin_year":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/date","dojo/date/locale","dojo/date/stamp"],function(g,b,a,f,k,h){var l={format:function(n){return k.format(n,{datePattern:this.pattern,selector:"date",locale:this.picker.lang})}};var e=a.mixin({initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var p=new Date(this.labelFrom,0,1);var o,n;for(o=this.labelFrom,n=0;o<=this.labelTo;o++,n++){p.setFullYear(o);this.labels.push(this.format(p))}}}},l);var d=a.mixin({initLabels:function(){this.labels=[];var o=new Date(2000,0,16);for(var n=0;n<12;n++){o.setMonth(n);this.labels.push(this.format(o))}}},l);var m=a.mixin({initLabels:function(){this.labels=[];var o=new Date(2000,0,1);for(var n=1;n<=31;n++){o.setDate(n);this.labels.push(this.format(o))}}},l);return b("mui/datetime/_DatePickerMixin_year",null,{yearPattern:"yyyy",monthPattern:"MMM",dayPattern:"d",initSlots:function(){var o=this.slotClasses,n=this.slotProps;o[0]=b(o[0],e);o[1]=b(o[1],d);o[2]=b(o[2],m);n[2].picker=n[1].picker=n[0].picker=this;n[0].pattern=this.yearPattern;n[1].pattern=this.monthPattern;n[2].pattern=this.dayPattern;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var n=k._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=g.map(n,function(o){return{y:0,m:1,d:2}[o.charAt(0)]})},reset:function(){var o=new Date();var n=g.map(this.slots,function(p){return p.format(o)});this.set("colors",n);this._disableEndDaysOfMonth();if(this.value){this.set("value",this.value);this.value=null}else{if(this.values){this.set("values",this.values);this.values=null}else{this.set("values",n)}}},_onYearSet:function(){var o=this.slots[0];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){this._disableEndDaysOfMonth();o._previousValue=n;o._set("value",n);this.onYearSet()}},onYearSet:function(){},_onMonthSet:function(){var o=this.slots[1];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){this._disableEndDaysOfMonth();o._previousValue=n;o._set("value",n);this.onMonthSet()}},onMonthSet:function(){},_onDaySet:function(){var o=this.slots[2];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){if(!this._disableEndDaysOfMonth()){o._previousValue=n;o._set("value",n);this.onDaySet()}}},onDaySet:function(){},_disableEndDaysOfMonth:function(){var q=this.slots[0].pattern+"/"+this.slots[1].pattern,o=this.get("values"),p=k.parse(o[0]+"/01",{datePattern:q,selector:"date",locale:this.lang}),n=f.getDaysInMonth(p);var r=false;if(n<o[2]){r=true;this.slots[2]._spinToValue(n,false)}this.disableValues(n);return r},_getDateAttr:function(){var n=this.get("values"),p=this.slots,o=p[0].pattern;return k.parse(n[0],{datePattern:o,selector:"date",locale:this.lang})},_setValuesAttr:function(n){g.forEach(this.getSlots(),function(p,r){var q=n[r];if(typeof q=="number"){var o=[1970,1,1];o.splice(r,1,q-0);q=p.format(new Date(o[0],o[1]-1,o[2]))}p.set("value",q)})},_setValueAttr:function(o){var n=h.fromISOString(o);this.set("values",g.map(this.slots,function(p){return p.format(n)}))},_getValueAttr:function(){return h.toISOString(this.get("date"),{selector:"date"})}})})},"sys/mobile/js/mui/panel/Content":function(){define("mui/panel/Content",["dojo/_base/declare","dojo/dom-style","dijit/_WidgetBase","dijit/_Contained","dijit/_Container"],function(e,d,f,b,a){return e("mui.panel.Content",[f,b,a],{title:"",icon:"",baseClass:"muiContent",expand:true,inited:false,loaded:false,hasChild:true,startup:function(){if(this._started){return}this.inherited(arguments)},initContent:function(){if(this.inited){return}var g=this.getChildren();if(g.length==0){this.set("hasChild",false);if(this.expand){this.show()}return}this.content=g[0];this.expand=this.content.lazy?false:true;this.loaded=this.expand;this.inited=true;if(this.expand){this.show()}},reload:function(){if(this.loaded){return}var g=this.content;if(g.reload){g.reload()}this.loaded=true},hide:function(){d.set(this.domNode,"opacity",0);this.defer(function(){d.set(this.domNode,"display","none");this.expand=false},200)},show:function(){if(this.reload&&!this.loaded&&this.hasChild){this.reload()}d.set(this.domNode,{display:"block",opacity:1});this.expand=true}})})},"sys/mobile/js/mui/dialog/Dialog":function(){define(["dojo/_base/declare","mui/dialog/_DialogBase","dojo/dom-construct","dijit/registry","dojo/dom-style","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/parser","mui/iconUtils","dojox/mobile/View","dojox/mobile/_css3","dojo/query","dojo/on","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/topic"],function(k,f,h,a,m,r,p,e,d,g,b,t,q,o,s,l){var n=k("mui.dialog.Dialog",[f],{element:null,title:"",buttons:[],callback:null,onDrawed:null,showClass:"muiDialogElementShow",closeClass:"fontmuis muis-epid-close",transform:"",appendTo:document.body,closeOnClickDomNode:true,position:"center",canClose:true,iconClose:false,destroyAfterClose:true,scrollable:true,scrollViewNode:null,parseable:false,privateHeight:null,scrollParentNode:false,loaded:function(){if(this.scrollable){var u=document.documentElement.clientHeight*0.8;if(this.privateHeight){u=this.privateHeight}if(this.divNode){u=u-this.divNode.offsetHeight}if(this.buttonsNode){u=u-this.buttonsNode.offsetHeight}m.set(this.contentNode,{height:u+"px"})}},buildRendering:function(){this.inherited(arguments);var v=this;this.domNode=h.create("div",{className:"muiDialogElement"+(this.showClass!=null?(" "+this.showClass):"")},this.appendTo,"last");if(this.position!="center"){this.otherNode=h.create("div",{},this.domNode)}var x=h.create("div",{className:(this.position=="center"?"muiDialogElementContainerWrap":"muiDialogElementContainerWrap_"+this.position)},this.domNode);this.containerNode=h.create("div",{className:(this.position=="center"?"muiDialogElementContainer":"muiDialogElementContainer_"+this.position)},x);if(this.iconClose){this.closeNode=h.create("div",{className:"muiDialogElementCloseIcon"},this.containerNode);h.create("i",{className:"fontmuis muis-epid-close"},this.closeNode);this.connect(this.closeNode,"click","_onClose")}if(this.title){this.divNode=h.create("div",{className:this.position=="center"?"muiDialogElementDiv":"muiDialogElementDiv_"+this.position},this.containerNode);if(this.canClose&&!this.iconClose&&(typeof(this.buttons)==="undefined"||this.buttons==null||this.buttons.length==0)){this.closeNode=h.create("div",{className:"muiDialogElementCancel",innerHTML:s["mui.button.cancel"]},this.divNode);this.connect(this.closeNode,"click","_onClose")}this.titleNode=h.create("div",{className:this.position=="center"?"muiDialogElementTitle":"muiDialogElementTitle_"+this.position,innerHTML:this.title},this.divNode)}if(this.fixElement){h.place(this.fixElement,this.containerNode)}this.contentNode=h.create("div",{className:this.position=="center"?"muiDialogElementContent":"muiDialogElementContent_"+this.position},this.containerNode);if(this.buttons.length>0){r.add(this.containerNode,"muiHasDialogElementButtons");this.buttonsNode=h.create("div",{className:this.position=="center"?"muiDialogElementButtons":"muiDialogElementButtons_"+this.position},this.containerNode);this.buttonsDom=[];p.forEach(this.buttons,e.hitch(this,function(z){var y=h.create("div",{className:this.position=="center"?"muiDialogElementButton":"muiDialogElementButton_"+this.position,innerHTML:z.title},this.buttonsNode);this.buttonsDom.push(y)}));this.connect(this.buttonsNode,"click","_onClick")}var w=this.contentNode;var u=this.parseable;if(this.scrollable){w=h.create("div",{className:"muiDialogScrollView","data-dojo-type":"mui/NativeView"},this.contentNode);u=true;this.scrollViewNode=w}h.place(this.element,w);if(u){if(this.fixElement){d.parse(this.fixElement)}d.parse(this.contentNode).then(function(z){l.publish("parser/dialog/done");v.htmlWdgts=z;v.loaded();var y=v._getScrollWidgetByParentNode(v.contentNode);if(y){v.scrollViewNode=y.domNode}if(v.onDrawed){v.onDrawed(v)}v._addDialogEventListener();v.afterDrawed()})}else{this.loaded();if(this.onDrawed){this.onDrawed(this)}this._addDialogEventListener();this.afterDrawed()}this.defer(function(){if(v.position!="center"){m.set(v.otherNode,{height:(v.domNode.offsetHeight)+"px"});v.connect(v.otherNode,"click","_onClose")}else{v.connect(v.domNode,"click","_onDialogClose")}},400);this.show()},_addDialogEventListener:function(){var C=this;this.domNode.addEventListener("touchmove",function(D){var G=D||window.event,F=G.target||G.srcElement;var E=C._isMoveTargetInDialogContent(F);if(E==false){G.preventDefault();G.stopPropagation()}},false);var y=null;if(this.scrollViewNode){y=this.scrollViewNode}else{var B=this._getScrollWidgetByParentNode(this.contentNode);y=B?B.domNode:this.contentNode}this.scrollNode=y;var A,z,x,w,v,u;y.addEventListener("touchstart",function(D){A=D.touches[0].pageX;z=D.touches[0].pageY},false);y.addEventListener("touchmove",function(H){x=H.changedTouches[0].pageX;w=H.changedTouches[0].pageY;v=x-A;u=w-z;if(Math.abs(u)>Math.abs(v)&&u>0){if(this.scrollTop<=0){if(H&&H.cancelable&&!H.defaultPrevented){H.preventDefault()}}}else{if(Math.abs(u)>Math.abs(v)&&u<0){var F=this.scrollHeight;var D=this.clientHeight;var G=this.scrollTop;var E=F-D-G;if(E<=0){if(H&&H.cancelable&&!H.defaultPrevented){H.preventDefault()}}}}},false)},_getScrollWidgetByParentNode:function(u){var w=null;var y=q("[data-dojo-type].mblView",u);for(var x=0;x<y.length;x++){var v=y[x];var z=a.byNode(v);if(z instanceof b){w=z;break}}return w},_isMoveTargetInDialogContent:function(u){if(u.nodeName.toUpperCase()=="BODY"){return false}else{if(u==this.contentNode){return true}else{return this._isMoveTargetInDialogContent(u.parentElement)}}},_onClick:function(u){var w=u.target;for(var v=0;v<this.buttonsDom.length;v++){if(w===this.buttonsDom[v]||w.parentNode===this.buttonsDom[v]){this.buttons[v].fn.call(window,this);if(this.callback){this.callback(window,this)}break}}},_onDialogClose:function(v){var w=v.target,u=q(w).closest(".muiDialogElementContainer");if(u&&u.length>0){return}if(this.closeOnClickDomNode){if(this.callback){this.callback(window,this)}this.hide()}},_onClose:function(u){var v=u.target;if((v===this.otherNode&&this.closeOnClickDomNode&&this.position!="center")||v===this.closeNode||v.parentNode==this.closeNode){if(this.callback){this.callback(window,this)}this.hide()}},show:function(){var v="";var u=this.transform||this.position;if(u){if(u=="bottom"){v="fadeInUp"}else{if(u=="top"){v="fadeInDown"}else{if(u=="left"){v="fadeInLeft"}else{if(u=="right"){v="fadeInRight"}}}}}if(!v){v="fadeIn"}r.add(this.containerNode," animated "+v);return this.inherited(arguments)},hide:function(){this.beforeCallback();r.add(this.containerNode,"fadeOut animated");r.add(this.domNode,"fadeOut animated");this.defer(function(){m.set(this.containerNode,{display:"none"});m.set(this.domNode,{display:"none"});r.remove(this.containerNode,"fadeOut");r.remove(this.domNode,"fadeOut");if(this.destroyAfterClose){p.forEach(this.htmlWdgts,function(u){if(u&&u.destroy){u.destroy()}});h.destroy(this.domNode);this.domNode=null;this.destroy()}},400);if(this.destroyAfterClose){this.inherited(arguments)}},afterDrawed:function(){if(this.scrollParentNode){return}this.bodyScrollPos=this.getBodyScrollPos();m.set(q("body")[0],{"overflow-y":"hidden",position:"fixed"})},beforeCallback:function(){if(this.scrollParentNode){return}if(q(".muiDialogElement").length>1){var u=q(".muiDialogElement");var x=0;for(var v=0;v<u.length;v++){var y=u[v];var w=false;while(y.parentNode){if(y.parentNode.style&&y.parentNode.style.display=="none"){w=true;break}y=y.parentNode}if(!w){x++}}if(x>1){return}}m.set(q("body")[0],{"overflow-y":"",position:""});if(this.bodyScrollPos){this.setBodyScrollPos(this.bodyScrollPos)}},getBodyScrollPos:function(){return{y:document.documentElement.scrollTop||document.body.scrollTop}},setBodyScrollPos:function(u){document.documentElement.scrollTop=document.body.scrollTop=u.y}});return{claz:n,element:function(u){return new n(u)}}})},"sys/mobile/js/mui/form/Composite":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","dijit/_Container","dojo/dom-construct","dojox/mobile/_ScrollableMixin"],function(g,k,h,f,e,b,a){var d=g("mui.form.Composite",[k,e,a],{required:false,scrollDir:"h",validate:null,requiredChildren:[],buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"muiFormComposite");this.requiredNode=b.create("div",{className:"muiFormRequiredShow muiFormRequired",innerHTML:"*"},this.domNode,"last")},startup:function(){this.inherited(arguments);this.adapterValidater();f.set(this.domNode,{height:""})},orient:"horizontal",adapterValidater:function(){var m="horizontal";var o=this.getChildren();this.requiredChildren=[];for(var n=0;n<o.length;n++){var l=o[n];if(l.edit&&l.get("required")===true){this.requiredChildren.push(l)}if("vertical"==l.get("orient")){m="vertical"}}if(this.requiredChildren.length>0){this.set("required",true)}else{this.set("required",false)}h.add(this.domNode,"muiFormComposite"+m.charAt(0).toUpperCase()+m.slice(1))},_setRequiredAttr:function(l){this._set("required",l);this._initText()},_initText:function(){h.toggle(this.requiredNode,"muiFormRequiredShow",this.required)},resize:function(){this.inherited(arguments);f.set(this.domNode,{height:""})}});return d})},"sys/mobile/js/mui/datetime/_DateMixin":function(){define(["dojo/_base/declare","mui/datetime/_EditDateTimeMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){return b("mui.datetime._DateMixin",[a],{type:"date",tmplStr:'<div data-dojo-type="mui/datetime/DatePicker" id="_date_picker" data-dojo-props="value:\'!{dateValue}\'"></div>',title:d["mui.date.select"],_contentExtendClass:"muiDateDialogDisContent"})})},"sys/mobile/js/mui/form/SimpleCategory":function(){define(["dojo/_base/declare","mui/form/Category","mui/simplecategory/SimpleCategoryMixin"],function(b,d,e){var a=b("mui.form.SimpleCategory",[d,e],{});return a})},"sys/mobile/js/mui/form/editor/plugins/image/Plugin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/text!../tmpl/panelH.html","dojo/html","dojo/query","mui/util","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/topic","mui/form/editor/plugins/EditorPluginBaseMixin","dojo/dom","dojo/_base/array","dojo/string","mui/device/device","mui/device/adapter","mui/dialog/Tip","dojox/mobile/sniff","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/touch"],function(w,f,k,n,e,b,x,q,v,m,r,l,t,h,a,s,p,u,d,o,g){return w("mui.form.editor.plugins.face.Plugin",[l],{type:"image",event:function(y){this._imageShow(y)},icon:"mui-editor-image",eventPrefix:"attachmentObject_",show:function(){this.inherited(arguments);q.set(this.container,{display:"block"})},hide:function(){this.inherited(arguments);this.defer(function(){q.set(this.container,{display:"none"})},200)},constructor:function(y){this.inherited(arguments);this.fdKey=y.editor.name},_imgUploadStart:function(z,y){if(window.console){console.log("图片上传开始")}if(z==window.AttachmentList[this.fdKey]){this._imageBuildImage(y)}},_imgUploadSuccess:function(B,E){if(window.console){console.log("图片上传成功")}if(!E){return}if(B!=window.AttachmentList[this.fdKey]){return}var G=e("#"+E.file._fdId)[0];var C=e("img",G)[0],F=e(".muiEditorImageClose",G)[0],D=e(".muiEditorImageDefault",G)[0],A=e(".muiEditorImageStatus",G)[0],z=e(".muiEditorImageThumb",G)[0];f.destroy(A);f.destroy(D);q.set(F,"display","block");var y=window.AttachmentList[this.fdKey].downloadUrl+"?fdId="+E.filekey+"&picthumb=big";v.set(C,"src",b.formatUrl(E.file.href));q.set(z,"opacity",1);this.images.push({src:y,id:E.file._fdId});this.editor.publishValueChange();this._onUploadSuccessAffer()},_onUploadSuccessAffer:function(){if(!this.editor.fdMulti&&this.images.length>=1){this._uploadNode&&q.set(this._uploadNode,"display","none")}else{this._uploadNode&&q.set(this._uploadNode,"display","")}},getImageById:function(z){for(var y=0;y<this.images.length;y++){if(this.images[y].id==z){return this.images[y]}}},deleteImageById:function(z){for(var y=0;y<this.images.length;y++){if(this.images[y].id==z){this.images.splice(y,1)}}this.editor.publishValueChange();this._onUploadSuccessAffer()},_imgUploadProcess:function(z,y){if(window.console){console.log("图片上传中")}},_imgUploadFail:function(z,y){if(y&&y.rtn&&y.rtn.errorMessage){u.fail({text:y.rtn.errorMessage})}if(y&&y.file&&y.file._fdId){var A=y.file._fdId;this.deleteImageById(A);f.destroy(t.byId(A))}if(window.console){console.log("图片上传失败")}},_imageBuildImage:function(y){var A=y.file;var B=f.create("div",{className:"muiEditorImageItem",tabindex:0,id:A._fdId},this._uploadNode,"before");f.create("div",{className:"muiEditorImageDefault",innerHTML:'<i class="mui mui-file-img"></i>'},B);f.create("div",{className:"muiEditorImageStatus",innerHTML:'<i class="mui mui-spin mui-loading2"></i>'},B);f.create("div",{className:"muiEditorImageThumb",innerHTML:'<img src=""  align="middle">'},B);var z=f.create("div",{innerHTML:'<i class="mui mui-close"></i>',className:"muiEditorImageClose"},B);this.connect(z,"click","_deleteNode")},_deleteNode:function(y){var A=y.target;var z=A.parentNode.parentNode;var B=v.get(z,"id");if(B){this.deleteImageById(B);f.destroy(t.byId(B))}},startup:function(){this.eventPrefix=this.eventPrefix+this.fdKey+"_";this.subscribe(this.eventPrefix+"start","_imgUploadStart");this.subscribe(this.eventPrefix+"fail","_imgUploadFail");this.subscribe(this.eventPrefix+"success","_imgUploadSuccess");this.subscribe(this.eventPrefix+"process","_imgUploadProcess");this.images=[];this.editor.formatContent.push(x.hitch(this,this.imageFormat))},imageFormat:function(z){if(!this.images||this.images.length==0){return z}var y='<img src="${src}">';h.forEach(this.images,function(B){var C=B.src;var A=a.substitute(y,{src:C});z+=A},this);return z},_imageShow:function(y){if(this.lock){return}this.lock=true;this.defer(function(){this.lock=false},1000);if(this._isShow){this.hide();return}this._isShow=true;if(this._imageIsInit){this.show();return}this.iconNode=y.target;this.container=f.create("div",{className:"muiEditorImage"},this.editor.domNode,"last");this._imageBuildPanel(y);this.show();this._imageIsInit=true},_upload:function(y){if(this.lock){return}this.lock=true;this.defer(function(){this.lock=false},1000);var z=y.target;if(z){z.blur()}p.selectFile({options:{fdKey:this.fdKey,uploadType:2,fdMulti:this.editor.fdMulti?this.editor.fdMulti:false,fdModelId:this.editor.fdModelId,fdModelName:this.editor.fdModelName},evt:y})},_imageBuildPanel:function(z){var y=new n._ContentSetter({parseContent:true,cleanContent:true,node:this.container,onBegin:function(){this.content=this.content.replace(/!{panel}/g,"");this.inherited("onBegin",arguments)}});y.set(k);y.parseDeferred.then(x.hitch(this,function(A){if(A.length==0){return}this._imagePanel=A[0];this.buildUploadBtn()}));y.tearDown()},buildUploadBtn:function(){if(!this._imageContainer){this._imageContainer=f.create("div",{className:"muiEditorImageContainer"},this._imagePanel.containerNode)}this._uploadNode=f.create("div",{className:"muiEditorImageUpload",innerHTML:'<div><i class="mui mui-plus" feature="album"></i></div><div class="muiEditorImageUploadTip">'+o["mui.add.to.content"]+"</div>"},this._imageContainer);var z=s.getClientType();if(z>6&&z<11){this.connect(this._uploadNode,g.press,"_upload")}else{var y=f.create("input",{type:"file",accept:"image/*",className:"muiEditorImageInput"},this._uploadNode);y.dojoClick=!d("ios");this.connect(y,"click","_click");this.connect(y,"change","_upload")}},_click:function(y){if(d("android")){if(y.stopPropagation){y.stopPropagation()}if(y.cancelBubble){y.cancelBubble=true}if(y.preventDefault){y.preventDefault()}if(y.returnValue){y.returnValue=false}}}})})},"sys/mobile/js/mui/header/DingViewHeader":function(){define("mui/header/DingViewHeader",["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/dom-geometry","dojo/on","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,e,m,k,b,a,l,h,d){var g=f("mui.header.DingViewHeader",[e],{baseClass:"muiDocViewHeader",subject:"",userId:"",userName:"",imgUrl:"/sys/person/sys_person_zone/sysPersonZone.do?method=img&fdId=!{userId}",docStatus:"",docStatusText:"",docStatusEnum:{"00":{text:d["mui.mobile.process.status.discard"],iconClass:"processStatusDiscard"},"30":{text:d["mui.mobile.process.status.done"],iconClass:"processStatusDone"}},expandItems:false,itemDatas:[],buildRendering:function(){this.inherited(arguments);var o=b.create("div",{className:"muiDocViewHeaderBase"},this.domNode);if(this.subject){b.create("div",{className:"muiDocViewHeaderSubject",innerHTML:this.subject},o)}if(this.serviceSource&&"ding"==this.serviceSource){if(this.docStatus&&"20"==this.docStatus){var B="等待"+this.handlerValue+"处理";b.create("div",{className:"nodeNamesShow",innerHTML:B},o)}if(this.itemDatas&&this.itemDatas.length>1){var s=b.create("div",{className:"muiDocViewHeaderDetailWarp"},this.domNode);var v=b.create("div",{className:"muiDocViewHeaderDetailContainer"},s);var r=b.create("div",{className:"muiDocViewHeaderDetail"},v);for(var F=0;F<this.itemDatas.length;F++){var I=this.itemDatas[F];var y=b.create("div",{className:"muiDocViewHeaderDetailItem"},r);var q=b.create("div",{className:"muiDocViewHeaderDetailItemL"},y);var E=b.create("span",{},q);if(I.name){E.innerHTML=I.name}var H=b.create("div",{className:"muiDocViewHeaderDetailItemR"},y);var z=b.create("span",{},H);if(I.value){z.innerHTML=I.value}if(I.click){l(z,"click",I.click)}}}}else{if(this.userId||this.userName){var w=b.create("div",{className:"muiDocViewHeaderPerson"},o);if(this.userId){var t=b.create("div",{className:"muiDocViewHeaderIcon"},w);b.create("img",{src:h.formatUrl(this.imgUrl.replace(/!{userId}/,this.userId))},t)}if(this.userName){b.create("div",{className:"muiDocViewHeaderUser",innerHTML:this.userName},w)}}}if(this.docStatus&&this.docStatusEnum[this.docStatus]){var x=this.docStatusEnum[this.docStatus];var p=x.iconClass?x.iconClass:"";var n=b.create("div",{className:"muiDocViewHeaderStatus "+p});var D=b.create("i",{className:"fontmuis muis-watermark"},n);var G=b.create("span",{},n);G.innerText=this.docStatusText?this.docStatusText:x.text;b.place(n,o,"last")}if("ding"!=this.serviceSource){if(this.itemDatas&&this.itemDatas.length>1){var s=b.create("div",{className:"muiDocViewHeaderDetailWarp"},this.domNode);var v=b.create("div",{className:"muiDocViewHeaderDetailContainer"},s);var r=b.create("div",{className:"muiDocViewHeaderDetail"},v);for(var F=0;F<this.itemDatas.length;F++){var I=this.itemDatas[F];var y=b.create("div",{className:"muiDocViewHeaderDetailItem"},r);var q=b.create("div",{className:"muiDocViewHeaderDetailItemL"},y);var E=b.create("span",{},q);if(I.name){E.innerHTML=I.name}var H=b.create("div",{className:"muiDocViewHeaderDetailItemR"},y);var z=b.create("span",{},H);if(I.value){z.innerHTML=I.value}if(I.click){l(z,"click",I.click)}}var C=a.getContentBox(s).h;if(this.expandItems){k.set(s,{"max-height":C+"px",overflow:"inherit"})}else{k.set(s,{"max-height":"0",overflow:"hidden"})}var u=b.create("div",{className:"muiDocViewHeaderExpandBtn",style:{display:this.expandItems?"none":"block"}},this.domNode);b.create("i",{className:"fontmuis muis-slide-down"},u);var A=b.create("div",{className:"muiDocViewHeaderCollapseBtn",style:{display:this.expandItems?"block":"none"}},this.domNode);b.create("i",{className:"fontmuis muis-slide-up"},A);this.connect(u,"click",function(){m.remove(u,"muiDocViewHeaderBtnFadeIn");k.set(u,{display:"none"});m.add(A,"muiDocViewHeaderBtnFadeIn");k.set(A,{display:"block"});m.remove(s,"muiDocViewHeaderWarpHidden");m.add(s,"muiDocViewHeaderWarpShow");k.set(s,{"max-height":C+"px",overflow:"inherit"})});this.connect(A,"click",function(){m.remove(A,"muiDocViewHeaderBtnFadeIn");k.set(A,{display:"none"});m.add(u,"muiDocViewHeaderBtnFadeIn");k.set(u,{display:"block"});m.remove(s,"muiDocViewHeaderWarpShow");m.add(s,"muiDocViewHeaderWarpHidden");k.set(s,{"max-height":"0",overflow:"hidden"})})}}}});return g})},"sys/mobile/js/mui/tabbar/SplitterButton":function(){define(["dojo/_base/declare","mui/tabbar/TabBarButton","dojo/dom-class"],function(b,a,d){return b("mui.tabbar.SplitterButton",[a],{flag:"left",groupIndex:-1,tarbarGruop:null,buildRendering:function(){if(this.flag=="left"){this.icon1="mui mui-splitterLeftShape"}else{this.icon1="mui mui-splitterRightShape"}this.inherited(arguments);d.add(this.domNode,"muiSplitterButton")},startup:function(){if(this._started){return}this.inherited(arguments)},onClick:function(){this.defer(function(){if(this.groupIndex!=-1){if(this.tarbarGruop==null){this.tarbarGruop=this.getParent().getParent()}if(this.tarbarGruop&&this.tarbarGruop.declaredClass=="mui.tabbar.TabBarGroup"){if(this.flag=="left"){this.tarbarGruop.switchTabBar(this.groupIndex-1)}else{this.tarbarGruop.switchTabBar(this.groupIndex+1)}}}},300)}})})},"sys/mobile/js/mui/tabbar/TabBarButton":function(){define(["dojo/_base/declare","dojox/mobile/TabBarButton","dojo/dom-class","dojo/dom-style","dojox/mobile/Badge","mui/util","dojo/_base/lang","dojo/dom-attr","dojox/mobile/viewRegistry","dojo/query","dojo/_base/array"],function(b,n,m,f,d,e,a,k,l,h,g){return b("mui.tabbar.TabBarButton",[n],{inheritParams:function(){this.inherited(arguments);return !!this.getParent()},transition:"slide",colSize:1,href:null,align:"center",tabIndex:"",_setAlignAttr:function(o){this.align=o},buildRendering:function(){this.inherited(arguments);if(!this.label&&this.getParent()!=null){m.add(this.getParent().domNode,"muiNavBarButton")}if(this.icon1&&this.label){m.add(this.domNode,"muiButtonVertical")}if(this.label&&!this.icon1){this.labelNode.innerHTML=this.label}},isNull:function(o){return o==undefined||o==null||o==""},startup:function(){if(this._started){return}if(this.align!="center"&&this.iconDivNode){f.set(this.iconDivNode,{"float":this.align})}if(this.iconDivNode){m.add(this.iconDivNode,"mui-scale");this.defer(a.hitch(this,function(){m.remove(this.iconDivNode,"mui-scale")}),500);if(!this.icon1){f.set(this.iconDivNode,{width:"0px"})}}this.inherited(arguments);var o=this;setTimeout(function(){o._CLICK_FLAG=true},300)},_setBadgeAttr:function(o){if(!this.badgeObj){this.badgeObj=new d();f.set(this.badgeObj.domNode,{position:"absolute",left:"50%","margin-left":"0.6rem",top:0})}if(parseInt(o)>=100){this.value=o="99+"}this.badgeObj.setValue(o);if(o){this.iconDivNode.appendChild(this.badgeObj.domNode)}else{if(this.iconDivNode===this.badgeObj.domNode.parentNode){this.iconDivNode.removeChild(this.badgeObj.domNode)}}},onClick:function(){if(!this._CLICK_FLAG){return}var p=document.activeElement;if(p&&p.blur){p.blur()}var o=arguments;this.defer(function(){if(this.href){location.href=e.formatUrl(this.href)}this.inherited(o)},350);if(this.href){return false}},_onTouchStart:function(p){var o=l.getEnclosingScrollable(this.domNode);if(o&&m.contains(o.containerNode,"mblScrollableScrollTo2")){m.remove(o.containerNode,"mblScrollableScrollTo2")}this.inherited(arguments)},setDisabled:function(o){this.disabled=o;if(this.disabled){if(!this.__onClick){this.__onClick=this.onClick}this.onClick=function(){return false};m.add(this.domNode,"muiBtnDisabled")}else{if(this.__onClick){this.onClick=this.__onClick}m.remove(this.domNode,"muiBtnDisabled")}},_onTouchMove:function(r){var o=r.touches?r.touches[0].pageX:r.clientX;var s=r.touches?r.touches[0].pageY:r.clientY;if(Math.abs(o-this.touchStartX)>=8||Math.abs(s-this.touchStartY)>=8){this.cancel();var q=this.getParent();if(q&&q.selectOne){this._prevSel&&this._prevSel.set("selected",true)}else{this.set("selected",false)}}},_onTouchEnd:function(p){var o=this;if(!o._selTimer&&o._delayedSelection){return}o.cancel();o._hideKeyBoard();window.event=p;if(dojoConfig._native){this.defer(function(){o._onClick(p)},300)}else{o._onClick(p)}},_hideKeyBoard:function(){g.forEach(h("input,textarea")||[],function(o){try{o.blur()}catch(p){}})}})})},"sys/mobile/js/mui/header/tmpl/emptyTemplate":function(){define([],function(){return""})},"sys/mobile/js/mui/nav/NavItem":function(){define("mui/nav/NavItem",["dojo/_base/declare","dojox/mobile/TransitionEvent","dojox/mobile/_ItemBase","dojox/mobile/Badge","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/request","dojo/topic","mui/util","./NavItemPromptMixin"],function(e,m,o,h,b,k,n,d,g,f,l){var a=e("mui.nav.NavItem",[o,l],{tag:"li",_selClass:"muiNavitemSelected ",topicType:"/mui/navitem/_selected",_topicType:"/mui/navitem/selected",changedTopicType:"/mui/navitem/changedSelected",badge:0,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||b.create("li",{className:"muiNavitem"});this.inherited(arguments);if(this.text){this.textNode=b.create("span",{className:!this.overflowHide?"muiNavitemSpan":"textEllipsis muiNavitemSpan",innerHTML:this.order?("<p>"+this.order+"</p>"+this.text):this.text},this.domNode);this.statNavCount();if(!this.order){this.bottomNode=b.create("div",{className:"muiNavitemBottom"},this.domNode)}}this.subscribe(this.topicType,"handleItemSelected");this.subscribe(this._topicType,"onItemSelected");this.subscribe(this.changedTopicType,"onChangedItemSelected");this.subscribe("/mui/list/onPull","updateNavCount");this.subscribe("/mui/list/onRefreshNavCount","updateNavCount");if(this.isNavCount==true){n.add(this.domNode,"muiNavitemBadge")}},startup:function(){if(this._started){return}this.connect(this.domNode,"onclick","_onClick");this.inherited(arguments)},handleItemSelected:function(p){if(this!=p&&this.getParent()==p.getParent()){this._handleItemSelectedClass(false)}else{if(this==p){this._handleItemSelectedClass(true)}}},_handleItemSelectedClass:function(p){if(p){n.add(this.domNode,this._selClass)}else{n.remove(this.domNode,this._selClass)}},onItemSelected:function(q,p){if(typeof this.key=="undefined"||typeof p=="undefined"||typeof p.key=="undefined"||this.key!=p.key){return}this._onClick({target:this.domNode})},onChangedItemSelected:function(q,p){this.defer(function(){if((typeof this.key=="undefined"||typeof p=="undefined"||typeof p.key=="undefined"||this.key!=p.key)&&this.getParent()==q.getParent()){this._handleItemSelectedClass(false)}else{if(this==q){this._handleItemSelectedClass(true);this.slideBarToCurrentNav(this.domNode);this.defaultClickAction({target:this.domNode})}}},1)},updateNavCount:function(p){if(this.url&&p.rel==this){this.statNavCount()}},statNavCount:function(){if(this.url){var p=this;if(this.isNavCount){var q=f.formatUrl(p.url+"&rowsize=1");d.post(q,{handleAs:"json"}).then(function(s){var r=0;if(s.page&&s.page.totalSize){r=parseInt(s.page.totalSize)}p.modifyNavCount(r)})}}},modifyNavCount:function(p){this.badge=p;if(p>99){this.set("badge","99+")}else{if(p>0){this.set("badge",p)}else{if(this.badgeObj&&this.domNode===this.badgeObj.domNode.parentNode){this.domNode.removeChild(this.badgeObj.domNode)}}}},setSelected:function(){this.defer(function(){this.beingSelected(this.textNode)},1)},beingSelected:function(p){if(p){this.slideBarToCurrentNav(p);g.publish(this.topicType,this,{target:this,url:this.url,text:this.text,index:this.tabIndex})}},slideBarToCurrentNav:function(u){while(u){if(n.contains(u,"muiNavitem")){break}u=u.parentNode}var t,q;if(!u.offsetParent){(t=0),(q=0)}var p=k.getComputedStyle(u),s=k.toPixelValue(u,p.marginLeft),r=k.toPixelValue(u,p.marginRight);g.publish("/mui/navbar/slideBar",this,{width:q==0?0:u.offsetWidth+r+s,left:t==0?t:u.offsetLeft+u.offsetParent.offsetLeft-s,target:this,index:this.tabIndex})},_onClick:function(q){if(q){var p=q.target;this.beingSelected(p)}this.defaultClickAction(q)},userClickAction:function(){if(this.moveTo){return true}return false},makeTransition:function(r){if(this.back&&history){history.back();return}if(this.href&&this.hrefTarget&&this.hrefTarget!="_self"){win.global.open(this.href,this.hrefTarget||"_blank");this._onNewWindowOpened(r);return}var q=this.getTransOpts();var p=!!(q.moveTo||q.href||q.url||q.target||q.scene);if(this.getParent()&&this.getParent().key){q.moveTo=q.moveTo+"_"+this.getParent().key}if(this._prepareForTransition(r,p?q:null)===false){return}if(p){this.setTransitionPos(r);new m(this.domNode,q,r).dispatch()}},_setBadgeAttr:function(p){if(!this.badgeObj){this.badgeObj=new h();k.set(this.badgeObj.domNode,{position:"absolute",left:"100%",top:"0.2rem"})}this.badgeObj.setValue(p);if(p){this.domNode.appendChild(this.badgeObj.domNode);n.add(this.domNode,"muiNavitemBadge")}else{if(this.domNode===this.badgeObj.domNode.parentNode){this.domNode.removeChild(this.badgeObj.domNode);n.remove(this.domNode,"muiNavitemBadge")}}}});return a})},"sys/mobile/js/mui/tabbar/TabBarAdapter":function(){define(["dojo/_base/declare","dijit/_WidgetBase","mui/device/device","dojo/query","dojo/ready"],function(b,a,e,f,d){return b("mui.tabbar.TabBarAdapter",[a],{startup:function(){this.inherited(arguments);d(function(){var g=navigator.userAgent;var h=!!g.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);var k=e.getClientType();if(!h||k==0){f(".muiTabBarBottomAdaptive").removeClass("muiTabBarBottomAdaptive")}})}})})},"sys/mobile/js/mui/address/AddressSubordinateListMixin":function(){define(["dojo/_base/declare","./AddressItemListMixin"],function(b,a){return b("mui.address.AddressDeptMemberListMixin",[a],{dataUrl:"/sys/organization/mobile/address.do?method=subordinateList&parentId=!{parentId}",searchUrl:"/sys/organization/mobile/address.do?method=subordinateList&keyword=!{keyword}"})})},"sys/mobile/js/mui/search/_SearchPrompt":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/_WidgetBase","dojo/json","dojo/topic","dojo/dom-construct","dojo/dom-style","mui/util","dojo/touch","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/request","./_SearchPromptList","dojo/dom-attr","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(h,o,f,q,k,d,n,l,g,b,e,m,p,a){return h("mui.search._SearchPrompt",[f,m],{_storageKey:"_muiSearchKeywords",_storageItem:[],isNeeAnimation:true,isShow:false,forPage:false,hotUrl:"/sys/ftsearch/expand/sys_ftsearch_hotword/sysFtsearchHotword.do?method=hot",prefix:"",langSetting:{clearRecord:b["mui.search.clearrecord"],hot:a["mui.mobile.sysFtSearch.hot"],history:a["mui.mobile.sysFtSearch.history"]},buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||d.create("div",{});this.inherited(arguments);this.contentNode=d.create("div",{},this.domNode);this.hotRecord=d.create("div",{className:"muiSearchHotRecord"},this.contentNode);this.drawHot();this.histroyRecord=d.create("div",{className:"muiSearchRecord"},this.contentNode);this.drawRecord();this.show()},drawRecord:function(){var r=d.create("div",null,this.histroyRecord);d.create("h3",{innerHTML:this.langSetting.history},r);var s=d.create("i",{className:"fontmuis muis-trash-can",innerHTML:" "+a["mui.mobile.sysFtSearch.clean"]},r);this.connect(s,"onclick","_clearRecords");this.ulNode=d.create("ul",null,this.histroyRecord);this._drawRecord()},startup:function(){this.inherited(arguments);this.subscribe("/mui/search/submit","_onSubmit")},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/search/submit","_addRecord");this.subscribe("/mui/search/cancel","_onCancel");this.subscribe("/mui/search/onClear","_onClear");l.disableTouch(this.domNode,g.move)},_onCancel:function(r){if(r!=this.parent){return}if(!this.forPage){this.hide()}this.showPanel();this.inherited(arguments)},_onSubmit:function(r){if(r!=this.parent){return}this.show();this.hidePanel();this.inherited(arguments)},_onClear:function(r){if(r!=this.parent){return}this.showPanel();this.inherited(arguments)},hidePanel:function(){n.set(this.contentNode,{display:"none"})},showPanel:function(){n.set(this.contentNode,{display:"block"})},showRecord:function(){n.set(this.histroyRecord,{display:"block"})},hideRecord:function(){n.set(this.histroyRecord,{display:"none"})},show:function(){n.set(this.containerNode,{display:"block"})},hide:function(r){n.set(this.containerNode,{display:"none"});if(r){return}},getStoreKey:function(){return this.prefix+this._storageKey},_drawRecord:function(){if(window.localStorage){var v=this.getStoreKey();var x=window.localStorage.getItem(v);if(!x){x="[]"}this._storageItem=q.parse(x);if(this._storageItem.length>0){d.empty(this.ulNode);for(var t=0;t<this._storageItem.length;t++){var r=this._storageItem[t];if(!r){continue}r=decodeURIComponent(r);r=l.formatText(r);var u=d.create("li",null,this.ulNode);var w=d.create("span",{className:"muiSearchRText",innerHTML:r},u);var s=d.create("icon",{className:"fontmuis muis-delete","data-index":t},u);this.connect(w,"onclick","_selectRecord");this.connect(s,"onclick","_clearRecord")}this.showRecord()}else{this.hideRecord()}}},_addRecord:function(t){if(t!=this.parent){return}if(window.localStorage){var s=decodeURIComponent(t.keyword);var u=this.getStoreKey();if(this._storageItem.length==0){this._storageItem.push(s)}else{if(this._storageItem.length<=10){var r=o.indexOf(this._storageItem,s);if(r>-1){this._storageItem.splice(r,1)}this._storageItem.unshift(s)}}if(this._storageItem.length>10){this._storageItem=this._storageItem.slice(0,10)}window.localStorage.setItem(u,q.stringify(this._storageItem))}this._drawRecord()},_clearRecord:function(s){if(window.localStorage){var u=s.target;var r=p.get(u,"data-index");var t=this.getStoreKey();this._storageItem.splice(r,1);window.localStorage.setItem(t,q.stringify(this._storageItem));this._drawRecord()}},_clearRecords:function(){if(window.localStorage){this._storageItem=[];var r=this.getStoreKey();window.localStorage.removeItem(r);this._drawRecord()}},_selectRecord:function(s){var t=s.target||s.srcElement;var r=t.innerHTML;k.publish("/mui/search/keyword",this,{keyword:r})},drawHot:function(){var r=this;e.get(l.formatUrl(this.hotUrl),{handleAs:"json"}).response.then(function(s){var w=s.data;if(w&&w.length>0){r.hotWords=w;d.create("h3",{innerHTML:r.langSetting.hot},r.hotRecord);var u=d.create("ul",null,r.hotRecord);for(var t=0;t<r.hotWords.length;t++){var v=d.create("li",{innerHTML:r.hotWords[t]},u);r.connect(v,"onclick","_selectRecord")}}else{n.set(r.hotRecord,"display","none")}})}})})},"sys/mobile/js/mui/form/_StoreFormMixin":function(){define(["dojo/_base/declare","dojox/mobile/_StoreMixin","mui/store/JsonRest","dojo/store/Memory","dojo/_base/array"],function(e,b,d,f,g){var a=e("mui.form._StoreFormMixin",b,{url:"",query:{},queryOptions:{},values:[],onComplete:function(h){this.generateList(h)},addChild:function(h){},generateList:function(h){this.values=h;g.forEach(h,function(m,l){var k=this.createListItem(m);if(k){this.addChild(k)}},this)},createListItem:function(h){},startup:function(){if(this._started){return}this.inherited(arguments);if(!this.store&&!this.url){return}if(!this.store&&this.url){var h=new d({target:this.url})}else{h=new f({data:this.store})}this.setStore(h,this.query,this.queryOptions)}});return a})},"sys/mobile/js/mui/datetime/_DateMixin_year":function(){define(["dojo/_base/declare","mui/datetime/_EditDateTimeMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){return b("mui.datetime._DateMixin",[a],{type:"date",tmplStr:'<div data-dojo-type="mui/datetime/DatePicker_year" id="_date_picker" data-dojo-props="value:\'!{dateValue}\'"></div>',title:d["mui.date.select"],_contentExtendClass:"muiDateDialogDisContent"})})},"sys/mobile/js/mui/form/Template":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container"],function(d,f,b,a){var e=d("mui.form.Template",[f,b,a],{stopParser:true});return e})},"sys/mobile/js/mui/form/_OptionsBase":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-construct","mui/form/_FormBase","dojo/dom-class","dojo/_base/lang","mui/util","mui/form/_GroupBase","dojo/dom-style"],function(e,h,d,k,l,b,f,a,g){var m=e("mui.form._OptionsBase",[k],{text:"",alignment:"",checkedIcon:"active",unCheckedIcon:"",_buildValue:function(){this.inherited(arguments);var o="build"+f.capitalize(this.showStatus);this[o]?this[o]():"";var n=this.showStatus+"ValueSet";this.showStatusSet=this[n]?this[n]:new Function()},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div")}this._buildValue();this.fieldOptions=this.optionContainerNode},postCreate:function(){this.inherited(arguments);this.subscribe("mui/group/valueChage","_changeChecked");g.set(this.domNode,{opacity:"0"})},_changeChecked:function(p,o){if(this.getParent()==p&&p instanceof a&&o!=null&&o!=""){var n=this._get("value");this._extendCheckAction(n==o||h.indexOf(o.split(";"),n)>-1)}},_extendCheckAction:function(n){this._set("checked",n);this.domNode.checked=n},_setCheckedAttr:function(p){this._extendCheckAction(p);var o=p?"add":"remove";var n=this.getParent();if(n&&n instanceof a){n[o+"Value"](this.value)}},_setValueAttr:function(n){this.inherited(arguments);this.showStatusSet(n)},_readOnlyAction:function(n){if(n){if(this._optionHandle){this.disconnect(this._optionHandle)}this._optionHandle=null}else{this._optionHandle=this.connect(this.optionNode,"click","_onClick")}},holdTime:250,lastTime:null,fireClick:function(n){var o=this.lastTime;this.lastTime=new Date().getTime();if(o&&this.lastTime-o<=this.holdTime){return false}return true}});return m})},"sys/mobile/js/mui/DelayView":function(){define(["dojo/_base/declare","dojo/topic","dojox/mobile/View","dojo/parser"],function(b,a,d,e){return b("mui.DelayView",[d],{stopParser:true,startup:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments)},onAfterTransitionIn:function(){this._initView()},_initView:function(){var f=this;if(!this.loading){this.loading=true;e.parse(f.domNode).then(function(){a.publish("/mui/list/resize")})}}})})},"sys/attachment/mobile/js/AttachmentViewListItem":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/util","dojo/topic","dojo/_base/lang","dojo/dom-style","mui/dialog/Tip","mui/i18n/_i18n!sys/mobile/js/mui/mui-view","dojox/mobile/ProgressBar","sys/attachment/mobile/js/_AttachmentItem","sys/attachment/mobile/js/_AttachmentLinkItem","mui/device/adapter","sys/attachment/mobile/js/_AttachmentViewOnlineMixin","dojo/request"],function(k,g,m,l,b,n,p,e,q,f,a,o,d,h){return k("sys.attachment.mobile.js.AttachmentViewListItem",[f,a,d],{status:3,thumbUrl:"/sys/attachment/sys_att_main/sysAttMain.do?method=view&picthumb=small&fdId=!{fdId}",gennerateDownloadUrl:function(){if(!this.href&&this.fdId){this.href="/sys/attachment/sys_att_main/sysAttMain.do?method=viewDownload&fdId="+this.fdId;if(this.canDownload){this.href="/sys/attachment/sys_att_main/sysAttMain.do?method=download&fdId="+this.fdId}if(this.downLoadNoRight){this.href="/third/pda/attdownload.jsp?open=1&fdId="+this.fdId}}},buildItem:function(){this.gennerateDownloadUrl();if(!this.justDiaplayName){var u=g.create("div",{className:"muiAttachmentItemL "+this.getAttContainerType()},this.containerNode);this.attItemIcon=g.create("div",{className:"muiAttachmentItemIcon"},u);var r=this.getAttTypeClass();if(this.icon!=null&&this.icon!=""){r=this.icon}g.create("i",{className:r},this.attItemIcon)}var t=g.create("div",{className:"muiAttachmentItemC"},this.containerNode);g.create("span",{className:"muiAttachmentItemName",innerHTML:this.name},t);if(this.size!=null&&this.size!=""){g.create("span",{className:"muiAttachmentItemSize",innerHTML:this.formatFileSize()},t)}if(this.status!=3){var s=g.create("div",{className:"muiAttachmentItemProgress"},t);this.progressBar=new q({maximum:100,value:"0%",label:"0%"});s.appendChild(this.progressBar.domNode);this.progressBar.startup()}if(this.href&&this.edit==false){this.connect(t,"click",b.hitch(this._onItemClick));t.dojoClick=true}this.itemR=g.create("div",{className:"muiAttachmentItemR"},this.containerNode);if(this.edit==false){if(this.canDownload||this.canRead){g.create("i",{className:"muiAttachmentItemExpand fontmuis muis-more"},this.itemR);this.connect(this.itemR,"click",b.hitch(this._onMoreItemClick))}}else{var v={className:"muiAttachmentItemDel",innerHTML:"删除",style:{display:"none"}};if(this.status==3||this.status==2){v.style.display="block"}this.delDom=g.create("i",v,this.itemR);this.connect(this.delDom,"click",b.hitch(this,function(w){l.publish("attachmentObject_"+this.key+"_del",this,{widget:this});if(w.stopPropagation){w.stopPropagation()}if(w.cancelBubble){w.cancelBubble=true}if(w.preventDefault){w.preventDefault()}if(w.returnValue){w.returnValue=false}}))}},_downLoad:function(){if(this.canDownload){var r="/sys/attachment/sys_att_download_log/sysAttDownloadLog.do?method=addDownlodLog&downloadType=manual&fdId="+this.fdId;h.post(m.formatUrl(r,true));o.download({fdId:this.fdId,name:this.name,type:this.type,href:this.href})}else{p.tip({icon:"mui mui-warn",text:"无权限下载文件"})}},downloadToDing:function(){var w=this;var u=(new Date()).getTime();var r=o.isSuccess(this.fdId,u);if(this.size>=8*1024*1024&&!r){var v=0;var s="";if(this.size<15*1024*1024){v=Math.round(this.size/(15*1024*1024)*60);s=e["mui.sysAttMain.download.oversize.time"]+v+e["mui.sysAttMain.download.oversize.time.sec"]}else{v=Math.round(this.size/(15*1024*1024));s=e["mui.sysAttMain.download.oversize.time"]+v+e["mui.sysAttMain.download.oversize.time.min"]}p.tip({text:s});setTimeout(function(){o.downloadToDing({fdId:w.fdId,name:w.name,type:w.type,href:w.href,size:w.size,time:u},false)},50)}else{var t=p.processing();t.show();setTimeout(function(){o.downloadToDing({fdId:w.fdId,name:w.name,type:w.type,href:w.href,size:w.size,time:u},true);t.hide()},50)}},_onItemClick:function(){if(this.canRead||this.canDownload){this._onClick(arguments);if(this.inherited(arguments)){return}this._downLoad()}else{p.tip({icon:"mui mui-warn",text:"无权限查看"})}},changeProgress:function(s){if(this.progressBar){var r="";if(typeof s=="string"){r=s.indexOf("%")!=-1?""+(parseFloat(s)*100)/this.size+"%":s}else{r=""+(s*100)/this.size+"%"}this.progressBar.set("value",r);this.progressBar.set("label",r)}},uploadError:function(r){if(this.progressBar){this.progressBar.set("value","0%");this.progressBar.set("label",r)}if(this.delDom){n.set(this.delDom,{display:"block"})}},uploaded:function(){if(this.progressBar){this.progressBar.set("value","100%");this.progressBar.set("label","上传成功")}if(this.delDom){n.set(this.delDom,{display:"block"})}}})})},"sys/mobile/js/mui/form/editor/plugins/lingling/Plugin":function(){define(["dojo/_base/declare","dojo/dom-construct","sys/mobile/js/lib/emoji/emoji","dojo/dom-style","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/text!../tmpl/panelV.html","dojo/html","mui/util","dojo/topic","mui/form/editor/plugins/EditorPluginBaseMixin","mui/form/editor/plugins/lingling/SysFaceConfig","dojo/query"],function(e,d,k,l,a,n,q,r,h,g,f,p,o,m){function b(t){var s=t.lastIndexOf("/");if(s==-1){return s}return t.substring(s+1,t.indexOf("."))}return e("mui.form.editor.plugins.lingling.Plugin",[p],{type:"lingling",icon:"mui-editor-lingling",iconImg:g.formatUrl("/resource/mobile/fix-f.png"),event:function(s){this._linglingShow(s)},_faceIsInit:false,constructor:function(s){this.inherited(arguments)},_linglingFormat:function(s){return s},_linglingSaveHandler:function(s,u){if(!s){return""}var t=u.__textNode;var w=m(".muiEditorTextarea");var v=m("img[data-type='lingling']",w[0]);v.forEach(function(A){var z=A.src;var B=A.outerHTML;var y=b(B);if(y!=-1){var x="[lingling"+y+"]";s=s.replace(B,x)}});return s},startup:function(){this.editor.formatContent.push(this._linglingFormat);this.editor.saveContentHandler.push(this._linglingSaveHandler);this.linglingCfg=o.getByType(this.type)},_linglingBuildPanel:function(){var v="";var u=this.linglingCfg.start;for(var t=this.linglingCfg.start;t<=this.linglingCfg.max;t++){v+='<a href="javascript:;" class="muiEditorFaceItem"><img width="'+this.linglingCfg.width+'"  class="muiEditorFaceItemImg" src="'+this.linglingCfg.path+t+this.linglingCfg.suffix+'" data-type="'+this.linglingCfg.type+'"></a>'}var s=new h._ContentSetter({parseContent:true,cleanContent:true,node:this.linglingNode,onBegin:function(){this.content=this.content.replace(/!{panel}/g,v);this.inherited("onBegin",arguments)}});s.set(r);s.tearDown()},show:function(){this.inherited(arguments);l.set(this.linglingNode,{display:"block"});this.defer(function(){l.set(this.linglingNode,{height:this.panelHeight})},1)},hide:function(){this.inherited(arguments);l.set(this.linglingNode,{height:0});this.defer(function(){l.set(this.linglingNode,{display:"none"})},200)},_linglingShow:function(s){if(this._isShow){this.hide();return}this._isShow=true;if(this._falseIsInit){this.show();return}this.iconNode=s.target;this.linglingNode=d.create("div",{className:"muiEditorFace"},this.editor.domNode,"last");var u=this.editor.domNode.offsetHeight;this.panelHeight="38rem";var t=this;this.connect(this.linglingNode,"click",a.hitch(this,function(v){this.editor.__textNode.blur();if(!this._faceFireClick()){return}var y=v.target;var w=t.linglingCfg.width/2;while(y){if(y.tagName=="IMG"){var z=n.get(y,"src");var x=d.create("img",{width:w,src:z,className:"muiEditorLingLingImg","data-type":t.type});this.editor.insertElement(x);break}y=y.parentNode}}));this._linglingBuildPanel();this.show();this._falseIsInit=true}})})},"sys/mobile/js/mui/form":function(){define(["mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/topic","dojo/_base/lang","dijit/registry","mui/i18n/_i18n!sys/mobile/js/mui/mui-view"],function(h,s,D,l,x){var b={isArray:D.isArray,trim:D.trim};var B="extendDataFormInfo.value(";var m=")";window.$form=function(I,H){if((I instanceof n)||(I instanceof k)){return I}if(typeof I=="string"){var F=I.indexOf("*");if(F>-1){if(H&&I.substring(0,F)==H.substring(0,F)){var E=H.match(/[\[\.](\d+)[\]\.]/g);if(E){for(var G=0;G<E.length;G++){I=I.replace(/([\[\.])\*([\]\.])/,E[G])}return new n(I)}else{return new k(I)}}else{return new k(I)}}}return new n(I)};$form.str=function(H,F,I){if(b.isArray(H)){var G=[];for(var E=0;E<H.length;E++){G.push(r(H[E],F,I))}return G}return r(H,F,I)};$form.format=function(H,F,I){if(b.isArray(H)){var G=[];for(var E=0;E<H.length;E++){G.push(v(H[E],F,I))}return G}return v(H,F,I)};$form.bind=function C(E){q.push(E)};$form.unbind=function g(F){for(var E=0;E<q.length;E++){if(q[E]===F){q.splice(E,1);E--}}};function n(F){this.target=f(F);this._provider=w(this.target);this.field=this.target.field;this.val=function(G){return this._provider.val(this.target,G==null||typeof G=="string"?G:G+"")};this.display=function(G){return this._provider.display(this.target,E(G))};this.readOnly=function(G){return this._provider.readOnly(this.target,E(G))};this.required=function(G){return this._provider.required(this.target,E(G))};this.editLevel=function(G){if(G!=null){G=parseInt(G,10);if(isNaN(G)){return}}return this._provider.editLevel(this.target,G)};this.size=function(){return this.target.type?1:0};function E(G){if(G==null){return G}if(G===true||G==="true"){return true}return false}}function k(E){this.target={field:E,type:"detail"};this.field=E;this._fields=F(E);this.val=function(G){return this._exec("val",G)};this.display=function(G){return this._exec("display",G)};this.readOnly=function(G){return this._exec("readOnly",G)};this.required=function(G){return this._exec("required",G)};this.editLevel=function(G){return this._exec("editLevel",G)};this.size=function(){return this._fields.length};this._exec=function(K,J){if(J==null){var I=[];for(var H=0;H<this._fields.length;H++){I.push(this._fields[H][K]())}return I}var G=b.isArray(J);for(var H=0;H<this._fields.length;H++){if(G){if(J.length<=H){break}if(J[H]==null){continue}this._fields[H][K](J[H])}else{this._fields[H][K](J)}}return I};function F(M){var H=M.indexOf("*");var L=M.substring(0,H);var J=M.substring(H+1);var G=[];for(var I=0;true;I++){var K=new n(L+I+J);if(K.size()==0){break}G.push(K)}return G}}function z(F,G){if(!F){return}var H={"M+":F.getMonth()+1,"d+":F.getDate(),"H+":F.getHours(),"m+":F.getMinutes(),"s+":F.getSeconds()};if(/(y+)/.test(G)){G=G.replace(RegExp.$1,(F.getFullYear()+"").substring(RegExp.$1.length==2?2:0))}for(var E in H){if(new RegExp("("+E+")").test(G)){G=G.replace(RegExp.$1,(RegExp.$1.length==1)?(H[E]):(("00"+H[E]).substring((""+H[E]).length)))}}return G}function t(L,M){if(!L){return}L=b.trim(L);var E=/([yMdHms]+)/g;var H=/\D/;var N=[];var G,K;for(var I=0;I<6;I++){K=E.exec(M,I);if(K==null){break}if(G){N.push({key:K[0],split:M.substring(G.index+G[0].length,K.index)})}else{N.push({key:K[0],index:0})}G=K}if(N.length==0){return null}var F=new Date(0);G=N[0];for(var I=1;I<N.length;I++){var K=N[I];K.index=L.indexOf(K.split,G.index);if(K.index==-1){return null}if(!J(F,G.key,L.substring(G.index,K.index))){return null}K.index+=K.split.length;G=K}if(!J(F,G.key,L.substring(G.index))){return null}return F;function J(O,R,Q){if(H.test(Q)){return false}Q=parseInt(Q,10);switch(R.charAt(0)){case"y":if(R.length==2){var P=new Date().getFullYear();Q=P-P%100+Q%100}O.setFullYear(Q);break;case"M":if(Q>12){return false}O.setMonth(Q-1);break;case"d":if(Q>31){return false}O.setDate(Q);break;case"H":if(Q>23){return false}O.setHours(Q);break;case"m":if(Q>59){return false}O.setMinutes(Q);break;case"s":if(Q>59){return false}O.setSeconds(Q);break}return true}}function r(F,E,G){if(F==null){return""}if(typeof F=="string"){return F}if(typeof F=="number"){if(isNaN(F)){return""}var H=F.toString();if(/\.\d*999999/.test(H)||/\.\d*0000000/.test(H)){H=Math.round(F*1000000)/1000000+""}return H}E=E==null?"string":E.toLowerCase();if(E=="datetime"||E=="date"||E=="time"){return z(F,u(E,G))}return F+""}function v(F,E,G){if(F==null){return F}E=E==null?"string":E.toLowerCase();switch(E){case"string":case"rtf":if(typeof F=="string"){return F}else{return F+""}case"integer":case"long":if(F==""){return 0}F=parseInt(F,10);if(isNaN(F)){return null}else{return F}case"double":if(F==""){return 0}F=parseFloat(F,10);if(isNaN(F)){return null}else{return F}case"boolean":if(F==true||F=="true"||F=="on"){return true}if(F==false||F=="false"||F=="off"){return false}return null;case"date":case"time":case"datetime":if(typeof F=="string"){return t(F,u(E,G))}if(F instanceof Date){return F}return null}return null}function u(E,F){if(F){return x["date.format."+F]}return x["date.format."+E]}var d=[];var q=[];var e=-1;function p(F){if(F.target){F.field=F.target.field}var G=false;for(var E=0;E<d.length;E++){var H=d[E];if(H.type===F.type&&H.field===F.field){G=true;break}}if(!G){d.push(F)}if(e>-1){clearTimeout(e)}e=setTimeout(a,100)}function a(){var K=d;d=[];e=-1;for(var H=0;H<K.length;H++){var J=K[H];for(var F=0;F<q.length;F++){var E=q[F];if(E[J.type]==null){continue}if(I(J.field,E.field,true)){J.listener=E;try{E[J.type](J)}catch(G){if(window.console){console.error(G)}}}}}function I(L,O,N){if(O==null){return N}if(typeof O=="string"){if(L==O){return true}if(O.indexOf("*")>-1){L=L.replace(/([\.\[])\d+([\.\]])/g,"$1*$2");if(L==O){return true}}if(L.substring(0,B.length)==B){return L==B+O+m}}else{if(b.isArray(O)){for(var M=0;M<O.length;M++){if(I(L,O[M],false)){return true}}}}return false}}function w(E){return y}function A(E){for(var G in E){this[G]=E[G]}this.val=function(I,H){return F(this,"val",I,H)};this.display=function(I,H){if(I.cache.maxLevel==0){return false}return F(this,"display",I,H,"onDisplayChange")};this.readOnly=function(I,H){if(I.cache.maxLevel<2){if(H==null){return true}return false}return F(this,"readOnly",I,H,"onReadOnlyChange")};this.required=function(I,H){if(I.cache.maxLevel<2){return false}return F(this,"required",I,H)};this.editLevel=function(J,I){var K=0;if(!this.display(J)){K=0}else{if(this.readOnly(J)){K=1}else{if(!this.required(J)){K=2}else{K=3}}}if(I==null){return K}if(I==K){return false}var H=J.cache.maxLevel==2?3:J.cache.maxLevel;I=I>H?H:I;if(I==0){this.display(J,false);this.required(J,false)}else{if(I==1){this.display(J,true);this.readOnly(J,true);this.required(J,false)}else{if(I==2){this.display(J,true);this.readOnly(J,false);this.required(J,false)}else{if(I>=3){this.display(J,true);this.readOnly(J,false);this.required(J,true)}}}}};function F(K,O,N,M,J){var L=E[O];var I=L.apply(K,[N]);if(M==null){return I}if(I==M){return false}var H=L.apply(K,[N,M]);if(J&&H!==false){p({type:J,target:N,by:"set"})}return H}}function f(G){if(typeof G=="string"){var F=o(G);if(F.type){return F}else{var E=o(B+G+m);if(E.type){return E}else{return F}}}else{return o(G)}}function o(K){var I,G,F;I=document.getElementsByName(K);if(I.length==0){I=null}if(!I){F=document.getElementById("_xform_"+K);if(F){I=F.querySelectorAll("*[data-dojo-type]")}if(J(F,K)){G=F._xForm_cache}else{F=null}return H()}G=I[0]._xForm_cache;if(G){if(G.root){if(G.detailTable){F=E(I)}else{F=document.getElementById(G.root)}}return H()}F=E(I);G=F&&F._xForm_cache;return H();function E(L){for(L=L[0];L&&L.getAttribute;L=L.parentNode){if(L.getAttribute("_xform_type")){return L;break}}}function J(L,O){if(!L){return false}if(L._xForm_cache&&!L._xForm_cache.detailTable||!window.DocList_TableInfo){return true}var M=(/[\[\.](\d+)[\]\.]/).exec(O);if(M==null){return true}var P;for(var N=L;N!=null&&N.nodeType==1;N=N.parentNode){switch(N.tagName){case"TR":P=N.rowIndex;break;case"TABLE":if(N.id&&DocList_TableInfo[N.id]&&P!=null){return P-DocList_TableInfo[N.id].firstIndex==M[1]}}}return true}function H(){var L;if(G){L=G.widget?l.byId(G.widget):null;return{field:K,type:G.type,widget:L,root:F,cache:G}}G={};if(I){L=l.getEnclosingWidget(I[0]);if(L){if(L.showStatus){G.widget=L.id}else{L=null}}I[0]._xForm_cache=G}if(F){G.type=F.getAttribute("_xform_type");G.root=F.id;F._xForm_cache=G}else{if(L){G.type=L.declaredClass}}G.detailTable=(/[\[\.]\d+[\]\.]/).test(K);if(L){switch(L.showStatus){case"edit":G.maxLevel=2;break;case"view":case"readOnly":G.maxLevel=1;break;default:G.maxLevel=0}}else{if(F){G.maxLevel=1}else{G.maxLevel=0}}return{field:K,type:G.type,widget:L,root:F,cache:G}}}var y=new A({val:function(G,F){var E=G.widget;if(F==null){if(E){if(G.field==E.nameField){return G.widget.get("curNames")}else{return G.widget.get("value")}}return}if(E){if(G.field==E.nameField){G.widget.set("curNames",F)}else{G.widget.set("value",F)}return true}return false},display:function(G,F){var E=G.root||(G.widget&&G.widget.domNode);if(E){if(F==null){if(window.getComputedStyle){return window.getComputedStyle(E)["display"]!="none"}else{return E.currentStyle.display!="none"}}E.style.display=F?"":"none"}else{return false}},readOnly:function(G,F){var E=G.widget;if(F==null){if(E){return G.widget.get("readOnly")}return}if(E){G.widget.set("readOnly",F);return true}return false},required:function(G,F){var E=G.widget;if(F==null){if(E){return G.widget.get("required")}return}if(E){G.widget.set("required",F);return true}return false}});s.subscribe("/mui/form/valueChanged",function(E){if(E&&E.showStatus){p({type:"onValueChange",field:E.get("name"),by:"change"})}});return window.$form})},"sys/mobile/js/mui/form/_ValidateMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/query","dojo/ready","dojo/topic","mui/form/_FormBase","dijit/registry","mui/form/validate/Validation","dojo/dom-class"],function(e,d,g,k,m,f,h,a,b,l){return e("mui.form._ValidateMixin",null,{validateImmediate:true,validateNext:true,performTransition:function(){if(this.validateNext){f.publish("performTransition","performTransition");if(this.validate()){this.inherited(arguments);return true}f.publish("mui/form/validateFail",this);return false}else{this.inherited(arguments);return true}},buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"muiValidateWrap");this._validation=new b()},startup:function(){this.inherited(arguments);if(this.validateImmediate){var n=this;if(!window.__validateInit){m(function(){d.extend(h,{validateImmediate:true,validation:n._validation});window.__validateInit=true})}}f.publish("mui/form/validationInitFinish",this)},validate:function(n){var o=[];if(n){o=o.concat(n)}var r=this.getValidateElements();if(r){o=o.concat(r)}if(this.notValRequired!=undefined){if(this.notValRequired){o=this.removeElementValidate(o,"required")}else{o=this.resetElementValidate(o)}}var v=true;var q=null;var t=[];for(var p=0;p<o.length;p++){if(!this._validation.validateElement(o[p])){if(v){q=o[p];v=false}t.push(o[p])}}if(q!=null){var u=q;if(q instanceof h){u=q.domNode}var s=this._getDomOffsetTop(u);f.publish("/mui/list/toTop",this,{y:0-s+110})}f.publish("/mui/validate/afterValidate",this,t);f.publish("/mui/list/resize");return v},_getDomOffsetTop:function(p){var o=p;var n=0;while(o!=null&&o!=document.body){n+=o.offsetTop;o=o.offsetParent}return n},getValidateElements:function(){var n=[];if(this.domNode){g.forEach(k("[widgetid]",this.domNode),function(p){var o=a.byNode(p);if(o instanceof h&&o.edit==true){n.push(o)}});g.forEach(k("[validate]",this.domNode),function(o){n.push(o)})}return n},removeElementValidate:function(o,x){for(var s=0;s<o.length;s++){var w="";var t=o[s];if(t.isRelationRule){t.isRemove=true}if(t.getAttribute){w=t.getAttribute("validate");if(w!=null&&w!=""){w=w.trim()}}else{if(t.validate&&t.validate!=""){w=t.validate}}if(w!=null&&$.trim(w)!=""){var v=w.split(" ");var n=t[x+"ValidateAlias"];var u=[];for(var r=0;r<v.length;r++){var p=false;var q=false;if(v[r].indexOf(x)>=0){p=true}if((n&&v[r].indexOf(n)>=0)){q=true}if(!p&&!q){u.push(v[r])}}v=u;if(t.setAttribute){if(t.getAttribute("_validate")==null){t.setAttribute("_validate",w)}t.setAttribute("validate",$.trim(v.join(" ")))}else{if(!t._validate){t._validate=w}t.validate=$.trim(v.join(" "))}}}return o},resetElementValidate:function(n){for(var p=0;p<n.length;p++){var o=n[p];if(!o.isRemove&&o.isRelationRule){continue}if(o.getAttribute){var q=o.getAttribute("_validate");o.removeAttribute("_validate");if(q!=null&&$.trim(q)!=""){o.setAttribute("validate",q)}}else{if(o._validate&&o._validate!=""){o.validate=o._validate;delete o._validate}}}return n}})})},"sys/mobile/js/mui/address/AddressRecentItemMixin":function(){define(["dojo/_base/declare","./AddressItemMixin"],function(a,b){return a("mui.address.AddressRecentItemMixin",[b],{showMore:function(){return false}})})},"sys/attachment/mobile/js/AttachmentEvent":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-style","sys/attachment/mobile/js/AttachmentEditListItem","dijit/_WidgetBase","mui/dialog/Tip","mui/i18n/_i18n!sys/mobile/js/mui/mui-view","dojo/query","dojo/dom-construct","dojo/dom-class"],function(e,f,g,l,d,m,a,h,b,k){return e("sys.attachment.mobile.js.AttachmentEvent",[d],{AttachmentListItem:l,isResizeListView:true,buildRendering:function(){this.inherited(arguments);g.set(this.domNode,{width:"0px",height:"0px",opacity:0})},postCreate:function(){this.inherited(arguments);this.handle=this.subscribe("attachmentObject_"+this.getParent().fdKey+"_addItem","_addItem")},_addItem:function(y,v){var q=v.file;if(y.enabledFileType){var p=this.formatEnabledFileType(y.enabledFileType).split(",");var x=false;for(var r=0;r<p.length;r++){if(q.name.endsWith(p[r])){x=true;break}}if(!x){m.fail({text:a["mui.sysAttMain.errortypefile"]});return false}}var n=this.getParent();var o=this.AttachmentListItem;q.hidePicName=this.hidePicName;var w=new o(q);var t=n.align;var u=n.orient;var s=h(".muiAttachmentEditOptItem",n.domNode);b.place(w.domNode,s[0],"before");if(this.isResizeListView){f.publish("/mui/list/resize")}},destroy:function(){if(this.handle){this.handle.remove()}this.inherited(arguments)},formatEnabledFileType:function(n){if(n==null||n==""){return null}n=n.replace(/\|/g,",");n=n.replace(/\;/g,",");n=n.replace(/[\.|\*]/g,"");return n}})})},"sys/mobile/js/mui/datetime/DatePicker_yearMonth":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/date/locale","dojo/date/stamp","mui/datetime/SpinWheelDatePicker_yearMonth","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-attr"],function(d,l,n,k,a,o,m,p,b,l){var g=b["mui.datetime.week.shortName"].split(",");var q={minItems:12,format:function(s){return o.format(s,{datePattern:this.pattern,selector:"date"})},setColor:function(A,z,v){var u=this.flag=="date";var x=this.panelNodes.length;for(var w=0;w<x;w++){var s=this.panelNodes[w];var y=s.querySelectorAll(".mblSpinWheelSlotLabelBlue:not([data-mobile-val='"+A+"'])");k.forEach(y,function(C){var B=l.get(C,"data-mobile-val");if(C.innerHTML!=B){n.toggle(C,v||"mblSpinWheelSlotLabelBlue",false);C.innerHTML=B}});var t=s.querySelectorAll("[data-mobile-val='"+A+"']");k.forEach(t,function(E){var B="";var C=o.parse(A,{datePattern:this.pattern,selector:"date"});var D=o.format(C,{datePattern:this.disPattern,selector:"date"});D=D+'<span style="display: none;" class="mblSpainWheelSlotLabelText">'+this.disText+"</span>";if(E.innerHTML!=D){n.toggle(E,v||"mblSpinWheelSlotLabelBlue",true);E.innerHTML=D}},this)}}};var f=a.mixin({flag:"year",initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var u=new Date(this.labelFrom,0,1);var t,s;for(t=this.labelFrom,s=0;t<=this.labelTo;t++,s++){this["currYearFrom"]=t;u.setFullYear(t);this.labels.push(this.format(u))}}}},q);var e=a.mixin({flag:"month",initLabels:function(){this.labels=[];var t=new Date(2000,0,16);for(var s=0;s<12;s++){this["currMonthFrom"]=s;t.setMonth(s);this.labels.push(this.format(t))}}},q);var r=a.mixin({flag:"date",initLabels:function(){this.labels=[];var t=new Date(2000,0,1);for(var s=1;s<=31;s++){this["currDateFrom"]=s;t.setDate(s);this.labels.push(this.format(t))}}},q);var h=d("mui.datetime.DatePicker_yearMonth",[p],{yearPattern:"yyyy",monthPattern:"MM",dayPattern:"dd",disYearPattern:"yyyy",disMonthPattern:"MM",disDayPattern:"dd",disYearText:b["mui.datetime.year"],disMonthText:b["mui.datetime.month"],disDayText:b["mui.datetime.day"],slotProps:[{labelFrom:1899,labelTo:2099},{},{}],initSlots:function(){var t=this.slotClasses,s=this.slotProps;t[0]=d(t[0],f);t[1]=d(t[1],e);t[2]=d(t[2],r);s[0].pattern=this.yearPattern;s[1].pattern=this.monthPattern;s[2].pattern=this.dayPattern;s[0].disPattern=this.disYearPattern;s[1].disPattern=this.disMonthPattern;s[2].disPattern=this.disDayPattern;s[0].disText=this.disYearText;s[1].disText=this.disMonthText;s[2].disText=this.disDayText;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var s=o._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=k.map(s,function(t){return{y:0,m:1,d:2}[t.charAt(0)]});if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){this.slotOrder=[2,1,0]}},reset:function(){this.inherited(arguments);this._resetColors()},onYearSet:function(){this._resetColors()},onMonthSet:function(){this._resetColors()},onDaySet:function(){this._resetColors()},_setColorsAttr:function(s){var t=this.get("date");k.forEach(this.getSlots(),function(u,v){u.setColor&&u.setColor(s[v],t)})},_resetColors:function(){var s=this.get("values");this.set("colors",s)},_setValueAttr:function(v){var t=v;;if(dojoConfig.locale=="en-us"&&v){var u=v.split("/");t=u[1]+"-"+u[0]+"-01"}if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)&&v){var u=v.split("/");t=u[2]+"-"+u[1]+"-"+u[0]}var s=new Date();if(t){s=m.fromISOString(t)}this.set("values",k.map(this.slots,function(x){return x.format(s)}))},_getValueAttr:function(){var u=this.get("date");if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){return o.format(u,{datePattern:"MM/yyyy",selector:"date"})}if(dojoConfig.locale=="en-us"){return o.format(u,{datePattern:"MM/yyyy",selector:"date"})}var t=m.toISOString(u,{selector:"date"});var s=o.format(u,{datePattern:"yyyy-MM",selector:"date"});return s}});return h})},"sys/mobile/js/mui/category/_ViewScrollResizeMixin":function(){define(["dojo/_base/declare","dojo/topic"],function(b,a){return b("mui.list._ViewScrollResizeMixin",null,{startup:function(){if(this._started){return}this.inherited(arguments);this.subscribe("/mui/list/loaded","_scrollResize");this.subscribe("/mui/view/scrollTo","_scrollTo")},_scrollTo:function(e,d){this.defer(function(){if(e.key==this.key&&this.slideTo){if(d){if(d.y&&d.y!=0){var g=this.domNode.offsetHeight;var k=this.containerNode.offsetHeight;var f=k+d.y;var h=0;if(f<g){if(k<g){h=0}else{h=0-(k-g)}d.y=h}this.slideTo(d,0.5,"linear");return}}this.slideTo({y:0},0.5,"linear");return}},1)},_runSlideAnimation:function(k,h,f,g,e,d){a.publish("/mui/view/afterScroll",this,{from:k,to:h});this.inherited(arguments)},_scrollResize:function(d){if(d.key==this.key){if(this.resize){this.resize();a.publish("/mui/view/resized",this)}this._scrollTo(d)}}})})},"sys/mobile/js/mui/form/Switch":function(){define(["dojo/_base/declare","./switch/NewSwitch"],function(b,a){return b("mui.form.Switch",[a],{})})},"sys/mobile/js/mui/form/Radio":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-class","mui/form/_OptionsBase","dojo/dom-construct","dojo/topic","dojo/_base/lang","dojo/dom-style","mui/util","mui/form/_GroupBase","mui/form/radio/render/RadioNormal","mui/form/radio/render/RadioBlock","mui/form/radio/render/RadioTable"],function(g,n,o,d,e,l,b,m,k,a,f,p,h){var q=g("mui.form.Radio",[d],{valueField:null,opt:false,edit:true,type:"radio",checked:false,renderOptions:[f,p,h],renderType:"normal",RADIO_CHANGE:"mui/form/radio/change",RENDER_CHECKED_STATUS:"mui/form/radio/renderCheckedStatus",_buildValue:function(){for(var r in this.renderOptions){var s=this.renderOptions[r];this.radioNode=new s()._buildRender(this);if(this.radioNode){break}}this.optionContainerNode=this.radioNode;e.place(this.domNode,this.radioNode,"last");this.inherited(arguments)},_changeChecked:function(t,s){if(this.getParent()==t&&t instanceof a&&s!=null&&s!=""){var r=this._get("value");this._extendCheckAction(r==s)}},checkedChange:function(s,r){if(!r){return}if(r.name==this.name&&s!=this){this.set("checked",false)}},_setCheckedAttr:function(r){this.inherited(arguments);if(this.checked){l.publish(this.RADIO_CHANGE,this,{name:this.name})}l.publish(this.RENDER_CHECKED_STATUS,this,{domNode:this.radioNode,checked:this.checked,checkedIcon:this.checkedIcon,unCheckedIcon:this.unCheckedIcon})},_extendCheckAction:function(r){this.inherited(arguments);l.publish(this.RENDER_CHECKED_STATUS,this,{domNode:this.radioNode,checked:this.checked,checkedIcon:this.checkedIcon,unCheckedIcon:this.unCheckedIcon})},_readOnlyAction:function(r){this.optionNode=this.radioNode;this.inherited(arguments)},_onClick:function(r){if(!this.fireClick()){return}this.set("checked",true)},buildEdit:function(){this._optionHandle=this.connect(this.radioNode,"click","_onClick");this.subscribe(this.RADIO_CHANGE,b.hitch(this,this.checkedChange))},buildHidden:function(){m.set(this.domNode,{display:"none"})},buildReadOnly:function(){m.set(this.domNode,{readOnly:"readOnly"})},buildView:function(){this.buildReadOnly()},viewValueSet:function(r){this.domNode.value=r},editValueSet:function(r){this.viewValueSet(r)},hiddenValueSet:function(r){this.viewValueSet(r)},readOnlyValueSet:function(r){this.viewValueSet(r)}});return q})},"sys/mobile/js/mui/address/AddressCommonGroupCategoryPath":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojox/mobile/TransitionEvent","./AddressCategoryPath","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,h,b,g,d,a,f){return e("mui.syscategory.AddressCommonGroupCategoryPath",[d],{detailUrl:"/sys/organization/mobile/address.do?method=commonGroupPath&fdId=!{curId}&nodeType=cate",titleNode:f["mui.mobile.address.commonGroup"],_createTitleNode:function(){var l=b.create("div",{className:"muiCatePathTitleItem"},this.containerNode);var m=b.create("div",{},l);var k=b.create("span",{},m);k.innerHTML=f["mui.mobile.address.group.path"];this.connect(l,"onclick",h.hitch(this,function(){var n={moveTo:"groupView_"+this.key};new g(document.body,n).dispatch()}));return this.inherited(arguments)},_chgUrlInfo:function(l,k){if((k.type|window.ORG_TYPE_GROUP_CATE)===window.ORG_TYPE_GROUP_CATE){return a.setUrlParameter(l,"nodeType","cate")}else{return a.setUrlParameter(l,"nodeType","group")}}})})},"sys/mobile/js/mui/panel/DelayContent":function(){define("mui/panel/DelayContent",["dojo/_base/declare","dojo/parser","dojo/topic","dojo/query","dojo/dom-style","mui/panel/Content"],function(e,g,a,f,d,b){return e("mui.panel.DelayContent",[b],{stopParser:true,isParser:false,isInFirstScreen:false,startup:function(){d.set(this.domNode,"display","none");this.inherited(arguments);this.subscribe("/mui/panel/delayContent/init","initDelayContent");this.subscribe("/mui/panel/delayContent/loaded","loadedDelayContent")},initDelayContent:function(h){if(h==this&&!this.isParser){d.set(this.domNode,"display","inherit");this._initView();this.isParser=true}},loadedDelayContent:function(k){if(k==this&&!isInFirstScreen){var h=this.getParent();var l=f(".muiAccordionPanelTitle",h.domNode);a.publish("/mui/panel/navPanel/scroll",this.getParent(),{target:l})}},_initView:function(){var h=this;g.parse(h.domNode).then(function(){a.publish("/mui/list/resize")})}})})},"sys/attachment/mobile/js/AttachmentViewPicItem":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/util","dojo/_base/lang","dojo/dom-style","sys/attachment/mobile/js/_AttachmentItem","sys/attachment/mobile/js/_AttachmentLinkItem","sys/attachment/mobile/js/_AttachmentViewOnlineMixin","dojo/topic"],function(g,f,k,b,l,e,a,d,h){return g("sys.attachment.mobile.js.AttachmentViewPicItem",[e,a,d],{width:null,height:null,fdId:null,iconUrl:"/sys/attachment/sys_att_main/sysAttMain.do?method=view&picthumb=small&fdId=!{fdId}",mobilePicDisplaythumb:"false",baseClass:"muiAttachmentPicItem",postCreate:function(){this.inherited(arguments);this.subscribe("attachmentListItem_viewItem","_viewItem")},buildItem:function(){if(this.width!=null){l.set(this.containerNode,{width:this.width+"px"})}if(this.height!=null){l.set(this.containerNode,{height:this.height+"px"})}var m=this.mobilePicDisplaythumb=="true"?"70px":"100%";if(!this.icon){this.icon=this.iconUrl.replace("!{fdId}",this.fdId)}var r=f.create("img",{className:"muiAttachmentPicImg",src:k.formatUrl(this.icon),width:m},this.containerNode);var q=f.create("div",{className:"muiAttachmentItemB"},this.containerNode);var p=f.create("div",{className:"muiAttachmentItemName",innerHTML:this.name},q);if(this.size!=null&&this.size!=""){f.create("div",{className:"muiAttachmentItemSize",innerHTML:this.formatFileSize()},q)}if(this.hidePicName&&this.hidePicName=="true"){var n=this.id;setTimeout(function(){$("[id='"+n+"']").find(".muiAttachmentItemB").hide()},100)}var o=k.formatUrl(this.icon);this.fdId=this.getParamsFromUrl(o).fdId;this.canRead=true;this.connect(r,"click",b.hitch(this.view));r.dojoClick=true;h.publish("attachmentObject_"+this.key+"_afterView",this,{href:this.icon})},getParamsFromUrl:function(n){if(n.indexOf("?")!=-1){var m=n.indexOf("?")+1;var q=n.substr(m);var p={};arrs=q.split("&");for(var o=0;o<arrs.length;o++){p[arrs[o].split("=")[0]]=arrs[o].split("=")[1]}}return p},_viewItem:function(m,n){if(n.key&&n.key==this.key){this.view()}}})})},"sys/mobile/js/mui/dialog/Alert":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/dialog/Dialog","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(d,b,a,e){return function(k,n,q,l,f){var s="";if(n){s=n}var m="";if(l){if(l=="success"){s=s?s:e["mui.alert.success"];m="fontmuis muis-formpop-success"}else{if(l=="fail"){s=s?s:e["mui.alert.failure"];m="fontmuis muis-formpop-fail"}else{if(l=="warn"){s=s?s:e["mui.alert.warning"];m="fontmuis muis-formpop-error"}}}}var r=b.create("div",{className:"muiAlertDialogElement"});if(m){var p=b.create("div",{className:"muiAlertDialogIcon muiAlertDialogIcon"+l.substring(0,1).toUpperCase()+l.substring(1)},r);var o=b.create("div",{},p);b.create("i",{className:m},o)}if(s){var h=b.create("div",{className:"muiAlertDialogTitle",innerHTML:s},r)}var g=k?k:"";if(g!=""){b.create("div",{className:"muiAlertDialogContent",innerHTML:"<div>"+g+"</div>"},r)}var t={showClass:"muiAlertDialogShow",element:r,closeOnClickDomNode:false,scrollable:false,parseable:false,canClose:false,callback:f||null,buttons:[{title:e["mui.button.ok"],fn:function(u){u.hide();if(q){q(u)}}}]};return a.element(t)}})},"sys/mobile/js/mui/dialog/Modal":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/dialog/Dialog","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(d,b,a,e){return function(n,p,o,g){var m=b.create("div",{className:"muiModalDialogElement"});var k=false;if(n){var l=b.create("div",{className:"muiModalDialogContent"},m);var h=b.create("div",{},l);if(typeof n==="string"){h.innerHTML=n;k=true}else{if(typeof n==="object"){b.place(n,h,"last")}}}var f=[{title:e["mui.button.ok"],fn:function(r){r.hide()}}];var q={title:p?p:"",showClass:"muiModalDialogShow",element:m,closeOnClickDomNode:false,scrollable:false,scrollViewNode:h,parseable:k,canClose:false,destroyAfterClose:false,callback:g||null,buttons:o?o:f};return a.element(q)}})},"sys/mobile/js/mui/form/editor/plugins/dnyling/Plugin":function(){define(["dojo/_base/declare","dojo/dom-construct","sys/mobile/js/lib/emoji/emoji","dojo/dom-style","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/text!../tmpl/panelV.html","dojo/html","mui/util","dojo/topic","mui/form/editor/plugins/EditorPluginBaseMixin","mui/form/editor/plugins/lingling/SysFaceConfig","dojo/query"],function(e,d,k,l,a,n,q,r,h,g,f,p,o,m){function b(t){var s=t.lastIndexOf("/");if(s==-1){return s}return t.substring(s+1,t.indexOf("."))}return e("mui.form.editor.plugins.dnyling.Plugin",[p],{type:"dnyling",icon:"mui-editor-dnyling",iconImg:g.formatUrl("/resource/mobile/dny-f.png"),event:function(s){this._linglingShow(s)},_faceIsInit:false,constructor:function(s){this.inherited(arguments)},_linglingFormat:function(s){return s},_linglingSaveHandler:function(s,u){if(!s){return""}var t=u.__textNode;var w=m(".muiEditorTextarea");var v=m("img[data-type='dnyling']",w[0]);v.forEach(function(A){var z=A.src;var B=A.outerHTML;var y=b(B);if(y!=-1){var x="[dnyling"+y+"]";s=s.replace(B,x)}});return s},startup:function(){this.editor.formatContent.push(this._linglingFormat);this.editor.saveContentHandler.push(this._linglingSaveHandler);this.linglingCfg=o.getByType(this.type)},_linglingBuildPanel:function(){var v="";var u=this.linglingCfg.start;for(var t=this.linglingCfg.start;t<=this.linglingCfg.max;t++){v+='<a href="javascript:;" class="muiEditorFaceItem"><img width="'+this.linglingCfg.width+'" class="muiEditorFaceItemImg" src="'+this.linglingCfg.path+t+this.linglingCfg.suffix+'" data-type="'+this.linglingCfg.type+'"></a>'}var s=new h._ContentSetter({parseContent:true,cleanContent:true,node:this.linglingNode,onBegin:function(){this.content=this.content.replace(/!{panel}/g,v);this.inherited("onBegin",arguments)}});s.set(r);s.tearDown()},show:function(){this.inherited(arguments);l.set(this.linglingNode,{display:"block"});this.defer(function(){l.set(this.linglingNode,{height:this.panelHeight})},1)},hide:function(){this.inherited(arguments);l.set(this.linglingNode,{height:0});this.defer(function(){l.set(this.linglingNode,{display:"none"})},200)},_linglingShow:function(s){if(this._isShow){this.hide();return}this._isShow=true;if(this._falseIsInit){this.show();return}this.iconNode=s.target;this.linglingNode=d.create("div",{className:"muiEditorFace"},this.editor.domNode,"last");var u=this.editor.domNode.offsetHeight;this.panelHeight="30rem";var t=this;this.connect(this.linglingNode,"click",a.hitch(this,function(v){this.editor.__textNode.blur();if(!this._faceFireClick()){return}var y=v.target;var w=t.linglingCfg.width/2;while(y){if(y.tagName=="IMG"){var z=n.get(y,"src");var x=d.create("img",{width:w,src:z,className:"muiEditorDnyLingImg","data-type":t.type});this.editor.insertElement(x);break}y=y.parentNode}}));this._linglingBuildPanel();this.show();this._falseIsInit=true}})})},"sys/mobile/js/mui/table/toggle/ScrollableContainer":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/dom-style","dojo/query"],function(e,f,d,a,b,g){return e("mui.table.ScrollableContainer",[f,d,a],{baseClass:"muiScrollableContainer",buildRendering:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},resizeH:function(k){if(k>0){b.set(this.domNode,{height:k+"px"})}}})})},"sys/mobile/js/mui/category/CategoryNavInfo":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style"],function(e,f,a,d){var b=e("mui.category.CategoryNavInfo",[f],{baseClass:"muiCateNavInfo",key:null,top:null,buildRendering:function(){this.inherited(arguments);this.cateContainer=a.create("div",{className:"muiCateContainer"},this.domNode);this.titleNode=a.create("div",{className:"muiCateName muiCateTitle"},this.cateContainer);d.set(this.domNode,{display:"none"})},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/navChange","_changeNavInfo");this.subscribe("/mui/search/submit",function(){d.set(this.domNode,{top:"0px"})});this.subscribe("/mui/search/cancel",function(){d.set(this.domNode,{top:this.top})})},startup:function(){if(this._started){return}this.inherited(arguments);if(!this.top){var g=this.getPrevNode(this.domNode);if(g){this.top=g.offsetHeight+"px"}else{this.top="0px"}}d.set(this.domNode,{top:this.top})},getPrevNode:function(h){var k=h.parentNode.firstChild;if(h==k){return null}var g=h.previousSibling;while(g.nodeType!=1&&g.previousSibling!=null){g=g.previousSibling}return g.nodeType==1?g:null},_changeNavInfo:function(h,g){if(h.key==this.key){if(g){this.titleNode.innerHTML=g.label;d.set(this.domNode,{display:"block"})}else{this.titleNode.innerHTML="";d.set(this.domNode,{display:"none"})}}}});return b})},"sys/mobile/js/mui/search/SearchButtonBar":function(){define(["dojo/_base/declare","mui/header/HeaderItem","mui/folder/_Folder","mui/search/SearchBarDialogMixin"],function(b,d,a,e){return b("mui.search.SearchButtonBar",[d,a,e],{icon:"fontmuis muis-search",baseClass:"muiSearchButton"})})},"sys/mobile/js/mui/form/radio/render/RadioBlock":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","mui/util"],function(e,b,g,f,d,a){return e("mui.form.radio.render.RadioBlock",[g],{renderType:"block",radioNode:null,postCreate:function(){this.inherited(arguments);this.subscribe("mui/form/radio/renderCheckedStatus","_renderCheckedStatus")},_buildRender:function(h){if(this.renderType==h.renderType){this.radioNode=b.create("label",{className:"muiRadioBlockItem"},h.domNode,"after");this.radioText=b.create("span",{className:"muiRadioBlockText",style:h.style,innerHTML:h.text&&h.text.indexOf("&#039;")>0?h.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.formatText(h.text)},this.radioNode,"last")}return this.radioNode},_renderCheckedStatus:function(k,h){if(this.radioNode==h.domNode){if(h.checked){f.replace(this.radioNode,h.checkedIcon,h.unCheckedIcon)}else{f.replace(this.radioNode,h.unCheckedIcon,h.checkedIcon)}}}})})},"sys/mobile/js/mui/nav/_StoreNavBarMixin":function(){define("mui/nav/_StoreNavBarMixin",["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/query","dojox/mobile/_StoreMixin","dojo/_base/array","./NavItem","mui/store/JsonRest","dojo/topic","mui/util","dojo/_base/lang"],function(f,m,o,k,e,n,p,l,a,d,h,g,b){var q=f("mui.nav._StoreNavBarMixin",p,{itemRenderer:a,defaultUrl:"",defaulted:false,buildRendering:function(){this.inherited(arguments)},_setUrlAttr:function(r){this.url=g.formatUrl(r);this._url=g.formatUrl(r)},_setDefaultUrlAttr:function(r){this.defaultUrl=g.formatUrl(r)},onComplete:function(r){if(r.length==0&&!this.defaulted&&this.defaultUrl){this.set("defaulted",true);this.url=this.defaultUrl;this.store.target=this.url;this.setQuery();return}this.generateList(r);h.publish("/mui/nav/onComplete",this,r);if(this.selectedItem){this.selectedItem.setSelected();if(this.selectedItem.moveTo){this.selectedItem.transitionTo(this.selectedItem.moveTo)}}},generateList:function(r){l.forEach(r,function(t,s){if(s==0){this.addFirstChild(this.createListItem(b.mixin(t,{tabIndex:s})));return}this.addChild(this.createListItem(b.mixin(t,{tabIndex:s})));if(t[this.childrenProperty]){l.forEach(t[this.childrenProperty],function(v,u){this.addChild(this.createListItem(b.mixin(t,{tabIndex:u})))},this)}},this)},selectedItem:null,addFirstChild:function(r){this.addChild(r)},channelName:"",createListItem:function(r){var r=new this.itemRenderer(this._createItemProperties(r));if(r.selected===true){this.selectedItem=r}if(this.channelName){r.channelName=this.channelName}return r},_createItemProperties:function(r){return r},startup:function(){if(this._started){return}if(!this.isTiny){if(!this.url){this.url=this.defaultUrl;this.set("defaulted",true)}if(!this.store&&!this.url){return}if(!this.store&&this.url){var r=new d({idProperty:"fdId",target:this.url,defaultType:"get"})}else{r=this.store}this.store=null;setTimeout(b.hitch(this,function(){this.setStore(r,this.query,this.queryOptions)}),1)}this.inherited(arguments)}});return q})},"sys/mobile/js/mui/address/AddressSubordinate":function(){define(["dojo/_base/declare","dojo/topic","dijit/_WidgetBase","dojo/dom-construct","dojox/mobile/TransitionEvent","mui/device/adapter","mui/history/listener","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,g,e,d,k,l,a,h,b){return f("mui.address.AddressSubordinate",[e],{buildRendering:function(){var n=this;this.inherited(arguments);if((this.selType&window.ORG_TYPE_PERSON)!=window.ORG_TYPE_PERSON){return}this.dom=d.create("div",{className:"muiAddressItem muiUsualSubordinate"},this.domNode);var m=d.create("div",{className:"muiAddressItemIcon"},this.dom);d.create("img",{src:h.formatUrl("/sys/mobile/css/themes/default/images/address-subordinate.png")},m);d.create("div",{className:"muiAddressItemName",innerHTML:b["mui.mobile.address.subordinate"]},this.dom);var o=d.create("div",{className:"muiAddressItemMore"},this.dom);d.create("i",{className:"mui mui-forward"},o)},startup:function(){this.inherited(arguments);this.dom&&this.connect(this.dom,"click","openView")},openView:function(){var n;var m=this;a.push({forwardCallback:function(){n=document.title;g.publish("/mui/address/swapView",m,{viewKey:"subordinate"});new k(document.body,{moveTo:"subordinateView_"+m.key}).dispatch();l.setTitle(b["mui.mobile.address.subordinate"])},backCallback:function(){g.publish("/mui/address/swapView",m,{viewKey:"default"});new k(document.body,{moveTo:"defaultView_"+m.key}).dispatch();if(n){l.setTitle(n);n=null}}})}})})},"sys/mobile/js/mui/address/AddressCommonGroupItemMixin":function(){define(["dojo/_base/declare","mui/address/AddressGroupItemMixin"],function(b,a){var d=b("mui.address.AddressCommonGroupItemMixin",[a],{_openCate:function(e){if((this.type|window.ORG_TYPE_GROUP_CATE)===window.ORG_TYPE_GROUP_CATE){this.dataUrl="/sys/organization/mobile/address.do?method=commonGroupCate&parent=!{parentId}&orgType=!{selType}"}else{this.dataUrl="/sys/organization/mobile/address.do?method=commonGroupList&groupCate=!{parentId}&nodeType=group&orgType=!{selType}"}this.inherited(arguments)}});return d})},"sys/attachment/mobile/js/AttachmentLogApi":function(){define(["dojo/_base/declare","mui/util","dojo/request","dojo/_base/lang"],function(b,a,d,e){return b("sys.attachment.log.api",null,{ADD_URL:"/sys/attachment/sys_att_play_log/sysAttPlayLog.do?method=save",UPDATE_URL:"/sys/attachment/sys_att_play_log/sysAttPlayLog.do?method=update",FIND_URL:"/sys/attachment/sys_att_play_log/sysAttPlayLog.do?method=viewByAttId",enable:false,support:true,fdLogId:null,isEnable:function(){return this.enable&&this.support},find:function(f,g){d.get(a.formatUrl(this.FIND_URL+"&fdAttId="+f+"&fdType="+this.type),{handleAs:"json"}).response.then(e.hitch(this,function(h){if(h.status==200){var h=h.data;this.enable=h.fdEnable;this.findDone(h)}}))},add:function(f,g){if(!this.isEnable()){return}d.post(a.formatUrl(this.ADD_URL),{data:{fdAttId:f,fdParam:g,fdType:this.type},timeout:30000,handleAs:"json"}).response.then(e.hitch(this,function(h){if(h.status==200){this.addDone(h.data)}}))},update:function(g,f){if(!this.isEnable()){return}d.post(a.formatUrl(this.UPDATE_URL),{data:{fdId:g,fdParam:f},timeout:30000,handleAs:"json"}).response.then(e.hitch(this,function(h){if(h.status==200){this.updateDone(h.data)}}))},log:function(f,g){if(this.fdLogId){this.update(this.fdLogId,g)}else{this.add(f,g)}},findDone:function(f){if(f&&f.fdId){this.fdLogId=f.fdId}},updateDone:function(){},addDone:function(f){if(f&&f.fdId){this.fdLogId=f.fdId}}})})},"sys/mobile/js/mui/address/AddressHeader":function(){define(["dojo/_base/declare","mui/category/CategoryHeader"],function(b,a){var d=b("mui.address.AddressHeader",[a],{detailUrl:"/sys/organization/mobile/address.do?method=detailList&orgIds=!{curId}&deptLimit=!{deptLimit}"});return d})},"sys/mobile/js/mui/address/AddressMyGroupListMixin":function(){define(["dojo/_base/declare","mui/util","./AddressItemListMixin","./AddressGroupItemMixin"],function(e,b,a,d){return e("mui.address.AddressMyGroupListMixin",[a],{itemRenderer:d,dataUrl:"/sys/organization/mobile/address.do?method=myGroupList&id=!{parentId}&orgType=!{selType}",buildRendering:function(){if(this.isExt!=""&&this.isExt!=undefined&&this.isExt=="true"){this.dataUrl+="&isExternal=false"}this.inherited(arguments)},resolveItems:function(){var k=this.inherited(arguments);var g=[];if(k&&k.length>0){var h;if(this.params&&this.params.exceptValue){h=this.params.exceptValue}for(var f=0;f<k.length;f++){if(h&&h.indexOf(k[f].id)!=-1){continue}g.push(this._transformItemProperties(k[f]))}}return g},_transformItemProperties:function(f){switch(f.nodeType){case"cate":f.type=window.ORG_TYPE_GROUP_CATE;f.fdId=f.value;f.label=f.text;break;default:f.type=f.orgType;f.fdId=f.id;f.label=f.name;if((f.type|window.ORG_TYPE_PERSON)==window.ORG_TYPE_PERSON){f.icon=b.urlResolver(this.iconUrl,{orgId:f.fdId})}break}return f}})})},"sys/attachment/mobile/js/AttachmentEditListItem":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/util","dojo/topic","dojo/_base/lang","dojo/dom-style","dojox/mobile/ProgressBar","sys/attachment/mobile/js/_AttachmentItem","mui/device/adapter","sys/attachment/mobile/js/_AttachmentViewOnlineMixin","dojo/request","dojo/query"],function(g,e,k,h,a,l,o,d,n,b,f,m){return g("sys.attachment.mobile.js.AttachmentEditListItem",[d,b],{baseClass:"muiAttachmentEditItem",status:3,canDownload:true,canRead:true,canEdit:true,showDeleteIcon:"true",postCreate:function(){this.inherited(arguments);this.subscribe("attachmentEditListItem_delItem","_delItem");this.subscribe("attachmentListItem_viewItem","_viewItem")},buildItem:function(){var q=e.create("div",{className:"muiAttachmentItemT "+this.getAttContainerType()},this.containerNode);this.attItemIcon=e.create("div",{className:"muiAttachmentItemIcon"},q);if(this.getType()=="img"&&this.status==3){if(this.thumb){var u=e.create("img",{align:"middle",src:k.formatUrl(this.thumb)},this.attItemIcon);this._imgResize(u);h.publish("attachmentObject_"+this.key+"_afterView",this,{href:this.thumb,pageType:"edit"})}else{var u=e.create("img",{align:"middle",src:k.formatUrl(this.href)},this.attItemIcon);this._imgResize(u);h.publish("attachmentObject_"+this.key+"_afterView",this,{href:this.href,pageType:"edit"})}}else{e.create("i",{className:this.getAttTypeClass()},this.attItemIcon)}this.connect(this.attItemIcon,"click",a.hitch(this._onItemClick));var p={className:"muiAttachmentItemDel",style:{display:this.showDeleteIcon==="true"?"block":"none"}};if(this.status!=3){this.statusDiv=e.create("div",{className:"muiAttachmentItemStatus"},q);e.create("i",{className:"fontmuis mui-spin muis-refresh"},this.statusDiv);p.style.display="none"}this.attItemDel=e.create("div",p,q);e.create("i",{className:"fontmuis muis-epid-delete"},this.attItemDel);this.connect(this.attItemDel,"click",a.hitch(this,function(v){h.publish("attachmentObject_"+this.key+"_del",this,{widget:this});if(v.stopPropagation){v.stopPropagation()}if(v.cancelBubble){v.cancelBubble=true}if(v.preventDefault){v.preventDefault()}if(v.returnValue){v.returnValue=false}}));var t=e.create("div",{className:"muiAttachmentItemB"},this.containerNode);var s=e.create("div",{className:"muiAttachmentItemName",innerHTML:this.name},t);if(this.size!=null&&this.size!=""){e.create("div",{className:"muiAttachmentItemSize",innerHTML:this.formatFileSize()},t)}if(this.hidePicName&&this.hidePicName=="true"){var r=this.id;setTimeout(function(){$("[id='"+r+"']").find(".muiAttachmentItemB").hide()},100)}},changeProgress:function(p){},uploadError:function(p){if(this.statusDiv){e.empty(this.statusDiv);this.statusDiv.innerHTML="上传失败!"}if(this.attItemDel){l.set(this.attItemDel,{display:"block"})}},uploaded:function(){if(this.attItemIcon&&this.getType()=="img"&&this.href){e.empty(this.attItemIcon);var p=e.create("img",{align:"middle",src:k.formatUrl(this.href)},this.attItemIcon);this._imgResize(p)}if(this.statusDiv){e.destroy(this.statusDiv);this.statusDiv=null}if(this.attItemDel){l.set(this.attItemDel,{display:"block"})}},_onItemClick:function(){if(this.filePath){n.fileView({path:this.filePath})}else{if(this.inherited(arguments)){return}this._downLoad()}},_downLoad:function(){var p="/sys/attachment/sys_att_download_log/sysAttDownloadLog.do?method=addDownlodLog&downloadType=manual&fdId="+this.fdId;f.post(k.formatUrl(p,true));n.download({fdId:this.fdId,name:this.name,type:this.type,href:this.href})},_imgResize:function(p){p.onload=function(){var q=p.height,s=p.width;var r=m(".muiAttachmentItemT")[0].getBoundingClientRect();if(q<s){l.set(p,{height:r.height==0?"100%":(r.height+"px"),position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)","-webkit-transform":"translate(-50%,-50%)"})}else{l.set(p,{width:r.width==0?"100%":(r.width+"px"),position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)","-webkit-transform":"translate(-50%,-50%)"})}}},_delItem:function(p,q){if(q.key&&q.key==this.key){h.publish("attachmentObject_"+this.key+"_del",this,{widget:this})}},_viewItem:function(p,q){if(q.key&&q.key==this.key){this._onItemClick()}}})})},"sys/mobile/js/mui/select/SelectDialog":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/parser","mui/iconUtils","dojo/request","mui/util","dojo/on","dojox/mobile/viewRegistry","dojo/query","dojo/topic","dojo/dom-attr","dojo/touch"],function(k,g,e,n,t,p,b,a,d,f,m,o,s,r,l,q,h){return k("mui.select.SelectDialog",[g],{datas:[],showClass:"ekp-mui-customer-filter-warp",firstFlag:true,paramStr:[],SELECT_CHANGE:"mui/select/changed",buildRendering:function(){this.inherited(arguments);this.initData();var u=e.toDom('<div class="muiPicker">筛选<i class="mui mui-sort-filter"></i></div>');e.place(u,this.domNode);this.connect(u,"click","_onShowClick")},initData:function(){for(var v=0;v<this.datas.length;v++){var w=this.datas[v].data;if(w){var u={};u.name="全部";u.value="";w.unshift(u)}}},initActive:function(){r(".ekp-mui-customer-filter-condition li").forEach(function(u){t.remove(u.children[0],"active");if(!q.get(u.children[0],"data-value")){t.add(u.children[0],"active")}})},_onShowClick:function(){if(this.firstFlag){this.buildSelectRender();this.initActive()}else{n.set(this.maskNode,"display","block");n.set(this.panelNode,"display","block")}},buildSelectRender:function(){this.inherited(arguments);this.firstFlag=false;this.pickerNode=e.create("div",{className:this.showClass},document.body,"last");this.panelNode=e.create("div",{className:"ekp-mui-customer-filter-panel"},this.pickerNode);this.maskNode=e.create("div",{className:"ekp-mui-customer-filter-mask"},this.pickerNode);this.connect(this.maskNode,"click","_onMaskClick");var w=e.create("h4",{className:"ekp-mui-customer-filter-title",innerHTML:"筛选"},this.panelNode);this.contentNode=e.create("div",{className:"ekp-mui-customer-filter-condition"},this.panelNode);if(this.datas){p.forEach(this.datas,b.hitch(this,function(y){this.sectionNode=e.create("section",{className:""},this.contentNode);var x=e.create("h5",{className:"ekp-mui-gray-title",innerHTML:y.title},this.sectionNode);this.buildItemRender(y)}))}if(this.datas.length>1){this.buttonsNode=e.create("div",{className:"ekp-mui-customer-filter-btn"},this.panelNode);var v=e.create("button",{className:"filter-btn reset",innerHTML:"重置"},this.buttonsNode);this.connect(v,"click","_onResetClick");var u=e.create("button",{className:"filter-btn done",innerHTML:"完成"},this.buttonsNode);this.connect(u,"click","_onDoneClick")}},buildItemRender:function(v){var u=e.create("ul",{id:v.type,className:"ekp-mui-customer-filter-list"},this.sectionNode);p.forEach(v.data,b.hitch(this,function(x){var w=e.create("li",{className:""},u);var y=e.create("span",{className:"",innerHTML:x.name},w);q.set(y,"data-type",v.type);q.set(y,"data-value",x.value);this.connect(y,h.press,"itemClick")}))},itemClick:function(u){var y=q.get(u.target,"data-type");var x=q.get(u.target,"data-value");r("#"+y+" li").forEach(function(A){t.remove(A.children[0],"active")});for(var w=0;w<this.datas.length;w++){if(y==this.datas[w].type){var z=this.datas[w].data;for(var v=0;v<z.length;v++){if(x==z[v].value){this.paramStr[y]=x}t.add(u.target,"active")}}}if(this.datas.length=1){this._onDoneClick();this._onMaskClick()}},_onMaskClick:function(){n.set(this.maskNode,"display","none");n.set(this.panelNode,"display","none")},_onResetClick:function(){this.initActive()},_onDoneClick:function(){this.defer(function(){console.log(this.paramStr);l.publish(this.SELECT_CHANGE,{args:this.paramStr});l.publish("/mui/list/toTop",this);this._onMaskClick()},350)}})})},"sys/mobile/js/mui/form/switch/_SwitchBase":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/topic","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/dom-class","mui/form/_AlignMixin"],function(e,h,b,k,a,d,g,f){return e("mui.form.switch._SwitchBase",[h,f],{isForm:true,baseClass:"",showStatus:"edit",align:"left",property:"",value:"on",realValue:true,disabled:false,leftLabel:"ON",rightLabel:"OFF",buildRendering:function(){this.inherited(arguments);if(this.baseClass){g.add(this.domNode,"muiFormEleWrap");g.add(this.domNode,"muiFormStatus"+this.showStatus.substring(0,1).toUpperCase()+this.showStatus.substring(1));g.add(this.domNode,"muiForm"+this.align.substring(0,1).toUpperCase()+this.align.substring(1));g.add(this.domNode,this.baseClass)}this.switchNode=this.containerNode=a.create("div",{className:"muiSwitch "},this.domNode);if(this.showStatus=="readOnly"){this.disabled=true}if(this.disabled){g.add(this.switchNode,"muiSwitchDisabled")}if(!this.realValue||this.realValue=="false"){this.value="off"}this._onSetSwitchState(this.value);var l=a.create("div",{className:"muiSwitchKnob"},this.switchNode);if(this.leftLabel!=""){a.create("span",{className:"muiSwitchText muiSwitchLeftText",innerHTML:this.leftLabel},this.switchNode)}if(this.rightLabel!=""){a.create("span",{className:"muiSwitchText muiSwitchRightText",innerHTML:this.rightLabel},this.switchNode)}this.propDom=a.create("input",{type:"hidden",name:this.property,value:this.value?(this.value=="on"?true:false):this.realValue},this.domNode)},postCreate:function(){this.inherited(arguments);if(this.showStatus=="edit"&&this.disabled==false){this.connect(this.switchNode,"click",k.hitch(this,function(){this._onSwitchClick()}))}},_onSetSwitchState:function(l){this.state=l;if(l=="on"){g.remove(this.switchNode,"muiSwitchOff");g.add(this.switchNode,"muiSwitchOn")}else{g.remove(this.switchNode,"muiSwitchOn");g.add(this.switchNode,"muiSwitchOff")}},onStateChanged:function(l){var m=l=="on"?true:false;this.propDom.value=m;b.publish("mui/switch/statChanged",this,m)},_onSwitchClick:function(){var m=new Date().getTime();var l=this.ctime;if(l!="undefined"&&(m-l<500)){return false}else{this.set("value",(this.state=="on")?"off":"on");return true}},_setValueAttr:function(l){this.inherited(arguments);if(this.value!=l){this.state=l;this.value=l;this._onSetSwitchState(this.value);this.onStateChanged(this.state)}}})})},"sys/mobile/js/mui/search/_SearchComplete":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style","mui/util","dojo/request","dojo/_base/lang","dojo/topic"],function(f,l,d,b,k,h,e,a,g){return f("mui.search._SearchComplete",[d],{url:"/sys/ftsearch/sysFtsearchAutoComplete.do?method=searchTip&q=!{keyword}",baseClass:"muiSearchComplete fadeIn animated",buildRendering:function(){this.inherited(arguments);this.containerNode=b.create("ul",{className:"muiSearchCompleteContainer "},this.domNode);b.place(this.domNode,document.body,"last");this.show();this.subscribe("/mui/search/onChange","_onChange");this.subscribe("/mui/search/submit","_onSubmit")},_onSubmit:function(){this.hide()},show:function(){k.set(this.domNode,{display:"block"});if(!this.keyword&&this.parent){this.keyword=encodeURIComponent(this.parent.keyword)}e.get(h.formatUrl(h.urlResolver(this.url,{keyword:this.keyword})),{handleAs:"json"}).response.then(a.hitch(this,function(n){var m=n.data;b.empty(this.containerNode);if(m&&m.length>0){l.forEach(m,function(o){var p=b.create("li",{innerHTML:o},this.containerNode);this.connect(p,"click","_selectRecord")},this)}}))},_selectRecord:function(n){var o=n.target||n.srcElement;var m=o.innerHTML;g.publish("/mui/search/keyword",this,{keyword:m})},_onChange:function(m){if(m!=this.parent){return}this.keyword=encodeURIComponent(m.keyword);if(this.keyword){this.show()}else{this.hide()}},hide:function(){k.set(this.domNode,{display:"none"})}})})},"sys/mobile/js/mui/form/CheckBox":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-class","mui/form/_OptionsBase","dojo/dom-construct","dojo/topic","dojo/_base/lang","dojo/dom-style","mui/util","mui/form/checkbox/render/CheckBoxNormal","mui/form/checkbox/render/CheckBoxBlock","mui/form/checkbox/render/CheckBoxTable"],function(f,m,n,b,d,k,a,l,h,g,o,e){var p=f("mui.form.CheckBox",[b],{valueField:null,opt:false,type:"checkbox",checked:false,mul:true,tag:"div",pop:false,renderOptions:[g,o,e],renderType:"normal",CHECK_CHANGE:"mui/form/checkbox/change",CHECK_SET:"mui/form/checkbox/set",ITEMVALUE_CHANGE:"mui/form/checkbox/valueChange",RENDER_CHECKED_STATUS:"mui/form/checkbox/renderCheckedStatus",postCreate:function(){this.inherited(arguments);this.subscribe(this.CHECK_SET,"_setCheckedAttr")},_buildValue:function(){if(this.pop){this.renderType="table"}for(var q in this.renderOptions){var r=this.renderOptions[q];this.checkboxNode=new r()._buildRender(this);if(this.checkboxNode){break}}this.optionContainerNode=this.checkboxNode;d.place(this.domNode,this.checkboxNode,"last");this.inherited(arguments)},_checkedChange:function(r,q){if(!q){return}if(q.name==this.name&&r!=this){this.set("checked",false)}},_extendCheckAction:function(q){this.inherited(arguments);k.publish(this.RENDER_CHECKED_STATUS,this,{domNode:this.checkboxNode,checked:this.checked,checkedIcon:this.checkedIcon,unCheckedIcon:this.unCheckedIcon})},_onClick:function(q){var s=new Date().getTime();var r=this.ctime;if(r!="undefined"&&(s-r<500)){return false}else{this.set("checked",this.checked?false:true);k.publish(this.ITEMVALUE_CHANGE,this,{name:this.name});k.publish(this.CHECK_CHANGE,this,{name:this.name,value:this.value});k.publish(this.RENDER_CHECKED_STATUS,this,{domNode:this.checkboxNode,checked:this.checked,checkedIcon:this.checkedIcon,unCheckedIcon:this.unCheckedIcon});this.ctime=s;return true}},_readOnlyAction:function(q){this.optionNode=this.checkboxNode;this.inherited(arguments)},buildEdit:function(){self._curTime=0;this._optionHandle=this.connect(this.checkboxNode,"click","_onClick");if(!this.mul){this.subscribe(this.ITEMVALUE_CHANGE,"_checkedChange")}},buildHidden:function(){l.set(this.domNode,{display:"none"})},buildReadOnly:function(){l.set(this.domNode,{readOnly:"readOnly"})},buildView:function(){this.buildReadOnly()},viewValueSet:function(q){this.domNode.value=q},editValueSet:function(q){this.viewValueSet(q)},hiddenValueSet:function(q){this.viewValueSet(q)},readOnlyValueSet:function(q){this.viewValueSet(q)}});return p})},"sys/mobile/js/mui/form/_PlaceholderMixin":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-class"],function(b,e,d){var a=b("mui.form._PlaceholderMixin",[e],{buildRendering:function(){this.inherited(arguments);if(this.edit){d.remove(this.domNode,"showTitle")}},_readOnlyAction:function(f){this.inherited(arguments);var g=this._get("value");if(this.domNode){if(!g&&this.edit){d.remove(this.domNode,"showTitle")}else{d.add(this.domNode,"showTitle")}}},_setValueAttr:function(f){this.inherited(arguments);if(this.domNode){if(!f&&this.edit){d.remove(this.domNode,"showTitle")}else{d.add(this.domNode,"showTitle")}}}});return a})},"sys/mobile/js/mui/table/HView":function(){define(["dojo/_base/declare","dojox/mobile/ScrollableView","dojo/dom-style","dojo/ready","dojox/mobile/_css3"],function(d,f,b,e,a){return d("mui.table.HView",[f],{scrollDir:"h",height:"100%",scrollBar:false,appBars:false,postCreate:function(){this.inherited(arguments);this.subscribe("/mui/list/resize","resize")},resize:function(){if(this.timer){clearTimeout(this.timer)}var g=this;var h=arguments;this.timer=setTimeout(function(){var k=g.containerNode.offsetHeight;var l=g.getParent();if(l&&l.resizeH){l.resizeH(k)}g.inherited(h)},500)},isFormElement:function(k){var h=a.name("userSelect"),g=b.getComputedStyle(k).userSelect||b.getComputedStyle(k).webkitUserSelect;if(g==="text"){return true}return false}})})},"sys/mobile/js/mui/table/NativeHView":function(){define(["dojo/_base/declare","mui/NativeView"],function(b,a){return b("mui.table.NativeHView",[a],{scrollDir:"h"})})},"sys/mobile/js/mui/address/AddressItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","./AddressItemMixin","./AddressChannelMixin"],function(b,a,e,d){return b("mui.address.AddressItemListMixin",[a,d],{itemRenderer:e,_createItemProperties:function(g){var f=this.inherited(arguments);f.scope=this.scope;f.dataUrl=this.dataUrl;f.selType=this.selType;f.deptLimit=this.deptLimit;f.channel=this.channel;return f},_cateChange:function(f){this.isSameChannel(f)&&this.inherited(arguments)},_cateReback:function(f){this.isSameChannel(f)&&this.inherited(arguments)},_cateSelected:function(f){this.isSameChannel(f)&&this.inherited(arguments)},_scrollToCate:function(f){this.isSameChannel(f)&&this.inherited(arguments)},_setNavInfo:function(f){this.isSameChannel(f)&&this.inherited(arguments)}})})},"sys/mobile/js/mui/datetime/_DatePickerMixin7":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/date","dojo/date/locale","dojo/date/stamp"],function(g,b,a,f,k,h){var l={format:function(n){return k.format(n,{datePattern:this.pattern,selector:"date",locale:this.picker.lang})}};var e=a.mixin({initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var p=new Date(this.labelFrom,0,1);var o,n;for(o=this.labelFrom,n=0;o<=this.labelTo;o++,n++){p.setFullYear(o);this.labels.push(this.format(p))}}}},l);var d=a.mixin({initLabels:function(){this.labels=[];var o=new Date(2000,0,16);for(var n=0;n<12;n++){o.setMonth(n);this.labels.push(this.format(o))}}},l);var m=a.mixin({initLabels:function(){this.labels=[];var o=new Date(2000,0,1);for(var n=1;n<=31;n++){o.setDate(n);this.labels.push(this.format(o))}}},l);return b("mui/datetime/_DatePickerMixin7",null,{yearPattern:"yyyy",monthPattern:"MMM",dayPattern:"d",initSlots:function(){var o=this.slotClasses,n=this.slotProps;o[0]=b(o[0],e);o[1]=b(o[1],d);o[2]=b(o[2],m);n[2].picker=n[1].picker=n[0].picker=this;n[0].pattern=this.yearPattern;n[1].pattern=this.monthPattern;n[2].pattern=this.dayPattern;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var n=k._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=g.map(n,function(o){return{y:0,m:1,d:2}[o.charAt(0)]})},reset:function(){var o=new Date();var n=g.map(this.slots,function(p){return p.format(o)});this.set("colors",n);this._disableEndDaysOfMonth();if(this.value){this.set("value",this.value);this.value=null}else{if(this.values){this.set("values",this.values);this.values=null}else{this.set("values",n)}}},_onYearSet:function(){var o=this.slots[0];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){this._disableEndDaysOfMonth();o._previousValue=n;o._set("value",n);this.onYearSet()}},onYearSet:function(){},_onMonthSet:function(){var o=this.slots[1];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){this._disableEndDaysOfMonth();o._previousValue=n;o._set("value",n);this.onMonthSet()}},onMonthSet:function(){},_onDaySet:function(){var o=this.slots[2];var n=o.get("value");if(!(o._previousValue&&n==o._previousValue)){if(!this._disableEndDaysOfMonth()){o._previousValue=n;o._set("value",n);this.onDaySet()}}},onDaySet:function(){},_disableEndDaysOfMonth:function(){var q=this.slots[0].pattern+"/"+this.slots[1].pattern,o=this.get("values"),p=k.parse(o[0]+"/"+o[1],{datePattern:q,selector:"date",locale:this.lang}),n=f.getDaysInMonth(p);var r=false;if(n<o[2]){r=true;this.slots[2]._spinToValue(n,false)}this.disableValues(n);return r},_getDateAttr:function(){var n=this.get("values"),p=this.slots,o=p[0].pattern+"/"+p[1].pattern+"/"+p[2].pattern;return k.parse(n[0]+"/"+n[1]+"/01",{datePattern:o,selector:"date",locale:this.lang})},_setValuesAttr:function(n){g.forEach(this.getSlots(),function(p,r){var q=n[r];if(typeof q=="number"){var o=[1970,1,1];o.splice(r,1,q-0);q=p.format(new Date(o[0],o[1]-1,o[2]))}p.set("value",q)})},_setValueAttr:function(o){var n=h.fromISOString(o);this.set("values",g.map(this.slots,function(p){return p.format(n)}))},_getValueAttr:function(){return h.toISOString(this.get("date"),{selector:"date"})}})})},"sys/mobile/js/mui/search/SearchBarPage":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-attr","dojo/dom","mui/util"],function(d,e,b,g,f,a){return d("mui.search.SearchBarPage",[e],{icon:"mui mui-Csearch",label:"",modelName:"",searchUrl:"/sys/ftsearch/mobile/index.jsp?keyword=!{keyword}&modelName=!{modelName}",buildRendering:function(){this.inherited(arguments);this.buildSearchBar()},buildSearchBar:function(){var h=b.create("div",{className:"searchBar_inputWrap"},this.domNode);this.formNode=b.create("form",{onsubmit:"return false;"},h);b.create("i",{className:this.icon},this.formNode);this.connect(this.formNode,"onsubmit","_onSearch");this.buildSearchInput(this.formNode)},buildSearchInput:function(){this.inputNode=b.create("input",{type:"search"},this.formNode);this.connect(this.inputNode,"onfocus","_onfocus");this.connect(this.inputNode,"onclick","_onfocus");this.connect(this.inputNode,"onblur","_onblur");return this.inputNode},_onSearch:function(l){var h=this.inputNode.value;if(h&&h!=""){var k=this.searchUrl.replace("!{keyword}",h).replace("!{modelName}",this.modelName);k=a.formatUrl(k,"_self");location=k}},_onfocus:function(h){var k=h.target;g.set(k,"placeholder",this.label)},_onblur:function(h){var k=h.target;g.set(k,"placeholder","")}})})},"sys/mobile/js/mui/category/SwapCategoryList":function(){define(["dojo/_base/declare","dojo/dom-construct","dojox/mobile/View","dojo/parser","dojo/_base/lang","mui/util","dojo/request","dojo/Deferred"],function(e,b,h,k,g,a,f,d){return e("mui.simplecategory.SwapCategoryList",[h],{mixins:["mui/category/ACategoryListMixin","mui/category/BCategoryListMixin"],index:0,tmpl:"<div data-dojo-type=\"dojox/mobile/ScrollableView\" data-dojo-mixins=\"mui/category/AppBarsMixin\"data-dojo-props=\"scrollBar:false,threshold:100,key:'{key}'\"><ul data-dojo-type=\"mui/simplecategory/SimpleCategoryList\" data-dojo-mixins=\"mui/simplecategory/SimpleCategoryItemListMixin,!{mixin}\" data-dojo-props=\"___urlParam:'{___urlParam}',lazy:false,isMul:{isMul},key:'{key}',parentId:'!{fdId}',selType:{selType},modelName:'{modelName}',authType:'{authType}',curIds:'{curIds}',confirm:{confirm},index:{index}\" ></ul></div>",buildRendering:function(){this.inherited(arguments);this.containerNode=b.create("div",{className:"muiSimpleCateContainer"},this.domNode);this.subscribe("/mui/category/changed","_cateChange")},authed:false,_cateChange:function(m,l){if(m.key==this.key){this.authRequest(l)}},authUrl:"/sys/category/mobile/sysSimpleCategory.do?method=authData",authRequest:function(l){var m=new d();if(this.authed){m.resolve()}else{this.authed=true;f.post(a.formatUrl(this.authUrl),{handleAs:"json",data:{modelName:this.modelName,authType:this.authType}}).then(g.hitch(this,function(n){this.authCateIds=n.authIds;m.resolve()}))}m.promise.then(g.hitch(this,function(){this.generateList(l)}))},generateList:function(m){if(this.index>=this.mixins.length){return}m.mixin=this.mixins[this.index];var n=this.tmpl;n=a.urlResolver(n,m);n=g.replace(n,this);this.index++;var l=b.create("div",{innerHTML:n,className:"muiSimpleCateContent"},this.containerNode);k.parse(l).then(function(o){o[0].resize()})}})})},"sys/mobile/js/mui/form/checkbox/render/CheckBoxTable":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","mui/util"],function(e,b,g,f,d,a){return e("mui.form.checkbox.render.CheckBoxTable",[g],{renderType:"table",checkboxNode:null,postCreate:function(){this.inherited(arguments);this.subscribe("mui/form/checkbox/renderCheckedStatus","_renderCheckedStatus")},_buildRender:function(h){if(this.renderType==h.renderType){this.checkboxNode=b.create(h.tag,{className:"muiCheckBoxContainer muiCheckBoxTableItem"+(h.unCheckedIcon?" "+h.unCheckedIcon:"")},h.domNode,"after");this.checkboxText=b.create("span",{className:"muiCheckBoxTableText",innerHTML:h.text&&h.text.indexOf("&#039;")>0?h.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.formatText(h.text)},this.checkboxNode,"last");this.checkboxIcon=b.create("i",{className:"fontmuis muis-form-selected-cor muiCheckBoxTableChecked"},this.checkboxNode)}return this.checkboxNode},_renderCheckedStatus:function(k,h){if(this.checkboxNode==h.domNode){if(h.checked){f.replace(this.checkboxNode,h.checkedIcon,h.unCheckedIcon);f.replace(this.checkboxIcon,h.checkedIcon,h.unCheckedIcon)}else{f.replace(this.checkboxNode,h.unCheckedIcon,h.checkedIcon);f.replace(this.checkboxIcon,h.unCheckedIcon,h.checkedIcon)}}}})})},"sys/mobile/js/mui/datetime/DatePicker7":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/date/locale","dojo/date/stamp","mui/datetime/SpinWheelDatePicker7","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-attr"],function(e,m,o,l,b,p,n,a,d,m){var h=d["mui.datetime.week.shortName"].split(",");var q={minItems:12,format:function(s){return p.format(s,{datePattern:this.pattern,selector:"date"})},setColor:function(A,z,v){var u=this.flag=="date";var x=this.panelNodes.length;for(var w=0;w<x;w++){var s=this.panelNodes[w];var y=s.querySelectorAll(".mblSpinWheelSlotLabelBlue:not([data-mobile-val='"+A+"'])");l.forEach(y,function(C){var B=m.get(C,"data-mobile-val");if(C.innerHTML!=B){o.toggle(C,v||"mblSpinWheelSlotLabelBlue",false);C.innerHTML=B}});var t=s.querySelectorAll("[data-mobile-val='"+A+"']");l.forEach(t,function(E){var B="";var C=p.parse(A,{datePattern:this.pattern,selector:"date"});var D=p.format(C,{datePattern:this.disPattern,selector:"date"});D=D+'<span style="display: none;" class="mblSpainWheelSlotLabelText">'+this.disText+"</span>";if(E.innerHTML!=D){o.toggle(E,v||"mblSpinWheelSlotLabelBlue",true);E.innerHTML=D}},this)}}};var g=b.mixin({flag:"year",initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var u=new Date(this.labelFrom,0,1);var t,s;for(t=this.labelFrom,s=0;t<=this.labelTo;t++,s++){this["currYearFrom"]=t;u.setFullYear(t);this.labels.push(this.format(u))}}}},q);var f=b.mixin({flag:"month",initLabels:function(){this.labels=[];var t=new Date(2000,0,16);for(var s=0;s<12;s++){this["currMonthFrom"]=s;t.setMonth(s);this.labels.push(this.format(t))}}},q);var r=b.mixin({flag:"date",initLabels:function(){this.labels=[];var t=new Date(2000,0,1);for(var s=1;s<=31;s++){this["currDateFrom"]=s;t.setDate(s);this.labels.push(this.format(t))}}},q);var k=e("mui.datetime.DatePicker7",[a],{yearPattern:"yyyy",monthPattern:"MM",dayPattern:"dd",disYearPattern:"yyyy",disMonthPattern:"MM",disDayPattern:"dd",disYearText:d["mui.datetime.year"],disMonthText:d["mui.datetime.month"],disDayText:d["mui.datetime.day"],slotProps:[{labelFrom:1899,labelTo:2099},{},{}],initSlots:function(){var t=this.slotClasses,s=this.slotProps;t[0]=e(t[0],g);t[1]=e(t[1],f);t[2]=e(t[2],r);s[0].pattern=this.yearPattern;s[1].pattern=this.monthPattern;s[2].pattern=this.dayPattern;s[0].disPattern=this.disYearPattern;s[1].disPattern=this.disMonthPattern;s[2].disPattern=this.disDayPattern;s[0].disText=this.disYearText;s[1].disText=this.disMonthText;s[2].disText=this.disDayText;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var s=p._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=l.map(s,function(t){return{y:0,m:1,d:2}[t.charAt(0)]});if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){this.slotOrder=[2,1,0]}},reset:function(){this.inherited(arguments);this._resetColors()},onYearSet:function(){this._resetColors()},onMonthSet:function(){this._resetColors()},onDaySet:function(){this._resetColors()},_setColorsAttr:function(s){var t=this.get("date");l.forEach(this.getSlots(),function(u,v){u.setColor&&u.setColor(s[v],t)})},_resetColors:function(){var s=this.get("values");this.set("colors",s)},_setValueAttr:function(v){var t=v;if(dojoConfig.locale=="en-us"&&v){var u=v.split("/");t=u[2]+"-"+u[0]+"-"+u[1]}if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)&&v){var u=v.split("/");t=u[2]+"-"+u[1]+"-"+u[0]}var s=new Date();if(t){s=n.fromISOString(t)}this.set("values",l.map(this.slots,function(x){return x.format(s)}))},_getValueAttr:function(){var u=this.get("date");if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){return p.format(u,{datePattern:"MM/yyyy",selector:"date"})}if(dojoConfig.locale=="en-us"){return p.format(u,{datePattern:"MM/dd/yyyy",selector:"date"})}var t=n.toISOString(u,{selector:"date"});var s=p.format(u,{datePattern:"yyyy-MM",selector:"date"});return s}});return k})},"sys/mobile/js/mui/form/_CompositeContainedMixin":function(){define(["dojo/_base/declare","mui/form/Composite","dojo/dom-class","dijit/_Contained","dojo/dom-construct"],function(d,g,f,e,a){var b=d("mui.form._CompositeContainedMixin",[e],{isComposite:false,buildRendering:function(){this.inherited(arguments);if(this.isInComposite()){this.doRenderInComposite()}},postCreate:function(){this.inherited(arguments);if(this.isComposite){this.doCreateInComposite()}},isInComposite:function(){var h=this.getParent();if(h&&h.isInstanceOf(g)){this.isComposite=true}return this.isComposite},doRenderInComposite:function(){var h=a.create("div",{className:"muiFormCompositeContained muiFormItem"},this.domNode.parentNode);a.place(this.domNode,h)},doCreateInComposite:function(){},_initText:function(){this.inherited(arguments);if(this.isComposite){if(this.requiredNode){f.remove(this.requiredNode,"muiFormRequiredShow")}}}});return b})},"sys/mobile/js/mui/rtf/_ImageResizeMixin":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/dom-attr","dojo/query","dojo/_base/array","mui/device/adapter","dojo/on","dojo/_base/lang"],function(e,d,k,f,h,b,a,g){return e("mui.rtf._ImageResizeMixin",null,{formatContent:function(l){this.inherited(arguments);var m=[];if(typeof(l)=="object"){m=f("img",l)}else{m=f(l+" img")}this.initSrcList();h.forEach(m,g.hitch(this,function(o){var n=o.parentNode;if(n.nodeName=="A"&&n.href!=""){return}var p=o.src;if(k.get(o,"data-type")!="face"&&p.indexOf("/images/smiley/wangwang/")<0){this.addSrcList(o.src);this.resizeDom(o)}}))},resizeDom:function(n){k.remove(n,"style");var m={height:"auto",textIndent:"0px","max-width":"100%"};d.set(n,m);var l=this;var o=n.src;if(o.indexOf("picthumb")>0){o=o.replace("&picthumb=big","")}a(n,"click",function(p){b.imagePreview({curSrc:o,srcList:l.getSrcList(),previewImgBgColor:l.previewImgBgColor})})},initSrcList:function(){this.srcList=[]},addSrcList:function(l){if(l.indexOf("picthumb")>0){l=l.replace("&picthumb=big","")}this.srcList.push(l)},getSrcList:function(){return this.srcList}})})},"sys/mobile/js/mui/datetime/TimePicker":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/_base/array","dojo/date/locale","dojo/date/stamp","dojox/mobile/SpinWheelTimePicker","dojox/mobile/SpinWheelSlot","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/_base/config"],function(h,n,q,b,l,r,p,o,a,f,e){var g={format:function(s){return r.format(s,{timePattern:this.pattern,selector:"time"})},setColor:function(t,s){l.forEach(this.panelNodes,function(u){l.forEach(u.childNodes,function(z,y){var x=n.get(z,"data-mobile-val");q.toggle(z,s||"mblSpinWheelSlotLabelBlue",x===t);if(x==t){var v=r.parse(t,{timePattern:this.pattern,selector:"time"});var w=r.format(v,{timePattern:this.disPattern,selector:"time"});w=w+"<span class='mblSpainWheelSlotLabelText'>"+this.disText+"</span>";z.innerHTML=w}else{z.innerHTML=x}},this)},this)}};var d=b.mixin({initLabels:function(){if(this.labelFrom!==this.labelTo){this.labels=[];var t=new Date(2000,0,1,this.labelFrom,0);for(var s=this.labelFrom;s<=this.labelTo;s++){t.setHours(s);this.labels.push(this.format(t))}}}},g);var m=b.mixin({initLabels:function(){if(this.labelFrom!==this.labelTo){this.labels=[];var t=new Date(2000,0,1,0,this.labelFrom);for(var s=this.labelFrom;s<=this.labelTo;s+=(this.step||1)){t.setMinutes(s);this.labels.push(this.format(t))}}}},g);var k=h("mui.datetime.TimePicker",[o],{pattern:"HH:mm",houePattern:"HH",minutePattern:"mm",disHouePattern:"HH",disHinutePattern:"mm",disHourText:f["mui.datetime.hour"],disMinuteText:f["mui.datetime.minute"],slotClasses:[a,a],slotProps:[{labelFrom:0,labelTo:23,style:{width:"50%"}},{labelFrom:0,labelTo:59,zeroPad:2,style:{width:"50%"}}],buildRendering:function(){this.initSlots();this.inherited(arguments);this._conn=[this.connect(this.slots[0],"onFlickAnimationEnd","_onHourSet"),this.connect(this.slots[1],"onFlickAnimationEnd","_onMinuteSet")]},initSlots:function(){var t=this.slotClasses,s=this.slotProps;t[0]=h(t[0],d);t[1]=h(t[1],m);s[0].pattern=this.houePattern;s[1].pattern=this.minutePattern;s[0].disPattern=this.disHouePattern;s[1].disPattern=this.disHinutePattern;s[0].disText=this.disHourText;s[1].disText=this.disMinuteText;this.minuteStep=(this.minuteStep?(parseInt(this.minuteStep)||1):(e.calendar?(e.calendar.minuteStep||1):1));s[1].step=this.minuteStep},reset:function(){this.inherited(arguments);this._resetColors()},onHourSet:function(){this._resetColors()},onMinuteSet:function(){this._resetColors()},_onHourSet:function(){var t=this.slots[0];var s=t.get("value");if(!(t._previousValue&&s==t._previousValue)){t._previousValue=s;t._set("value",s);this.onHourSet()}},_onMinuteSet:function(){var t=this.slots[1];var s=t.get("value");if(!(t._previousValue&&s==t._previousValue)){t._previousValue=s;t._set("value",s);this.onMinuteSet()}},_resetColors:function(){var s=this.get("values");this.set("colors",s)},_setValueAttr:function(x){if(!x){var v=new Date();x=r.format(v,{timePattern:this.pattern,selector:"time"})}var u=x.trim().split(":");if(u.length!=2){var w=[];var t=this;l.forEach(u,function(z,y){w.push(t.slots[y].get("value"))});this.values=w}else{this.values=u}var s=parseInt(this.values[1]);if(s%this.minuteStep==0){}else{s=(parseInt(s/this.minuteStep)+1)*this.minuteStep}s=s>=60?0:s;s=s>10?(""+s):("0"+s);this.values[1]=s},_getValueAttr:function(){var s=[];l.forEach(this.slots,function(t){s.push(t.get("value"))});if(s.length>1){return s[0]+":"+s[1]}return""}});return k})},"sys/mobile/js/mui/form/validate/OldReminder":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/dom-geometry","dojo/query"],function(e,h,a,d,k,g,f){var b=e("mui.form.validate.OldReminder",null,{element:null,error:null,context:{},serialAttrName:"__validate_serial",_prifix:"reminder_",constructor:function(n,l,m){this.inherited(arguments);this.element=n;this.error=l;this.context=m;this.reminderId=this._prifix+k.get(this.element,this.serialAttrName)},show:function(l){var m=f("#"+this.reminderId);if(m.length>0){this.renderDom=m[0];this._reDrawErrorMsg()}else{this._buildRenderDom(this.reminderId)}d.set(this.renderDom,{display:"block"});if(l&&typeof(l)==="function"){l(this)}},hide:function(){var l=f("#"+this.reminderId);if(l.length>0){this.renderDom=l[0];d.set(this.renderDom,{display:"none"})}},_reDrawErrorMsg:function(){var l=f("#"+this.reminderId+" .muiValidateMsg");if(l.length>0){a.empty(l[0]);l[0].innerHTML=this._resolverError()}},_buildRenderDom:function(m){this.renderDom=a.create("div",{className:"muiValidate",id:m},this.element,"after");this.contentDom=a.create("div",{className:"muiValidateContent"},this.renderDom);a.create("div",{className:"muiValidateShape"},this.contentDom);var l=a.create("div",{className:"muiValidateInfo"},this.contentDom);a.create("span",{className:"muiValidateMsg",innerHTML:this._resolverError()},l)},_resolverError:function(){return this.error.replace(/\{([\w\.]*)\}/gi,h.hitch(this,function(l,m){var n=null;if(this.context){n=this.context[m]}return(n===null||n===undefined)?"":("<span class='muiValidateTitle'>"+n+"</span>")}))}});return b})},"sys/mobile/js/mui/header/Header":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/dom-class","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/_base/array","dojo/_base/lang"],function(e,g,k,d,l,b,h,a){var f=e("mui.header.Header",[d,b,l],{width:"100%",height:"",baseClass:"muiHeader",buildRendering:function(){this.inherited(arguments);if(this.width!="100%"){g.set(this.domNode,{width:this.width})}if(this.height!=""){g.set(this.domNode,{height:this.height})}},startup:function(){this.inherited(arguments);this.changeChildDisplay()},changeChildDisplay:function(){h.forEach(this.getChildren(),a.hitch(this,function(m){if(m&&m.domNode){k.add(m.domNode,"muiHeaderItem")}}))}});return f})},"sys/mobile/js/mui/openProxyMixin":function(){define(["dojo/_base/declare","mui/device/adapter","mui/util","dojo/_base/lang","dojo/dom-class","dojo/touch"],function(d,b,a,f,e,g){return d("mui.openProxyMixin",null,{_selClass:"mblListItemSelected",buildRendering:function(){this.inherited(arguments);e.add(this.domNode,"muiPortalClickItem")},proxyClick:function(k,h,m,l){k.dojoClick=true;this.connect(k,"click",f.hitch(this,function(){this.set("selected",true);var n=h;if(!l){n=a.formatUrl(h,true)}b.open(n,m);this.defer(function(){this.set("selected",false)},100)}))},_setSelectedAttr:function(h){this.inherited(arguments);e.toggle(this.domNode,this._selClass,h)}})})},"sys/mobile/js/mui/form/SysCategory":function(){define(["dojo/_base/declare","mui/form/Category","mui/syscategory/SysCategoryMixin"],function(d,e,b){var a=d("mui.form.SysCategory",[e,b],{});return a})},"sys/mobile/js/mui/datetime/DatePicker_year":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/date/locale","dojo/date/stamp","mui/datetime/SpinWheelDatePicker_year","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-attr"],function(d,l,n,k,a,p,m,o,b,l){var g=b["mui.datetime.week.shortName"].split(",");var q={minItems:12,format:function(s){return p.format(s,{datePattern:this.pattern,selector:"date"})},setColor:function(A,z,v){var u=this.flag=="date";var x=this.panelNodes.length;for(var w=0;w<x;w++){var s=this.panelNodes[w];var y=s.querySelectorAll(".mblSpinWheelSlotLabelBlue:not([data-mobile-val='"+A+"'])");k.forEach(y,function(C){var B=l.get(C,"data-mobile-val");if(C.innerHTML!=B){n.toggle(C,v||"mblSpinWheelSlotLabelBlue",false);C.innerHTML=B}});var t=s.querySelectorAll("[data-mobile-val='"+A+"']");k.forEach(t,function(E){var B="";var C=p.parse(A,{datePattern:this.pattern,selector:"date"});var D=p.format(C,{datePattern:this.disPattern,selector:"date"});D=D+'<span style="display: none;" class="mblSpainWheelSlotLabelText">'+this.disText+"</span>";if(E.innerHTML!=D){n.toggle(E,v||"mblSpinWheelSlotLabelBlue",true);E.innerHTML=D}},this)}}};var f=a.mixin({flag:"year",initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var u=new Date(this.labelFrom,0,1);var t,s;for(t=this.labelFrom,s=0;t<=this.labelTo;t++,s++){this["currYearFrom"]=t;u.setFullYear(t);this.labels.push(this.format(u))}}}},q);var e=a.mixin({flag:"month",initLabels:function(){this.labels=[];var t=new Date(2000,0,16);for(var s=0;s<12;s++){this["currMonthFrom"]=s;t.setMonth(s);this.labels.push(this.format(t))}}},q);var r=a.mixin({flag:"date",initLabels:function(){this.labels=[];var t=new Date(2000,0,1);for(var s=1;s<=31;s++){this["currDateFrom"]=s;t.setDate(s);this.labels.push(this.format(t))}}},q);var h=d("mui.datetime.DatePicker_year",[o],{yearPattern:"yyyy",monthPattern:"MM",dayPattern:"dd",disYearPattern:"yyyy",disMonthPattern:"MM",disDayPattern:"dd",disYearText:b["mui.datetime.year"],disMonthText:b["mui.datetime.month"],disDayText:b["mui.datetime.day"],slotProps:[{labelFrom:1899,labelTo:2099},{},{}],initSlots:function(){var t=this.slotClasses,s=this.slotProps;t[0]=d(t[0],f);t[1]=d(t[1],e);t[2]=d(t[2],r);s[0].pattern=this.yearPattern;s[1].pattern=this.monthPattern;s[2].pattern=this.dayPattern;s[0].disPattern=this.disYearPattern;s[1].disPattern=this.disMonthPattern;s[2].disPattern=this.disDayPattern;s[0].disText=this.disYearText;s[1].disText=this.disMonthText;s[2].disText=this.disDayText;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var s=p._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=k.map(s,function(t){return{y:0,m:1,d:2}[t.charAt(0)]});if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){this.slotOrder=[2,1,0]}},reset:function(){this.inherited(arguments);this._resetColors()},onYearSet:function(){this._resetColors()},onMonthSet:function(){this._resetColors()},onDaySet:function(){this._resetColors()},_setColorsAttr:function(s){var t=this.get("date");k.forEach(this.getSlots(),function(u,v){u.setColor&&u.setColor(s[v],t)})},_resetColors:function(){var s=this.get("values");this.set("colors",s)},_setValueAttr:function(v){var t=v;if(dojoConfig.locale=="en-us"&&v){var u=v.split("/");t=u[0]+"-01-01"}if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)&&v){var u=v.split("/");t=u[2]+"-"+u[1]+"-"+u[0]}var s=new Date();if(t){s=m.fromISOString(t)}this.set("values",k.map(this.slots,function(x){return x.format(s)}))},_getValueAttr:function(){var u=this.get("date");if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){return p.format(u,{datePattern:"MM/yyyy",selector:"date"})}if(dojoConfig.locale=="en-us"){return p.format(u,{datePattern:"yyyy",selector:"date"})}var t=m.toISOString(u,{selector:"date"});var s=p.format(u,{datePattern:"yyyy",selector:"date"});return s}});return h})},"sys/mobile/js/mui/search/_SearchPromptList":function(){define(["dojo/_base/declare","dojo/parser","dojo/dom-construct","mui/util","dojo/dom-style","dojo/_base/query","dojo/topic"],function(f,h,b,a,e,g,d){return f("mui.search._SearchPromptList",null,{postCreate:function(){this.inherited(arguments);this.subscribe("/mui/list/loaded","_onLoaded")},_onLoaded:function(k){if(k==this.jsonList){var l=k.totalSize;g(".muiSearchTitle")[0].innerHTML="搜索到约"+l+"项结果"}},_onCancel:function(){this.inherited(arguments);this.hideList()},hideList:function(){if(this.listNode){e.set(this.listNode,{display:"none"})}},showList:function(){if(this.listNode){e.set(this.listNode,{display:"block"})}},_onClear:function(){this.inherited(arguments);this.hideList()},_onSubmit:function(p){this.inherited(arguments);var m=p.keyword;var q=p.searchFields||"";var o=p.docStatus||"";var k=this.modelName;var l=this;if(this.listNode){this.showList();var n=l.jsonList.url;l.jsonList.url=a.setUrlParameterMap(n,{queryString:m,modelName:k,searchFields:q,docStatus:o});d.publish("/mui/list/toTop",l.jsonList,{time:0});l.jsonList.reload()}else{m=encodeURIComponent(p.keyword);this.listNode=b.create("div",{className:"muiSearchPromptList",innerHTML:a.urlResolver(this.templateStr(),{modelName:this.modelName,keyword:m,searchFields:q,docStatus:o})},this.domNode);h.parse({rootNode:this.listNode,noStart:false}).then(function(r){l.jsonList=r[1]})}},templateStr:function(){return('<div data-dojo-type="mui/list/StoreScrollableView"> <div class="muiSearchTitle"></div><ul data-dojo-type="mui/list/JsonStoreList" data-dojo-mixins="sys/ftsearch/mobile/list/SysFtsearchItemListMixin" data-dojo-props="lazy:false,url:\'/sys/ftsearch/searchBuilder.do?method=search&queryString=!{keyword}&modelName=!{modelName}&newLUI=true&forward=mobileList&searchFields=!{searchFields}&docStatus=!{docStatus}\'"></ul></div>')}})})},"sys/authentication/identity/js/mobile/auth":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/util","dojo/dom-style","dojo/dom-attr","dojo/on","dojo/query","dojo/touch"],function(d,a,e,f,k,h,l,b){var g=d("nnnnn",null,{validate:function(o){var m=this;var n=o;var p="";if(n.validateType&&n.validateType!=""){p=n.validateType}else{n.callback(true,n.params);return}if(l("#validate_window").length>0){a.destroy(l("#validate_window")[0])}m.initValidateWindow();h(l(".btn-confirm")[0],b.press,function(){var u={};u.config=n;var s=l("#currentValidateType")[0].value;if(!s||s==""){n.callback(false,n.params);f.set(l("#validate_window")[0],"display","none");return}var t=$("#ifr_validate")[0].contentWindow;var v=true;v=t.isHasSetting();if(!v){n.callback(false,n.params);f.set(l("#validate_window")[0],"display","none");return}if(!t.dataValidate()){return}var r=t.buildSubmitData();u.submitData=r;var q=JSON.parse(l("#validateTypes")[0].value);u.validateTypes=q;$.ajax({url:Com_Parameter.ContextPath+"sys/authentication/indentity/sysIdentityValidate.do?method=validate&validateType="+s,type:"POST",data:{data:JSON.stringify(u)},dataType:"json",async:false,success:function(w){var y=l("#currentValidateType")[0].value;var z=w.errMsg;var B=w.validate_result;if(B==true){f.set(l("#validate_window")[0],"display","none");n.callback(B,n.params);return}var x=w.validateType;var A=w.validatePageMobile;if(z&&!x){f.set(l("#ifr_validate")[0],"display","none");l("#span_validateType_errorMsg")[0].innerText=z;f.set(l("#div_validateType_errorMsg")[0],"display","block");l("#validateTypes")[0].value="";l("#currentValidateType")[0].value=""}else{if(x==y){if(z){t.validateResult("校验失败")}}else{f.set(l("#div_validateType_errorMsg")[0],"display","none");f.set(l("#ifr_validate")[0],"display","block");var y=q[0];l("#currentValidateType")[0].value=x;k.set(l("#ifr_validate")[0],"src",e.formatUrl(A,true))}}}})});h(l(".btn-cancel")[0],b.press,function(){f.set(l("#validate_window")[0],"display","none");n.callback(false,n.params)});$.ajax({url:Com_Parameter.ContextPath+"sys/authentication/indentity/sysIdentityValidate.do?method=config&modelPath="+n.modelPath+"&validateType="+p,type:"GET",dataType:"json",async:true,success:function(q){var u=q.errMsg;var r=q.validateTypes;if(u){if(u=="don't need validate"){f.set(l("#validate_window")[0],"display","none");n.callback(true,n.params);return}f.set(l("#ifr_validate")[0],"display","none");l("#span_validateType_errorMsg")[0].innerText=u;f.set(l("#div_validateType_errorMsg")[0],"display","block");l("#validateTypes")[0].value="";l("#currentValidateType")[0].value=""}else{f.set(l("#div_validateType_errorMsg")[0],"display","none");f.set(l("#ifr_validate")[0],"display","block");var t=r[0];l("#validateTypes")[0].value=JSON.stringify(r);l("#currentValidateType")[0].value=t.key;var s=t.pageMobile;k.set(l("#ifr_validate")[0],"src",e.formatUrl(s,true))}}})},initValidateWindow:function(){var x=e.getScreenSize().w;var o=e.getScreenSize().h;var m=a.toDom('<div id="validate_window"></div>');f.set(m,"height",o+"px");f.set(m,"width",x+"px");a.place(m,document.body);var q=a.toDom('<input type="hidden" id="validateTypes"><input type="hidden" id="currentValidateType">');a.place(q,m);var w=a.toDom('<iframe id="ifr_validate" class="identity_mobile" scrolling:no;"></iframe>');var u=e.getScreenSize().w;var t=e.getScreenSize().h-70;f.set(w,"width",u+"px");f.set(w,"height",t+"px");a.place(w,m);var y=a.toDom('<div class="btnBar"></div>');f.set(y,"width",u+"px");a.place(y,m);var v=a.toDom('<div id="div_validateType_errorMsg"></div>');f.set(v,"width",u+"px");f.set(v,"height",t+"px");f.set(v,"line-height",t+"px");a.place(v,m);var n=a.toDom('<span id="span_validateType_errorMsg"></span>');a.place(n,v);var r=a.toDom('<div class="muiVerify-btns"></div>');var p=a.toDom('<span class="muiVerify-btn btn-confirm" >确定</span>');var s=a.toDom('<span class="muiVerify-btn btn-cancel">取消</span>');a.place(s,r);a.place(p,r);a.place(r,y)}});return new g()})},"sys/mobile/js/mui/form/_InputBase":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/form/_FormBase","dojo/dom-class","dojo/_base/lang","mui/util","dojo/_base/window","dojo/dom-style","mui/form/_PlaceholderMixin","dojo/dom-attr"],function(e,d,l,m,a,f,g,h,b,k){var n=e("mui.form._InputBase",[l,b],{placeholder:"",opt:true,buildRendering:function(){this.inherited(arguments);this._buildValue()},_buildValue:function(){var p="build"+f.capitalize(this.showStatus);this[p]?this[p]():"";var o=this.showStatus+"ValueSet";this.showStatusSet=this[o]?this[o]:new Function()},_setValueAttr:function(o){this.showStatusSet(o);this.inherited(arguments)},_onBlur:function(o){var p=o.target;o.preventDefault();o.stopPropagation();this.set("value",p.value);if(this.ClearIcon){h.set(this.ClearIcon,{display:"none"})}},_readOnlyAction:function(o){this.inherited(arguments);if(this.contentNode){if(o){k.set(this.contentNode,"readonly","readonly")}else{k.remove(this.contentNode,"readonly")}}}});return n})},"sys/attachment/mobile/js/_AttachmentViewOnlineMixin":function(){define(["dojo/_base/declare","sys/attachment/mobile/js/AttachmentOptSelect","mui/util","dojo/_base/lang","dojox/mobile/sniff","mui/i18n/_i18n!sys/mobile/js/mui/mui-view","mui/device/adapter","dijit/registry","mui/device/device","mui/dialog/Tip","dojo/request","dojo/Deferred"],function(declare,Select,util,lang,has,msg,adapter,registry,device,Tip,req,Deferred){return declare("sys.attachment.mobile.js._AttachmentViewOnlineMixin",null,{viewHref:"/sys/attachment/sys_att_main/sysAttMain.do?method=view&fdId=!{fdId}&viewer=mobilehtmlviewer",editHref:"/sys/attachment/sys_att_main/sysAttMain.do?method=edit&fdId=!{fdId}",viewPicHref:"/third/pda/attdownload.jsp?open=1",wpsWebOfficeEnable:false,wpsCloudOfficeEnable:false,wpsCenterWebOfficeEnable:false,wpsCloudOfficeEnableEdit:false,wpsCloudOfficeEnableMobileEdit:false,wpsPreviewIsLinux:false,wpsPreviewIsWindows:false,canDownload:false,canRead:false,canEdit:false,readOLConfig:"-1",getPool:function(){var pool=[];var fdFileType=this.getType();var devType=device.getClientType();if(this.canRead||this.canViewOnline()){pool.push({value:1,text:msg["mui.sysAttMain.openfile"],callback:function(){this.view()}})}else{if(this.canRead&&(this.wpsWebOfficeEnable||this.wpsCloudOfficeEnable||this.wpsCenterWebOfficeEnable)&&(fdFileType=="word"||fdFileType=="excel"||fdFileType=="ppt"||fdFileType=="wps"||fdFileType=="et"||fdFileType=="dps")){pool.push({value:1,text:msg["mui.sysAttMain.openfile"],callback:function(){this.view()}})}}if(this.canDownload){var isDisplaySaveButton=true;var isKK=(device.getClientType()>6&&device.getClientType()<11);var isIOS=has("ios");if(isIOS&&!isKK){isDisplaySaveButton=false}if(isDisplaySaveButton){pool.push({value:2,text:msg["mui.sysAttMain.savefile"],callback:function(){this._downLoad()}})}if(devType==11){$.ajaxSettings.async=false;$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=isShow",{key:"ding"},function(result){if("true"==result){pool.push({value:5,text:msg["mui.sysAttMain.download.to.ding"],callback:function(){this.downloadToDing()}})}});$.ajaxSettings.async=true}}var defer=new Deferred();var devType=device.getClientType();var fdFileType=this.getType();if(this.canEdit){var _self=this;if(this.canRead&&(this.wpsWebOfficeEnable||this.wpsCloudOfficeEnableEdit||this.wpsCenterWebOfficeEnable||(this.wpsCloudOfficeEnableMobileEdit&&devType==12)||(this.wpsCloudOfficeEnableMobileEdit&&devType==11))&&(fdFileType=="word"||fdFileType=="excel"||fdFileType=="ppt"||fdFileType=="wps"||fdFileType=="et"||fdFileType=="dps")){pool.push({value:3,text:msg["mui.sysAttMain.editfile"],callback:function(){_self.editWps()}});defer.resolve(pool)}else{if(devType==9||devType==10){adapter.mixinReady(function(){if(typeof eval(adapter.canUseJinGe)=="function"){var authDf=adapter.canUseJinGe();authDf.then(function(auth){if(auth.office&&(fdFileType=="word"||fdFileType=="excel"||fdFileType=="ppt")){pool.push({value:3,text:msg["mui.sysAttMain.editfile"],callback:function(){_self.editfile(fdFileType)}})}if(auth.pdf&&fdFileType=="pdf"){pool.push({value:4,text:msg["mui.sysAttMain.comment"],callback:function(){_self.editfile(fdFileType)}})}defer.resolve(pool)})}else{defer.resolve(pool)}})}else{defer.resolve(pool)}}}else{defer.resolve(pool)}return defer},editfile:function(fileType){if(this.canEdit){if(typeof eval(adapter.editfile)=="function"){adapter.editfile({fdAttMainId:this.fdId,name:this.name,href:this.href,key:this.key,fileType:fileType},function(rtn){},function(rtn){Tip.fail({text:rtn.text})})}else{Tip.fail({text:"功能暂不支持！"})}}},editWps:function(){var devType=device.getClientType();var url=util.formatUrl(this.editHref.replace("!{fdId}",this.fdId),true);try{if(typeof eval(adapter.openFileByWpsOaassist)=="function"&&devType==12&&this.wpsCloudOfficeEnableMobileEdit){adapter.openFileByWpsOaassist({fdAttMainId:this.fdId,fdMode:"EditMode"})}else{if(devType==11&&this.wpsCloudOfficeEnableMobileEdit){var downloadUri="";var fileId="";var fileName="";var uploadUri="";var wpsSerNum="";$.ajaxSettings.async=false;$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=getParamForDing",{fdAttMainId:this.fdId},function(data){if(data){var results=eval("("+data+")");downloadUri=results.downloadUri;fileId=results.fileId;fileName=results.fileName;uploadUri=results.uploadUri;wpsSerNum=results.wpsSerNum;console.log("downloadUri:"+downloadUri+",fileId:"+fileId+",fileName:"+fileName+",uploadUri:"+uploadUri+",wpsSerNum:"+wpsSerNum)}else{Tip.fail({text:"请求参数有错"})}});$.ajaxSettings.async=true;require(["dojo/topic","mui/device/adapter","dojo/request","dojo/ready","dijit/registry","mui/util","dojo/query","dojo/dom-construct"],function(topic,adapter,request,ready,registry,util,query,domConstruct){ready(function(){var options={downloadUri:downloadUri,fileId:fileId,fileName:fileName,uploadUri:uploadUri,wpsSerNum:wpsSerNum,config:{}};var flag=true;adapter.editOffice(options,function(status){if(flag){flag=false;console.log(JSON.stringify(status));var errorCode=status.errorCode;var resultCode=status.resultCode;if(errorCode=="7"||resultCode=="-1"){Tip.fail({text:"唤起WPS Office失败"})}}})})})}else{if(typeof eval(adapter.open)=="function"&&this.getType()!="text"){adapter.open(url,"_blank")}else{location.href=url}}}}catch(e){location.href=url}},view:function(){var url="";var fileType=this.getType();var devType=device.getClientType();if(fileType=="img"){var devType=device.getClientType();var attrNodeList=this.domNode.parentNode.children;var srcList=[];for(var i=0;i<attrNodeList.length;i++){var attrObj=registry.byNode(attrNodeList[i]);try{if(attrObj&&attrObj.getType()=="img"){if(has("ios")||attrObj.canRead){url=util.formatUrl(attrObj.viewPicHref+"&isPic=true&fdId="+attrObj.fdId,true);if(null!=attrObj.fdId){srcList.push(url)}else{srcList.push(attrObj.href)}}}}catch(e){}}var curSrc="";if(this.fdId){curSrc=util.formatUrl(this.viewPicHref+"&isPic=true&fdId="+this.fdId,true)}else{curSrc=this.href}var now=new Date().getTime();for(var i=0;i<srcList.length;i++){if(srcList[i].indexOf("blob")==-1){srcList[i]=srcList[i]+"&time="+now}}adapter.imagePreview({curSrc:curSrc+"&time="+now,srcList:srcList,previewImgBgColor:""});return}else{if(fileType=="video"){url=util.formatUrl("/sys/attachment/mobile/viewer/video/videoViewer.jsp?fdId="+this.fdId,true)}else{if(fileType=="audio"){url=util.formatUrl("/sys/attachment/mobile/viewer/audio/audioViewer.jsp?fdId="+this.fdId,true)}else{if(fileType=="text"){url=util.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=readDownload&fdId="+this.fdId,true)}else{if(fileType=="zip"||fileType=="rar"||fileType=="7z"){url=util.formatUrl("/sys/attachment/mobile/viewer/zip/zipViewer.jsp?fdId="+this.fdId,true)}else{if(fileType=="ofd"&&devType==10&&!this.wpsCenterWebOfficeEnable){if(typeof eval(adapter.openOfdFile)=="function"){adapter.openOfdFile({fdAttMainId:this.fdId,name:this.name,fileType:fileType},function(rtn){},function(rtn){Tip.fail({text:rtn.text})})}else{Tip.fail({text:"暂不支持打开ofd文件！"})}return}else{url=util.formatUrl(this.viewHref.replace("!{fdId}",this.fdId),true)}}}}}}var parentId=registry.byId(this.domNode.parentNode.id);if(parentId._templateId&&parentId._contentId){url+="&_templateId="+parentId._templateId;url+="&_contentId="+parentId._contentId}try{if(this.name){var name=this.name.substring(0,this.name.lastIndexOf("."));if(name!="null"){url=util.setUrlParameter(url,"title",name)}}if(typeof eval(adapter.openFileByWpsOaassist)=="function"&&devType==12&&this.wpsCloudOfficeEnable){adapter.openFileByWpsOaassist({fdAttMainId:this.fdId,fdMode:"read,upload,download"})}else{if(typeof eval(adapter.open)=="function"&&this.getType()!="text"){if(this.canViewOnline()){adapter.open(url,"_blank")}else{if(this.canDownload){this._downLoad()}else{location.href=url}}}else{location.href=url}}}catch(e){location.href=url}},onDialogSelect:function(obj,evt){if(obj!=this.select){return}var defer=this.getPool();var _self=this;defer.then(function(pool){for(var i=0;i<pool.length;i++){if(evt.value==pool[i].value){lang.hitch(_self,pool[i].callback)();_self.select.destroy();return}}})},onDialogCallback:function(obj,evt){if(obj==this.select){this.select.destroy()}},buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/form/valueChanged","onDialogSelect");this.subscribe("mui/form/select/callback","onDialogCallback")},canViewOnline:function(){var fdFileType=this.getType();var cvo_devType=device.getClientType();var isOfficeAndWps=fdFileType=="word"||fdFileType=="excel"||fdFileType=="ppt"||fdFileType=="wps"||fdFileType=="et"||fdFileType=="dps";var canReadOfdOrPdf=(this.getType()=="ofd"&&this.wpsPreviewIsLinux)||(this.getType()=="pdf"&&this.wpsPreviewIsLinux)||(this.getType()=="pdf"&&this.wpsPreviewIsWindows)||(this.getType()=="pdf"&&this.wpsCloudOfficeEnableEdit);if(canReadOfdOrPdf){isOfficeAndWps=true}var r=(this.hasViewer||(this.readOLConfig=="4")||this.getType()=="img"||(this.getType()=="ofd"&&this.wpsPreviewIsLinux)||(this.getType()=="pdf"&&this.wpsPreviewIsLinux)||(this.getType()=="pdf"&&this.wpsPreviewIsWindows)||(this.getType()=="pdf"&&this.wpsCloudOfficeEnableEdit)||(this.getType()=="ofd"&&this.wpsCenterWebOfficeEnable)||(this.getType()=="pdf"&&this.wpsCenterWebOfficeEnable)||(this.getType()=="text"&&this.wpsCenterWebOfficeEnable)||this.canRead&&(this.wpsWebOfficeEnable||this.wpsCloudOfficeEnableEdit||this.wpsCenterWebOfficeEnable||this.wpsCloudOfficeEnableMobileEdit||(cvo_devType=="10"&&this.wpsCloudOfficeEnableMobileEdit))&&(fdFileType=="word"||fdFileType=="excel"||fdFileType=="ppt"||fdFileType=="wps"||fdFileType=="et"||fdFileType=="dps")||(has("ios")&&this.getType()=="text"));return r},_onItemClick:function(){if(this.canViewOnline()){if(has("ios")){this.view();return true}var _self=this;var defer=this.getPool();defer.then(function(pool){if(pool.length==0){_self._downLoad();return true}if(_self.canRead){_self.view();return true}else{if(_self.canDownload){_self._downLoad();return true}}})}else{this._downLoad()}return true},_onMoreItemClick:function(){var defer=this.getPool();var _self=this;defer.then(function(pool){if(pool.length==0){_self._downLoad();return true}else{if(pool.length==1){lang.hitch(_self,pool[0].callback)();return true}else{_self.select=new Select({store:pool,mul:false,showClass:"muiDialogSelect attOperationDialog",subject:this.name});_self.select.startup();_self.select._onClick()}}})}})})},"sys/mobile/js/mui/form/editor/CkeditorInit":function(){define(["dojo/topic","dijit/registry"],function(b,a){return{init:function(d){b.subscribe("parser/done",function(){window.CKEDITOR_BASEPATH=dojoConfig.baseUrl+"sys/mobile/js/lib/ckeditor/";require(["lib/ckeditor/ckeditor"],function(){var e=document.querySelector("[name='"+d+"']");e.dojoClick=false;CKEDITOR.replace(e);CKEDITOR.on("instanceReady",function(f){for(instance in CKEDITOR.instances){CKEDITOR.instances[instance].on("blur",function(l){var k=l&&l.sender;if(k){k.updateElement();var g=k.element.$;var h=a.getEnclosingWidget(g);if(h&&h.validation){h.validation.validateElement(h)}}})}});Com_Parameter.event.confirm.push(function(){if(Com_Submit.ajaxSubmit){CKEDITOR.instances[d].updateElement()}return true})})})}}})},"sys/mobile/js/mui/datetime/_DateMixin7":function(){define(["dojo/_base/declare","mui/datetime/_EditDateTimeMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){return b("mui.datetime._DateMixin",[a],{type:"date",tmplStr:'<div data-dojo-type="mui/datetime/DatePicker7" id="_date_picker" data-dojo-props="value:\'!{dateValue}\'"></div>',title:d["mui.date.select"],_contentExtendClass:"muiDateDialogDisContent"})})},"sys/mobile/js/mui/datetime/_DateMixin_yearMonth":function(){define(["dojo/_base/declare","mui/datetime/_EditDateTimeMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){return b("mui.datetime._DateMixin",[a],{type:"date",tmplStr:'<div data-dojo-type="mui/datetime/DatePicker_yearMonth" id="_date_picker" data-dojo-props="value:\'!{dateValue}\'"></div>',title:d["mui.date.select"],_contentExtendClass:"muiDateDialogDisContent"})})},"sys/mobile/js/mui/header/NavHeader":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/html","dojox/mobile/View","dojox/mobile/TransitionEvent","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","mui/util","./NavHeaderHashMixin","dojo/topic"],function(g,b,n,q,p,m,l,a,o,f,d,r,k,e,h){return g("mui.header.NavHeader",[f,d,r,e],{baseClass:"muiNavHeader",baseItemClass:"muiHeaderItem",width:"100%",height:"4rem",templateChildNodes:null,buildRendering:function(){this.inherited(arguments);if(!this.templateChildNodes){this.templateChildNodes=[];var u=this.domNode.childNodes;for(var s=0;s<u.length;s++){var t=u[s];if(t.nodeType==1){this.templateChildNodes.push(t.cloneNode(true))}}this.domNode.innerHTML=""}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/nav/onComplete","handleNavOnComplete");this.subscribe("/mui/navitem/_selected","handleNavChanged")},handleNavOnComplete:function(u,s){var t=this.ensureloadIndex(u);this.renderHeader(s,t)},handleNavChanged:function(s,t){if(s.channelName&&s.channelName!=this.channelName){return}if(this.getChildren()[t.index]){new o(document.body,{moveTo:this.getChildren()[t.index].id}).dispatch()}if(!window.cateFilterSetSelc){window.cateFilterSetSelc={navId:"",openCount:0}}if(window.cateFilterSetSelc.navId!=this.getChildren()[t.index].id){window.cateFilterSetSelc={navId:this.getChildren()[t.index].id,openCount:0};window._curIds=""}},channelName:"",renderHeader:function(s,t){n.forEach(s,function(z,x){var u=new a({"class":"muiHeaderView"});this.addChild(u);var w={key:this.channelName+x,container:u.domNode,index:x};if(z.headerTemplate){var A=k.formatUrl(z.headerTemplate);require([A],b.hitch(this,function(C){this.renderHeaderWithTemplate(C,w)}))}else{if(z.headerTempStr){var v=z.headerTempStr.trim();this.renderHeaderWithTemplate(v,w)}else{if(this.templateChildNodes){var B=[];for(var y=0;y<this.templateChildNodes.length;y++){B.push(this.templateChildNodes[y].cloneNode(true))}this.renderHeaderWithTemplate(B,w)}}}},this);this.defer(function(){new o(document.body,{moveTo:this.getChildren()[t].id}).dispatch()},1)},renderHeaderWithTemplate:function(v,u){if(typeof(v)=="string"){v=v.trim()}if(!v||v.length==0){m.set(u.container,"display","none");return}if(this.height!=""){m.set(u.container,{height:this.height,"line-height":this.height})}h.publish("/mui/navView/resize",this,{key:u.index});var t=this;var s=new l._ContentSetter({node:u.container,parseContent:true,cleanContent:true,setContent:function(){this.inherited("setContent",arguments);n.forEach(this.node.childNodes,function(w){if(w.nodeType===1){p.set(w,"key",u.key);q.add(w,t.baseItemClass)}})}});node=s.set(v);s.parseDeferred.then(b.hitch(this,function(w){n.forEach(w,function(x){},this)}));s.tearDown()},ensureloadIndex:function(u){var t=0;if(u&&u.selectedItem){var s=u.getChildren();t=n.indexOf(s,u.selectedItem)}if(window.localStorage&&this.canStore){t=localStorage.getItem("swapIndex:"+location.pathname);if(t==null){t=0}else{t=parseInt(t)}}var v=this.inherited(arguments);if(v!==null){t=v}return t}})})},"sys/mobile/js/mui/form/validate/dom-value":function(){define(["dojo/dom","dijit/registry"],function(b,a){return{get:function(d){var e=d.tagName.toLowerCase();return this[e](d)},input:function(d){switch(d.type.toLowerCase()){case"submit":case"hidden":case"password":case"text":return this.textarea(d);case"checkbox":case"radio":return this.groupSelector(d)}return null},div:function(d){var e=a.byNode(d);if(e){return[e.get("name"),e.get("value")]}return null},groupSelector:function(g){if(!g.name){return this.inputSelector(g)}var e=[],h=g.type.toLowerCase;var d=document.getElementsByName(g.name);for(var f=d.length-1;f>=0;f--){if(d[f].type.toLowerCase==h&&d[f].checked){e.push(d[f].value)}}return[g.name,e.join(";")]},inputSelector:function(d){if(d.checked){return[d.name,d.value]}},textarea:function(d){return[d.name,d.value]},select:function(d){return this[d.type=="select-one"?"selectOne":"selectMany"](d)},selectOne:function(f){var g="",e,d=f.selectedIndex;if(d>=0){e=f.options[d];g=(e.value==null)?e.text:e.value}return[f.name,g]},selectMany:function(f){var g=[];for(var e=0;e<f.length;e++){var d=f.options[e];if(d.selected){g.push((d.value==null)?d.text:d.value)}}return[f.name,g]}}})},"sys/mobile/js/mui/form/radio/render/RadioTable":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","mui/util"],function(e,b,g,f,d,a){return e("mui.form.Radio.radio.RadioTable",[g],{renderType:"table",radioNode:null,postCreate:function(){this.inherited(arguments);this.subscribe("mui/form/radio/renderCheckedStatus","_renderCheckedStatus")},_buildRender:function(h){if(this.renderType==h.renderType){this.radioNode=b.create("div",{className:"muiRadioContainer muiRadioTableItem"+(h.unCheckedIcon?" "+h.unCheckedIcon:"")},h.domNode,"after");this.radioText=b.create("span",{className:"muiRadioTableText",innerHTML:h.text&&h.text.indexOf("&#039;")>0?h.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.formatText(h.text)},this.radioNode,"last");this.radioIcon=b.create("span",{className:"fontmuis muis-form-selected-cor muiRadioTableChecked"},this.radioNode)}return this.radioNode},_renderCheckedStatus:function(k,h){if(this.radioNode==h.domNode){if(h.checked){f.replace(this.radioNode,h.checkedIcon,h.unCheckedIcon);f.replace(this.radioIcon,h.checkedIcon,h.unCheckedIcon)}else{f.replace(this.radioNode,h.unCheckedIcon,h.checkedIcon);f.replace(this.radioIcon,h.unCheckedIcon,h.checkedIcon)}}}})})},"sys/mobile/js/mui/folder/_Folder":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-style","dojo/dom-class","dojo/touch"],function(b,e,a,d,f){return b("mui.folder._Folder",null,{buildRendering:function(){this.inherited(arguments);d.add(this.domNode,"muiFolder")},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,f.press,"_onExpand")},_onExpand:function(g){this.defer(function(){if(this.defaultClickAction){this.defaultClickAction(g)}this.show(g)},410)},show:function(g){}})})},"sys/mobile/js/mui/category/BCategoryListMixin":function(){define(["dojo/_base/declare","mui/util","dojo/dom-style","dojo/topic","mui/category/AppBarsMixin"],function(e,a,d,b,f){return e("mui.category.BSwapCategoryList",[f],{SWAP_EVENT:"mui/category/swap",_cateChange:function(h,g){this.bChange(h,g)},_reload:function(){this.buildLoading();this.reload();this.getParent().slideTo({y:0},0,"linear")},bChange:function(h,g){if(h.key!=this.key){return}if(this.parentId==g.fdId){return}this.parentId=g.fdId;if(!this.parentId){d.set(this.domNode,{display:"none"});return}d.set(this.domNode,{display:"block"});this.url=a.urlResolver(a.formatUrl(this.dataUrl),this);this._reload()}})})},"sys/mobile/js/mui/address/address_sgl":function(){define(["./address_common"],function(b){function a(f,e){var d=b.html({mul:false});e(d)}return{load:function(f,d,e){a(f,e)}}})},"sys/attachment/mobile/js/_AttachmentLinkItem":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojox/mobile/_ItemBase","dojo/dom-class","dojo/on"],function(f,h,e,d,b,g,a){return f("sys.attachment.mobile.js._AttachmentLinkItem",null,{_selClass:"mblListItemSelected",_selStartMethod:"touch",_setSelectedAttr:function(k){this.inherited(arguments)},handleSelection:function(k){this.set("selected",true)},makeTransition:function(k){this.defer(function(){this.set("selected",false)},100)},_onClick:function(k){this.defaultClickAction(k)}})})},"sys/mobile/js/mui/category/CommonCategoryItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/topic","dojox/mobile/_ItemBase","mui/util","mui/iconUtils"],function(d,b,h,g,e,k,f,a){var l=d("mui.category.CategoryItemMixin",[k],{fdId:"",label:"",icon:"",type:null,header:"false",tag:"li",key:null,_enterClass:"mblListItemSelected",buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||b.create(this.tag,{className:"muiCateItem fadeIn animated"});var m="muiCateInfoItem";if(this.header=="true"){m=" muiGroupItem"}this.contentNode=b.create("div",{className:m},this.domNode)}this.inherited(arguments);if(!this._templated){this._buildItemBase()}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/cancelSelected","_cancelSelected");this.subscribe("/mui/category/setSelected","_setSelected")},_buildItemBase:function(){this.cateContainer=b.create("div",{className:"muiCateContainer"},this.contentNode);if(this.header!="true"){this.iconNode=b.create("div",{className:"muiCateIcon"},this.cateContainer);this.buildIcon(this.iconNode);this.infoNode=b.create("div",{className:"muiCateInfo"},this.cateContainer);this.titleNode=b.create("div",{className:"muiCateName",innerHTML:f.formatText(this.label)},this.infoNode);this.connect(this.iconNode,"click","_selectCate");this.connect(this.infoNode,"click","_selectCate")}else{this.titleNode=b.create("div",{className:"muiCateName muiCateTitle",innerHTML:this.getTitle()},this.cateContainer)}this.moreArea=b.create("div",{className:"muiCateMore"},this.cateContainer)},startup:function(){if(this._started){return}this.inherited(arguments);var m=this.getParent();this.key=m.key;if(this.header!="true"){if(m.showMore&&this.showMore()){b.create("i",{className:"mui mui-forward"},this.moreArea);this.connect(this.moreArea,"click","_openCate")}else{b.destroy(this.moreArea)}if(m.selType!=null){this.selectArea=b.create("div",{className:"muiCateSelArea"},this.cateContainer,"first");if(this.showSelect()){this.selectNode=b.create("div",{className:"muiCateSel"},this.selectArea);var n=this.getParent();if(n.isMul){h.add(this.selectNode,"muiCateSelMul")}if(this.isSelected()){this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);h.add(this.selectNode,"muiCateSeled")}this.connect(this.selectArea,"click","_selectCate")}}}else{e.publish("/mui/category/addNav",this,{label:this.label})}},_openCate:function(m){e.publish("/mui/category/changed",this,{fdId:this.fdId,label:this.label});return},_cancelSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){if(this.checkedIcon){h.remove(this.selectNode,"muiCateSeled");b.destroy(this.checkedIcon);this.checkedIcon=null;e.publish("/mui/category/unselected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})}}}}},_setSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){h.add(this.selectNode,"muiCateSeled");this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);e.publish("/mui/category/selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})}}}},startTime:0,_selectCate:function(m){if(this.startTime!=0){var n=new Date().getMilliseconds();if(n-this.startTime<350){this.startTime=0;return}this.startTime=0}else{this.startTime=new Date().getMilliseconds();this.defer(function(){this.startTime=0},360)}if(m){if(m.stopPropagation){m.stopPropagation()}if(m.cancelBubble){m.cancelBubble=true}if(m.preventDefault){m.preventDefault()}if(m.returnValue){m.returnValue=false}}var o=m.target;if((this.selectArea&&!this.showMore())||(this.selectNode&&o==this.selectNode)||(this.iconNode&&(o==this.iconNode||o.parentNode==this.iconNode))){if(this.selectNode){if(this.checkedIcon!=null){this._cancelSelected(this,this)}else{this._setSelected(this,this)}return}}if(this.showMore()){this._openCate()}else{this.showItemDetail()}return},getTitle:function(){return this.label},showMore:function(){return true},showSelect:function(){return true},isSelected:function(){return true},showItemDetail:function(){},buildIcon:function(m){if(this.icon){a.setIcon(this.icon,null,this._headerIcon,null,m)}},_setLabelAttr:function(m){if(m){this._set("label",m)}}});return l})},"sys/mobile/js/mui/view/DocView":function(){define(["dojo/_base/declare","dojo/topic","dojo/Deferred","dojox/mobile/ScrollableView","mui/list/_ViewScrollEventPublisherMixin","mui/scrollable/IPhoneXScrollableMixin","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojox/mobile/_css3","dojo/query","dojo/_base/window","./AddBottomTipMixins","dojo/_base/lang"],function(d,e,m,n,b,f,h,l,o,q,k,g,p,a){return d("mui.view.DocScrollableView",[n,b,f,p],{scrollBar:false,optionConfig:[],startup:function(){this.inherited(arguments);this.connect(window,"orientationchange","_handleOrientation");this.addBottomTip(this.containerNode);var s=this.domNode;var r=0;if(s){document.body.addEventListener("focusout",function(){setTimeout(function(){if(r==0){return}s.style.height=r+"px"},100)});document.body.addEventListener("focusin",function(){if(s.style.display=="none"){return}if(r==0){r=s.clientHeight||s.offsetHeight}setTimeout(function(){s.style.height=r+"px"},100)})}},buildRendering:function(){this.inherited(arguments)},_handleOrientation:function(){try{var t=this;var u=120;var s=new m();function r(w,x){window.innerHeight!=x||w>=u?s.resolve():window.requestAnimationFrame(function(){r(w+1,x)})}r(0,window.innerHeight);s.then(function(){t.resize&&t.resize()})}catch(v){}},isFormElement:function(s){if(s&&s.nodeType!==1){s=s.parentNode}if(!s||s.nodeType!==1){return false}var r=s.tagName;return(r==="SELECT"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="I"||l.get(s,"contenteditable")=="true"||this.isSelectableElement(s))},isSelectableElement:function(t){var s=q.name("userSelect"),r=h.getComputedStyle(t).userSelect||h.getComputedStyle(t).webkitUserSelect;if(r==="text"){this.fixAppBar();return true}return false},fixAppBar:function(){function r(v,w,u){var x;return function(){if(x){window.clearTimeout(x);x=null}var z=(u&&u.context)||this,y=arguments;x=window.setTimeout(function(){v.apply(z,arguments)},w)}}var t=k('[fixed="bottom"]');for(var s=0;s<t.length;s++){o.add(t[s],"fixed")}g.global.addEventListener("scroll",r(function(){for(var u=0;u<t.length;u++){o.remove(t[u],"fixed")}},1000))},onAfterTransitionIn:function(){e.publish("mui/view/currentView",this)},holdTime:250,lastTime:null,isdbClick:function(r){var s=this.lastTime;this.lastTime=new Date().getTime();if(s&&this.lastTime-s<=this.holdTime){return true}return false}})})},"sys/attachment/mobile/js/_AttachmentItem":function(){define(["dojo/_base/declare","dojox/mobile/_ItemBase","dojo/dom-class","./_AttachmentTypeMixin"],function(b,a,d,e){return b("sys.attachment.mobile.js._AttachmentItem",[a,e],{baseClass:"muiAttachmentItem",fdId:null,filekey:null,size:0,name:"",type:"",icon:"",href:"",key:"",edit:false,justDiaplayName:false,buildRendering:function(){this.inherited(arguments);var f=this.getParent();if(f!=null){this.edit=f.editMode=="edit";this.key=f.fdKey}this.buildItem()},startup:function(){this.inherited(arguments)},formatFileSize:function(){var f="";var g;var k="";if(typeof(this.size)!="string"){k+=this.size}else{k=this.size}if(k!=null&&k!=""){var h=0;if((g=k.indexOf("E"))>0){h=parseFloat(k.substring(0,g))*Math.pow(10,parseInt(k.substring(g+1)))}else{h=parseInt(k)}if(h<1024){f=h+"B"}else{h=Math.round(h*100/1024)/100;if(h<1024){f=h+"KB"}else{h=Math.round(h*100/1024)/100;if(h<1024){f=h+"M"}else{h=Math.round(h*100/1024)/100;f=h+"G"}}}}return f},getAttTypeClass:function(){var f=this.getType();if(f!=""){return"mui-icon-"+f}return"mui-icon"},getAttContainerType:function(){var f=this.getType();if(f!=""){return"mui-files-"+f}return"mui-files"}})})},"sys/mobile/js/mui/dialog/Tip":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","mui/dialog/_DialogBase","dojo/html","dojo/window","dojo/touch","dojo/_base/event","dojo/on"],function(k,g,b,r,f,n,d,l,m,h,a,p){var o=k("mui.dialog.Tip",[d],{icon:null,text:null,time:2300,callback:null,cover:false,coverNode:null,width:null,height:null,buildRendering:function(){this.textNode=f.create("span",{innerHTML:this.text});if(this.icon){this.iconNode=f.create("div",{className:this.icon+" muiDialogBaseStyle"})}this.inherited(arguments)},_initCoverNode:function(){if(this.coverNode){return}this.coverNode=f.create("div",{className:"muiButtonAfter"},document.body,"last");p(this.coverNode,h.press,a.stop);p(this.coverNode,h.move,a.stop);p(this.coverNode,h.release,a.stop);p(this.coverNode,h.cancel,a.stop)},_create:function(){var s=this;this.containerNode=f.create("div",{className:"muiDialogTip"},document.body,"last");n.set(this.containerNode,{opacity:0});var t=m.getBox();require(["dojo/text!mui/dialog/tip.tmpl"],function(v){var u=new l._ContentSetter({parseContent:true,onBegin:function(){this.content=this.content.replace(/!{text}/g,s.textNode.outerHTML);if(s.iconNode){this.content=this.content.replace(/!{icon}/g,s.iconNode.outerHTML)}else{this.content=this.content.replace(/!{icon}/g,"")}this.inherited("onBegin",arguments)}});u.node=s.containerNode;u.set(v);n.set(s.containerNode,{"max-width":(t.w*0.75)+"px","max-height":t.h+"px"});if(s.width){n.set(s.containerNode,{width:s.width+"px"})}if(s.height){n.set(s.containerNode,{height:s.height+"px"})}u.parseDeferred.then(function(){});u.tearDown()})},show:function(){if(!this.containerNode){this._create()}n.set(this.domNode,{display:""});n.set(this.containerNode,{opacity:1,"z-index":99999});if(this.cover){this._initCoverNode();n.set(this.coverNode,"display","")}if(this.time>-1){setTimeout(b.hitch(this,this.hide),this.time)}return this.inherited(arguments)},hide:function(s){if(this.containerNode){n.set(this.containerNode,{opacity:0,"z-index":-1})}n.set(this.domNode,{display:"none"});if(this.cover){this._initCoverNode();n.set(this.coverNode,"display","none")}if(this.callback){this.callback.call()}this.inherited(arguments);if(s===false){return}setTimeout(b.hitch(this,this.destroy),1000)}});var q=k([o],{icon:"fontmuis muis-tips-loading mui-spin",time:-1,cover:true,text:"处理中...",hide:function(){this.inherited(arguments,[false])}});var e=new q();setTimeout(function(){e.hide()},500);return{tip:function(s){return new o(s).show()},success:function(s){return new o(b.mixin(s,{icon:"fontmuis muis-tips-success "})).show()},fail:function(s){return new o(b.mixin(s,{icon:"fontmuis muis-tips-failed "})).show()},warn:function(s){return new o(b.mixin(s,{icon:"fontmuis muis-tips-warning "})).show()},processing:function(s){if(s){e.text=s}return e},progressing:function(s){return new q(b.mixin(s,{})).show()},Tip:o}})},"sys/mobile/js/mui/datetime/_TimeMixin":function(){define(["dojo/_base/declare","dojo/dom-class","mui/datetime/_EditDateTimeMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,d,a,e){return b("mui.datetime._TimeMixin",a,{type:"time",tmplStr:'<div data-dojo-type="mui/datetime/TimePicker" id="_time_picker" data-dojo-props="value:\'!{timeValue}\', minuteStep:\'!{minuteStep}\'"></div>',title:e["mui.time.select"],_contentExtendClass:"muiTimeDialogDisContent",_buildValue:function(){this.inherited(arguments);d.add(this.inputContent,"muiTimeInputContnet")}})})},"sys/mobile/js/mui/table/ScrollableHContainer":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/dom-style"],function(e,f,d,a,b){return e("mui.table.ScrollableHContainer",[f,d,a],{baseClass:"muiScrollableHContainer",buildRendering:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},resizeH:function(g){if(g>0){b.set(this.domNode,{height:g+"px"})}}})})},"sys/mobile/js/mui/NativeView":function(){define(["dojo/_base/declare","dojox/mobile/View","dijit/registry","dojo/dom-class","dojo/dom-style"],function(d,f,a,e,b){return d("mui.view.NativeView",[f],{baseClass:"mblView mblScrollableView",scrollDir:"v",keepScrollPos:false,fixedTop:null,fixedBottom:null,buildRendering:function(){this.inherited(arguments);this.domNode.dojoClick=false},startup:function(){this._v=this.scrollDir.indexOf("v")!=-1;this._h=this.scrollDir.indexOf("h")!=-1;this.init();this.inherited(arguments)},init:function(){if(this._v){this.findAppBars();e.add(this.domNode,"muiViewV");return}if(this._h){e.add(this.domNode,"muiViewH")}},checkFixedBar:function(h){if(h.nodeType===1){var g=h.getAttribute("fixed")||(a.byNode(h)&&a.byNode(h).fixed);if(g==="top"){this.fixedTop=h;e.add(h,"muiViewTop");return}if(g==="bottom"){e.add(h,"muiViewBottom");this.fixedBottom=h;b.set(this.domNode,"padding-bottom",h.offsetHeight+"px")}}},resize:function(){this.inherited(arguments);if(this.fixedBottom){b.set(this.domNode,"padding-bottom",this.fixedBottom.offsetHeight+"px")}},scrollTo:function(g){this.domNode.scrollTop=-g.y},findAppBars:function(){var k,h;for(k=0,h=this.domNode.childNodes.length;k<h;k++){this.checkFixedBar(this.domNode.childNodes[k])}var g=this.domNode.parentNode;if(g){for(k=0,h=g.childNodes.length;k<h;k++){this.checkFixedBar(g.childNodes[k])}}},getPos:function(){return{y:document.documentElement.scrollTop||document.body.scrollTop}},onBeforeTransitionOut:function(){if(this._v){this.scrollTop=document.documentElement.scrollTop;this._setScrollTop(0)}},onAfterTransitionIn:function(){if(this._v){if(this.scrollTop&&this.scrollTop>0){this.defer(function(){this._setScrollTop(this.scrollTop)},200)}}},_setScrollTop:function(g){document.body.scrollTo&&document.body.scrollTo(0,g);document.documentElement.scrollTo&&document.documentElement.scrollTo(0,g)}})})},"sys/mobile/js/mui/form/Textarea":function(){define(["dojo/_base/declare","mui/form/_InputBase","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/touch","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/dialog/BarTip","dojo/dom-attr"],function(f,a,d,k,g,e,h,b,n,m){var l=f("mui.form.Textarea",[a],{isForm:false,edit:true,type:"textarea",name:null,baseClass:"muiFormEleWrap textarea",inputClass:"muiTextarea",_hasTip:false,_CorrectContent:"",_onInput:function(o){var p=o.target;this.textareaPre.innerText=p.value;g.publish("/mui/textarea/onInput",this,this.get("value"));this._removeEmoji(this.get("value"))},_removeEmoji:function(o){if(h.isExistFace(o)){if(!this._hasTip){n.tip({text:b["mui.emoji"]});this._hasTip=true}this.set("value",this._CorrectContent)}else{this._CorrectContent=o}},_onChange:function(p,o){if(p==this){this.resizeHeight(this.textareaNode)}},resizeHeight:function(p){var o=38;k.set(p,{height:"auto"});if(this.textareaPre){o=this.textareaPre.offsetHeight}if(o<=0&&(p.value!=""||(p.value===""&&this.placeholder!=""))){o=p.scrollHeight}if(o<=38){o=38}k.set(p,{height:o+"px"})},buildRendering:function(){this.inherited(arguments);this.align="left";if(this.placeholder){this.placeholder=h.decodeHTML(this.placeholder);this.placeholder=this.placeholder.replace(/&#39;/g,"'")}},buildEdit:function(){var o=(this.textareaNode=d.create("div",{className:"muiFormItem"},this.domNode));o.innerHTML="<textarea class='muiTextarea' name="+this.name+"></textarea>";var q=(this.textareaNode=o.querySelector("textarea"));var p=this.buildXFormStyle();if(p){m.set(this.textareaNode,"style",p)}this.contentNode=this.textareaNode;this.textareaPre=d.create("pre",{name:this.name+"_pre",className:this.inputClass+"Pre",style:"display:none;"},this.domNode);this.connect(this.textareaNode,"keyup","_onInput");this.connect(this.textareaNode,"blur","_onBlur");this.connect(this.textareaNode,"keydown",function(r){window.focus();q.focus()});this.connect(this.textareaNode,e.press,"_handleFocus");this.subscribe("/mui/form/valueChanged","_onChange")},_handleFocus:function(o){if(o.target==this.textareaNode){o.stopPropagation()}else{o.preventDefault();o.stopPropagation();this.textareaNode&&this.textareaNode.focus()}},startup:function(){this.inherited(arguments);if(h.capitalize(this.showStatus)=="Edit"){if(this.value){this.textareaPre.innerHTML=h.formatText(this.value);this.resizeHeight(this.textareaNode)}else{if(this.placeholder){this.resizeHeight(this.textareaNode)}}}this.connect(document.body,"click","_handleBlur")},_handleBlur:function(o){if(this.textareaNode&&document.activeElement==this.textareaNode){var p=o.srcElement||o.target;if(p!=this.textareaNode){this.textareaNode.blur()}}},buildReadOnly:function(){this.textareaNode=d.create("textarea",{name:this.name,className:this.inputClass,readonly:"readonly"},this.domNode)},_getValueAttr:function(){if(this.textareaNode){return this.textareaNode.value}else{return this._get("value")}},buildHidden:function(){this.textareaNode=d.create("textarea",{name:this.name,className:this.inputClass,style:"display:none"},this.domNode)},_setValueAttr:function(){this.inherited(arguments)},viewValueSet:function(p){var q=d.create("div",{className:"muiFormTextareaContent",style:{"word-break":"break-word"}});q.innerHTML=p;var o=this.buildXFormStyle();if(o){m.set(this.domNode,"style",o)}d.place(q,this.domNode,"last")},editValueSet:function(o){o=h.decodeHTML(o);o=h.formatText(o);o=this.formatHTML(o);this.textareaNode.value=o;if(o){if(this.textareaPre){this.textareaPre.innerHTML=h.formatText(o)}this.resizeHeight(this.textareaNode)}},readOnlyValueSet:function(o){this.editValueSet(o)},hiddenSet:function(o){this.editValueSet(o)},formatHTML:function(o){var p=d.create("div");o=o.replace(/<br\>/g,"\n");p.innerHTML=o;return p.innerText||p.innerContent||""}});return l})},"sys/mobile/js/mui/form/validate/Elements":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/dom-geometry","dojo/query","mui/form/validate/Reminder"],function(g,b,f,h,k,d,l,e){var a=g("mui.form.validate.Elements",null,{addElementValiate:function(o,n){var q=o.getAttribute("validate");if(q!=null&&$.trim(q)!=""){var p=q.split(" ");if(n){var m=$.inArray(n.toLowerCase(),p);if(m==-1){p.push(n);o.setAttribute("validate",p.join(" "))}}}else{if(n){o.setAttribute("validate",n)}}},removeElementValiate:function(q,p){var s=q.getAttribute("validate");if(s!=null&&$.trim(s)!=""){if(p==null){q.removeAttribute("validate")}else{var r=s.split(" ");var n=$.inArray(p.toLowerCase(),r);if(n>-1){r.splice(n,1);var m=r.join(" ");if($.trim(m)==""){q.removeAttribute("validate")}else{q.setAttribute("validate",m)}}}s=q.getAttribute("validate");if(s==null||$.trim(s)==""){var o=new e(q);o.hide()}}}});return a})},"sys/mobile/js/mui/category/PathItem":function(){define(["dojo/_base/declare","dojox/mobile/_ItemBase","dojo/dom-construct","dojo/topic"],function(e,b,a,d){var f=e("mui.category.PathItem",b,{tag:"li",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||a.create("li",{className:""});this.textNode=a.create("div",{className:""},this.domNode);this.inherited(arguments);if(this.label){this.labelNode=a.create("span",{className:""},this.textNode);this.labelNode.innerHTML=this.label}},startup:function(){if(this._started){return}this.connect(this.textNode,"onclick","_onClick");this.inherited(arguments)},_onClick:function(g){d.publish("/mui/category/changed",this,{value:this.fdId})}});return f})},"sys/mobile/js/mui/category/CategoryHeader":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-style","dojo/request","dojo/topic","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,d,b,l,e,h,k,a){var g=f("mui.category.CategoryHeader",[d],{key:null,_parentId:null,curId:null,curName:null,height:"inherit",title:a["mui.category.pselect"],baseClass:"muiCateHeader",detailUrl:null,buildRendering:function(){this.inherited(arguments);this.contentNode=b.create("div",{className:"muiCateHeaderContent"},this.domNode);if(this.scope=="22"||this.scope=="33"||this.scope=="44"){this.titleDom=b.create("div",{className:"muiCateHeaderTitle",innerHTML:this.title},this.contentNode)}else{this.returnDom=b.create("div",{className:"muiCateHeaderReturn"},this.contentNode);this.titleDom=b.create("div",{className:"muiCateHeaderTitle",innerHTML:this.curName},this.contentNode)}this.cancelNode=b.create("div",{className:"muiCateHeaderCancel",innerHTML:a["mui.category.button.cancel"]},this.contentNode)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/changed","_chgHeaderInfo");this.subscribe("/mui/search/submit","_hideHeader");this.subscribe("/mui/search/cancel","_showHeader");this.connect(this.returnDom,"click",function(){this.defer(function(){this._gotoParent()},350)});this.connect(this.cancelNode,"click",function(){this.defer(function(){this._goBack()},350)})},startup:function(){if(this._started){return}this.inherited(arguments);if(this.domNode.parentNode){var m;if(this.height==="inherit"){if(this.domNode.parentNode){m=this.domNode.parentNode.offsetHeight+"px"}}else{if(this.height){m=this.height}}l.set(this.domNode,{height:m,"line-height":m})}this._chgHeaderInfo(this,{fdId:this.curId});h.publish("/mui/category/changed",this,{fdId:this.curId})},_showHeader:function(m){if(m.key==this.key){l.set(this.domNode,{display:"block"})}},_hideHeader:function(m){if(m.key==this.key){l.set(this.domNode,{display:"none"})}},_refreshHeader:function(){this._buildReturn();if(this.scope=="22"||this.scope=="33"||this.scope=="44"){this.titleDom.innerHTML=this.title}else{this.titleDom.innerHTML=this.curName}},_buildReturn:function(){if(this.scope=="22"||this.scope=="33"||this.scope=="44"){}else{if(this.curId){if(!this.returnIcon){this.returnIcon=b.create("i",{className:"mui mui-back"},this.returnDom);this.returnText=b.create("span",{className:"muiCateHeaderReturnTxt",innerHTML:" "+a["mui.category.button.up"]},this.returnDom)}}else{b.empty(this.returnDom);this.returnIcon=null;this.returnText=null}}},_gotoParent:function(){var m={};if(this._parentId){m.fdId=this._parentId}h.publish("/mui/category/changed",this,m)},_goBack:function(){h.publish("/mui/category/cancel",this)},resolveCateData:function(m){return m},_chgHeaderInfo:function(o,n){if(o.key==this.key){if(n){if(n.fdId&&this.titleDom){this.curId=n.fdId;var p=k.urlResolver(this.detailUrl,this);p=k.formatUrl(p);var q=e.post(p,{handleAs:"json"});var m=this;q.then(function(r){if(r.length>0){var s=m.resolveCateData(r[0]);m.curId=s.fdId;m.curName=s.label;m._parentId=s.parentId;m._refreshHeader()}else{}},function(r){})}else{this.curId=null;this.curName=this.title;this._parentId=null;this._refreshHeader()}}}}});return g})},"sys/mobile/js/mui/form/ajax-form":function(){define(["dojo/_base/lang","dojo/query","dojo/on","dojo/dom-style","dojo/dom-form","dojo/dom-attr","dojo/dom-construct","dojo/request","mui/dialog/Tip","mui/dialog/Dialog","mui/device/adapter","mui/device/device","dojo/_base/window","mui/util","dojo/touch","dojo/_base/event","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(C,f,r,w,h,B,l,d,A,g,v,x,e,a,n,y,t){var u=function(){var F=a.getUrlParameter(location.href,"_referer");if(Com_Submit.refresh){Com_Submit.refresh=false;location.reload();return}if(F){F=decodeURIComponent(F);location.replace(F);return}var E=v.goBack();if(E==null){history.back()}var D=x.getClientType();if(D!=7&&D!=8&&D!=9&&D!=10){setTimeout(function(){v.closeWindow()},500)}};window._alert=window.alert;var k=function(D){require(["mui/dialog/Tip"],function(E){E.fail({text:D})})};var q=A.processing();var b=false;function s(){if(b){return false}b=true;window.alert=k;q.show();return true}function p(){b=false;window.alert=window._alert;q.hide(false)}function z(D){var H=[],F;var G=D.slice(D.indexOf("?")+1).split("&");console.log(G);for(var E=0;E<G.length;E++){F=G[E].split("=");H[F[0]]=F[1];console.log(F)}return H}function o(D){var F="当前文档已被【"+D.modifyPerson+"】"+D.modifyTime+"分钟之前提交，继续提交将覆盖之前的更新内容。</br>是否继续提交";var E="";if(methodd){E=methodd}else{console.info("参数错误");return}var G=g.element({title:"文档已被他人更新",showClass:"lockTip",element:"<div>"+F+"<div>",scrollable:false,parseable:false,buttons:[{title:"取消并刷新",fn:function(H){location.reload()}},{title:"继续提交",fn:function(J){var H=document.getElementsByName("componentLockerVersionForm.fdVersion")[0];var I=parseInt(H.value);var K=I+2;H.value=K;Com_SubmitForm(document.forms[0],methodd);return}}]})}var m=function(K,L){var I=false;var D=C.isString(K)?f(K)[0]:K;var J=L.success?L.success:function(){I=true;A.success({text:t["mui.return.success"],callback:L.back?u:null,cover:true})};var F=L.error?L.error:function(){var N=t["mui.return.failure"];if(arguments&&arguments.length>0&&arguments[0].length>0){if(arguments[0]&&arguments[0][0]&&arguments[0][0].response){var M=arguments[0][0].response.data.message;if(M&&M.length>0){N=M[0].msg}}else{N=arguments[0][0].message[0].msg}}A.fail({text:N,cover:true})};var H=F;F=function(){if(arguments[0].exceptionType&&arguments[0].exceptionType=="ComponentLockerVersionException"){o(arguments[0]);Com_Parameter.isSubmit=false}else{H(arguments);Com_Parameter.isSubmit=false}};var E=function(Q){if(I){A.fail({text:t["mui.return.submitted"],callback:function(){location.reload()}});p();return}var N=Q.action;methodd=z(N).method;var P=Q.method||"post";var O=new RegExp();O.compile("[^:]*://app.[^k]*.kk");if(O.test(N)){N=a.formatUrl(N.replace(/[^:]*:\/\/app.[^k]*.kk/,"",""),true)}if(window.Com_BeforeSubmitDeferred){var M=window.Com_BeforeSubmitDeferred();M.then(C.hitch(this,function(){var S=d.post(N,{data:h.toObject(Q),headers:{Accept:"application/json"},handleAs:"json"}).then(function(T){p();if(T.status===false){F(T);return}J(T)},function(T){p();F(T)})}),C.hitch(this,function(S){p();F(S)}))}else{if((P.toLowerCase())==="get"){var R=d.get(N,{data:h.toObject(Q),headers:{Accept:"application/json"},handleAs:"json"}).then(function(S){p();if(S.status===false){F(S);return}J(S)},function(S){p();F(S)})}else{var R=d.post(N,{data:h.toObject(Q),headers:{Accept:"application/json"},handleAs:"json"}).then(function(S){p();if(S.status===false){F(S);return}J(S)},function(S){p();F(S)})}}};var G=function(M){M.stopPropagation();M.preventDefault();s();E(D)};if(window.Com_Submit){Com_Submit.ajaxBeforeSubmit=s;Com_Submit.ajaxCancelSubmit=p;Com_Submit.ajaxSubmit=E}else{r(D,"submit",G)}};return{ajaxForm:m,load:function(F,D,E){D(["dojo/domReady!"],function(){m("[name='"+F+"']",{back:true});if(E){E()}})}}})},"sys/mobile/js/mui/search/SearchDbBar":function(){define(["dojo/_base/declare","mui/search/SearchBar","dojo/_base/lang","mui/util","dojo/topic"],function(d,f,e,a,b){return d("mui.search.SearchDbBar",[f],{redirectURL:"",params:"",searchType:"",_onSearch:function(g){this.searchNode.blur();this._eventStop(g);if(this.searchNode.value!=""||this.emptySearch){var k=e.clone(this);k.keyword=this.searchNode.value;if(typeof(this.searchType)!="undefined"&&this.searchType=="db"){if(typeof(this.params)=="string"){this.searchUrl=this.redirectURL+encodeURIComponent(this.params)}}var l=this.searchUrl+"!{keyword}";var h=a.formatUrl(a.urlResolver(l,k));b.publish("/mui/search/submit",this,{keyword:k.keyword,url:h})}return false}})})},"sys/mobile/js/mui/header/DocViewHeader":function(){define("mui/header/DocViewHeader",["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/dom-geometry","dojo/on","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,e,m,k,b,a,l,h,d){var g=f("mui.header.DocViewHeader",[e],{baseClass:"muiDocViewHeader",subject:"",userId:"",userName:"",imgUrl:"/sys/person/sys_person_zone/sysPersonZone.do?method=img&fdId=!{userId}",docStatus:"",docStatusText:"",docStatusEnum:{"00":{text:d["mui.mobile.process.status.discard"],iconClass:"processStatusDiscard"},"20":{text:d["mui.mobile.process.status.examine"],iconClass:"processStatusExamine"},"30":{text:d["mui.mobile.process.status.done"],iconClass:"processStatusDone"}},expandItems:false,itemDatas:[],buildRendering:function(){this.inherited(arguments);var o=b.create("div",{className:"muiDocViewHeaderBase"},this.domNode);if(this.subject){b.create("div",{className:"muiDocViewHeaderSubject",innerHTML:this.subject},o)}if(this.userId||this.userName){var w=b.create("div",{className:"muiDocViewHeaderPerson"},o);if(this.userId){var t=b.create("div",{className:"muiDocViewHeaderIcon"},w);b.create("img",{src:h.formatUrl(this.imgUrl.replace(/!{userId}/,this.userId))},t)}if(this.userName){b.create("div",{className:"muiDocViewHeaderUser",innerHTML:this.userName},w)}}if(this.docStatus&&this.docStatusEnum[this.docStatus]){var x=this.docStatusEnum[this.docStatus];var p=x.iconClass?x.iconClass:"";var n=b.create("div",{className:"muiDocViewHeaderStatus "+p});var C=b.create("i",{className:"fontmuis muis-watermark"},n);var F=b.create("span",{},n);F.innerText=this.docStatusText?this.docStatusText:x.text;b.place(n,o,"last")}if(this.itemDatas&&this.itemDatas.length>1){var s=b.create("div",{className:"muiDocViewHeaderDetailWarp"},this.domNode);var v=b.create("div",{className:"muiDocViewHeaderDetailContainer"},s);var r=b.create("div",{className:"muiDocViewHeaderDetail"},v);for(var E=0;E<this.itemDatas.length;E++){var H=this.itemDatas[E];var y=b.create("div",{className:"muiDocViewHeaderDetailItem"},r);var q=b.create("div",{className:"muiDocViewHeaderDetailItemL"},y);var D=b.create("span",{},q);if(H.name){D.innerHTML=H.name}var G=b.create("div",{className:"muiDocViewHeaderDetailItemR"},y);var z=b.create("span",{},G);if(H.value){z.innerHTML=H.value}if(H.click){l(z,"click",H.click)}}var B=a.getContentBox(s).h;if(this.expandItems){k.set(s,{"max-height":B+"px",overflow:"inherit"})}else{k.set(s,{"max-height":"0",overflow:"hidden"})}var u=b.create("div",{className:"muiDocViewHeaderExpandBtn",style:{display:this.expandItems?"none":"block"}},this.domNode);b.create("i",{className:"fontmuis muis-slide-down"},u);var A=b.create("div",{className:"muiDocViewHeaderCollapseBtn",style:{display:this.expandItems?"block":"none"}},this.domNode);b.create("i",{className:"fontmuis muis-slide-up"},A);this.connect(u,"click",function(){m.remove(u,"muiDocViewHeaderBtnFadeIn");k.set(u,{display:"none"});m.add(A,"muiDocViewHeaderBtnFadeIn");k.set(A,{display:"block"});m.remove(s,"muiDocViewHeaderWarpHidden");m.add(s,"muiDocViewHeaderWarpShow");k.set(s,{"max-height":B+"px",overflow:"inherit"})});this.connect(A,"click",function(){m.remove(A,"muiDocViewHeaderBtnFadeIn");k.set(A,{display:"none"});m.add(u,"muiDocViewHeaderBtnFadeIn");k.set(u,{display:"block"});m.remove(s,"muiDocViewHeaderWarpShow");m.add(s,"muiDocViewHeaderWarpHidden");k.set(s,{"max-height":"0",overflow:"hidden"})})}}});return g})},"sys/mobile/js/mui/form/TextLabel":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-attr"],function(d,b,e){var a=d("mui.form.TextLabel",[b],{buildRendering:function(){this.inherited(arguments);var f=this.buildXFormStyle();if(f){e.set(this.domNode,"style",f)}},buildXFormStyle:function(){var g=this.get("xformStyle");if(g){var f;if(typeof KMSSData!="undefined"){try{var h=new KMSSData();h.AddBeanData("sysFormDefaultSettingService");h=h.GetHashMapArray();if(h.length>0){f=h[0].showMobileStyle}}catch(k){}}if(f=="true"){return g}}}});return a})},"sys/mobile/js/mui/form/_GroupBase":function(){define(["dojo/_base/declare","mui/form/_FormBase","mui/form/_StoreFormMixin","dojo/dom-construct","dojo/topic","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/query","dijit/registry"],function(e,k,g,d,f,b,h,a){var l=e("mui.form._GroupBase",[k,g],{name:null,baseClass:"muiFormEleWrap muiFormGroup",groupValueChange:"mui/group/valueChage",addValue:function(m){},removeValue:function(m){},buildRendering:function(){this.inherited(arguments);if(this.edit){this.containerNode=this.domNode;this.hiddenNode=d.create("input",{type:"hidden",name:this.name},this.domNode)}},_readOnlyAction:function(n){var m=h("*[widgetid]",this.domNode);m.forEach(function(p){var o=a.byNode(p);if(o._readOnlyAction){o._readOnlyAction(n)}})},_setValueAttr:function(m){this.inherited(arguments);if(this.edit){this.hiddenNode.value=m}f.publish(this.groupValueChange,this,m)},getText:function(){var p=[];if(this.value!=null&&this.value!=""){var o=this.value.split(";");for(var m=0;m<this.values.length;m++){var n=this.values[m];for(j=0;j<o.length;j++){if(n.value==o[j]){p.push(n.text);break}}}}return p.join(";")}});return l})},"sys/mobile/js/mui/address/AddressList":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojox/mobile/viewRegistry","mui/category/CategoryList","mui/category/CategoryAllSelectMixin","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,a,k,d,l,m,h,e,g,b){return f("mui.address.AddressList",[h,e],{dataUrl:"/sys/organization/mobile/address.do?method=addressList&parentId=!{parentId}&orgType=!{selType}&deptLimit=!{deptLimit}",dataEcoUrl:"/sys/organization/mobile/ecoAddress.do?method=addressList&parentId=!{parentId}&orgType=!{selType}&deptLimit=!{deptLimit}",searchUrl:"/sys/organization/mobile/address.do?method=searchList&keyword=!{keyword}&orgType=!{orgType}&deptLimit=!{deptLimit}",iconUrl:"/sys/organization/image.jsp?orgId=!{orgId}",nodataImg:g.formatUrl("/sys/mobile/css/themes/default/images/address-empty.png"),exceptValue:"",optHandlerIds:"",searching:false,buildRendering:function(){if(this.fdExternal){this.dataUrl=this.dataEcoUrl}if(this.cateId&&this.cateId!="undefined"){this.dataUrl+="&exceptValue=!{exceptValue}&cateId=!{cateId}";this.searchUrl+="&exceptValue=!{exceptValue}&cateId=!{cateId}"}if(this.isSearch){this.searchUrl="/sys/organization/mobile/ecoAddress.do?method=searchList&keyword=!{keyword}&orgType=!{orgType}&parentId=!{parentId}&deptLimit=!{deptLimit}"}if(this.isExt!=""&&this.isExt!=undefined&&this.isExt=="true"){this.searchUrl+="&isExternal=false"}if(this.isExternal&&(this.isExternal=="true"||this.isExternal=="false")){this.dataUrl+="&isExternal="+this.isExternal}this.inherited(arguments);l.add(this.domNode,"muiAddressList")},generateList:function(o){if(this.searchCountNode){d.destroy(this.searchCountNode);this.searchCountNode=null}k.forEach(o,function(p){if(p.id){p.id=this.channel+p.id}},this);this.inherited(arguments);if(this.searching){var n=0;k.forEach(o,function(p){if(p.header!="true"){n++}});this.searchCountNode=d.create("div",{className:"muiAddressSearchCount",innerHTML:b["mui.mobile.address.search.count"].replace("%count%",n)});d.place(this.searchCountNode,this.domNode,"first")}},buildQuery:function(){var n=this.inherited(arguments);return a.mixin(n,{exceptValue:this.exceptValue,optHandlerIds:this.optHandlerIds})},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/address/search/submit",a.hitch(this,function(){var n=m.getEnclosingView(this.domNode);if(n&&n.isVisible()){this.searching=true}}));this.subscribe("/mui/list/loaded",a.hitch(this,function(){this.searching=false}))}})})},"sys/mobile/js/mui/dialog/_DialogBase":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style"],function(d,f,g,e,a,b){return d("mui.dialog._DialogBase",[f],{isShow:false,buildRendering:function(){this.domNode=this.containerNode;this.inherited(arguments)},show:function(){this.set("isShow",true);return this},hide:function(){this.set("isShow",false);return this}})})},"sys/mobile/js/mui/rtf/_ImageGlobalResizeMixin":function(){define(["dojo/_base/declare","mui/rtf/_ImageResizeMixin","dojo/_base/array"],function(a,b,d){return a("mui.rtf._ImageGlobalResizeMixin",b,{initSrcList:function(){var e=window;if(!e.RtfImages){e.RtfImages={}}if(!e.RtfImages[this.channel]){e.RtfImages[this.channel]=[]}this.srcs=[]},addSrcList:function(e){this.srcs.push(e);window.RtfImages[this.channel].push(e)},getSrcList:function(){return window.RtfImages[this.channel]},emptySrcList:function(){d.forEach(this.srcs,function(f,e){window.RtfImages[this.channel]=d.filter(window.RtfImages[this.channel],function(g){return g!=f})},this);this.srcs.length=0}})})},"sys/mobile/js/mui/list/_ViewScrollEventPublisherMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojox/mobile/common"],function(b,a,e,d){return b("mui.list._ViewScrollEventPublisherMixin",null,{adjust:"/mui/list/adjustDestination",runSlide:"/mui/list/_runSlideAnimation",afScroll:"/mui/list/afterScroll",toTop:"/mui/list/toTop",scrollResizeEvent:"/mui/list/resize",startup:function(){if(this._started){return}this.inherited(arguments);this.subscribe(this.toTop,"handleToTopTopic");this.subscribe("/mui/list/onReload",function(){a.publish(this.adjust,this,{y:0})});this.subscribe(this.scrollResizeEvent,"scrollResize")},scrollResize:function(){var f=this;if(f.resize){setTimeout(function(){f.resize()},300)}},handleToTopTopic:function(k,f){var n={y:0};if(f!=null){n=e.mixin(n,f)}if(n.y&&n.y!=0){var h=this.domNode.offsetHeight;if(this.fixedFooterHeight){h-=this.fixedFooterHeight}if(this.fixedHeaderHeight){h-=this.fixedHeaderHeight}var o=this.containerNode.offsetHeight;var g=o+n.y;var l=0;if(g<h){if(o<h){l=0}else{l=0-(o-h)}n.y=l}}var m=0.5;if(typeof(n.time)!="undefined"&&n.time>=0){m=n.time}this.slideTo(n,m,"linear");window.setTimeout(e.hitch(this,function(){a.publish(this.adjust,this,n)}),520)},adjustDestination:function(h,g,f){a.publish(this.adjust,this,h,g,f);return this.inherited(arguments)},_runSlideAnimation:function(m,l,h,k,g,f){a.publish(this.runSlide,this,{from:m,to:l});this.inherited(arguments)},onAfterScroll:function(f){a.publish(this.afScroll,this,f);return this.inherited(arguments)},onFilter:function(){this._runSlideAnimation(this.getPos(),{y:0},0,"ease-out",this.containerNode,2)}})})},"sys/mobile/js/mui/address/AddressRecentItemListMixin":function(){define(["dojo/_base/declare","./AddressRecentItemMixin"],function(b,a){return b("mui.address.AddressRecentItemListMixin",null,{dataUrl:"/sys/organization/sys_org_element/sysOrgElement.do?method=getRecentContact&orgType=!{selType}&selectCount=10",itemRenderer:a})})},"sys/mobile/js/mui/form/RadioGroup":function(){define(["dojo/_base/declare","mui/form/_GroupBase","dojo/dom-construct","dojo/parser","dojo/_base/array","mui/util","dojo/dom-class","mui/dialog/Dialog","dojo/_base/lang","dojo/topic"],function(f,b,e,a,k,h,m,l,d,g){var n=f("mui.form.RadioGroup",[b],{tmpl:"<input type=\"radio\" data-dojo-type=\"mui/form/Radio\" data-dojo-props=\"checked:!{checked},showStatus:'!{showStatus}',renderType:'!{renderType}',name:'!{name}',text:'!{text}',value:'!{value}',style:'!{xformStyle}'\">",valueField:null,opt:false,name:null,value:"",text:"",concentrate:false,alignment:"V",renderType:"normal",xformStyle:"",buildRendering:function(){this.inherited(arguments);if(!this.renderType){this.renderType="normal"}m.add(this.domNode,"muiFormRadio"+this.renderType.substring(0,1).toUpperCase()+this.renderType.substring(1));var o="muiRadioGroup"+this.renderType.substring(0,1).toUpperCase()+this.renderType.substring(1)+"Wrap";this.valueNode=e.create("div",{className:"muiFormItem muiRadioGroupWrap "+o},this.domNode);if(this.alignment=="V"){m.add(this.valueNode," blockRadio")}},_buildValue:function(){this.inherited(arguments)},isConcentrate:function(o){return this.concentrate&&this.value_s.indexOf(o.value)<0&&this.showStatus=="view"},createListItem:function(q){if(this.isConcentrate(q)){return null}var o=this.tmpl.replace("!{showStatus}",this.showStatus).replace("!{renderType}",this.renderType).replace("!{name}","_"+this.name+"_group").replace("!{value}",h.formatTextChar(h.formatText(q.value))).replace("!{text}",h.formatTextChar(h.formatText(q.text.replace(/'/g,"&#039;")))).replace("!{checked}",q.checked?true:false);var p=this.buildXFormStyle()||"";o=o.replace("!{xformStyle}",p);return e.toDom(o)},addChild:function(o){this.inherited(arguments);e.place(o,this.valueNode,"last")},generateList:function(o){this.value_s=this.value.split(";");this.inherited(arguments);return a.parse(this.valueNode)},addValue:function(o){this.set("value",o)}});return n})},"sys/mobile/js/mui/form/editor/EditorUtil":function(){define(["dojo/_base/declare","dojo/_base/lang","mui/form/editor/EditorPopupMixin"],function(a,d,b){return new a("mui.form.EditorUtil",b,{popup:function(g,f,k){var e={_url:g,afterHideMask:k};e=d.mixin(e,f?f:{});var h=new b(e);h.onEditorClick.call(h);return h},resize:function(){}})()})},"sys/mobile/js/mui/address/AddressScrollNavMixin":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/registry","dojo/dom-construct","dojo/dom-style","dojo/_base/array","./AddressChannelMixin"],function(e,g,b,a,d,h,f){return e("mui.address.AddressScrollNavMixin",f,{_addNavItem:function(l,k){this.isSameChannel(l,k)&&this.inherited(arguments)},_resizeNav:function(o){if(o.key==this.key){a.empty(this.domNode);var l=this.refrenceDom.offsetHeight;var m=0;if(this.absoluteDom){m=this.absoluteDom.offsetHeight}var k=this;h.forEach(this.navDatas,function(r,q){if(r!="2"&&r!="4"){var s=a.create("span",{className:"muiCateNavItem",innerHTML:r},k.domNode);k.connect(s,"click",function(){k._ItemClick({label:r,refHeight:l})});k.navItems.push(s)}});if(this.navItems.length>0){d.set(this.domNode,{display:"block",top:(this.refrenceDom.offsetTop+m)+"px"});var p=a.create("span",{className:"muiCateNavItem"},this.domNode,"first");var n=a.create("i",{className:"mui mui-search"},p);this.connect(p,"click","_toTop");this.navItems.push(p);d.set(n,{"font-size":"12px"});d.set(n,{height:"18px"});d.set(n,{"line-height":"18px"});h.forEach(this.navItems,function(q){d.set(q,{height:"18px","line-height":"18px","font-size":"12px"})})}else{d.set(this.domNode,{display:"none"})}}},startup:function(){var k=this;k.inherited(arguments);k.defer(function(){if(k.containerDom){var l=b.byId(k.containerDom);a.place(k.domNode,l.domNode)}})}})})},"sys/mobile/js/mui/dialog/Prompt":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase","dojo/dom-attr","dojo/dom-class","dojo/query","dojo/touch","dojo/topic","dojox/mobile/viewRegistry","dijit/registry","dojo/dom-construct","mui/util","dojo/on","dojo/dom","dojo/_base/array","dojo/dom-style","dojo/ready"],function(h,b,f,p,t,q,g,l,s,a,d,k,o,e,n,m,r){return h("mui.dialog.Prompt",[f],{content:"",font:"",text:"",elem:"",fontSize:"1.4rem",fontColor:"#FFF",contentShow:false,buildRendering:function(){this.inherited(arguments);this.buildDefaultRender()},postCreate:function(){this.inherited(arguments);if(this.elem){o(this.elem,"click",b.hitch(this,this.promptLabelClick))}else{o(this.domNode,"click",b.hitch(this,this.promptLabelClick))}},buildDefaultRender:function(){t.add(this.domNode," muiFormEleWrap muiFormStatusEdit lui_prompt_tooltip lui_mobile_tooltip muiFormLeft");if(this.content){this.content=this.content}else{if(this.domNode.innerHTML){this.contentNameDom=q("[name='"+this.fdId+"_content']",this.domNode)[0]}this.content=this.contentNameDom.innerHTML}this.iconNode=d.create("span",{className:"mui-PromptInfo",innerHTML:"<a href='javascript:;' style='color:#C4C6CF'>?</a>"},this.domNode);this.contentDom=d.create("div",{style:"display:none",className:"lui_dropdown_tooltip_menu lui_tool_tip_ding"},this.domNode)},promptLabelClick:function(v){v=v||window.event;v.cancelBubble=true;if(v.preventDefault){v.preventDefault()}if(v.stopPropagation){v.stopPropagation()}var D=new Date().getTime();var z=this.ctime;if(z!="undefined"&&(D-z<500)){return false}this.ctime=D;if(this.contentShow){m.set(this.contentDom,"display","none");this.contentShow=false}else{var A=this.htmlUnEscape(this.content);var B=/<(\w+)\s*.+\/?>(?:<\/\1>)?/.test(A);if(B){this.contentDom.innerHTML=A}else{this.contentDom.innerText=A}var y=this.contentWidth(this.contentDom.innerText);p.set(this.contentDom,"style","width:"+y*0.7+"rem");var x=q("a",this.contentDom);var w="";var u="window.open('url','_self')";var C="_blank";x.forEach(function(F,E){w=p.get(F,"href");if(p.get(F,"target")){C=p.get(F,"target")}p.set(F,"onclick",u.replace("url",w).replace("target",C));p.set(F,"href","javascript:void(0);")});m.set(this.contentDom,"zIndex","2000");m.set(this.contentDom,"display","inline-block");this.contentElementPosition();this.contentShow=true}},contentElementPosition:function(){var C=this.iconNode.offsetLeft+document.body.scrollLeft;var B=this.iconNode.offsetTop;var F=this.domNode.offsetLeft+document.body.scrollLeft;var E=this.domNode.offsetTop;var A=document.body.scrollWidth;var G=document.body.scrollHeight;var w=m.get(this.contentDom,"width");var z=m.get(this.contentDom,"height");offset={};t.remove(this.contentDom,"lui_dropdown_tooltip_menu");if(F<(A/2)){if(this.contentNameDom){t.add(this.contentDom,"lui_dropdown_tooltip_menu")}else{if(z<E){t.add(this.contentDom,"lui_dropdown_tooltip_menu")}else{t.add(this.contentDom,"lui_dropdown_tooltip_menu_down")}}}else{if(this.contentNameDom){t.add(this.contentDom,"lui_dropdown_tooltip_menu_right")}else{if(z<E){t.add(this.contentDom,"lui_dropdown_tooltip_menu_right")}else{t.add(this.contentDom,"lui_dropdown_tooltip_menu_right_down")}}}var D=this.findDetailTableScrollView();if(D){m.set(D.domNode,"overflow","");var v=q(".muiDetailTableAdd",q(".detailTableContent",D.domNode)[0])[0];if(v){var u=q(".mui-plus",v)[0];if(u){p.set(u,"style","position:static")}}}},setStyle:function(u){if(this.font){m.set(u,"fontFamily",this.font)}if(this.size){this.fontSize=this.size}m.set(u,"fontSize",this.fontSize);if(this.color){this.fontColor=this.color}m.set(u,"color",this.fontColor);if(this.b=="true"){m.set(u,"fontWeight","bold")}if(this.i=="true"){m.set(u,"fontStyle","bold","italic")}if(this.underline=="true"){m.set(u,"textDecoration","underline")}m.set(u,"background-color","#4285f4")},findDetailTableScrollView:function(){var u=this.findTableNormal();if(u){var v=q(this.domNode).closest(".mblScrollableView")[0];if(v){return a.byNode(v)}}return null},findTableNormal:function(){var v=this.domNode;if(v){var u=v.parentNode;while(u){if(t.contains(u,"detailTableNormal")||t.contains(u,"detailTableSingleRow")){return u}u=u.parentNode}}return null},htmlUnEscape:function(u){if(u==null||u==" "){return""}u=u.replace(/&amp;/g,"&");u=u.replace(/&quot;/g,'"');u=u.replace(/&lt;/g,"<");u=u.replace(/&nbsp;/g," ");return u.replace(/&gt;/g,">")},contentWidth:function(w){var u=0;for(var v=0;v<w.length;v++){var x=w.charCodeAt(v);if((x>=1&&x<=126)||(65376<=x&&x<=65439)){u++}else{u+=2}}return u},startup:function(){this.inherited(arguments);if(this.hidden==="true"){m.set(this.domNode,"display","none")}m.set(this.domNode,"min-width","1rem")}})})},"sys/mobile/js/mui/dialog/OperaTip":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","mui/dialog/_DialogBase","dojo/_base/window","mui/util","dojo/touch","dojo/_base/array","dojo/dom-geometry"],function(g,b,n,e,l,d,k,h,f,m,o){var a=g("mui.dialog.OperaTip",[d],{baseClass:"muiDialogOperationTip",refNode:null,pos:"left",operas:[],buildRendering:function(){if(this.operas.length==0){return}this.inherited(arguments);this.domNode=e.create("div",{className:"muiDialogOperationTip"},document.body);this.operaNode=e.create("div",{className:"muiDialogOperationContainer"},this.domNode);m.forEach(this.operas,function(q){var p=e.create("div",{className:"muiDialogOperationButton",innerHTML:'<span class="'+q.icon+' mui"></span>&nbsp;'+q.text},this.operaNode);if(q.func){this.connect(p,"click",function(r){q.func(r)})}},this)},show:function(){if(!this.domNode){return}var q=this.refNode;var r=o.position(q);var p=h.getScreenSize().w;l.set(this.domNode,{top:r.y+"px",right:p+10-r.x+"px"});l.set(this.operaNode,{"-webkit-transform":"translate3d(0,0,0)"});this.handle=this.connect(document.body,f.press,"onBodyClick");this.inherited(arguments);return this},hide:function(){l.set(this.operaNode,{"-webkit-transform":"translate3d(100%,0,0)"});this.defer(function(){this.disconnect(this.handle);e.destroy(this.domNode);this.domNode=null;this.destroy()},200);this.inherited(arguments);return this},onBodyClick:function(p){var r=p.target,q=true;while(r){if(r==this.domNode){q=false;break}r=r.parentNode}if(q){this.defer(function(){this.hide()},500)}}});return{tip:function(p){return new a(p).show()},OperaTip:a}})},"sys/mobile/js/mui/rtf/_VideoResizeMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/query","dojo/_base/array","dojo/_base/lang","dojo/dom-attr","mui/util","dojo/on","dojo/request"],function(e,b,g,m,k,a,l,f,h,d){return e("mui.rtf._VideoResizeMixin",null,{formatContent:function(p){this.inherited(arguments);var q=[];if(typeof(p)=="object"){q=m("embed",p)}else{q=m(p+" embed")}if(q.length>0){var n=this;k.forEach(q,function(s,r){n.resizeVideo(s)})}var o=[];if(typeof(p)=="object"){o=m("video",p)}else{o=m(p+" video")}if(o.length>0){var n=this;k.forEach(o,function(s,r){n.resizeH5Video(s)})}},resizeH5Video:function(u){var o=l.get(u,"src");var s=/.*?\/resource\/fckeditor\/editor\/filemanager\/download.*?/;var v=this;l.remove(u,"src");l.remove(u,"height");l.remove(u,"autoplay");l.set(u,"controls","controls");l.set(u,"controlslist","nodownload");g.set(u,"max-width","100%");if(o){var q=f.getUrlParameter(o,"fdId");if(s.test(o)&&q){var t=l.get(u,"poster");if(!t){var w="/sys/attachment/sys_att_main/sysAttMain.do?method=view&filethumb=yes&fdType=rtf&fdId="+q;w=f.urlResolver(f.formatUrl(w,true));l.set(u,"poster",w)}var p="/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttToken&fdType=rtf&fdId="+q;p=f.urlResolver(f.formatUrl(p,true));d(p,{handleAs:"json",method:"GET",data:{}}).then(function(y){if(y&&y.token){var x="/sys/attachment/mobile/viewer/play.jsp?fdType=rtf&token="+y.token;x=f.urlResolver(f.formatUrl(x,true));v.buildVideoSource(u,x,o)}else{v.buildVideoSource(u,o)}})}else{v.buildVideoSource(u,o)}}else{var n=m("source",u);if(n&&n.length>0){var r=false;k.forEach(n,function(A,z){o=l.get(A,"src");var C=f.getUrlParameter(o,"fdId");if(s.test(o)&&C){var B=l.get(u,"poster");if(!B){var y="/sys/attachment/sys_att_main/sysAttMain.do?method=view&filethumb=yes&fdType=rtf&fdId="+C;y=f.urlResolver(f.formatUrl(y,true));l.set(u,"poster",y)}var x="/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttToken&fdType=rtf&fdId="+C;x=f.urlResolver(f.formatUrl(x,true));d(x,{handleAs:"json",method:"GET",data:{}}).then(function(E){if(E&&E.token){var D="/sys/attachment/mobile/viewer/play.jsp?fdType=rtf&token="+E.token;D=f.urlResolver(f.formatUrl(D,true));if(!r){v.buildVideoSource(u,D,o);r=true}}})}else{if(!r&&o){v.buildVideoSource(u,o);r=true}}})}}},buildVideoSource:function(p,r,n){if(p.pause){p.pause()}var o=l.get(p,"width");var s=l.get(p,"poster");var q=b.create("video",{innerHTML:'<source src="'+r+'" type="video/mp4"></source>',style:"max-width:100%;background:black;",width:o,controls:true},p,"before");if(s){l.set(q,"poster",s)}if(n){b.create("source",{src:n,type:"video/mp4"},q)}b.destroy(p)},resizeVideo:function(o){var n=l.get(o,"flashvars");if(!n){return}n=f.getUrlParameter(n,"vdo");b.create("video",{innerHTML:'<source src="'+n+'" type="video/mp4"></source>',style:"max-width:100%",controls:true},o,"before");b.destroy(o)}})})},"sys/mobile/js/mui/category/ScrollableCategoryPath":function(){define(["dojo/_base/declare","mui/category/CategoryPath","dojox/mobile/ScrollableView","dojo/_base/array","dojo/topic","dojo/dom-class"],function(d,a,f,h,b,e){var g=d("mui.category.ScrollableCategoryPath",[a],{buildRendering:function(){this.inherited(arguments);e.add(this.containerNode,"muiCateScrollablePathContent");this.titleNode=this._createTitleNode();this._createScrollNode()},_createScrollNode:function(){this.scroll=new f({scrollBar:false,scrollDir:"h",height:"4rem"});this.addChild(this.scroll)},getPathContainer:function(){return this.scroll.containerNode},_createPath:function(l){this.getPathContainer().innerHTML="";var k=[];if(l.length==0){e.add(this.titleNode,"selected")}else{e.remove(this.titleNode,"selected")}h.forEach(l,function(m){k.push(m.fdId);this._createPathItem(m,m.label)},this);window.pathItem=k;b.publish("/mui/category/path",this,k)}});return g})},"sys/mobile/js/mui/address/AddressItemMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-class","mui/iconUtils","mui/category/CategoryItemMixin","dojo/dom-construct","mui/util","dijit/registry","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/request","dojo/topic","mui/dialog/Tip"],function(h,m,n,d,e,f,l,a,b,g,k,o){var p=h("mui.address.AddressItemMixin",[e],{buildRendering:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);this.addColorToKeyWords()},_buildItemBase:function(){this.inherited(arguments);if(this.header!="true"){var r=f.create("div",{className:"muiCateInfo "},this.cateContainer);f.place(r,this.infoNode,"after");f.destroy(this.infoNode);this.infoNode=r;this.titleNode=f.create("div",{className:"muiCatemuiCateName"},this.infoNode);this.labelNode=f.create("span",{className:"muiAddressLabelName",innerHTML:l.formatText(this.label)},this.titleNode)}if(this.type!=null&&(this.type||window.ORG_TYPE_PERSON)==window.ORG_TYPE_PERSON){n.add(this.infoNode,"muiAddressPersonInfo");if(this.staffingLevel){f.create("span",{className:"muiAddressStaffingLevelName",innerHTML:l.formatText(this.staffingLevel)},this.titleNode)}if(this.authElementAdmin){f.create("span",{className:"muiAddressAuthElementAdminName",innerHTML:l.formatText(this.authElementAdmin)},this.titleNode)}if(this.posts&&this.posts.length>0){for(var q=0;q<this.posts.length;q++){f.create("span",{className:"muiAddressPostName",innerHTML:l.formatText(this.posts[q])},this.titleNode)}}if(this.leaderType){n.add(this.infoNode,"muiAddressLeaderPerson");var s=f.create("span",{className:"muiAddressLeaderLabel"},this.titleNode);if((this.leaderType&window.ORG_TYPE_ORG)==window.ORG_TYPE_ORG){n.add(s,"muiAddressLeaderOrg");f.create("img",{className:"muiAddressLeaderImg",src:l.formatUrl("/sys/mobile/css/themes/default/images/address-leader-org.png")},s)}if((this.leaderType&window.ORG_TYPE_DEPT)==window.ORG_TYPE_DEPT){n.add(s,"muiAddressLeaderDept");f.create("img",{className:"muiAddressLeaderImg",src:l.formatUrl("/sys/mobile/css/themes/default/images/address-leader-dept.png")},s)}f.create("span",{className:"muiAddressLeaderLabel",innerHTML:b["mui.mobile.address.leader.label"]},s)}}else{if(this.header!="true"){n.add(this.infoNode,"muiAddressNonePersonInfo")}}if(this.parentNames){n.add(this.infoNode,"muiAddressWithParentNames");f.create("div",{className:"muiAddressParentNames",innerHTML:this._formatParentNames(l.formatText(this.parentNames))},this.infoNode)}if(this.type!=null&&(this.type||window.ORG_TYPE_GROUP_CATE)==window.ORG_TYPE_GROUP_CATE){if(this.iconNode){f.destroy(this.iconNode)}n.add(this.domNode,"muiAddressGroupCateItem")}this.iconNode&&this.connect(this.iconNode,"click","_selectCate");this.infoNode&&this.connect(this.infoNode,"click","_selectCate")},_formatParentNames:function(u){if(!u){return u}var w="";var r=u.split("_");var t=r.length;var v=t<=3?0:t-3;for(var s=v;s<t;s++){var q=r[s];if(q.length>8){q=q.substring(0,8)+"..."}w+=q+"_"}w=w.replace(/_$/,"");return w},getTitle:function(){if(this.label=="1"){return b["mui.address.org"]}if(this.label=="2"){return b["mui.address.dept"]}if(this.label=="4"){return b["mui.address.post"]}if(this.label=="8"){return b["mui.address.person"]}if(this.label=="16"){return b["mui.address.group"]}return this.label},showMore:function(){if((this.type|window.ORG_TYPE_ORGORDEPT)==window.ORG_TYPE_ORGORDEPT){if(this.scope=="22"||this.scope=="33"||this.scope=="44"){return false}return true}if((this.type|window.ORG_TYPE_GROUP_CATE)==window.ORG_TYPE_GROUP_CATE){if(this.scope=="22"||this.scope=="33"||this.scope=="44"){return false}return true}if((this.type|window.ORG_TYPE_GROUP)==window.ORG_TYPE_GROUP){if(this.scope=="22"||this.scope=="33"||this.scope=="44"){return false}return true}return false},showSelect:function(){if(this.type=="2"&&this.isAllDept&&this.isAllDept=="false"){return false}var q=this.getParent();if(q&&q.selType=="512"&&this.type=="8"){return true}if(q&&((q.selType&this.type)==this.type)){if(this.isAllDept){if(this.isAllDept=="true"){return true}else{return false}}else{return true}}return false},_toggleSelect:function(q){this.inherited(arguments);if(q){k.publish("/mui/category/setSelected",this,this)}else{k.publish("/mui/category/cancelSelected",this,this)}},_setSelectedTrigger:function(){k.publish("/mui/category/selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type,staffingLevel:this.staffingLevel,parentNames:this.parentNames,isExternal:this.isExternal});k.publish("/mui/category/cate_selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type,staffingLevel:this.staffingLevel,parentNames:this.parentNames,isExternal:this.isExternal})},isSelected:function(){var r=this.getParent();if(r&&r.curIds){var q=r.curIds.split(";");if(m.indexOf(q,this.fdId)>-1){return true}}return false},buildIcon:function(q){if(this.icon){f.create("span",{style:{background:"url("+l.formatUrl(this.icon)+") center center no-repeat",backgroundSize:"cover",display:"inline-block"}},q)}else{if(dojoConfig.dingXForm&&dojoConfig.dingXForm==="true"&&this.type==window.ORG_TYPE_PERSON){q.innerHTML=d.createDingIcon(this.label,"div")}else{if(this.isExternal&&this.isExternal=="true"){if((this.type|window.ORG_TYPE_ORG)==window.ORG_TYPE_ORG){this.icon="address-org-external";this.isPngIcon=true}if((this.type|window.ORG_TYPE_DEPT)==window.ORG_TYPE_DEPT){this.icon="address-dept-external";this.isPngIcon=true}if((this.type|window.ORG_TYPE_POST)==window.ORG_TYPE_POST){this.icon="address-post-external";this.isPngIcon=true}}else{if((this.type|window.ORG_TYPE_ORG)==window.ORG_TYPE_ORG){this.icon="address-org";this.isPngIcon=true}if((this.type|window.ORG_TYPE_DEPT)==window.ORG_TYPE_DEPT){this.icon="address-dept";this.isPngIcon=true}if((this.type|window.ORG_TYPE_POST)==window.ORG_TYPE_POST){this.icon="address-post";this.isPngIcon=true}}if((this.type|window.ORG_TYPE_GROUP)==window.ORG_TYPE_GROUP){this.icon="address-group";this.isPngIcon=true}if(this.isPngIcon){this.buildPNGIcon(this.icon,q)}else{d.setIcon(this.icon,null,this._headerIcon,null,q)}}}},buildPNGIcon:function(r,q){f.create("img",{src:l.formatUrl("/sys/mobile/css/themes/default/images/"+r+".png")},q)},addColorToKeyWords:function(){if(!this.labelNode){return}var r=this.findSearchBar();if(!r){return}var u=r.searchNode.value;if(u){var q=u.replace(/'/g,"''").replace(/,/g,";").replace(/，/g,";").replace(/；/g,";").split(";");var t=[];var s=this.labelNode.innerHTML;m.forEach(q,function(w){if(t.indexOf(w)<0){var v=("<em>"+w+"</em>");s=s.replace(w,v);t.push(w)}},this);if(s){this.labelNode.innerHTML=s}}},findSearchBar:function(){var q="_address_search_"+this.key;var r=a.byId(q);return r},_openCate:function(q){q&&q.stopPropagation();var r=this;this.set("entered",true);this.defer(function(){this.set("entered",false);if(this.selType==1||this.selType==2||this.selType==3){var s=l.urlResolver(l.formatUrl(this.dataUrl),{parentId:this.fdId||"",selType:this.selType||"",deptLimit:this.deptLimit||""});g.post(s,{handleAs:"json"}).then(function(t){if((t||[]).length<1){r.moreArea&&f.destroy(r.moreArea);o.fail({text:"当前没有下级部门"})}else{k.publish("/mui/view/scrollTo",this,{y:(0)});k.publish("/mui/category/changed",r,{fdId:r.fdId,label:r.label,type:r.type})}},function(t){o.fail({text:"请求获取数据失败"})})}else{k.publish("/mui/view/scrollTo",this,{y:(0)});k.publish("/mui/category/changed",r,{fdId:r.fdId,label:r.label,type:r.type})}},200);return}});return p})},"sys/attachment/mobile/js/AttachmentList":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dojo/_base/array","dojo/topic","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","mui/dialog/Tip","dojox/mobile/viewRegistry","mui/form/_AutoAdaptionMixin","dojo/dom-style","dojo/query","mui/i18n/_i18n!sys/mobile/js/mui/mui-view","./AttachmentOptListItem","mui/form/_AlignMixin"],function(h,e,q,o,m,k,g,s,d,r,p,f,l,n,b,a,t){return h("sys.attachment.mobile.js.AttachmentList",[g,f,s,d,t],{isForm:true,baseClass:"muiFormUploadWrap",eventPrefix:"attachmentObject_",fdKey:"",fdFiledName:"",fdModelName:"",fdModelId:"",fdMulti:true,fdAttType:"byte",editMode:"view",showStatus:"edit",delAtts:[],addAtts:[],nameAtts:[],filekeys:[],orderFiles:[],required:false,fdDisabledFileType:".js;.bat;.exe",subject:null,orient:"none",buildV:function(){e.create("div",{className:"muiFormEleTitle",innerHTML:this.subject},this.domNode);if("vertical"==this.orient){q.add(this.domNode,"muiFormVArrList")}},buildRendering:function(){if(this.fdKey==null||this.fdKey==""){var w=this.guid();this.fdKey=w;if(this.fdFiledName!=null&&this.fdFiledName!=""){var u=document.getElementsByName(this.fdFiledName)[0];if(u){u.value=w}}}this.inherited(arguments);this.showStatus=this.editMode;this.eventPrefix=this.eventPrefix+this.fdKey+"_";var v="attachmentForms."+this.fdKey+".";if(this.editMode=="edit"){e.create("input",{type:"hidden",name:v+"fdModelName",value:this.fdModelName},this.domNode);e.create("input",{type:"hidden",name:v+"fdModelId",value:this.fdModelId},this.domNode);e.create("input",{type:"hidden",name:v+"fdKey",value:this.fdKey},this.domNode);e.create("input",{type:"hidden",name:v+"fdAttType",value:this.fdAttType},this.domNode);e.create("input",{type:"hidden",name:v+"fdMulti",value:this.fdMulti},this.domNode);this.delAttNode=e.create("input",{type:"hidden",name:v+"deletedAttachmentIds"},this.domNode);this.addAttNode=e.create("input",{type:"hidden",name:v+"attachmentIds"},this.domNode);if(this.extParam){e.create("input",{type:"hidden",name:v+"extParam",value:this.extParam},this.domNode)}o.set(this.domNode,"validate","attachment_required_"+this.fdKey+" attachment_uploading_"+this.fdKey)}if(this.getAlign()=="right"){q.add(this.domNode,"muiRight")}},postCreate:function(){this.inherited(arguments);if(this.editMode=="edit"){this.subscribe(this.eventPrefix+"start","_start");this.subscribe(this.eventPrefix+"success","_success");this.subscribe(this.eventPrefix+"fail","_fail");this.subscribe(this.eventPrefix+"process","_process");this.subscribe(this.eventPrefix+"del","_del")}},startup:function(){this.inherited(arguments);if(this.orient=="vertical"){this.buildV()}this.requiredNode=e.create("div",{className:"muiFormRequired",innerHTML:"*"},this.domNode);this.set("required",this.required);if(this.editMode=="edit"){this.contentNode=e.create("div",{className:"muiFormUploadContent muiFormItem"},this.domNode);var w=this.getChildren();m.forEach(w,function(z){if(z instanceof a){e.place(z.domNode,this.contentNode,"last")}},this)}this.addAtts=[];this.delAtts=[];this.nameAtts=[];this.filekeys=[];this.orderFiles=[];var y=this.getChildren();for(var v=0;v<y.length;v++){if(y[v].fdId){this.addAtts.push(y[v].fdId)}if(y[v].name){this.nameAtts.push(y[v].name)}}this.fillAttInfo();if(window.Com_Parameter&&this.editMode=="edit"){var u=this;window.Com_Parameter.event.confirm.unshift(function(){return u.checkAttRules()});this.pView=this.getValidateView();if(this.pView){var x=b["mui.sysAttMain.msg.null"];if(this.fdAttType&&this.fdAttType=="pic"){x=b["mui.sysAttMain.pic.null"]}x=this.customWarnTipMsg||x;this.pView._validation.addValidator("attachment_required_"+this.fdKey,x,function(){return u.validateAttRequired()});this.pView._validation.addValidator("attachment_uploading_"+this.fdKey,b["mui.sysAttMain.upload"],function(){return u.validateAttUploading()})}}},getValidateView:function(v){var w=this.domNode||v;var u=p.getEnclosingView(w);while(u!=null&&!u._validation){u=p.getParentView(u)}return u},validateAttRequired:function(){var u=this.getChildren();if(this.required){if(u==null||u.length<=2){return false}}return true},_setRequiredAttr:function(u){this.required=u;this.initDisplay()},initDisplay:function(){if(this.requiredNode){q.toggle(this.requiredNode,"muiFormRequiredShow",this.required)}if(this.required==false){this.pView=this.getValidateView();if(this.pView&&this.pView._validation){this.pView._validation.hideWarnHint(this.domNode)}}},validateAttUploading:function(){var u=this.getChildren();for(var v=0;v<u.length;v++){if(u[v].status&&u[v].status<2){return false}}return true},checkAttRules:function(){if(!this.validateAttUploading()){r.tip({text:b["mui.sysAttMain.upload"]+".."});return false}if(this.filekeys.length>0){var u=this.orderFiles;var w=this.filekeys;var z=[];for(var y=0;y<u.length;y++){for(var x=0;x<w.length;x++){if(u[y]._fdId==w[x]._fdId){z.push(w[x]);continue}}}this.filekeys=z;var v=window.AttachmentList[this.fdKey];if(v!=null&&v.fileStatus!=-1){m.forEach(this.filekeys,function(A){var B=v.registFile({filekey:A.filekey,name:A.name});if(B){this.addAtts.push(B)}},this)}}this.fillAttInfo();return true},getChildByFdId:function(w){var u=this.getChildren();for(var v=0;v<u.length;v++){if(w!=null&&u[v]._fdId==w){return u[v]}}},_start:function(v,u){if(u.file){this.orderFiles.push(u.file)}k.publish(this.eventPrefix+"addItem",this,u)},_success:function(v,u){var w=this.getChildByFdId(u.file._fdId);if(w){if(u.file){w.filekey=u.file.filekey;w.status=u.file.status;w.href=u.file.href;this.filekeys.push(u.file)}if(w.uploaded){w.uploaded()}if(this.pView){this.pView._validation.validateElement(this.domNode)}}},_fail:function(v,u){if(u.file!=null){var w=this.getChildByFdId(u.file._fdId);if(w&&w.uploadError){w.status=u.file.status;w.uploadError(u.rtn.msg)}}else{r.tip({icon:"mui .mui-fail",text:u.rtn.msg})}},_process:function(v,u){var w=this.getChildByFdId(u.file._fdId);if(w&&w.changeProgress){w.status=u.file.status;w.changeProgress(u.loaded)}},_del:function(v,u){if(u){var x=u.widget;var w=x.filekey;var z=x.fdId;var y=x.name;if(w!=null){this.filekeys=m.filter(this.filekeys,function(A){return A.filekey!=w})}if(z!=null){this.addAtts=m.filter(this.addAtts,function(A){return A!=z});this.delAtts.push(z)}if(y!=null){this.nameAtts=m.filter(this.nameAtts,function(A){return A!=y})}if(v.isDing){k.publish("/third/ding/del/"+this.fdKey,{_srcObj:v,_widget:x,_this:this})}else{this.removeChild(x);x.destroy();k.publish("/mui/list/resize",this)}}},fillAttInfo:function(){if(this.addAttNode){this.addAttNode.value=this.addAtts.join(";")}if(this.delAttNode){this.delAttNode.value=this.delAtts.join(";")}},guid:(function(){var u=0;return function(x){var v=(+new Date().getTime()).toString(32),w=0;for(;w<5;w++){v+=Math.floor(Math.random()*65535).toString(32)}return(x||"att_")+v+(u++).toString(32)}})(),buildSingleRowView:function(){var y=n(this.domNode).closest("xformflag")[0];var x;if(y){x=l.get(y,"display")}if(x!=="none"){x=l.get(this.domNode,"display")}if(this.editMode!="hidden"&&x!=="none"){this.inherited(arguments);if(this.autoAdaptionViewNode){q.replace(this.autoAdaptionViewNode,"oldMui muiFormUploadWrap muiDetailTableautoAdaption",this.muiSingleRowViewClass);var v=this.getChildren();for(var w=0;w<v.length;w++){var A=v[w];if(A.name){var u=A.domNode.cloneNode(true);e.place(u,this.autoAdaptionViewNode,"last");var z=n(".muiAttachmentItemDel",u);if(z.length===1){l.set(z[0],"display","none")}}else{if(q.contains(A.domNode," muiAttachmentEditOptItem")){l.set(A.domNode,"display","block")}}}}}else{if(this.autoAdaptionViewNode){l.set(this.autoAdaptionViewNode,"display","none")}}},buildAutoAdaptionView:function(){if(this.editMode!="hidden"){var u=this.getChildren();for(var v=0;v<u.length;v++){var x=u[v];if(x.name){var w=n(".muiAttachmentItemDel",x.domNode);if(w.length===1){l.set(w[0],"display","none")}}}}}})})},"sys/mobile/js/mui/nav/NavItemPromptMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style"],function(d,a,b){return d("mui.nav.NavItemPromptMixin",null,{buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/navitem/prompt","onPrompt")},onPrompt:function(f,e){if(f.key!=this.tabIndex){return}if(e.show){if(this.doteNode){b.set(this.doteNode,"display","block");return}this.doteNode=a.create("i",{className:"muiNavItemDote"},this.domNode)}else{if(!this.doteNode){return}b.set(this.doteNode,"display","none")}}})})},"sys/mobile/js/mui/nav/StaticNavBar":function(){define("mui/nav/StaticNavBar",["./NavBar","dojo/_base/declare","./_StaticNavBarMixin"],function(a,b,d){return b("mui.nav.NavBarStore",[a,d],{height:"4.4rem"})})},"sys/mobile/js/mui/address/address_common":function(){define(["mui/util","mui/createUtils","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,b,k){var g=b.createTemplate;function f(m){var l=[];if(m.className){l=l.concat(m.className)}var h={key:"{categroy.key}",height:"3rem",channel:m.channel,visible:m.visible?true:false,isExt:"{categroy.isExt}",isEco:"{categroy.isEco}",deptLimit:"{categroy.deptLimit}"};if(m.titleNode){h.titleNode=m.titleNode}if(m.detailUrl){h.detailUrl=m.detailUrl}return g("div",{dojoType:"mui/address/AddressCategoryPath",dojoMixins:m.mixins||[],dojoProps:h})}function e(m){var h=["mui/address/AddressItemListMixin"];if(m.mixins){h=h.concat(m.mixins)}h=h.join(",");var l='<ul data-dojo-type="mui/address/AddressList" data-dojo-mixins="'+h+"\" data-dojo-props=\"isExternal:'{categroy.isExternal}',isEco:'{categroy.isEco}',exceptValue:'{categroy.exceptValue}',cateId:'{categroy.cateId}',deptLimit:'{categroy.deptLimit}',beforeSelectCateHistoryId: '{categroy.beforeSelectCateHistoryId}',isMul:{categroy.isMul},key:'{categroy.key}',channel:'"+m.channel+"',curIds:'{categroy.curIds}',curNames:'${lfn:escapeJs({categroy.curNames})}',selType:{categroy.type},exceptValue:'{categroy.exceptValue}',scope:'{categroy.scope}'\"></ul>";return l}function d(n){var m=n.mul;var y=g("div",{className:"muiCateSearchArea muiAddressSearchArea"},g("div",{id:"_address_search_{categroy.key}",dojoType:"mui/address/AddressSearchBar",dojoProps:{key:"{categroy.key}",searchUrl:"{categroy.searchUrl}",orgType:"$${categroy.type}$$",exceptValue:"{categroy.exceptValue}",deptLimit:"{categroy.deptLimit}",height:"4rem"}}));var q=y;var p=g("div",{dojoType:"mui/header/Header",dojoProps:{height:"4rem"}},g("div",{id:"categoryNavBar",dojoType:"mui/nav/StaticNavBar",dojoMixins:"mui/address/AddressNavBarMixin",dojoProps:{key:"{categroy.key}",deptLimit:"{categroy.deptLimit}"}}));var h=g("div",{dojoType:"mui/address/AddressDeptMember",dojoProps:{key:"{categroy.key}",selType:"$${categroy.type}$$",exceptValue:"{categroy.exceptValue}"}});var x=g("div",{dojoType:"mui/address/AddressSubordinate",dojoProps:{key:"{categroy.key}",selType:"$${categroy.type}$$",exceptValue:"{categroy.exceptValue}"}});var s=g("div",{dojoType:"dojox/mobile/ScrollableView",dojoMixins:["mui/address/AddressViewScrollResizeMixin","mui/category/AppBarsMixin"],dojoProps:{key:"{categroy.key}",scrollBar:false,threshold:10,channel:"usual"}},[f({channel:"usual",visible:false}),e({channel:"usual",mixins:["mui/address/AddressRecentItemListMixin"]})]);var v=g("div",{id:"usualCateView_{categroy.key}",dojoType:"dojox/mobile/View"},[h,x,g("div",{className:"muiAddressItemTitle muiUsualRecentTitle"},k["mui.mobile.address.recently"]),s]);var t=g("div",{dojoType:"dojox/mobile/ScrollableView",dojoMixins:["mui/address/AddressViewScrollResizeMixin","mui/category/AppBarsMixin"],dojoProps:{key:"{categroy.key}",channel:"all",scrollBar:false,threshold:10}},[e({key:"{categroy.key}",channel:"all"})]);var o=g("div",{id:"allCateView_{categroy.key}",dojoType:"dojox/mobile/View"},[f({isExt:"{categroy.isExt}",key:"{categroy.key}",channel:"all",height:"3rem",titleNode:k["mui.mobile.address.allCate"],visible:true,mixins:"mui/address/AddressOrgCategoryPathMixin"}),t]);var l=g("div",{id:"groupView_{categroy.key}",dojoType:"dojox/mobile/View",dojoMixins:["mui/address/AddressGroupViewMixin"],dojoProps:{key:"{categroy.key}"}});var w=g("div",{id:"commonGroupView_{categroy.key}",dojoType:"dojox/mobile/View"},[g("div",{dojoType:"mui/address/AddressCommonGroupCategoryPath",dojoProps:{key:"{categroy.key}",channel:"common_group",height:"3rem"}}),g("div",{dojoType:"dojox/mobile/ScrollableView",dojoMixins:["mui/address/AddressViewScrollResizeMixin","mui/category/AppBarsMixin"],dojoProps:{key:"{categroy.key}",channel:"common_group",scrollBar:false,threshold:10}},["<ul data-dojo-type=\"mui/address/AddressList\" data-dojo-mixins=\"mui/address/AddressCommonGroupListMixin\" data-dojo-props=\"isExt:'{categroy.isExt}',deptLimit:'{categroy.deptLimit}',beforeSelectCateHistoryId: '{categroy.beforeSelectCateHistoryId}',isMul:{categroy.isMul},key:'{categroy.key}',channel:'common_group',curIds:'{categroy.curIds}',curNames:'${lfn:escapeJs({categroy.curNames})}',selType:{categroy.type},exceptValue:'{categroy.exceptValue}',scope:'{categroy.scope}',maxPageSize:{categroy.maxPageSize}\"></ul>"])]);var u=g("div",{id:"myGroupView_{categroy.key}",dojoType:"dojox/mobile/View"},[g("div",{dojoType:"mui/address/AddressMyGroupCategoryPath",dojoProps:{key:"{categroy.key}",channel:"my_group",height:"3rem"}}),g("div",{dojoType:"dojox/mobile/ScrollableView",dojoMixins:["mui/address/AddressViewScrollResizeMixin","mui/category/AppBarsMixin"],dojoProps:{key:"{categroy.key}",channel:"my_group",scrollBar:false,threshold:10}},["<ul data-dojo-type=\"mui/address/AddressList\" data-dojo-mixins=\"mui/address/AddressMyGroupListMixin\" data-dojo-props=\"isExt:'{categroy.isExt}',deptLimit:'{categroy.deptLimit}',beforeSelectCateHistoryId: '{categroy.beforeSelectCateHistoryId}',isMul:{categroy.isMul},key:'{categroy.key}',channel:'my_group',curIds:'{categroy.curIds}',curNames:'${lfn:escapeJs({categroy.curNames})}',selType:{categroy.type},exceptValue:'{categroy.exceptValue}',scope:'{categroy.scope}',maxPageSize:{categroy.maxPageSize}\"></ul>"])]);var r=g("div",{dojoType:"dojox/mobile/View",dojoProps:{key:"{categroy.key}",channel:"group"}},[l,w,u]);q+=g("div",{id:"defaultView_{categroy.key}",dojoType:"dojox/mobile/View"},[p,v,o,r]);q+=g("div",{id:"deptMemberView_{categroy.key}",dojoType:"dojox/mobile/ScrollableView",dojoMixins:"mui/address/AddressViewScrollResizeMixin",dojoProps:{key:"{categroy.key}",channel:"deptMember",scrollBar:false,threshold:10}},[f({channel:"deptMember",visible:false}),e({channel:"deptMember",mixins:["mui/address/AddressDeptMemberListMixin","mui/address/AddressSearchListMixin"]})]);q+=g("div",{id:"subordinateView_{categroy.key}",className:"muiSubordinateView",dojoType:"dojox/mobile/ScrollableView",dojoMixins:"mui/address/AddressViewScrollResizeMixin",dojoProps:{key:"{categroy.key}",channel:"subordinate",scrollBar:false,threshold:10}},[f({channel:"subordinate",visible:true,className:["muiAddressSubordinatePath"],titleNode:k["mui.mobile.address.subordinate"],mixins:["mui/address/AddressSubordinatePathMixin"]}),e({channel:"subordinate",mixins:["mui/address/AddressSubordinateListMixin","mui/address/AddressSearchListMixin"]})]);q+=g("div",{id:"searchView_{categroy.key}",className:"muiAddressView",dojoType:"dojox/mobile/ScrollableView",dojoMixins:"mui/address/AddressViewScrollResizeMixin",dojoProps:{key:"{categroy.key}",channel:"search",scrollBar:false,threshold:10}},["<ul data-dojo-type=\"mui/address/AddressList\" data-dojo-mixins=\"mui/address/AddressItemListMixin,mui/address/AddressSearchListMixin\" data-dojo-props=\"isExt:'{categroy.isExt}',exceptValue:'{categroy.exceptValue}',cateId:'{categroy.cateId}',history:true,deptLimit:'{categroy.deptLimit}',beforeSelectCateHistoryId: '{categroy.beforeSelectCateHistoryId}',isMul:{categroy.isMul},key:'{categroy.key}',channel:'search',curIds:'{categroy.curIds}',curNames:'${lfn:escapeJs({categroy.curNames})}',selType:{categroy.type},orgType:{categroy.type},exceptValue:'{categroy.exceptValue}',scope:'{categroy.scope}'\"></ul>"]);if(m){q+=g("div",{dojoType:"mui/address/AddressSelection",dojoProps:{key:"{categroy.key}",beforeSelectCateHistoryId:"{categroy.beforeSelectCateHistoryId}",curIds:"{categroy.curIds}",curNames:"${lfn:escapeJs({categroy.curNames})}",fixed:"bottom"}})}return q}return{html:d}})},"sys/mobile/js/mui/rtf/_TableResizeMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/query","dojo/_base/array","dojox/mobile/ScrollableView","mui/NativeView"],function(e,a,d,g,h,f,b){return e("mui.rtf._TableResizeMixin",null,{formatContent:function(m){this.inherited(arguments);var l=[];if(typeof m=="object"){l=g("table",m)}else{l=g(m+" table")}if(l.length>0){var k=this;h.forEach(l,function(n){if(parseInt(n.offsetHeight)>0){k.resizeTable(n)}});h.forEach(l,function(n){n.parentNode.removeChild(n)})}},resizeTable:function(l){var m=a.create("div",null,l,"before");var n=dojoConfig._native?b:f;var k=new n({scrollDir:"h",height:(l.offsetHeight+10)+"px"});k.containerNode.innerHTML=l.outerHTML;a.place(k.domNode,m,"last");k.startup();k.resize()}})})},"sys/mobile/js/mui/search/SearchBar":function(){define(["dojo/_base/declare","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/query","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/history/listener","dojo/_base/lang"],function(h,p,e,g,o,f,m,l,n,k,d,b,a){return h("mui.search.SearchBar",[g,e,p],{searchUrl:"/sys/ftsearch/mobile/index.jsp?keyword=!{keyword}&modelName=!{modelName}&searchFields=!${searchFields}&docStatus=!{docStatus}",modelName:"",keyword:"",searchFields:"",docStatus:"",jumpToSearchUrl:true,height:"inherit",needPrompt:true,forPage:false,placeHolder:d["mui.search.hint"],buildRendering:function(){this.inherited(arguments);o.replace(this.containerNode,"muiSearchBar");var t=null;var r=n(this.containerNode).parent("form");var s;if(r.length==0){this._searchForm=f.create("form",{action:"",onsubmit:"return false;"},this.containerNode);s=this._searchForm}else{this._searchForm=r[0];s=this.containerNode}t=f.create("div",{className:"muiSearchBarContainer"},s);var q=f.create("div",{className:"muiSearchDiv"},t);this._searchContainer=t;this.searchIconNode=f.create("div",{className:"muiSearchIcon fontmuis muis-search",style:{"z-index":"2"}},q);this.clearNode=f.create("div",{className:"muiSearchClear fontmuis muis-delete"},q);this.searchNode=f.create("input",{className:"muiSearchInput",type:"search",value:this.keyword,placeHolder:this.placeHolder||d["mui.search.search"]},q);this.buttonArea=f.create("div",{className:"muiSearchBtnDiv"},t);this.cancelNode=f.create("div",{className:"muiSearchCancelBtn muiFontSizeM muiFontColorMuted",innerHTML:d["mui.search.cancel"]},this.buttonArea);m.set(this.buttonArea,{display:"none"})},postCreate:function(){this.inherited(arguments);this.connect(this._searchForm,"onsubmit","_onSearch");this.connect(this.searchNode,"onfocus","_onfocus");this.connect(this.searchNode,"onclick","_onfocus");this.connect(this.searchNode,"oninput","_onChange");this.connect(this.clearNode,"onclick","_onClear");this.connect(this.cancelNode,"onclick","_onCancel");this.subscribe("/mui/searchbar/cancel","_onCancel");this.subscribe("/mui/searchbar/clickListItem","clickListItem");this.subscribe("/mui/searchbar/show","_onfocus");this.subscribe("/mui/search/keyword","_fillKeyword");this.subscribe("/mui/search/submit","_onSubmit")},startup:function(){if(this._started){return}this.inherited(arguments);if(this.height&&this.height!="inherit"){m.set(this.domNode,{height:this.height,"line-height":this.height})}if(this.forPage){this._onfocus$(!!this.keyword)}},_onSubmit:function(q,t){if(this==q&&t&&t.url&&this.jumpToSearchUrl){this.searchNode.value=this.keyword;location=t.url}},_fillKeyword:function(s,q){if(q){var r=q.keyword;if(!r){return}r=k.decodeHTML(r);r=r.replace(/&amp;/g,"&");this.set("keyword",r);this._onSearch()}},_onfocusCommon:function(){l.publish("/mui/search/onfocus",this);if(!this.forPage){m.set(this.buttonArea,{display:"table-cell"})}if(this.keyword){this.showClear()}},_onfocus$:function(q){this._onfocusCommon();this._showPrompt$(q)},_onfocus:function(r){if(this.show){return}if(!this.needPrompt){this._onfocusCommon()}else{this.show=true;var t=a.hitch(this,function(){this._onfocus$()});var s=a.hitch(this,function(){this._onCancel$()});var q=b.push({forwardCallback:t,backCallback:s});this.beforeSelectCateHistoryId=q.previousId;this._eventStop(r)}},_showPrompt$:function(t){if(!this.promptNode){this.promptNode=f.create("div",{className:"muiSearchPrompt fadeIn animated"},document.body);var r=this;require(["mui/search/_SearchPrompt"],function(u){r._prompt=new u({srcNodeRef:r.promptNode,prefix:r.modelName,modelName:r.modelName,parent:r,forPage:r.forPage});r._prompt.startup();if(t){r._fillKeyword(null,r)}})}else{if(this._prompt){this._prompt.show()}}var q=this;var s=this.connect(document.body,"touchend",function(u){if(u.target!=q.searchNode){setTimeout(function(){q.searchNode.blur();q.disconnect(s)},410)}})},show:false,showClear:function(){m.set(this.clearNode,{display:"inline-block"})},hideClear:function(){m.set(this.clearNode,{display:"none"})},_onChange:function(){if(this.timeout){clearTimeout(this.timeout)}var q=this;this.timeout=setTimeout(function(){q.keyword=q.searchNode.value;if(q.keyword){q.showClear();if(q.needPrompt){if(!q._complete){require(["mui/search/_SearchComplete"],function(r){q._complete=new r({parent:q});q._complete.startup()})}}}else{q.hideClear()}l.publish("/mui/search/onChange",q)},300)},_onClear:function(){this.set("keyword","");this.hideClear();l.publish("/mui/search/onClear",this);l.publish("/mui/search/onChange",this)},_onCancel$:function(){this.show=false;this._onClear();m.set(this.buttonArea,{display:"none"});l.publish("/mui/search/cancel",this)},clickListItem:function(q){b.go({historyId:this.beforeSelectCateHistoryId,callback:a.hitch(this,function(){if(q&&q.cb){q.cb()}})})},_onCancel:function(){if(this.beforeSelectCateHistoryId){b.go({historyId:this.beforeSelectCateHistoryId,callback:a.hitch(this,function(){this._onCancel$()})})}else{this._onCancel$()}},_eventStop:function(q){if(q){if(q.stopPropagation){q.stopPropagation()}if(q.cancelBubble){q.cancelBubble=true}if(q.preventDefault){q.preventDefault()}if(q.returnValue){q.returnValue=false}}},_setKeywordAttr:function(q){this.keyword=q;this.searchNode.value=q},_onSearch:function(q){this._eventStop(q);this.set("keyword",this.searchNode.value);if(this.keyword){var s={};if(!this.needPrompt){if(this.searchUrl){var r=k.formatUrl(k.urlResolver(this.searchUrl,this));s.url=r}s.keyword=decodeURIComponent(this.keyword);s.modelName=this.modelName;s.searchFields=this.searchFields;s.docStatus=this.docStatus}l.publish("/mui/search/submit",this,s)}return false}})})},"sys/attachment/mobile/js/AttachmentOptDialog":function(){define(["dojo/_base/declare","mui/dialog/Dialog","dojo/dom-construct"],function(e,b,a){var d=e("sys.attachment.mobile.js.AttachmentOptDialog",[b.claz],{buildRendering:function(){this.domNode=a.create("div",{className:"muiDialogElement"+(this.showClass!=null?" "+this.showClass:"")},document.body,"last");this.containerNode=a.create("div",{className:"muiAttDialogContainer"},this.domNode);a.place(this.element,this.containerNode);a.create("div",{className:"muiAttDialogBottom",innerHTML:"取消"},this.containerNode);this.connect(this.domNode,"click","_onClose")},_onClose:function(f){if(this.callback){this.callback(window,this)}this.hide()}});return{element:function(f){var g=new d(f);return g.show()}}})},"sys/mobile/js/mui/header/HeaderItem":function(){define(["dojo/_base/declare","dojox/mobile/_ItemBase","dojo/dom-style","mui/util"],function(e,b,d,a){return e("mui.header.HeaderItem",[b],{icon:null,baseClass:"muiHeaderItem",label:null,referListId:null,buildRendering:function(){if(this.icon){this.baseClass=this.baseClass+" "+this.icon}this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/list/loaded","refreshLabel")},refreshLabel:function(f){if(f&&f.id==this.referListId&&this.label){if(f.totalSize){this.domNode.innerHTML="<div class='muiHeaderItemLable muiFontSizeM muiFontColorInfo'>"+a.formatText(this.label)+"("+f.totalSize+")</div>"}}},startup:function(){this.inherited(arguments);if(this.domNode.parentNode){var g=this.domNode.parentNode.style.height;if(g>0||parseFloat(g)>0){var f={height:g,"line-height":g};d.set(this.domNode,f)}}},_setLabelAttr:function(f){if(this.label){this.domNode.innerHTML="<div class='muiHeaderItemLable muiFontSizeM muiFontColorInfo'>"+a.formatText(this.label)+"</div>"}}})})},"sys/mobile/js/mui/category/ACategoryListMixin":function(){define(["dojo/_base/declare","mui/util","mui/category/AppBarsMixin"],function(b,a,d){return b("mui.category.ASwapCategoryList",[d],{SWAP_EVENT:"mui/category/swap",buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/category/path","aChange");if(window.pathItem){this.aChange(this,[])}},_reload:function(){this.buildLoading();this.reload();this.getParent().slideTo({y:0},0,"linear")},_cateChange:function(f,e){},aChange:function(f,e){if(f.key!=this.key){return}var g;if(e&&e.length>1){g=e[e.length-2]}if(this.parentId==g){return}this.parentId=g;if(this._dataUrl&&this._dataUrl!="undefined"){this.dataUrl=this._dataUrl}this.url=a.urlResolver(a.formatUrl(this.dataUrl),this);this._reload()}})})},"sys/mobile/js/mui/datetime/_DateTimeMixin":function(){define(["dojo/_base/declare","mui/datetime/_EditDateTimeMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b,a,d){return b("mui.datetime._DateTimeMixin",[a],{type:"datetime",tmplStr:'<div data-dojo-type="mui/datetime/DatePicker" id="_date_picker" data-dojo-props="value:\'!{dateValue}\'"></div><div data-dojo-type="mui/datetime/TimePicker" id="_time_picker" data-dojo-props="value:\'!{timeValue}\', minuteStep:\'!{minuteStep}\'"></div>',title:d["mui.datetime.select"],_contentExtendClass:"muiDateTimeDialogDisContent"})})},"sys/mobile/js/mui/nav/NavBarStepMixin":function(){define("mui/nav/NavBarStepMixin",["dojo/dom-construct","dojo/_base/declare","dojo/dom-class","dojo/topic","dojo/_base/array","mui/nav/_ShareNavBarMixin","dojo/_base/lang"],function(b,e,f,d,k,h,g){var a=e("mui.nav.NavBarStepMixin",null,{height:"3.4rem",buildRendering:function(){this.inherited(arguments);f.remove(this.containerNode,"muiNavbarContainer");var n=b.create("div",{className:"muiStepNavBarContainer"});b.place(n,this.domNode,"before");b.place(this.domNode,n,"first");f.add(this.domNode,"muiStepNavBar");f.add(this.containerNode,"muiStepNav");var l=this;var m=function(o){var r=l;for(var p=0;p<r.getChildren().length;p++){var q=r.getChildren()[p];if(o.id==q.moveTo){q.beingSelected(q.domNode);return}}};d.subscribe("mui/form/validateFail",function(o){m(o)});d.subscribe("mui/view/currentView",function(o){m(o)})},generateList:function(l){k.forEach(l,function(n,m){if(m==0){this.addFirstChild(this.createListItem(g.mixin(n,{tabIndex:m,order:m+1})));return}this.addChild(this.createListItem(g.mixin(n,{tabIndex:m,order:m+1})));if(n[this.childrenProperty]){k.forEach(n[this.childrenProperty],function(p,o){this.addChild(this.createListItem(g.mixin(n,{tabIndex:o,order:o+1})))},this)}},this)}});return a})},"sys/mobile/js/mui/datetime/SpinWheelDatePicker7":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","mui/datetime/_DatePickerMixin7","dojox/mobile/SpinWheel","dojox/mobile/SpinWheelSlot"],function(g,b,e,d,f,a){return b("mui.datetime.SpinWheelDatePicker7",[f,d],{slotClasses:[a,a,a],slotProps:[{labelFrom:1970,labelTo:2038},{},{}],buildRendering:function(){this.initSlots();this.inherited(arguments);e.add(this.domNode,"mblSpinWheelDatePicker");$(".mblSpinWheelSlot").eq(2).hide();this._conn=[this.connect(this.slots[0],"onFlickAnimationEnd","_onYearSet"),this.connect(this.slots[1],"onFlickAnimationEnd","_onMonthSet"),this.connect(this.slots[2],"onFlickAnimationEnd","_onDaySet")]},disableValues:function(h){g.forEach(this.slots[2].panelNodes,function(k){for(var l=27;l<31;l++){e.toggle(k.childNodes[l],"mblSpinWheelSlotLabelGray",l>=h)}})}})})},"sys/mobile/js/mui/nav/_ShareNavBarMixin":function(){define("mui/nav/_ShareNavBarMixin",["dojo/_base/declare","dojo/_base/array","dojo/dom-style"],function(d,e,b){var a=d("mui.nav._ShareNavBarMixin",null,{buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/nav/onComplete","onShare")},onShare:function(n,h){var m=this.containerNode.offsetWidth,g=this.domNode.offsetWidth;if(m>g){return}var l=this.getChildren();var f=0;e.forEach(l,function(p){var o=p.domNode;f+=o.offsetWidth});var k=(m-f)/(l.length*2);e.forEach(l,function(p){var o=p.domNode;b.set(o,{"margin-left":k+"px","margin-right":k+"px"})})}});return a})},"sys/mobile/js/mui/category/CategoryItemMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/topic","dojox/mobile/_ItemBase","mui/util","mui/history/listener","mui/iconUtils"],function(e,d,h,f,k,g,a,b){var l=e("mui.category.CategoryItemMixin",[k],{fdId:"",label:"",icon:"",type:null,header:"false",tag:"li",key:null,buildRendering:function(){this._templated=!!this.templateString;var n=this.domNode==null&&this.containerNode==null&&this.srcNodeRef==null;if(!this._templated&&n){this.domNode=this.containerNode=this.srcNodeRef||d.create(this.tag,{className:"muiCateItem fadeIn animated"});var m="muiCateInfoItem";if(this.header=="true"){m=" muiGroupItem"}this.contentNode=d.create("div",{className:m},this.domNode)}this.inherited(arguments);if(!this._templated){this._buildItemBase()}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/cancelSelected","_cancelSelected");this.subscribe("/mui/category/setSelected","_setSelected");this.subscribe("/mui/category/commonSelected","commonSelected");this.subscribe("/mui/category/commonUnSelected","commonUnSelected")},_buildItemBase:function(){this.cateContainer=d.create("div",{className:"muiCateContainer"},this.contentNode);if(this.header!="true"){this.iconNode=d.create("div",{className:"muiCateIcon"},this.cateContainer);this.buildIcon(this.iconNode);if(this.fdIsAvailable===false){this.availableNode=d.create("div",{className:"muiAddressIsAvailableFalse"},this.iconNode)}this.infoNode=d.create("div",{className:"muiCateInfo"},this.cateContainer);this.titleNode=d.create("div",{className:"muiCateName",innerHTML:g.formatText(this.label)},this.infoNode);this.connect(this.iconNode,"click","_selectCate");this.connect(this.infoNode,"click","_selectCate")}else{this.titleNode=d.create("div",{className:"muiCateName muiCateTitle",innerHTML:this.getTitle()},this.cateContainer)}this.moreArea=d.create("div",{className:"muiCateMore"},this.cateContainer)},startup:function(){if(this._started){return}this.inherited(arguments);var m=this.getParent();this.key=m.key;if(this.header!="true"){if(m.showMore&&this.showMore()){if(this.moreArea.childElementCount==0){d.create("i",{className:"mui mui-forward"},this.moreArea)}this.connect(this.moreArea,"click","_openCate")}else{d.destroy(this.moreArea)}if(m.selType!=null){if(this.showSelect()){this.selectArea=d.create("div",{className:"muiCateSelArea"},this.cateContainer,"first");this.selectNode=d.create("div",{className:"muiCateSel"},this.selectArea);var n=this.getParent();if(n.isMul){h.add(this.selectNode,"muiCateSelMul")}if(this.isSelected()){this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);h.add(this.selectNode,"muiCateSeled")}h.add(this.domNode,"muiCateHasSel");this.connect(this.selectArea,"click","_selectCate")}}}else{f.publish("/mui/category/addNav",this,{label:this.label})}},_openCate:function(m){m&&m.stopPropagation();f.publish("/mui/category/changed",this,{fdId:this.fdId,label:this.label});return},_cancelSelectedTrigger:function(m){f.publish("/mui/category/unselected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type});f.publish("/mui/category/cate_unselected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})},_cancelSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){window._curIds="-";if(this.checkedIcon){h.remove(this.selectNode,"muiCateSeled");d.destroy(this.checkedIcon);this.checkedIcon=null;this._cancelSelectedTrigger(m)}}}}},commonUnSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId.indexOf(this.fdId)>-1){if(this.checkedIcon){h.remove(this.selectNode,"muiCateSeled");d.destroy(this.checkedIcon);this.checkedIcon=null}}}}},commonSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){h.add(this.selectNode,"muiCateSeled");if(!this.checkedIcon){this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode)}}}}},_setSelectedTrigger:function(){f.publish("/mui/category/selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type});f.publish("/mui/category/cate_selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})},_setSelected:function(n,m){if(n.key==this.key){if(m&&m.fdId){if(m.fdId==this.fdId){window._curIds=this.fdId;if(this.checkedIcon){d.destroy(this.checkedIcon);this.checkedIcon=null}if(!this.selectNode){return}if(!h.contains(this.selectNode,"muiCateSeled")){h.add(this.selectNode,"muiCateSeled")}this.checkedIcon=d.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);this._setSelectedTrigger(m)}}}},startTime:0,_toggleSelect:function(m){if(m){this._setSelected(this,this)}else{this._cancelSelected(this,this)}},_selectCate:function(m){if(m){if(m.stopPropagation){m.stopPropagation()}if(m.cancelBubble){m.cancelBubble=true}if(m.preventDefault){m.preventDefault()}if(m.returnValue){m.returnValue=false}}var o=new Date().getTime();var p=this.ctime;if((p!="undefined"&&(o-p<500))||this.selectCateCalling){return false}else{this.ctime=new Date().getTime();this.selectCateCalling=true;if(this.selectNode){if(this.checkedIcon!=null){this._toggleSelect(false)}else{this._toggleSelect(true)}}else{var n=this.getParent();if(this.showMore()&&n.showMore){this._openCate()}else{this.showItemDetail()}}this.ctime=new Date().getTime();this.selectCateCalling=false;return true}},getTitle:function(){return this.label},showMore:function(){return true},showSelect:function(){return true},isSelected:function(){return true},showItemDetail:function(){},buildIcon:function(m){if(this.icon){b.setIcon(this.icon,null,this._headerIcon,null,m)}},_setLabelAttr:function(m){if(m){this._set("label",m)}}});return l})},"sys/mobile/js/mui/nav/NavBarStore":function(){define("mui/nav/NavBarStore",["./NavBar","dojo/_base/declare","./_StoreNavBarMixin"],function(a,d,b){return d("mui.nav.NavBarStore",[a,b],{height:"4.4rem"})})},"sys/mobile/js/mui/category/CategoryScrollNav":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/topic","mui/dialog/Tip"],function(f,e,k,d,b,h,g,l){var a=f("mui.category.CategoryScrollNav",[e],{refrenceDom:null,absoluteDom:null,baseClass:"muiCateNav",navDatas:[],navItems:[],key:null,buildRendering:function(){this.inherited(arguments);if(typeof(this.refrenceDom)=="string"){this.refrenceDom=d.byId(this.refrenceDom)}if(typeof(this.absoluteDom)=="string"){this.absoluteDom=d.byId(this.absoluteDom)}this.navDatas=[];this.navItems=[]},postCreate:function(){if(!this.scope||this.scope=="11"){return}this.inherited(arguments);this.subscribe("/mui/view/resized","_resizeNav");this.subscribe("/mui/category/addNav","_addNavItem");this.subscribe("/mui/category/clearNav","_clearNav")},_clearNav:function(n,m){if(n.key==this.key){this.navDatas=[];this.navItems=[];b.empty(this.domNode)}},_resizeNav:function(q){if(q.key==this.key){b.empty(this.domNode);var n=this.refrenceDom.offsetHeight;var o=0;if(this.absoluteDom){o=this.absoluteDom.offsetHeight}var m=this;k.forEach(this.navDatas,function(u,t){if(u!="2"&&u!="4"){var v=b.create("span",{className:"muiCateNavItem",innerHTML:u},m.domNode);m.connect(v,"click",function(){m._ItemClick({label:u,refHeight:n})});m.navItems.push(v)}});if(this.navItems.length>0){h.set(this.domNode,{display:"block",top:(this.refrenceDom.offsetTop+o)+"px",height:(n-o)+"px"});var r=b.create("span",{className:"muiCateNavItem"},this.domNode,"first");var p=b.create("i",{className:"mui mui-search"},r);this.connect(r,"click","_toTop");this.navItems.push(r);var s=18;if(this.navItems.length>20){s=Math.floor((n-o)/this.navItems.length)}h.set(p,{"font-size":"12px"});h.set(p,{height:s+"px"});h.set(p,{"line-height":s+"px"});k.forEach(this.navItems,function(t){h.set(t,{height:s+"px","line-height":s+"px","font-size":"12px"})})}else{h.set(this.domNode,{display:"none"})}}},_ItemClick:function(m){this.defer(function(){g.publish("/mui/cate/navTo",this,m)},200)},_toTop:function(m){this.defer(function(){g.publish("/mui/view/scrollTo",this)},200)},_addNavItem:function(n,m){if(n.key==this.key){if(m&&m.label){this.navDatas.push(m.label)}}},startup:function(){if(this._started){return}this.inherited(arguments)}});return a})},"sys/mobile/js/mui/tabbar/TabBarView":function(){define(["dojo/_base/declare","dojox/mobile/View","dojo/dom-style","dojo/dom-class","dojo/_base/window","dijit/registry","dojo/_base/array"],function(e,h,d,f,g,b,k){var a=e("mui.tabbar.TabBarView",[h],{startup:function(){if(this._started){return}this.findAppBar();this.inherited(arguments)},findAppBar:function(){if(this.domNode.parentNode){for(var m=0,l=this.domNode.parentNode.childNodes.length;m<l;m++){c=this.domNode.parentNode.childNodes[m];this.checkFixedBar(c)}}},checkFixedBar:function(m){if(m.nodeType===1){var l=m.getAttribute("fixed")||m.getAttribute("data-mobile-fixed")||(b.byNode(m)&&b.byNode(m).fixed);if(l==="top"){f.add(m,"mblFixedHeaderBar");this.fixedHeader=m}else{if(l==="bottom"){f.add(m,"mblFixedBottomBar");this.fixedFooter=m}}}},width:"100%",resize:function(){this.footerHeight=(this.fixedFooter)?this.fixedFooter.offsetHeight:0;this.headerHeight=(this.fixedHeader)?this.fixedHeader.offsetHeight:0;d.set(this.domNode,"height",g.global.innerHeight-this.footerHeight-this.headerHeight+"px");k.forEach(this.getChildren(),function(l){if(l.resize){l.resize()}})}});return a})},"sys/mobile/js/mui/form/Editor":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-class","mui/util","dojo/_base/array","dojo/topic","dojo/touch","mui/form/editor/EditorPluginMixin","dojo/text!./editor/tmpl/layout.html","dojo/html","dojo/_base/lang","dojo/query","dojo/Deferred","dojo/dom-style","dojo/dom-attr","dijit/registry","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(t,q,e,k,b,g,p,f,m,s,l,u,d,a,o,r,h,n){return t("mui.form.Editor",[q,m],{edit:true,name:null,options:{},baseClass:"muiEditor",showStatus:"edit",layout:s,EVENT_VALUE_CHANGED:"/mui/form/valueChanged",fdMulti:true,tipMsg:n["mui.form.please.input"],orient:"none",startup:function(){this.inherited(arguments);this.subscribe(this.EVENT_VALUE_CHANGED,"_onValueChange")},buildRendering:function(){if(this.orient=="vertical"){this.baseClass="newMui "+this.baseClass}else{this.baseClass="oldMui "+this.baseClass}this.formatContent=[];this.saveContentHandler=[];this.inherited(arguments);k.add(this.domNode,this.baseClass);this.edit=this.showStatus!="view";this._buildValue();this.synValue()},synValue:function(){if(typeof(Com_Parameter)=="undefined"){return}var v=this;Com_Parameter.event.submit.push(function(){v._synValue();return true})},format:function(){var w=this._format();for(var v=0;v<this.saveContentHandler.length;v++){w=this.saveContentHandler[v](w,this)}return b.base64Encode(w)},_format:function(){if(this.__textNode){var w=this.__textNode.innerHTML;for(var v=0;v<this.formatContent.length;v++){w=this.formatContent[v](w)}return w}return""},_synValue:function(){this.valueNode.value=this.format()},_buildValue:function(){this.inherited(arguments);var w="build"+b.capitalize(this.showStatus);this[w]?this[w]():"";var v=this.showStatus+"ValueSet";this.showStatusSet=this[v]?this[v]:new Function()},buildEdit:function(){this.editorDeferred=new a();var y="";if(!this.placeholder){this.placeholder=this.tipMsg+(this.subject?this.subject:"")}y=this.placeholder;this.editorNode=e.create("div",{className:"muiEditorContainer"},this.domNode);this.inherited(arguments);var x=this;var w=new l._ContentSetter({parseContent:true,cleanContent:true,node:this.editorNode,onBegin:function(){if(x.name){x.options.name=x.name}this.content=u.replace(this.content,x.options);this.inherited("onBegin",arguments)}});if(this.layout){w.set(this.layout)}else{w.set(s)}var v=this;w.parseDeferred.then(u.hitch(this,function(z){this.pluginNode=d(".muiEditorPlugin",this.editorNode)[0];this.titleNode=d(".muiEditorTitle",this.editorNode)[0];if(v.subject){this.titleNode.innerHTML=v.subject}this.textContainerNode=d(".muiEditorTextContainer",this.editorNode)[0];this.__textNode=d("div.muiEditorTextarea",this.textContainerNode)[0];if(this.placeholder&&!this.value){r.set(this.__textNode,"placeholder",y)}this.connect(this.__textNode,"blur","onBlur");this.connect(this.__textNode,"input","onInput");this.valueNode=d("textarea.muiEditorTextarea",this.textContainerNode)[0];this.editorDeferred.resolve()}));w.tearDown()},placeholder:null,onInput:function(v){this.publishValueChange();this.resizeContentEditableHeight();var x=h.byId("mui_form_editor_plugins_face_Plugin_0");if(x){if(x._isShow){x.hide()}}var w=v.target;if(w.innerHTML){k.add(this.domNode,"showTitle")}else{k.remove(this.domNode,"showTitle")}},resizeContentEditableHeight:function(){var v=180;if(this.valueNode){v=this.valueNode.offsetHeight}if(v<=0&&this.__textNode.value!=""){v=this.__textNode.scrollHeight}if(v<=180){v=180}o.set(this.__textNode,{height:v+"px"})},onBlur:function(w){var y=document.getSelection();var x=null;try{x=y.getRangeAt(0)}catch(z){}var A=x.endOffset,v=x.endContainer;if(v.nodeType===3){this.isText=true}else{this.isText=false}this.__pos=A;this.__container=v},insertElement:function(w){var y=this.__container;if(!y){e.place(w,this.__textNode,"last")}else{var x=this.__pos;if(this.isText){y.splitText(x);y.parentNode.insertBefore(w,y.nextSibling)}else{y.insertBefore(w,y.childNodes[x])}}this.publishValueChange();var v=this.__textNode.innerHTML;if(v.indexOf("<br>")==0){this.__textNode.innerHTML=v.replace("<br>","")}},_getValueAttr:function(){return this.__textNode.innerHTML},publishValueChange:function(){p.publish(this.EVENT_VALUE_CHANGED,this,{value:this._format()})},_setValueAttr:function(v){this._set("value",v);if(this.showStatusSet){this.showStatusSet(v)}this.publishValueChange()},viewValueSet:function(v){this.editValueSet(v)},editValueSet:function(v){if(this.valueNode){this.valueNode.value=v}if(this.__textNode){this.__textNode.innerHTML=v}},readOnlyValueSet:function(v){this.editValueSet(v)},hiddenValueSet:function(v){if(this.valueNode){this.valueNode.value=v}},_onValueChange:function(){}})})},"sys/mobile/js/mui/category/CommonCategoryList":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/util","mui/list/JsonStoreList","mui/category/CategoryAllSelectMixin"],function(d,b,a,f,e){return d("mui.category.CommonCategoryList",[f,e],{dataUrl:"",parentId:null,selType:null,curIds:null,curNames:null,isMul:false,baseClass:"muiCateLists",key:null,buildRendering:function(){this.url=a.urlResolver(this.dataUrl,this);this.inherited(arguments);this.domNode.className=this.baseClass;this.subscribe("/mui/category/selChanged","_setCurSel");this.buildLoading()},_setCurSel:function(h,g){if(h.key==this.key){if(g){this.curIds=g.curIds;this.curNames=g.curNames}}},startup:function(){this.inherited(arguments)},buildLoading:function(){if(this.tmpLoading==null){b.empty(this.domNode);this.tmpLoading=b.create("li",{className:"muiCateLoading",innerHTML:'<i class="mui mui-loading mui-spin"></i>'},this.domNode)}},onComplete:function(){if(this.tmpLoading){b.destroy(this.tmpLoading);this.tmpLoading=null}this.inherited(arguments)}})})},"sys/mobile/js/mui/address/AddressNavBarMixin":function(){define(["dojo/_base/declare","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,b){return a("mui.address.AddressNavBarMixin",null,{memory:[{moveTo:"usualCateView",text:b["mui.mobile.address.usual"],key:"usual",channelName:"addressNav",selected:true},{moveTo:"allCateView",text:b["mui.mobile.address.allCate"],channelName:"addressNav",key:"all"},{moveTo:"groupView",text:b["mui.mobile.address.group"],channelName:"addressNav",key:"group"}],startup:function(){this.inherited(arguments);if(this.deptLimit){this.memory=[{moveTo:"allCateView",text:b["mui.mobile.address.allCate"],channelName:"addressNav",key:"all",selected:true}]}}})})},"sys/mobile/js/mui/address/AddressChannelMixin":function(){define(["dojo/_base/declare"],function(a){return a("mui.address.AddressChannelMixin",null,{channel:null,isSameChannel:function(b){if(b&&b.channel){return this.channel==b.channel}return false}})})},"sys/mobile/js/mui/form/_AlignMixin":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/registry","dojo/_base/query"],function(b,d,a,e){return b("mui.form._AlignMixin",null,{alignClass:"muiFormAlign",buildRendering:function(){this.inherited(arguments);if(!this.isForm){this.containerAlign()}else{this.formAlign()}},getAlign:function(){return"edit"==this.showStatus?"right":"left"},containerAlign:function(){d.add(this.domNode,this.alignClass)},formAlign:function(){var f=e(this.domNode).parents("."+this.alignClass);if(f.length==0){return}this.align=this.getAlign()}})})},"sys/attachment/mobile/js/AttachmentViewContentListItem":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/util","dojo/_base/lang","mui/dialog/Tip","sys/attachment/mobile/js/_AttachmentItem","sys/attachment/mobile/js/_AttachmentLinkItem","mui/device/adapter","mui/device/device","sys/attachment/mobile/js/_AttachmentViewOnlineMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-view","dojo/request"],function(declare,domConstruct,util,lang,Tip,AttachmentItem,AttachmentLinkItem,adapter,device,_AttachmentViewOnlineMixin,msg,request){return declare("sys.attachment.mobile.js.AttachmentViewContentListItem",[AttachmentItem,AttachmentLinkItem,_AttachmentViewOnlineMixin],{buildItem:function(){var text=this.customSubject;if(text==""){text=msg["mui.viewContent"]}var childNode=domConstruct.create("div",{className:"muiReadAllItem "},this.containerNode);var childNode1=domConstruct.create("div",{className:"textAlign"},childNode);var readNode=domConstruct.create("span",{className:"muiReadAll",innerHTML:text},childNode1);if(this.href){this.connect(readNode,"click",lang.hitch(this._onItemClick))}var devType=device.getClientType();var fdFileType=this.getType();if(this.canEdit){var _self=this;if((this.wpsWebOfficeEnable||this.wpsCloudOfficeEnableEdit||this.wpsCenterWebOfficeEnable||this.wpsCloudOfficeEnableMobileEdit)&&(fdFileType=="word"||fdFileType=="excel"||fdFileType=="ppt")){var editNode=domConstruct.create("span",{className:"muiReadAll",innerHTML:msg["mui.editContent"]},childNode1);if(_self.href){_self.connect(editNode,"click",function(){_self.editWps()})}}else{if(devType==9||devType==10){adapter.mixinReady(function(){if(typeof eval(adapter.canUseJinGe)=="function"){var authDf=adapter.canUseJinGe();authDf.then(function(auth){if(auth.office&&(fdFileType=="word"||fdFileType=="excel"||fdFileType=="ppt")){var editNode=domConstruct.create("span",{className:"muiReadAll",innerHTML:msg["mui.editContent"]},childNode1);if(_self.href){_self.connect(editNode,"click",function(){_self.editfile(fdFileType)})}}if(auth.pdf&&fdFileType=="pdf"){var editNode=domConstruct.create("span",{className:"muiReadAll",innerHTML:msg["mui.sysAttMain.comment"]},childNode1);if(_self.href){_self.connect(editNode,"click",function(){_self.editfile(fdFileType)})}}})}})}}}if(this.canDownload){var childNode2=domConstruct.create("div",{className:"muiOtherOpt"},childNode);if(this.canDownload&&!this.newsFlag){var downloadNode=domConstruct.create("span",{className:"muiDownloadBtn",innerHTML:'<i class="mui mui-top"></i>'+msg["mui.sysAttMain.download"]},childNode2);if(this.href){this.connect(downloadNode,"click",function(){this._downLoad()})}}}},_downLoad:function(){if(this.canDownload){var logUrl="/sys/attachment/sys_att_download_log/sysAttDownloadLog.do?method=addDownlodLog&downloadType=manual&fdId="+this.fdId;request.post(util.formatUrl(logUrl,true));adapter.download({fdId:this.fdId,name:this.name,type:this.type,href:this.href})}else{Tip.tip({icon:"mui mui-warn",text:"无权限下载文件"})}}})})},"sys/mobile/js/mui/dialog/Confirm":function(){define(["dojo/_base/declare","dojo/dom-construct","mui/dialog/Dialog","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(d,b,a,e){return function(n,o,p,l,f,g){var q=o?o:e["mui.dialog.tips"];var h=n?n:"";var m=null;if(n!=""){m=b.create("div",{className:"muiConfirmDialogElement",innerHTML:"<div>"+h+"</div>"})}else{m=b.create("div",{className:"muiConfirmDialogNoElement"})}var k=l===true?true:false;g=g||{};var r={title:q,showClass:"muiConfirmDialogShow",element:m,closeOnClickDomNode:false,scrollable:false,parseable:false,iconClose:k,callback:f||null,buttons:[{title:g.cancelTitle||e["mui.search.cancel"],fn:function(s){if(g.cancelValidator&&Object.prototype.toString.call(g.cancelValidator)=="[object Function]"&&!g.cancelValidator(s)){return}s.hide();if(p){p(false,s)}}},{title:g.checkTitle||e["mui.button.ok"],fn:function(s){if(g.checkValidator&&Object.prototype.toString.call(g.checkValidator)=="[object Function]"&&!g.checkValidator(s)){return}s.hide();if(p){p(true,s)}}}]};return a.element(r)}})},"sys/mobile/js/mui/fixed/FixedItem":function(){define("mui/fixed/FixedItem",["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container"],function(d,e,b,a){return d("mui.fixed.FixedItem",[e,b,a],{showNav:function(){},hideNav:function(){}})})},"sys/mobile/js/mui/table/DetailTableScrollableView":function(){define(["dojo/_base/declare","mui/view/DocScrollableView"],function(a,b){return a("mui.table.DetailTableScrollableView",[b],{stopParser:true,_visible:false,buildRendering:function(){this.inherited(arguments)}})})},"sys/mobile/js/mui/panel/AccordionPanelMixin":function(){define("mui/panel/AccordionPanelMixin",["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/dom-construct","mui/panel/Content"],function(f,g,e,b,a,d){return f("mui.panel.AccordionPanelMixin",[g,e,b],{startup:function(){if(this._started){return}this.buildContent();this.inherited(arguments)},titleList:[],contentList:[],containDom:function(l){var k=this.getChildren();for(var h=0;h<k.length;h++){if(k[h].domNode==l){return k[h]}}return null},buildContent:function(){var r=[];for(var l=0;l<this.domNode.childNodes.length;l++){r.push(this.domNode.childNodes[l])}for(var m=0;m<r.length;m++){var o=this.containDom(r[m]);if(o){if(o instanceof d){var h=a.create("div",{className:"muiAccordionPanelContainer"},this.domNode);var q=a.create("div",{className:"muiAccordionPanelTitle"},h);this.titleList.push(q);var n=o;this.contentList.push({claz:n});var p="";if(n.icon){if(n.icon.indexOf("muis-")==0){p='<span class="fontmuis '+n.icon+'"></span>'}else{p='<span class="mui '+n.icon+'"></span>'}}var k=n.title;if(k){q.innerHTML=p+"<div>"+k+"</div>"}a.place(n.domNode,h)}}else{a.place(r[m],this.domNode)}}}})})},"sys/mobile/js/mui/form/checkbox/render/CheckBoxNormal":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","mui/util"],function(e,b,g,f,d,a){return e("mui.form.checkbox.render.CheckBoxNormal",[g],{renderType:"normal",checkboxNode:null,postCreate:function(){this.inherited(arguments);this.subscribe("mui/form/checkbox/renderCheckedStatus","_renderCheckedStatus")},_buildRender:function(h){if(this.renderType==h.renderType){this.checkboxNode=b.create("label",{className:"muiCheckItem"},h.domNode,"after");if(h.text){f.add(this.checkboxNode,"hasText");var k=b.create("div",{className:"mui-checkbox-base",style:h.style,innerHTML:h.text&&h.text.indexOf("&#039;")>0?h.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.formatText(h.text)},this.checkboxNode)}this.checkboxIcon=b.create("span",{className:"fontmuis muis-form-selected-cor muiCheckBlock "+h.unCheckedIcon},this.checkboxNode,"first")}return this.checkboxNode},_renderCheckedStatus:function(k,h){if(this.checkboxNode==h.domNode){if(h.checked){f.replace(this.checkboxNode,h.checkedIcon,h.unCheckedIcon);f.replace(this.checkboxIcon,h.checkedIcon,h.unCheckedIcon)}else{f.replace(this.checkboxNode,h.unCheckedIcon,h.checkedIcon);f.replace(this.checkboxIcon,h.unCheckedIcon,h.checkedIcon)}}}})})},"sys/mobile/js/mui/category/CategoryPath":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/dom-construct","./PathItem","dojo/dom-style","dojo/request","dojo/topic","dojo/_base/array","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(h,f,b,m,e,a,n,g,l,o,k,d){var p=h("mui.category.CategoryPath",[b,m,f],{itemRenderer:a,key:null,curId:null,curName:null,height:"inherit",baseClass:"muiCatePath",titleNode:d["mui.all.category"],detailUrl:null,buildRendering:function(){this.inherited(arguments);window.pathItem=null;this.containerNode=e.create("ul",{className:"muiCatePathContent"},this.domNode)},getPathContainer:function(){return this.containerNode},_createTitleNode:function(){var r=e.create("div",{className:"muiCatePathTitleItem"},this.containerNode);var s=e.create("div",{className:""},r);var q=e.create("span",{className:""},s);q.innerHTML=this.titleNode;this.connect(r,"onclick",function(){if(this.isEco&&this.isEcoPath){l.publish("/mui/category/cancel",{key:null});var t=new Object();t.isShow=false;t.fdId=null;l.publish("/sys/org/eco/card/reload",t)}this._chgHeaderInfo(this,{});l.publish("/mui/category/changed",this,{parentId:""})});return r},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/changed","_chgHeaderInfo")},startup:function(){if(this._started){return}this.inherited(arguments);this._initPath()},_showHeader:function(q){if(q.key==this.key){n.set(this.domNode,{display:"block"})}},_hideHeader:function(q){if(q.key==this.key){n.set(this.domNode,{display:"none"})}},_refreshHeader:function(){},createListItem:function(q){var q=new this.itemRenderer(this._createItemProperties(q));return q},_createItemProperties:function(q){return q},_initPath:function(){if(this.domNode.parentNode){var q;if(this.height==="inherit"){if(this.domNode.parentNode){q=this.domNode.parentNode.offsetHeight+"px"}}else{if(this.height){q=this.height}}n.set(this.domNode,{height:q,"line-height":q})}this._chgHeaderInfo(this,{fdId:this.curId});l.publish("/mui/category/changed",this,{fdId:this.curId})},_createPath:function(s){var r=[];var q=this;q.getPathContainer().innerHTML="";q._createTitleNode();if(s.length==0){return}o.forEach(s,function(t){q._createPathItem(t,t.label)},this);window.pathItem=r;l.publish("/mui/category/path",this,r)},_createPathItem:function(u,s,q){q=q||this.getPathContainer();var t=e.create("div",{className:"muiCatePathItem",value:u.fdId},q);var v=e.create("div",{className:""},t);if(s){var r=e.create("span",{className:""},v);r.innerHTML=s}this.connect(t,"onclick",function(){var A=u.fdId;if(A!=this.curId){this._chgHeaderInfo(this,{fdId:A});var x=-1;o.forEach(this.items,function(C,B){if(C.fdId==A){x=B;return false}},this);var z={fdId:A,parentId:""};if(x>=1){z.parentId=this.items[x-1].fdId}l.publish("/mui/category/changed",this,z);if(this.isEco&&this.isEcoPath){var y=new Object();if(u.fdOrgType==1){y.isShow=false;y.fdId=A}else{y.isShow=true;y.fdId=A;y.label=u.label;y.fdNo=u.fdNo;y.fdAdmin=u.admin}l.publish("/sys/org/eco/card/reload",y);var w=new Object();w.fdId=u.fdId;w.fdOrgType=u.fdOrgType;w.fdInviteUrl=u.fdInviteUrl;l.publish("/sys/org/eco/btn/change",w);l.publish("/sys/org/eco/btn/setId",u.fdId)}}});return t},_chgUrlInfo:function(r,q){return r},_chgHeaderInfo:function(s,r){if(s.key==this.key){if(r){if(r.fdId){n.set(this.domNode,{display:"block"});if(this.curId!=r.fdId||this.containerNode.innerHTML==""){this.curId=r.fdId;var t=k.urlResolver(this.detailUrl,this);t=k.formatUrl(t);t=this._chgUrlInfo(t,r);var u=g.post(t,{handleAs:"json"});var q=this;u.then(function(v){q.items=v;q._createPath(v)},function(v){})}}else{this.curId=null;this._createPath([])}}}}});return p})},"sys/mobile/js/mui/datetime/SpinWheelDatePicker_year":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","mui/datetime/_DatePickerMixin_year","dojox/mobile/SpinWheel","dojox/mobile/SpinWheelSlot"],function(g,d,e,b,f,a){return d("mui.datetime.SpinWheelDatePicker_year",[f,b],{slotClasses:[a,a,a],slotProps:[{labelFrom:1970,labelTo:2038},{},{}],buildRendering:function(){this.initSlots();this.inherited(arguments);e.add(this.domNode,"mblSpinWheelDatePicker");if(dojoConfig.locale=="en-us"){dojo.style(dojo.query(".mblSpinWheelSlot:nth-child(1)")[0],"display","none")}else{dojo.style(dojo.query(".mblSpinWheelSlot:nth-child(3)")[0],"display","none")}dojo.style(dojo.query(".mblSpinWheelSlot:nth-child(2)")[0],"display","none");dojo.query(".mblSpinWheelSlotLabel").forEach(function(h){h.style.textAlign="center"});this._conn=[this.connect(this.slots[0],"onFlickAnimationEnd","_onYearSet"),this.connect(this.slots[1],"onFlickAnimationEnd","_onMonthSet"),this.connect(this.slots[2],"onFlickAnimationEnd","_onDaySet")]},disableValues:function(h){g.forEach(this.slots[2].panelNodes,function(k){for(var l=27;l<31;l++){e.toggle(k.childNodes[l],"mblSpinWheelSlotLabelGray",l>=h)}})}})})},"sys/mobile/js/mui/search/SearchFilterContainer":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct"],function(b,d,a){return b("mui.search.SearchFilterContainer",[d],{buildRendering:function(){this.inherited(arguments)}})})},"sys/mobile/js/mui/tabbar/SaveDraftButton":function(){define(["dojo/_base/declare","mui/tabbar/TabBarButton","dojo/dom-class","dijit/registry","dojo/topic","mui/form/_FormBase","dojo/dom"],function(e,b,f,a,d,h,g){return e("mui.tabbar.SaveDraftButton",[b],{validateDomId:"scrollView",validateElementId:"",buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"muiBarSaveDraftButton")},docStatus:"",saveDraft:false,onClick:function(){this.defer(function(){var l=a.byId(this.validateDomId);var r=$.trim(this.validateElementId);if(!l){return}if(r){if(r.substring(r.length-1)==";"){r=r.substring(0,r.length-1)}}var m=false;var u=[];if(r){u=r.split(";")}else{m=true}var o=l.getValidateElements();for(var p=0;p<u.length;p++){var q=a.byNode(g.byId(u[p]));var t=o.indexOf(q);if(t>-1){o.splice(t,1)}}l.removeElementValidate(o,"required");this.saveDraft=true;if(l.validate()){m=true}else{m=false}this.saveDraft=false;l.resetElementValidate(l.getValidateElements());var k=Com_GetUrlParameter(location.href,"method");var s=this.docStatus;if(m){if(k=="add"){Com_Submit(document.forms[0],"saveDraft",null,{saveDraft:true})}else{if(s=="11"){Com_Submit(document.forms[0],"updateDraft",null,{saveDraft:true})}else{Com_Submit(document.forms[0],"update",null,{saveDraft:true})}}}},350)}})})},"sys/mobile/js/mui/table/toggle/View":function(){define(["dojo/_base/declare","dojox/mobile/ScrollableView","dojo/dom-style","dojo/ready","dojox/mobile/_css3"],function(d,f,b,e,a){return d("mui.table.View",[f],{scrollDir:"h",height:"100%",scrollBar:false,appBars:false,postCreate:function(){this.inherited(arguments);this.subscribe("/mui/list/resize","resize")},resize:function(){if(this.timer){clearTimeout(this.timer)}var g=this;var h=arguments;this.timer=setTimeout(function(){var k=g.containerNode.offsetHeight;var l=g.getParent();if(l&&l.resizeH){l.resizeH(k)}g.inherited(h)},10)},isFormElement:function(k){var h=a.name("userSelect"),g=b.getComputedStyle(k).userSelect||b.getComputedStyle(k).webkitUserSelect;if(g==="text"){return true}return false}})})},"sys/mobile/js/mui/search/SearchBarDialogMixin":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/dom-construct","dojo/topic","mui/search/SearchBar","mui/search/SearchDbBar","mui/util","dojo/touch","dojox/mobile/_css3"],function(f,k,d,g,b,a,h,e,l){return f("mui.search.SearchBarDialogMixin",null,{modelName:"",searchCancelEvt:"/mui/search/cancel",searchShowEvt:"/mui/searchbar/show",redirectURL:"",params:"",jumpToSearchUrl:true,needPrompt:true,showLayer:true,show:function(m){var o=false;if(!this.searchNodeDiv){var n={modelName:this.modelName,showLayer:this.showLayer,redirectURL:this.redirectURL,searchType:this.searchType,jumpToSearchUrl:this.jumpToSearchUrl,needPrompt:this.needPrompt};this.searchNodeDiv=d.create("div",{className:"muiSearchBarDiv"},document.body);this._searchBar=this.chooseSearch(n);this.searchNodeDiv.appendChild(this._searchBar.domNode);o=true}k.set(this.searchNodeDiv,"display","block");this.defer(function(){h.disableTouch(this.searchNodeDiv,e.move);if(o){this._searchBar.startup()}g.publish(this.searchShowEvt,this)},10);if(!this.bindedEvent){this.subscribe(this.searchCancelEvt,"hideSearchBar");this.bindedEvent=true}},chooseSearch:function(m){if(!m.redirectURL){return new b(m)}else{m.searchUrl=this.redirectURL+encodeURIComponent(this.params);return new a(m)}},hideSearchBar:function(m){k.set(this.searchNodeDiv,{display:"none"})}})})},"sys/mobile/js/mui/address/AddressOrgCategoryPathMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/request","dojo/dom-style","mui/util"],function(e,g,b,f,d,a){return e("mui.address.AddressOrgCategroyPathMixin",null,{_initPath:function(){var k=this;if(this.domNode.parentNode){var l;if(this.height==="inherit"){if(this.domNode.parentNode){l=this.domNode.parentNode.offsetHeight+"px"}}else{if(this.height){l=this.height}}d.set(this.domNode,{height:l,"line-height":l})}this._fetchParentId(function(h){k._chgHeaderInfo(k,{fdId:h});b.publish("/mui/category/changed",k,{fdId:h})},this.parentId)},_fetchParentId:function(m,l){if(this.isExt!=""&&this.isExt!=undefined&&this.isExt=="true"){m&&m("")}else{if(this.isEco!=""&&this.isEco!=undefined&&this.isEco=="true"){m&&m("")}else{if(l){m&&m(l)}else{var h=a.formatUrl("/sys/organization/mobile/address.do?method=parentId");var k=f.post(h,{handleAs:"json"});k.then(g.hitch(this,function(n){if(n&&n.parentId){m&&m(n.parentId)}else{m&&m("")}}),function(){m&&m("")})}}}}})})},"sys/mobile/js/mui/address/AddressSubordinatePathMixin":function(){define(["dojo/_base/declare"],function(a){return a("mui.address.AddressSubordinatePathMixin",[],{detailUrl:"/sys/organization/mobile/address.do?method=subordinatePath&fdId=!{curId}"})})},"sys/mobile/js/mui/select/SelectMenu":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase","dojo/dom-attr","dojo/dom-class","dojo/query","dojo/touch","dojo/topic","dojox/mobile/viewRegistry","dijit/registry","dojo/dom-construct","mui/util","dojo/on","dojo/dom","dojo/_base/array","dojo/dom-style","dojo/ready"],function(h,b,f,p,t,q,g,l,s,a,d,k,o,e,n,m,r){return h("mui.select.SelectMenu",[f],{nextId:"",data:[],dataIndex:0,SELECT_CHANGE:"mui/select/changed",buildRendering:function(){this.inherited(arguments);this.buildDefaultRender();this.buildSelectingRender()},buildDefaultRender:function(){var u=this;var w=(function(){for(var z=0;z<u.data.length;z++){var A=data[z];if(A.selected){u.dataIndex=z;return A.text}}var A=data[0];return A.text})();var y=this.headNode=d.toDom('<div id="h" class="muiFontSizeM muiFontColorInfo">'+w+'<span class="arrow"></span></div>');d.place(y,this.domNode);if(this.domNode.parentNode){var x=this.domNode.parentNode.style.height;var v={height:x,"line-height":x,"text-align":"center",width:"100%"};m.set(this.domNode,v)}this.connect(y,g.press,"headClick")},headClick:function(){var u=q(".muiSignInList")[0];if(!m.get(u,"display")||m.get(u,"display")=="none"){m.set(u,"display","block")}else{m.set(u,"display","none")}},buildSelectingRender:function(){this.parentNode=d.create("div",{className:"muiSignInList"},e.byId(this.nextId));this.parentLiNode=d.create("li",{className:"emphasize muiSignInDropDown muiSignInOpen"},this.parentNode);this.selectingNode=d.create("ul",{className:"muiSignInDropDownMenu"},this.parentLiNode);m.set(this.parentNode,"display","none");for(var v=0;v<this.data.length;v++){var u="";var w=this.data[v].text;if(v==this.dataIndex){u="selected";this.headNode.innerHTML=k.formatText(w)+'<span class="arrow"></span>'}this.liNode=d.create("li",{id:this.data[v].url,className:u,innerHTML:w},this.selectingNode);p.set(this.liNode,"data-index",v);this.connect(this.liNode,g.press,"itemClick")}this.hbgDiv=d.create("div",{id:"hbg",className:"ekp-ledger-customer-option-mask"},this.parentNode);this.connect(this.hbgDiv,g.press,"headBackClick");e.byId("content").insertBefore(this.parentNode,e.byId(this.nextId).nextSibling)},headBackClick:function(u){this.defer(function(){var v=q(".muiSignInList")[0];m.set(v,"display","none")},350)},itemClick:function(u){this.defer(function(){var y=q(".muiSignInList")[0];if(!m.get(y,"display")||m.get(y,"display")=="none"){m.set(y,"display","block")}else{m.set(y,"display","none")}q(".muiSignInDropDownMenu li").forEach(function(A){t.remove(A,"selected")});for(var x=0;x<this.data.length;x++){var v=p.get(u.target,"data-index");if(x==v){t.add(u.target,"selected");this.headNode.innerHTML=k.formatText(this.data[x].text)+'<span class="arrow"></span>';this.dataIndex=x}}var w=this.dataIndex,z=this.data[w].params||{};l.publish(this.SELECT_CHANGE,{args:z})},350)},startup:function(){if(this._started){return}this.inherited(arguments);var u=this.dataIndex,v=this.data[u].params||{};l.publish(this.SELECT_CHANGE,{args:v})}})})},"sys/mobile/js/mui/form/select/_StoreSelectMixin":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-class","dojo/dom-construct","mui/form/_StoreFormMixin","dojo/_base/array","dojo/_base/lang","mui/util"],function(d,k,l,b,e,h,a,f){var g=d("mui.form.select._StoreSelectMixin",e,{selectBoxPrefix:"_select_box_",valueField:null,values:[],itemRenderer:'<input type="checkbox" data-dojo-type="mui/form/CheckBox" name="_select_box_!{valueField}" value="!{value}" data-dojo-props="tag:\'li\',mul:!{mul},text:\'!{text}\',checked:!{checked},pop:!{pop}">',mul:true,required:false,pop:true,generateList:function(m){this.formatValues(m);this.set("value",this.value)},formatValues:function(m){this.values=m},renderListItem:function(m){var n=this.value.split(";");h.forEach(this.values,a.hitch(this,function(q,o){q.selected=false;h.forEach(n,function(r){if(r==q.value){q.selected=true;return}});var p=this.createListItem(q);m.appendChild(p)}))},createListItem:function(o){var m=this.itemRenderer;var q=(typeof(o.text)!="undefined"&&o.text!=null)?f.formatTextChar(f.formatText(o.text.toString().replace(/'/g,"&#039;"))):"";var n=(typeof(o.value)!="undefined"&&o.value!=null)?f.formatTextChar(f.formatText(o.value.toString())):"";m=m.replace("!{text}",q);m=m.replace("!{checked}",o.selected);m=m.replace("!{value}",n);m=m.replace("!{mul}",this.mul);m=m.replace("!{valueField}",this.valueField);m=m.replace("!{pop}",this.pop);var p=b.toDom(m);return p},getSelectedValue:function(){var n=k('[name="'+this.selectBoxPrefix+this.valueField+'"]:checked',this.contentNode);var m="";h.forEach(n,function(p,o){m+=o==0?p.value:";"+p.value});return m},getTextByValue:function(p){var q="";if(p==undefined){return q}var n=p.split(";");for(var m=0;m<n.length;m++){for(var o=0;o<this.values.length;o++){if(n[m]==this.values[o].value){q+=(m==0?this.values[o].text:";"+this.values[o].text);break}}}return q}});return g})},"sys/mobile/js/mui/category/CategoryAllSelectMixin":function(){define(["dojo/_base/declare","mui/category/CategoryAllSelectItem","dojo/_base/array","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,d,e,b){return a("mui.category.CategoryAllSelectMixin",null,{generateList:function(f){if(this.isMul){this.addChild(new d({label:b["mui.catefilter.selectAll"],fdId:"all"}))}e.forEach(f,function(g){this.addChild(this.createListItem(g));if(g[this.childrenProperty]){e.forEach(g[this.childrenProperty],function(h){this.addChild(this.createListItem(h))},this)}},this)}})})},"sys/mobile/js/mui/table/ScrollableHViewArea":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-style","dojo/touch"],function(b,d,a,e){return b("mui.table.ScrollableHViewArea",[d],{buildRendering:function(){this.inherited(arguments);a.set(this.domNode,{"overflow-x":"auto","overflow-y":"hidden"})},postCreate:function(){this.inherited(arguments);var f=-1;this.connect(this.domNode,e.press,function(g){f=this.domNode.scrollLeft+g.pageX;g.preventDefault()});this.connect(this.domNode,e.move,function(g){if(f!=-1){var h=(f-g.pageX);this.domNode.scrollLeft=h}g.preventDefault()})},startup:function(){this.inherited(arguments)}})})},"sys/mobile/js/mui/folder/Folder":function(){define(["dojo/_base/declare","mui/folder/_Folder","mui/util","dojo/_base/array","dojo/html","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/window","dojo/query","dojo/touch","dojox/mobile/_css3","dojo/topic"],function(d,o,g,l,f,a,k,n,h,m,b,p,e){return d("mui.folder.Folder",[o],{tmplURL:null,icon:"mui mui-plus",HIDE_EVENT:"/mui/folder/hide",SHOW_EVENT:"/mui/folder/show",_scollTempl:'<div data-dojo-type="dojox/mobile/ScrollableView" data-dojo-props="scrollBar:true,height:\'100%\'" class="muiFolderView">!{tmplInfo}</div>',postCreate:function(){this.inherited(arguments)},hideStyle:{},showStyle:{},startup:function(){this.inherited(arguments);this.hideStyle[p.name("transform")]="translate3d(0, -50%, 0)";this.showStyle[p.name("transform")]="translate3d(0, 0, 0)";this.subscribe("/mui/searchbar/show","hide")},show:function(s){if(this._showed){this.hide();return}var t=this.domNode.offsetHeight;n.add(this.domNode,"muiFolderRotate muiFolderRotate135");if(this.expandDiv==null){this.expandDiv=a.create("div",{className:"muiFolderExpand"},document.body,"last");k.set(this.expandDiv,{top:t+"px",height:(h.getBox().h-t)+"px"});if(this.tmplURL!=null&&this.tmplURL!=""){var q=this;require(["dojo/text!"+g.formatUrl(g.urlResolver(this.tmplURL,this))],function(v){v=q._scollTempl.replace("!{tmplInfo}",v);v=v.replace("!{topHeight}",t);var u=new f._ContentSetter({node:q.expandDiv,parseContent:true,cleanContent:true});u.set(v);u.parseDeferred.then(function(x){q.parseResults=x;var w=m(".muiFolderView",q.expandDiv);k.set(w[0],q.showStyle);q._showed=true;e.publish(q.SHOW_EVENT,q,{})});u.tearDown()})}}else{k.set(this.expandDiv,{display:"block"});k.set(this.expandDiv,{top:t+"px",height:(h.getBox().h-t)+"px"});var r=m(".muiFolderView",this.expandDiv);k.set(r[0],this.showStyle);this._showed=true;e.publish(this.SHOW_EVENT,this,{})}this.expandHandle=this.connect(document.body,b.press,"hide")},hide:function(r){e.publish(this.HIDE_EVENT,this,{});if((r&&r.target==this.domNode)||this.expandDiv==null){return}if(this._showed!=true){return}n.remove(this.domNode,"muiFolderRotate muiFolderRotate135");var q=m(".muiFolderView",this.expandDiv);k.set(q[0],this.hideStyle);this.defer(function(){k.set(this.expandDiv,{display:"none"})},410);if(this.expandHandle){this.expandHandle.remove()}this._showed=false}})})},"sys/mobile/js/mui/form/checkbox/render/CheckBoxBlock":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","mui/util"],function(e,b,g,f,d,a){return e("mui.form.checkbox.render.CheckBoxBlock",[g],{renderType:"block",checkboxNode:null,postCreate:function(){this.inherited(arguments);this.subscribe("mui/form/checkbox/renderCheckedStatus","_renderCheckedStatus")},_buildRender:function(h){if(this.renderType==h.renderType){this.checkboxNode=b.create("label",{className:"muiCheckBoxBlockItem"},h.domNode,"after");this.checkboxText=b.create("span",{className:"muiCheckBoxBlockText",style:h.style,innerHTML:h.text&&h.text.indexOf("&#039;")>0?h.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.formatText(h.text)},this.checkboxNode,"last");this.checkboxIcon=b.create("span",{className:"muiCheckBoxBlockIcon "+h.unCheckedIcon,innerHTML:'<i class="fontmuis muis-form-selected-cor"></i>'},this.checkboxNode,"last")}return this.checkboxNode},_renderCheckedStatus:function(k,h){if(this.checkboxNode==h.domNode){if(h.checked){f.replace(this.checkboxNode,h.checkedIcon,h.unCheckedIcon);f.replace(this.checkboxIcon,h.checkedIcon,h.unCheckedIcon)}else{f.replace(this.checkboxNode,h.unCheckedIcon,h.checkedIcon);f.replace(this.checkboxIcon,h.unCheckedIcon,h.checkedIcon)}}}})})},"sys/mobile/js/mui/form/_FormBase":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/topic","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/form/_AutoAdaptionMixin","mui/form/_AlignMixin","dojo/query"],function(f,b,e,m,n,k,g,h,a,d,o,l){var p=f("mui.form._FormBase",[e,d,o],{isForm:true,subject:null,onValueChange:null,validate:null,edit:true,showStatus:"edit",value:"",required:false,baseClass:"muiFormEleWrap",opt:false,optText:"",align:"left",orient:"none",EVENT_VALUE_CHANGED:"/mui/form/valueChanged",tipMsg:a["mui.form.please.input"],placeholder:null,buildRendering:function(){if(this.orient=="vertical"){this.baseClass="newMui "+this.baseClass}else{this.baseClass="oldMui "+this.baseClass}if(this.orient=="vertical"){this.baseClass+=" showTitle"}this.showStatus=this.showStatus=="noShow"?"hidden":this.showStatus;this.inherited(arguments);this.edit=this.showStatus=="edit";this.innerHTML=this.domNode.innerHTML;this.valueNode=this.domNode;n.add(this.domNode,"muiFormStatus"+this.showStatus.substring(0,1).toUpperCase()+this.showStatus.substring(1));if(this.orient=="vertical"){if(this.subject){this.tipNode=b.create("div",{className:"muiFormEleTip"},this.domNode);this.titleNode=b.create("span",{className:"muiFormEleTitle",innerHTML:h.formatText(this.subject)},this.tipNode)}}if(this.edit){var q="muiFormRequired ";if(this.required){q="muiFormRequired muiFormRequiredShow"}this.requiredNode=b.create("div",{className:q,innerHTML:"*"},this.domNode,"last")}if(this.opt&&this.edit){var q="muiSelInputRight muiSelInputRightShow ";if(this.required){q="muiSelInputRight muiSelInputRightShow muiSelInputRightHaveFormRequired"}this.rightIcon=b.create("div",{className:q},this.domNode);this.buildOptIcon(this.rightIcon)}},startup:function(){this.inherited(arguments);if(this.orient==="vertical"){this.align="left"}if(this.align){var q=this.align;n.add(this.domNode,"muiForm"+q.substring(0,1).toUpperCase()+q.substring(1))}this._initText()},_setReadOnlyAttr:function(q){if(q&&this.showStatus=="readOnly"){this._initText();this._readOnlyAction(q);return}if(!q&&this.showStatus=="edit"){return}if(q){this._set("showStatus","readOnly");this.edit=false;n.replace(this.domNode,"showTitle muiFormStatusReadOnly","muiFormStatusEdit");if(this.validate){this._set("_validate",this.validate);this._set("validate",null);this._set("required",false)}}else{this._set("showStatus","edit");this.edit=true;n.replace(this.domNode,"muiFormStatusEdit","muiFormStatusReadOnly");if(this._validate){this._set("validate",this._validate);this._set("_validate",null);this._set("required",/\brequired\b/.test(this.validate))}}this._initText();this._readOnlyAction(q)},_getReadOnlyAttr:function(){return this._get("showStatus")=="readOnly"},_initText:function(){if(this.requiredNode){n.toggle(this.requiredNode,"muiFormRequiredShow",this.required)}if(this.required==false){if(this.validation){this.validation.hideWarnHint(this.domNode)}}if(this.contentNode){var q="";if(this.edit){if(this.placeholder){q=this.placeholder}else{q=this.tipMsg;q+=this.subject?this._htmlUnEscape(this.subject):""}}else{if(this.showStatus=="readOnly"){q=""}}m.set(this.contentNode,"placeholder",q)}},_htmlUnEscape:function(q){if(q==null||q==" "){return""}q=q.replace(/&amp;/g,"&");q=q.replace(/&quot;/g,'"');q=q.replace(/&lt;/g,"<");q=q.replace(/&#39;/g,"'");q=q.replace(/&nbsp;/g," ");return q.replace(/&gt;/g,">")},_readOnlyAction:function(q){},_setRequiredAttr:function(r){var q=this.validate&&/\brequired\b/.test(this.validate);if(r){if(this.validate){this._set("_validate",this.validate)}if(!q){if(this._validate){this._validate=/\brequired\b/.test(this._validate)?this._validate:this._validate+" required";this._set("validate",this._validate)}else{this._set("validate","required")}}}else{if(q){this._set("validate",this.validate.replace(/(\s*required\s*)/,""));if(this.validation){this.validation.validateElement(this)}}}this._set("required",r);this._initText()},_getRequiredAttr:function(){return this._get("required")==true},_setValueAttr:function(s){var q=this.value||"";this._set("value",s);if(q!=s){if(this.onValueChange){var r=this.onValueChange+"(this.get('value'),this);";new Function(r).apply(this,[this])}g.publish(this.EVENT_VALUE_CHANGED,this,{oldValue:q,value:s})}if(this._started){if(this.validate!=""&&this.edit&&this.validateImmediate){if(this.validation){this.validation.validateElement(this)}}}},buildOptIcon:function(q){if(this.showStatus!=="edit"||(!this.optClass&&!this.optText)){b.destroy(q);return}if(this.optClass){var r=this.optClass.startsWith("muis-")?"fontmuis ":"mui ";b.create("span",{className:r+this.optClass},q);return}if(this.optText){n.add(q,"muiSelInputRightText");b.create("span",{innerHTML:this.optText},q);return}},isNewDesktopLayout:function(){if(this.isForm&&window._xform_isNewDesktopLayout=="true"){var q=l("[isXform='true'][isDesktopLayoutForm='true']")[0];if(q&&l(this.domNode,q).length>0&&l(this.domNode).closest("xformflag").length>0){return true}}return false},buildXFormStyle:function(){var r=this.get("xformStyle");if(r){var q;if(typeof KMSSData!="undefined"){try{var s=new KMSSData();s.AddBeanData("sysFormDefaultSettingService");s=s.GetHashMapArray();if(s.length>0){q=s[0].showMobileStyle}}catch(t){}}if(q=="true"){return r}}}});return p})},"sys/mobile/js/mui/form/validate/Reminder":function(){define(["./OldReminder"],function(a){return a})},"sys/mobile/js/mui/category/CategoryAllSelectItem":function(){define(["dojo/_base/declare","mui/category/CategoryItemMixin","dojo/dom-style","dojo/dom-class","dojo/_base/array","dojo/topic","dojo/dom-construct"],function(e,g,d,f,h,b,a){return e("mui.category.CategoryAllSelectItem",[g],{buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"muiCateAllSelectItem")},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/unselected","unselected");this.subscribe("/mui/category/selected","selected")},show:function(){d.set(this.domNode,{display:"block"})},hide:function(){d.set(this.domNode,{display:"none"})},startup:function(){this.inherited(arguments);this.hide();this.defer(function(){this.initALlSelecte()})},buildIcon:function(){d.set(this.iconNode,{display:"none"})},buildCount:function(){this.countNode=a.create("div",{innerHTML:this.getCount(),className:"muiCateSelect"},this.cateContainer)},setCount:function(){if(this.countNode){this.countNode.innerHTML=this.getCount()}},getCount:function(){var l=this.getParent().getChildren();var m=0;var k=0;h.forEach(l,function(o,n){if(n==0){return}if(o.showSelect&&o.showSelect()){m++}if(o.isSelected&&o.isSelected()){k++}});if(m==0){this.hide()}else{this.show()}return k+"/"+m},samParent:function(k){return k.getParent()==this.getParent()},initALlSelecte:function(){this.selected(this);this.buildCount()},unselected:function(k){if(this.samParent(k)){this.setCount();this._cancelSelected(this,{fdId:this.fdId,trigger:true})}},selected:function(k){if(this.samParent(k)){this.setCount();if(this.isAllSelected()){this._setSelected(this,{fdId:this.fdId,trigger:true})}else{this._cancelSelected(this,{fdId:this.fdId,trigger:true})}}},topicEvt:function(k){var m="/mui/category/cancelSelected";if(k){m="/mui/category/setSelected"}var n=this.getParent(),l=n.getChildren();h.forEach(l,function(p,o){if(o==0){return}b.publish(m,this,{fdId:p.fdId})},this)},isAllSelected:function(){var l=this.getParent().getChildren();var m=true;for(var k=0;k<l.length;k++){if(k==0){continue}var n=l[k];if(n.showSelect&&n.showSelect()&&!n.isSelected()){m=false;break}}return m},_cancelSelectedTrigger:function(k){if(k.trigger){return}this.topicEvt(false)},_setSelectedTrigger:function(k){if(k.trigger){return}this.topicEvt(true)},showMore:function(){return false},isSelected:function(){return false}})})},"sys/mobile/js/mui/form/switch/NewSwitch":function(){define(["dojo/_base/declare","./_SwitchBase","dojo/dom-construct","mui/util"],function(e,a,d,b){return e("mui.form.switch.NewSwitch",[a],{baseClass:"muiNewSwitch muiFormItem",orient:"none",subject:"",postCreate:function(){this.inherited(arguments);this._buildSubjectRendering()},_buildSubjectRendering:function(){if(this.orient=="vertical"&&this.subject){this.containerNode=d.create("div",{className:"muiSwitchSubject"},this.switchNode,"before");this.tipNode=d.create("div",{className:"muiFormEleTip"},this.containerNode);this.titleNode=d.create("span",{className:"muiFormEleTitle",innerHTML:b.formatText(this.subject)},this.tipNode)}}})})},"sys/mobile/js/mui/address/AddressSearchListMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/json","dojo/dom-construct","dojox/mobile/viewRegistry","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","./AddressHistoryItemMixin"],function(g,k,a,n,d,m,h,b,o){var l="__mui__address__history__";function e(p){return k.filter(p,function(s,r,q){return q.indexOf(s,0)===r})}function f(p,q){return k.filter(p,function(r){return r!==q})}return g("mui.address.AddressSearchListMixin",null,{history:false,lazy:true,postCreate:function(){this.inherited(arguments);this.subscribe("/mui/address/search/init","_handleRenderHistory");this.subscribe("/mui/address/search/history/add","_handleAddHistory");this.subscribe("/mui/address/search/history/remove","_handleRemoveHistory");this.subscribe("/mui/address/search/submit","_handleSearch");this.subscribe("/mui/address/search/cancel","_handleCancel")},generateList:function(p){if(this.historyHeader){d.destroy(this.historyHeader);this.historyHeader=null}this.inherited(arguments)},_handleRenderHistory:function(){if(!this.history){return}if(this.tmpLoading){d.destroy(this.tmpLoading);this.tmpLoading=null}if(this.searchCountNode){d.destroy(this.searchCountNode);this.searchCountNode=null}if(this.historyHeader){d.destroy(this.historyHeader);this.historyHeader=null}k.forEach(this.getChildren(),function(q){q.destroyRecursive()});var p=this.getHistoryData();if(p&&p.length>0){this.historyHeader=this._renderHistoryHeader();d.place(this.historyHeader,this.domNode,"last");k.forEach(this.getHistoryData(),function(q,r){this.addChild(this.createHistoryItem({keyword:q}))},this)}},_renderHistoryHeader:function(){var q=d.create("div",{className:"muiAddressHistoryHeader"});d.create("span",{className:"muiAddressHistoryHeaderTitle",innerHTML:b["mui.mobile.address.search.history"]},q);var p=d.create("span",{className:"muiAddressHistoryHeaderRight"},q);d.create("i",{className:"mui mui-drafter_refuse_abandon"},p);d.create("span",{className:"muiAddressHistoryHeaderClear",innerHTML:b["mui.mobile.address.search.history.clear"]},p);this.connect(p,"click","_handleClearHistory");return q},_handleAddHistory:function(p){var q=this.getHistoryData();q.unshift(p);q=e(q);localStorage.setItem(l,n.stringify(q))},_handleRemoveHistory:function(q,p){var r=this.getHistoryData();r=f(r,p);localStorage.setItem(l,n.stringify(r));this._handleRenderHistory()},_handleClearHistory:function(){localStorage.setItem(l,n.stringify([]));this._handleRenderHistory()},_handleSearch:function(q,p){if(!p||!p.keyword){return}if(this.isVisibleView()){this.url=h.formatUrl(h.urlResolver(this.searchUrl,a.mixin(p,this)));this.showMore=false;this.buildLoading();this.reload();if(this.history&&localStorage){this._handleAddHistory(p.keyword)}}},_handleCancel:function(){if(this.isVisibleView()){this.buildLoading();this.url=h.urlResolver(h.formatUrl(this.dataUrl),this);this.showMore=true;this.reload()}},createHistoryItem:function(p){return new o(p)},isVisibleView:function(){var p=m.getEnclosingView(this.domNode);return p.isVisible()},getHistoryData:function(){if(!localStorage){return[]}var p=localStorage.getItem(l);return p?n.parse(p):[]}})})},"sys/mobile/js/mui/address/AddressViewScrollResizeMixin":function(){define(["dojo/_base/declare","mui/category/_ViewScrollResizeMixin","./AddressChannelMixin"],function(a,d,b){return a("mui.address._NewViewScrollResizeMixin",[d,b],{_scrollTo:function(f,e){this.isSameChannel(f)&&this.inherited(arguments)},_scrollResize:function(e){this.isSameChannel(e)&&this.inherited(arguments)}})})},"sys/mobile/js/mui/tabbar/CreateButton":function(){define(["mui/tabbar/TabBarButton","dojo/_base/declare","mui/form/_CategoryBase","dojo/dom-construct","mui/util","mui/dialog/Tip","dojo/dom-attr","mui/device/adapter","dojox/mobile/sniff"],function(k,b,l,a,d,h,e,f,g){return b("mui.tabbar.CreateButton",[k,l],{required:true,key:"_cateSelect",createUrl:"",buildRendering:function(){this.inherited(arguments);e.set(this.domNode,"title","新建");this.domNode.dojoClick=!g("ios")},postCreate:function(){this.inherited(arguments);this.eventBind()},_onClick:function(m){this._selectCate()},afterSelectCate:function(m){f.open(d.formatUrl(d.urlResolver(this.createUrl,m)),"_self");this.curIds="";this.curNames=""},returnDialog:function(n,m){this.inherited(arguments);if(n.key==this.key){this.defer(function(){this.afterSelectCate(m)},1)}}})})},"sys/mobile/js/mui/fixed/Fixed":function(){define("mui/fixed/Fixed",["./ScrollableFixed","./NativeFixed"],function(a,b){return dojoConfig._native?b:a})},"sys/mobile/js/mui/tabbar/TabBar":function(){define(["dojo/_base/declare","dojox/mobile/TabBar","dojo/dom-class","dojo/dom-style","dojo/_base/lang","dojo/dom-geometry","dojo/_base/array","dojo/query","dojo/NodeList-dom","dojo/NodeList-traverse","dojo/topic"],function(e,g,n,k,a,b,l,m,d,h,f){return e("mui.tabbar.TabBar",[g],{fill:"always",resize:function(o){if(!this._resized){this.resizeByGrid(o)}},initWidth:60,intiDraftBtnWidth:0,startup:function(){this.inherited(arguments);f.publish("/mui/tabbar/TabBar/startup",this)},resizeByGrid:function(x){var r,v,t;var u=this;if(x&&x.w){v=x.w}else{v=b.getMarginBox(this.domNode).w;var q=Math.floor(v/4);if(!this.intiDraftBtnWidth){this.intiDraftBtnWidth=q}var s=this.getChildren().length;var o=s;l.forEach(this.getChildren(),function(y,w){if(y.domNode.className&&y.domNode.className.indexOf("muiSplitterButton")>0){if(!(y.totalCopies&&y.totalCopies>0&&y.proportion&&y.proportion>0)){v=v-b.getMarginBox(y.domNode).w;s=s-1}}if(y.domNode.className&&y.domNode.className.indexOf("muiBarFloatLeftButton")>0){v=v-u.initWidth;s=s-1}if(y.domNode.className&&y.domNode.className.indexOf("muiBarFloatRightButton")>0){v=v-u.initWidth;s=s-1}if(y.domNode.className&&y.domNode.className.indexOf("muiBarSaveDraftButton")>0){if(!y._resized){if(!q){q=this.intiDraftBtnWidth}y.domNode.style.width=q+"px"}v=v-q;s=s-1}if(k.get(y.domNode,"display")=="none"){s=s-1}})}n.toggle(this.domNode,"mblTabBarNoIcons",!l.some(this.getChildren(),function(y){return y.iconNode1}));n.toggle(this.domNode,"mblTabBarNoText",!l.some(this.getChildren(),function(y){return y.label}));n.add(this.domNode,"muiTabBarGrid");var p=v;if(v>0){p=v/s-2;let childNumWidth=0;let isChangeWidth=true;if(s>5){l.forEach(this.getChildren(),function(y,w){let doNodewidth=m(y.domNode)[0].offsetWidth;if(doNodewidth>200){isChangeWidth=false}})}else{isChangeWidth=false}m(".mblTabBarTabBar.mblTabBar>li").forEach(function(w){m(w).children("li")}).style("flex","none");l.forEach(this.getChildren(),function(y,w){let doNodewidth=m(y.domNode)[0].offsetWidth;childNumWidth+=doNodewidth});let emptyWidthAug=(v-childNumWidth)/s;l.forEach(this.getChildren(),function(y,w){let tempWidth;if(y.totalCopies&&y.totalCopies>0&&y.proportion&&y.proportion>0){p=(v/y.totalCopies*y.proportion);if((y.domNode.className.indexOf("muiSplitterButton")<0&&y.domNode.className.indexOf("muiBarFloatLeftButton")<0&&y.domNode.className.indexOf("muiBarFloatRightButton")<0&&y.domNode.className.indexOf("muiBarSaveDraftButton")<0)||y.domNode.className.indexOf("muiSplitterButton")>=0){y.domNode.style.width=(p)+"px"}}else{if(y.domNode.className.indexOf("muiSplitterButton")<0&&y.domNode.className.indexOf("muiBarFloatLeftButton")<0&&y.domNode.className.indexOf("muiBarFloatRightButton")<0&&y.domNode.className.indexOf("muiBarSaveDraftButton")<0){if(isChangeWidth){tempWidth=emptyWidthAug+m(y.domNode)[0].offsetWidth}else{tempWidth=p}y.domNode.style.width=(tempWidth)+"px"}}})}if(x&&x.w){b.setMarginBox(this.domNode,x)}}})})},"sys/mobile/js/mui/table/ScrollableHView":function(){define(["./HView","./NativeHView"],function(a,b){return dojoConfig._native?b:a})},"sys/mobile/js/mui/form/Category":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/topic","dojo/on","dojo/dom-construct","dojo/dom-style","dojo/query","mui/form/_FormBase","mui/form/_CategoryBase","dojo/_base/lang","mui/util","dojo/dom-attr","mui/form/_PlaceholderMixin","dojo/request","mui/iconUtils","dojo/dom-class"],function(g,m,k,n,e,l,q,p,t,a,h,o,d,f,b,r){var s=g("mui.form.Category",[p,t,d],{subject:"分类选择",baseClass:"muiFormEleWrap popup  muiCategory",idField:null,nameField:null,placeholder:null,icon:"mui mui-org",opt:true,EVENT_VALUE_CHANGE:"/mui/Category/valueChange",buildRendering:function(){this.inherited(arguments);this.curNames=h.decodeHTML(this.curNames);this._buildValue()},postCreate:function(){this.inherited(arguments);this.eventBind();if(this.edit&&(!this.curIds||this.isMul)){if(this.muiCategoryAddNode){l.set(this.muiCategoryAddNode,"display","inline-block")}}else{if(this.muiCategoryAddNode){l.set(this.muiCategoryAddNode,"display","none")}}this.domNodeOnClickEvent=this.connect(this.domNode,"click",this.domNodeClick)},htmlEscape:function(v){if(v==null||v==""){return""}var u=/&/g;v=v.replace(u,"&amp;");u=/\"/g;v=v.replace(u,"&quot;");u=/'/g;v=v.replace(u,"&#39;");u=/</g;v=v.replace(u,"&lt;");u=/>/g;return v.replace(u,"&gt;")},_buildOneOrg:function(v,A,w){var x=e.create("div",{className:"muiAddressOrg","data-id":A},v);if(this.isNewDesktopLayout()==false){if(this.iconUrl){var z=h.formatUrl(h.urlResolver(this.iconUrl,{orgId:A}));if(dojoConfig.dingXForm&&dojoConfig.dingXForm==="true"){var u=this;var y="/sys/organization/sys_org_element/sysOrgElement.do?method=getIconInfo&orgId="+A;y=h.formatUrl(y);f.post(y,{handleAs:"json"}).then(function(B){if(B.orgType===window.ORG_TYPE_PERSON){if(B.icon){u.buildOrgIcon(B.icon,x,"first")}else{e.place(b.createDingIcon(w),x,"first");r.add(x,"dingMuiAddressOrg")}}else{this.buildOrgIcon(z,x,"first")}},function(){console.error("获取头像信息失败！")})}else{this.buildOrgIcon(z,x)}}}e.create("div",{className:"name",innerHTML:this.htmlEscape(w)},x);if(this.edit){e.create("div",{className:"del fontmuis muis-epid-close"},x)}},buildOrgIcon:function(w,v,u){u=u||"last";e.create("div",{style:{background:"url("+w+") center center no-repeat",backgroundSize:"cover"},className:"muiAddressOrgIcon"},v,u)},_readOnlyAction:function(w){this.inherited(arguments);if(this.cateFieldShow){var u=q(".del.mui.mui-close",this.cateFieldShow)}if(w){if(this.domNodeOnClickEvent){this.disconnect(this.domNodeOnClickEvent);this.domNodeOnClickEvent=null}if(this.orgIconClickHandle){this.disconnect(this.orgIconClickHandle);this.orgIconClickHandle=null}if(u.length>0){for(var v=0;v<u.length;v++){u[v].style.display="none"}}}else{this.domNodeOnClickEvent=this.connect(this.domNode,"click",this.domNodeClick);if(this.cateFieldShow&&this.edit&&!this.cateFieldShow.getAttribute("data-del-listener-"+this.id)){this.orgIconClickHandle=this.connect(this.cateFieldShow,n.selector(".del.mui.mui-close","click"),this.orgIconClick)}if(u.length>0){for(var v=0;v<u.length;v++){u[v].style.display=""}}}},domNodeClick:function(){var u=q(arguments[0].target).closest(".muiAddressOrg");if(u.length>0){return}this.defer(function(){this._selectCate()},350)},startup:function(){this.inherited(arguments);this.key=this.idField;this.set("value",this.curIds)},_buildValue:function(){if(this.edit){if(this.showSelect){var v=e.create("div",{className:"muiOnlyShowCategorySelect muiSelInputRight muiSelInputRightShow"},this.domNode,"first");var u=e.create("div",{className:"fontmuis muis-to-right"},v)}if(this.idField&&!this.idDom){var w=q("[name='"+this.idField+"']");if(w.length>0){this.idDom=w[0]}else{this.idDom=e.create("input",{type:"hidden",name:this.idField},this.valueNode)}}if(this.nameField&&!this.nameDom){var w=q("[name='"+this.nameField+"']");if(w.length>0){this.nameDom=w[0]}else{this.nameDom=e.create("input",{type:"hidden",name:this.nameField},this.valueNode)}}if(this.idDom){this.idDom.value=this.curIds==null?"":this.curIds}if(this.nameDom){this.nameDom.value=this.curNames==null?"":this.curNames}}if(!this.cateFieldShow){this.cateFieldShow=e.create("div",{className:"muiCateFiledShow muiFormItem"},this.valueNode);this.contentNode=this.cateFieldShow}else{if(a.isString(this.cateFieldShow)){this.cateFieldShow=q(this.cateFieldShow)[0];this.externalCateFieldShow=true}}if(this.cateFieldShow&&this.edit&&!this.cateFieldShow.getAttribute("data-del-listener-"+this.id)){this.orgIconClickHandle=this.connect(this.cateFieldShow,n.selector(".muiAddressOrg","click"),this.orgIconClick);this.cateFieldShow.setAttribute("data-has-del-listener-"+this.id,"true")}this.buildValue(this.cateFieldShow)},orgIconClick:function(u){if(u.stopPropagation){u.stopPropagation()}if(u.cancelBubble){u.cancelBubble=true}if(u.preventDefault){u.preventDefault()}if(u.returnValue){u.returnValue=false}var v=q(u.target).closest(".muiAddressOrg");v.forEach(function(w){var x=w.getAttribute("data-id");this.defer(function(){this._delOneOrg(w,x)},420)},this)},buildValue:function(u){e.empty(u);if(this.curIds!=null&&this.curIds!=""){var w=this.curIds.split(this.splitStr);var x=this.curNames.split(this.splitStr);for(var v=0;v<w.length;v++){this._buildOneOrg(u,w[v],x[v]);if(v<w.length-1&&!this.edit){}}}else{if(this.edit&&this.placeholder!=null&&this.placeholder!=""){o.set(this.cateFieldShow,"placeholder",this.placeholder)}}},_delOneOrg:function(w,y){var v=this.curIds.split(this.splitStr);var x=this.curNames.split(this.splitStr);var u=m.indexOf(v,y);if(u>-1){v.splice(u,1);x.splice(u,1);this.curIds=v.join(this.splitStr);this.curNames=x.join(this.splitStr);if(this.idDom){this.idDom.value=this.curIds==null?"":this.curIds;this.set("value",this.curIds==null?"":this.curIds)}if(this.nameDom){this.nameDom.value=this.curNames==null?"":this.curNames}if(this.curIds==null||this.curIds==""){this.buildValue(this.cateFieldShow)}k.publish(this.EVENT_VALUE_CHANGE,this,{curIds:this.curIds,curNames:this.curNames})}e.destroy(w)},buildOptIcon:function(u){this.inherited(arguments);this.muiCategoryAddNode=u},returnDialog:function(w,v){this.inherited(arguments);if(w.key==this.idField){this.set("value",this.curIds);if(typeof w.cateSelArr!="undefined"){var y="";w.cateSelArr.forEach(function(C,A){var z=!(typeof C.labelLevel=="undefined"||C.labelLevel==="");if(z){var B=C.labelLevel;y+=";"+B}});this.set("curNames",this.curNames)}else{var u=true;for(var x in w.listDatas){if(w.listDatas[x].fdId==this.curIds){this.set("curNames",typeof w.listDatas[x].labelLevel=="undefined"||w.listDatas[x].labelLevel===""?this.curNames:w.listDatas[x].labelLevel);u=false;break}}if(u){this.set("curNames",this.curNames)}}k.publish(this.EVENT_VALUE_CHANGE,this,{curIds:this.curIds,curNames:this.curNames})}},clearDialog:function(v,u){this.inherited(arguments);if(v.key==this.idField){this.set("value",this.curIds);this.set("curNames",this.curNames);k.publish(this.EVENT_VALUE_CHANGE,this,{curIds:this.curIds,curNames:this.curNames})}},_getNameAttr:function(){return this.idField},_setValueAttr:function(u){this.inherited(arguments);this.curIds=u;if(this.idDom){this.idDom.value=u}},_setCurIdsAttr:function(u){this.curIds=u;this.set("value",u)},_setCurNamesAttr:function(u){this.curNames=u;if(this.nameDom){this.nameDom.value=u}this.buildValue(this.cateFieldShow)}});return s})},"sys/mobile/js/mui/form/_CategoryBase":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/_base/lang","dojo/html","dojo/_base/array","mui/util","dojo/touch","mui/device/adapter","mui/history/listener"],function(h,m,f,e,n,q,a,l,o,k,g,p,b){var d=h("mui.form._CategoryBase",null,{key:null,type:null,curIds:"",curNames:"",splitStr:";",confirm:false,isMul:false,templURL:null,jsURL:null,_cateDialogPrefix:"__cate_dialog_",afterSelect:null,authType:"02",eventBind:function(){this.subscribe("/mui/category/submit",a.hitch(this,"returnDialog"));this.subscribe("/mui/category/cancel",a.hitch(this,"closeDialog"));this.subscribe("/mui/category/clear",a.hitch(this,"clearDialog"));this.subscribe("/mui/category/changeprops",a.hitch(this,"doChangeProps"))},doChangeProps:function(s){for(var r in s){this[r]=s[r]}},returnDialog:function(s,r){if(r){if(s.key==this.key){this.curIds=r.curIds;this.curNames=r.curNames;this.closeDialog(s);if(this.afterSelect){this.afterSelect(r)}}}},__doCloseDialog:function(){if(this.previousTitle){p.setTitle(this.previousTitle);this.previousTitle=null}if(this.beforeSelectCateHistoryId){b.goNoop({historyId:this.beforeSelectCateHistoryId});this.beforeSelectCateHistoryId=null}q.add(this.dialogDiv,"fadeOut animated");this.defer(function(){if(this.dialogContainerDiv){n.set(this.dialogContainerDiv,"display","none")}if(this.dialogDiv){n.set(this.dialogDiv,"display","none")}},500);setTimeout(a.hitch(this,function(){if(this.parseResults&&this.parseResults.length){o.forEach(this.parseResults,function(r){if(r.destroy){r.destroy()}});delete this.parseResults}e.destroy(this.dialogDiv);this.dialogDiv=null;this._working=false}),410)},_closeDialog:function(r){var s=r.target;if(this.dialogDiv&&s===this.dialogDiv){this.__doCloseDialog()}},closeDialog:function(r){if(this.dialogDiv&&r.key==this.key){this.__doCloseDialog()}},clearDialog:function(r){if(r.key==this.key){this.curIds="";this.curNames="";this.closeDialog(r)}},showAnimate:function(){n.set(this.dialogContainerDiv,"display","block");n.set(this.dialogDiv,"display","block");q.add(this.dialogDiv,"fadeIn animated");n.set(this.dialogDiv,"background-color","rgba(0, 0, 0, 0.6)");this.defer(function(){n.set(this.dialogDiv,{opacity:1});q.remove(this.dialogDiv,"fadeIn")},500)},urlResolver:function(r){if(r&&!this._working){this._working=true;this.dialogDiv=f.byId(this._cateDialogPrefix+this.key);if(this.dialogDiv==null){var s=k.urlResolver(r,this);if(s.startsWith("/")&&!s.startsWith(dojoConfig.baseUrl)){s=k.formatUrl(s)}return s}}return false},_selectCate$1:function(){var t;if(this.templURL){t=this.urlResolver(this.templURL);if(!t){return}t="dojo/text!"+t}else{if(this.jsURL){t=this.urlResolver(this.jsURL);if(!t){return}}}var r=this;var s=this._cateDialogPrefix+this.key;require([t],function(v){r.dialogDiv=e.create("div",{id:s,className:"muiCateDiaglogN",tabindex:"0"},document.body,"last");r.dialogContainerDiv=e.create("div",{className:"muiCateDiaglogContainer "},r.dialogDiv);r.dialogDiv.focus();r.defer(function(){r.connect(r.dialogDiv,"click","_closeDialog")},500);k.disableTouch(r.dialogDiv,g.move);var u=new l._ContentSetter({node:r.dialogContainerDiv,parseContent:true,cleanContent:true,onBegin:function(){this.content=a.replace(this.content,{categroy:r});this.inherited("onBegin",arguments)}});u.set(v);u.parseDeferred.then(function(w){r.parseResults=w;m.publish("/mui/category/tmploaded",{dom:r.dialogDiv,widgetList:w})});u.tearDown();r.showAnimate()})},_selectCate:function(){var t=a.hitch(this,function(){this._selectCate$1();this.previousTitle=document.title;if(this.subject){p.setTitle(this.subject)}});var s=a.hitch(this,function(){this.beforeSelectCateHistoryId=null;this.__doCloseDialog()});var r=b.push({forwardCallback:t,backCallback:s});this.beforeSelectCateHistoryId=r.previousId}});return d})},"sys/mobile/js/mui/form/TextareaMaxApproval":function(){define(["dojo/_base/declare","mui/form/_InputBase","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/touch","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/dialog/BarTip","mui/form/Textarea"],function(f,a,d,l,g,e,h,b,n,k){var m=f("mui.form.TextareaMaxApproval",[k],{buildEdit:function(){var o=(this.textareaNode=d.create("div",{className:"muiFormItem"},this.domNode));o.innerHTML="<textarea class='muiTextarea muiScaleTextarea' name="+this.name+"></textarea><i class='textarea_dropbox_icon'></i>";var p=(this.textareaNode=o.querySelector("textarea"));this.contentNode=this.textareaNode;this.textareaPre=d.create("pre",{name:this.name+"_pre",className:this.inputClass+"Pre",style:"display:none"},this.domNode);this.connect(this.textareaNode,"keyup","_onInput");this.connect(this.textareaNode,"blur","_onBlur");this.connect(this.textareaNode,"keydown",function(q){window.focus();p.focus()});this.connect(this.textareaNode,e.press,"_handleFocus");this.subscribe("/mui/form/valueChanged","_onChange")}});return m})},"sys/mobile/js/mui/form/editor/EditorPopupMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","mui/form/Editor","dojo/string","dojo/query","dojo/request","mui/dialog/Tip","mui/util","dojo/Deferred","dojo/_base/lang","dojo/when","dojo/dom-class","dijit/_WidgetBase","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/touch"],function(g,d,l,m,k,q,e,s,h,p,a,o,r,n,b,f){return g("mui.form.EditorPopupMixin",[n],{buildForm:function(){var t={};if(this.data){t=this.data}t[this.name]=this.textClaz.format();q("input",this.textNode).forEach(function(u){t[u.name]=u.value});return t},name:null,_url:null,_value:"",disableClass:"muiEditorSubmitDisable",EVENT_VALUE_CHANGED:"/mui/form/valueChanged",canSubmit:true,onOperationClick:function(t){this.inherited(arguments)},plugin:null,placeholder:null,buildEditorOptions:function(){var t={name:this.name,value:this._value,layout:this.layout,options:this};if(this.plugin){t.plugins=this.plugin}if(this.placeholder){t.placeholder=this.placeholder}return t},onEditorClick:function(){var t=this.buildEditorOptions();this.textClaz=new m(t);this.textNode=this.textClaz.domNode;r.add(this.textNode,"popup");if(!this.maskNode){this.maskNode=d.create("div",{className:"muiEditorMask"},document.body)}l.set(this.maskNode,"opacity",1);d.place(this.textNode,document.body,"last");this.defer(function(){l.set(this.textNode,"-webkit-transform","translate3d(0px, 0px, 0px)")},100);this.defer(function(){this.maskHandle=this.connect(this.maskNode,f.press,"onMaskClick")},350);if(!this.canSubmit){return}this.textClaz.editorDeferred.then(a.hitch(this,function(){this.submitNode=d.create("div",{className:"muiEditorSubmit "+this.disableClass,innerHTML:b["mui.button.send"]},this.textClaz.pluginNode,"last");if(t.options.limitNum&&t.options.limitNum>0){this.limitNum=t.options.limitNum;this.limitNode=d.create("span",{className:"muiEditorLimit",innerHTML:""},this.textClaz.pluginNode,"last")}}));this.subscribe(this.EVENT_VALUE_CHANGED,"_onValueChange")},_onValueChange:function(u,t){if(!t){return}this.validateSubmit(t.value,"submitHandle","onSubmit",this.submitNode)},validateSubmit:function(x,w,v,u){if(!u){return}var x=x.replace(/<br\/?[^>]*>/g,"").trim();x=x.replace(/&nbsp;/gi,"").trim();var t=true;if(this.limitNum){t=this._validateNum(x)}if(x.length>0&&t){if(!this[w]){this[w]=this.connect(u,"click",v)}if(r.contains(u,this.disableClass)){r.remove(u,this.disableClass)}}else{if(this[w]){this.disconnect(this[w]);this[w]=null}if(!r.contains(u,this.disableClass)){r.add(u,this.disableClass)}}},validates:[],onSubmit:function(t){for(var v=0;v<this.validates.length;v++){if(this.validates[v].call(this,this)==false){return}}this.disconnect(this.submitHandle);var w=e.post(h.formatUrl(k.substitute(this._url,this)),{data:this.buildForm()});var u=this;w.response.then(function(x){u.deferred=new p();u.hideMask();o(u.deferred.promise,a.hitch(u,u.afterHideMask,x))})},afterHideMask:function(t){this.showTip(t)},showTip:function(t){if(t.status==200){s.success({text:b["mui.return.success"]})}else{s.fail({text:b["mui.return.failure"]})}},hideMask:function(){this.defer(function(){l.set(this.textNode,"-webkit-transform","translate3d(0px, 400%, 0px)");l.set(this.maskNode,{opacity:0})},300);this.defer(function(){this.destroyMask();if(this.deferred){this.deferred.resolve()}},500)},destroyMask:function(){this.maskNode.parentNode.removeChild(this.maskNode);this.maskNode=null;this.textClaz.destroy();this.disconnect(this.maskHandle)},eventStop:function(t){t.preventDefault();t.stopPropagation()},onMaskClick:function(t){this.eventStop(t);var v=t.target,u=true;while(v){if(v==this.textNode){u=false;break}v=v.parentNode}if(u){this.textNode.blur();this.hideMask()}},_validateNum:function(y){if(!y){this.limitNode.innerHTML=Math.ceil(this.limitNum);return false}var v=/<[^>]+>|<\/[^>]+>/g;y=y.replace(/<img[^>]*src[^>]*>/gi,"[face]").replace(v,"").replace(/&nbsp;/gi,"").replace(/&amp;/gi,"");var x=y.length,u=0,t=false;if(!y){this.limitNode.innerHTML=Math.ceil(this.limitNum);return false}for(var w=0;w<x;w++){if(y.charCodeAt(w)<299){u++}else{u+=2}}if(u<=2*this.limitNum+1&&u>0){t=true}if(t){this.limitNode.innerHTML=""}else{this.limitNode.innerHTML=Math.ceil((this.limitNum*2-u)/2)}return t}})})},"sys/mobile/js/mui/view/AddBottomTipMixins":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/topic","dojo/query","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(d,e,a,b,f,g){return d("mui.view.AddBottomTipMixins",[e],{isAddBottomTip:true,addBottomTip:function(k){this.inherited(arguments);var h=this;if(h.isAddBottomTip){this.subscribe("/dojox/mobile/viewChanged,/dojox/mobile/afterTransitionIn,mui/view/showTop",function(m){var l=k.getElementsByClassName("addBottomTip")[0];var n=f(".muiTop")[0];if(n){if(n.style.display==="none"){a.destroy(l)}else{b.publish("mui/view/addBottomTip")}}else{a.destroy(l)}});this.subscribe("/mui/top/viewChanged",function(m){var l=k.getElementsByClassName("addBottomTip")[0];var n=k.getElementsByClassName("muiTop")[0];if(n){if(n.style.display==="none"){a.destroy(l)}else{b.publish("mui/view/addBottomTip")}}else{a.destroy(l)}});b.subscribe("mui/view/addBottomTip",function(){var l=k.getElementsByClassName("addBottomTip");var m=g["mui.mobile.toEnd.tip"];if(l.length<1){a.create("div",{className:"addBottomTip",innerHTML:"<div class='addBootomTipContent'><div class='notice'>"+m+"</div></div>"},k,"last")}})}}})})},"sys/mobile/js/mui/datetime/DatePicker":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/date/locale","dojo/date/stamp","dojox/mobile/SpinWheelDatePicker","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-attr"],function(e,m,o,l,a,p,n,d,b,m){var h=b["mui.datetime.week.shortName"].split(",");var q={minItems:12,format:function(s){return p.format(s,{datePattern:this.pattern,selector:"date"})},setColor:function(A,z,v){var u=this.flag=="date";var x=this.panelNodes.length;for(var w=0;w<x;w++){var s=this.panelNodes[w];var y=s.querySelectorAll(".mblSpinWheelSlotLabelBlue:not([data-mobile-val='"+A+"'])");l.forEach(y,function(C){var B=m.get(C,"data-mobile-val");if(C.innerHTML!=B){o.toggle(C,v||"mblSpinWheelSlotLabelBlue",false);C.innerHTML=B}});var t=s.querySelectorAll("[data-mobile-val='"+A+"']");l.forEach(t,function(D){var B=p.parse(A,{datePattern:this.pattern,selector:"date"});var C=p.format(B,{datePattern:this.disPattern,selector:"date"});C=C+'<span class="mblSpainWheelSlotLabelText">'+this.disText+"</span>";if(u){C=C+'<span class="mblSpainWheelSlotLabelWeek">'+h[z.getDay()]+"</span>"}if(D.innerHTML!=C){o.toggle(D,v||"mblSpinWheelSlotLabelBlue",true);D.innerHTML=C}},this)}}};var g=a.mixin({flag:"year",initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var u=new Date(this.labelFrom,0,1);var t,s;for(t=this.labelFrom,s=0;t<=this.labelTo;t++,s++){this["currYearFrom"]=t;u.setFullYear(t);this.labels.push(this.format(u))}}}},q);var f=a.mixin({flag:"month",initLabels:function(){this.labels=[];var t=new Date(2000,0,16);for(var s=0;s<12;s++){this["currMonthFrom"]=s;t.setMonth(s);this.labels.push(this.format(t))}}},q);var r=a.mixin({flag:"date",initLabels:function(){this.labels=[];var t=new Date(2000,0,1);for(var s=1;s<=31;s++){this["currDateFrom"]=s;t.setDate(s);this.labels.push(this.format(t))}}},q);var k=e("mui.datetime.DatePicker",[d],{yearPattern:"yyyy",monthPattern:"MM",dayPattern:"dd",disYearPattern:"yyyy",disMonthPattern:"MM",disDayPattern:"dd",disYearText:b["mui.datetime.year"],disMonthText:b["mui.datetime.month"],disDayText:b["mui.datetime.day"],slotProps:[{labelFrom:1899,labelTo:2099},{},{}],initSlots:function(){var t=this.slotClasses,s=this.slotProps;t[0]=e(t[0],g);t[1]=e(t[1],f);t[2]=e(t[2],r);s[0].pattern=this.yearPattern;s[1].pattern=this.monthPattern;s[2].pattern=this.dayPattern;s[0].disPattern=this.disYearPattern;s[1].disPattern=this.disMonthPattern;s[2].disPattern=this.disDayPattern;s[0].disText=this.disYearText;s[1].disText=this.disMonthText;s[2].disText=this.disDayText;this.reorderSlots()},reorderSlots:function(){if(this.slotOrder.length){return}var s=p._parseInfo({locale:this.lang}).bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=l.map(s,function(t){return{y:0,m:1,d:2}[t.charAt(0)]});if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){this.slotOrder=[2,1,0]}},reset:function(){this.inherited(arguments);this._resetColors()},onYearSet:function(){this._resetColors()},onMonthSet:function(){this._resetColors()},onDaySet:function(){this._resetColors()},_setColorsAttr:function(s){var t=this.get("date");l.forEach(this.getSlots(),function(u,v){u.setColor&&u.setColor(s[v],t)})},_resetColors:function(){var s=this.get("values");this.set("colors",s)},_setValueAttr:function(v){var t=v;if(dojoConfig.locale=="en-us"&&v){var u=v.split("/");t=u[2]+"-"+u[0]+"-"+u[1]}if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)&&v){var u=v.split("/");t=u[2]+"-"+u[1]+"-"+u[0]}var s=new Date();if(t){s=n.fromISOString(t)}this.set("values",l.map(this.slots,function(x){return x.format(s)}))},_getValueAttr:function(){var s=this.get("date");if((dojoConfig.Date_format||"").match(/^d.*M.*y.*$/)){return p.format(s,{datePattern:"dd/MM/yyyy",selector:"date"})}if(dojoConfig.locale=="en-us"){return p.format(s,{datePattern:"MM/dd/yyyy",selector:"date"})}return n.toISOString(s,{selector:"date"})}});return k})},"sys/mobile/js/mui/form/Select":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-class","mui/form/_SelectBase","dojo/dom-construct","mui/form/select/_StoreSelectMixin","mui/dialog/Dialog","dojo/parser","dojo/_base/array","dojo/_base/lang","dojo/topic","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(g,m,o,a,f,n,l,b,k,d,h,e){var p=g("mui.form.Select",[a,n],{value:"",text:"",type:"select",muiSingleRowViewClass:"muiSelInput",needToUpdateAttInDetail:["name","valueField"],mul:true,CHECK_CHANGE:"mui/form/checkbox/change",SELECT_CALLBACK:"mui/form/select/callback",value_s:[],showPleaseSelect:false,opt:true,startup:function(){this.inherited(arguments);this.valueField=this.name},renderListItem:function(){this.inherited(arguments)},closeDialog:function(r,q){if(!this.mul){if(q.name==(this.selectBoxPrefix+this.valueField)){this.set("value",q.value);this._closeDialog()}}else{if(r.params.name==(this.selectBoxPrefix+this.valueField)){var s=r.checked?"add":"remove";this[s+"Value"](r.value)}}},_DoneClick:function(){this.set("value",this.value_s.join(";"));this._closeDialog()},_clearClick:function(){this.set("value","");this.editValueSet("");this._closeDialog()},_closeDialog:function(){h.publish(this.SELECT_CALLBACK,this);if(this.dialog){this.dialog.hide();this.dialog=null}},buildRendering:function(){this.inherited(arguments)},_setTextAttr:function(q){this.inputContent.innerHTML=q;this.text=q},buildEdit:function(){this.inherited(arguments);this.selectNode=f.create("input",{name:this.name,type:"hidden",value:this.value},this.domNode);this.bindEvent()},buildReadOnly:function(){this.selectNode=f.create("input",{name:this.name,type:"hidden",readOnly:"readOnly",value:this.value},this.domNode)},buildHidden:function(){this.selectNode=f.create("input",{name:this.name,type:"hidden",value:this.value},this.domNode)},viewValueSet:function(q){if(q!=null&&q!=""){this.set("text",this.getTextByValue(q))}},editValueSet:function(q){if(q||!this.showPleaseSelect){o.add(this.domNode,"showTitle");this.set("text",this.getTextByValue(q))}else{this.set("text","")}this.selectNode.value=q},hiddenValueSet:function(q){this.editValueSet(q)},readOnlyValueSet:function(q){this.editValueSet(q)},addValue:function(q){if(this.value_s.indexOf(q)>=0){return}this.value_s.push(q)},removeValue:function(r){var q=this.value_s.indexOf(r);if(q<0){return}this.value_s.splice(q,1)},bindEvent:function(){this._clickHandle=this.connect(this.domNode,"click",function(q){this.defer(function(){this._onClick(q)},320)});this.subscribe(this.CHECK_CHANGE,"closeDialog")},_readOnlyAction:function(q){this.inherited(arguments);if(q){if(this._clickHandle){this.disconnect(this._clickHandle)}this._clickHandle=null}else{this._clickHandle=this.connect(this.domNode,"click",function(r){this.defer(function(){this._onClick(r)},320)})}},resizeTop:function(q){var t=q.htmlWdgts,u=0;var s=this.get("value").split(";");for(var r=0;r<t.length;r++){if(s[0]==t[r].value&&t[r].checked){if(t[r].checkboxNode.offsetTop<q.containerNode.clientHeight){break}else{if(this.contentNode.clientHeight-t[r].checkboxNode.offsetTop<q.containerNode.clientHeight){u=this.contentNode.clientHeight-q.containerNode.clientHeight}else{u=t[r].checkboxNode.offsetTop-(q.containerNode.clientHeight-t[r].checkboxNode.clientHeight)/2}}q.contentNode.scrollTop=u}}},_onClick:function(q){if(this.dialog){return}this.contentNode=f.create("div",{className:"muiCheckBoxPopWarp"});var s=f.create("ul",{className:"muiRadioGroupPopList"},this.contentNode);this.renderListItem(s);var r=[];if(this.mul){r=[{title:e["mui.button.cancel"],fn:d.hitch(this,this._closeDialog)},{title:e["mui.button.ok"],fn:d.hitch(this,this._DoneClick)},{title:e["mui.button.clear"],fn:d.hitch(this,this._clearClick)}]}this.dialog=l.element({canClose:false,element:this.contentNode,buttons:r,position:"bottom",scrollable:false,parseable:true,showClass:"muiFormSelect",callback:d.hitch(this,function(){h.publish(this.SELECT_CALLBACK,this);this.dialog=null}),onDrawed:d.hitch(this,function(t){this.resizeTop(t);if(this.mul){this.value_s=[];var u=this.value.split(";");for(var v=0;v<u.length;v++){if(u[v]!=""){this.value_s.push(u[v])}}}})})}});return p})},"sys/mobile/js/mui/address/AddressGroupItemMixin":function(){define(["dojo/_base/declare","mui/address/AddressItemMixin"],function(a,d){var b=a("mui.address.AddressGroupItemMixin",[d],{showMore:function(){if(this.canShowMore==="false"){return false}if((this.type|window.ORG_TYPE_GROUP_CATE)==window.ORG_TYPE_GROUP_CATE){return true}if((this.type|window.ORG_TYPE_GROUP)==window.ORG_TYPE_GROUP){return true}return false}});return b})},"sys/mobile/js/mui/form/CommonDialog":function(){define(["dojo/_base/declare","mui/form/Category","mui/commondialog/DialogSelectMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-construct","dojo/dom-attr","dojo/dom-class"],function(b,h,g,d,a,k,f){var e=b("mui.form.CommonDialog",[h,g],{});return e})},"sys/mobile/js/mui/table/toggle/NativeView":function(){define(["dojo/_base/declare","mui/NativeView"],function(b,a){return b("mui.table.NativeView",[a],{scrollDir:"h",buildRendering:function(){this.inherited(arguments);if(this.isXform==true&&this.isDesktopLayoutForm==true&&window._xform_isNewDesktopLayout=="true"){this.scrollDir="v"}}})})},"sys/mobile/js/mui/datetime/SpinWheelDatePicker_yearMonth":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","mui/datetime/_DatePickerMixin_yearMonth","dojox/mobile/SpinWheel","dojox/mobile/SpinWheelSlot"],function(g,d,e,b,f,a){return d("mui.datetime.SpinWheelDatePicker_yearMonth",[f,b],{slotClasses:[a,a,a],slotProps:[{labelFrom:1970,labelTo:2038},{},{}],buildRendering:function(){this.initSlots();this.inherited(arguments);e.add(this.domNode,"mblSpinWheelDatePicker");if(dojoConfig.locale=="en-us"){dojo.style(dojo.query(".mblSpinWheelSlot:nth-child(2)")[0],"display","none")}else{dojo.style(dojo.query(".mblSpinWheelSlot:nth-child(3)")[0],"display","none")}dojo.query(".mblSpinWheelSlotLabel").forEach(function(h){h.style.textAlign="center"});this._conn=[this.connect(this.slots[0],"onFlickAnimationEnd","_onYearSet"),this.connect(this.slots[1],"onFlickAnimationEnd","_onMonthSet"),this.connect(this.slots[2],"onFlickAnimationEnd","_onDaySet")]},disableValues:function(h){g.forEach(this.slots[2].panelNodes,function(k){for(var l=27;l<31;l++){e.toggle(k.childNodes[l],"mblSpinWheelSlotLabelGray",l>=h)}})}})})},"sys/mobile/js/mui/form/editor/plugins/face/Plugin":function(){define(["dojo/_base/declare","dojo/dom-construct","sys/mobile/js/lib/emoji/emoji","dojo/dom-style","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/text!../tmpl/panelV.html","dojo/html","mui/util","dojo/topic","mui/form/editor/plugins/EditorPluginBaseMixin"],function(f,d,l,m,b,n,p,q,k,h,g,o){function a(v,t){var u=v.length;var s=[];while(u--){s[u]=t(v[u])}return s}function e(v){var u=[],t=0,w=v.length,x,s;while(t<w){x=v.charCodeAt(t++);if(x>=55296&&x<=56319&&t<w){s=v.charCodeAt(t++);if((s&64512)==56320){u.push(((x&1023)<<10)+(s&1023)+65536)}else{u.push(x);t--}}else{u.push(x)}}return u}function r(s){return a(s,function(u){var t="";if(u>65535){u-=65536;t+=String.fromCharCode(u>>>10&1023|55296);u=56320|u&1023}t+=String.fromCharCode(u);return t}).join("")}return f("mui.form.editor.plugins.face.Plugin",[o],{type:"face",icon:"mui-editor-face",event:function(s){this._faceShow(s)},_faceIsInit:false,constructor:function(s){this.inherited(arguments)},startup:function(){this.editor.formatContent.push(this._faceFormat)},_faceFormat:function(C){if(!C){return""}var F=C;var D=e(F);var s="";var t=l.getEmojiList();var y=false;for(var u=0;u<D.length;){var L=D[u];var N=false;var H=false;if(L>=57344&&L<58680){s=L.toString(16);N=true}else{if((L>=8598&&L<=8601)||(L==9664||L==9654)||(L==9194||L==9193)||(L>=9728&&L<=12953)||(L>=126976&&L<=128768)){s=L.toString(16);N=true;H=true}else{if(L==8419){if(u>0){var A=D[u-1];if(A==35||A>=48&&A<=57){N=true;H=true;--u;L=A}}}}}if(N){y=true;for(var J=0;J<t.length;++J){var z=t[J];for(var I=0;I<z.length;++I){var E=z[I];var w=0;var v=E[1];if(H){var B=(typeof v!="string");if(B&&u+v.length-1<D.length){for(var G=0;G<v.length;G++){var K=D[u+G].toString(16);if(K!=v[G]){w=0;break}else{w++}}}else{if(!B&&E[1]==s){w=1}}}else{if(!H&&E[0]==s){w=1}}if(w>0){var O="data:image/png;base64,"+E[2];var C='<img src="'+O+'"/>';var x=e(C);D.splice(u,w);for(var M=0;M<x.length;++M){D.splice(u,0,x[M]);++u}--u;break}}}}++u}if(y){return r(D)}return C},_faceBuildPanel:function(){var x="";var u=l.getEmojiList();for(var w=0;w<u.length;w++){var t=u[w];for(var v=0;v<t.length;v++){x+='<a href="javascript:;" class="muiEditorFaceItem"><img class="muiEditorFaceItemImg" src="data:image/png;base64,'+t[v][2]+'"></a>'}}var s=new k._ContentSetter({parseContent:true,cleanContent:true,node:this.faceNode,onBegin:function(){this.content=this.content.replace(/!{panel}/g,x);this.inherited("onBegin",arguments)}});s.set(q);s.tearDown()},show:function(){this.inherited(arguments);m.set(this.faceNode,{display:"block"});this.defer(function(){m.set(this.faceNode,{height:this.panelHeight})},1)},hide:function(){this.inherited(arguments);m.set(this.faceNode,{height:0});this.defer(function(){m.set(this.faceNode,{display:"none"})},200)},_faceShow:function(s){if(this._isShow){this.hide();return}this._isShow=true;if(this._falseIsInit){this.show();return}this.iconNode=s.target;this.faceNode=d.create("div",{className:"muiEditorFace"},this.editor.domNode,"last");var t=this.editor.domNode.offsetHeight;this.panelHeight="28rem";this.connect(this.faceNode,"click",b.hitch(this,function(u){this.editor.__textNode.blur();if(!this._faceFireClick()){return}var w=u.target;while(w){if(w.tagName=="IMG"){var x=n.get(w,"src");var v=d.create("img",{src:x,className:"muiEditorFaceImg","data-type":"face"});this.editor.insertElement(v);break}w=w.parentNode}}));this._faceBuildPanel();this.show();this._falseIsInit=true}})})},"sys/mobile/js/mui/form/TextareaApproval":function(){define(["dojo/_base/declare","mui/form/_InputBase","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/touch","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/dialog/BarTip","mui/form/Textarea"],function(f,a,d,l,g,e,h,b,n,k){var m=f("mui.form.TextareaApproval",[k],{buildEdit:function(){var o=(this.textareaNode=d.create("div",{className:"muiFormItem"},this.domNode));o.innerHTML="<textarea class='muiTextarea muiOriginalTextarea' name="+this.name+"></textarea><i class='textarea_dropbox'></i>";var p=(this.textareaNode=o.querySelector("textarea"));this.contentNode=this.textareaNode;this.textareaPre=d.create("pre",{name:this.name+"_pre",className:this.inputClass+"Pre",style:"display:none"},this.domNode);this.connect(this.textareaNode,"keyup","_onInput");this.connect(this.textareaNode,"blur","_onBlur");this.connect(this.textareaNode,"keydown",function(q){window.focus();p.focus()});this.connect(this.textareaNode,e.press,"_handleFocus");this.subscribe("/mui/form/valueChanged","_onChange")},resizeHeight:function(p){var o=38;l.set(p,{height:"auto"});if(o<=0&&p.value!=""){o=p.scrollHeight}if(o<=38){o=38}l.set(p,{height:o+"px"})}});return m})},"sys/mobile/js/mui/table/toggle/ScrollableView":function(){define(["./View","./NativeView"],function(b,a){return dojoConfig._native?a:b})},"sys/mobile/js/mui/form/CheckBoxGroup":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/parser","mui/form/_GroupBase","mui/util","dojo/query","dojo/dom-class"],function(f,b,k,e,a,h,g){var d=f("mui.form.CheckBoxGroup",[e],{tmpl:"<input type=\"checkbox\" data-dojo-type=\"mui/form/CheckBox\" data-dojo-props=\"showStatus:'!{showStatus}',renderType:'!{renderType}',checked:!{checked},name:'!{name}',text:'!{text}',value:'!{value}',style:'!{xformStyle}'\">",valueField:null,opt:false,name:null,value:"",text:"",values:[],concentrate:false,alignment:"V",renderType:"normal",muiSingleRowViewClass:"muiSelInput",xformStyle:"",buildRendering:function(){this.inherited(arguments);if(!this.renderType){this.renderType="normal"}g.add(this.domNode,"muiFormCheckBox"+this.renderType.substring(0,1).toUpperCase()+this.renderType.substring(1));var l="muiCheckBox"+this.renderType.substring(0,1).toUpperCase()+this.renderType.substring(1)+"Wrap";this.valueNode=b.create("div",{className:"muiFormItem muiCheckBoxWrap "+l},this.domNode);if(this.alignment=="V"&&(this.orient=="vertical"||this.__orient=="vertical")){g.add(this.valueNode,"blockCheck")}},_buildValue:function(){this.inherited(arguments)},isConcentrate:function(l){return this.concentrate&&this.value_s.indexOf(l.value)<0&&this.showStatus=="view"},createListItem:function(n){if(this.isConcentrate(n)){return null}var l=this.tmpl.replace("!{showStatus}",this.showStatus).replace("!{renderType}",this.renderType).replace("!{name}","_"+this.name.replace(".","_")+"_single").replace("!{value}",a.formatTextChar(a.formatText(n.value))).replace("!{text}",a.formatTextChar(a.formatText(n.text.replace(/'/g,"&#039;")))).replace("!{checked}",n.checked?true:false).replace("!{alignment}",this.alignment);var m=this.buildXFormStyle()||"";l=l.replace("!{xformStyle}",m);return b.toDom(l)},completed:false,onComplete:function(l){if(this.completed){h(".muiFormOptionsField",this.valueNode).remove()}if(!this.completed){this.completed=true}this.inherited(arguments)},addChild:function(l){this.inherited(arguments);b.place(l,this.valueNode,"last")},generateList:function(l){if(!this.value){this.value_s=[]}else{this.value_s=this.value.split(";")}this.inherited(arguments);k.parse(this.valueNode)},addValue:function(l){if(this.value_s.indexOf(l)>=0){return}this.value_s.push(l);this.set("value",this.value_s.join(";"))},_setValueAttr:function(l){this.inherited(arguments);if(l!=null&&l!=""){this.value_s=l.split(";")}},removeValue:function(m){var l=this.value_s.indexOf(m);if(l<0){return}this.value_s.splice(l,1);this.set("value",this.value_s.join(";"))}});return d})},"sys/mobile/js/mui/address/AddressGroupViewMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojox/mobile/TransitionEvent","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/request","mui/util"],function(d,b,g,e,f,a){return d("mui.address.AddressGroupViewMixin",null,{buildRendering:function(){this.inherited(arguments);var h=this;f.get(a.formatUrl("/sys/organization/sys_org_element_external/sysOrgElementExternalDept.do?method=getUserType"),{headers:{Accept:"application/json"},handleAs:"json"}).then(function(k){if(k){h.commonGroupNode=h.createItem({className:"muiAddressCommonGroupItem",text:e["mui.mobile.address.commonGroup"],viewKey:"commonGroupView"})}h.myGroupNode=h.createItem({className:"muiAddressMyGroupItem",text:e["mui.mobile.address.myGroup"],viewKey:"myGroupView"})})},createItem:function(k){var h=this;var l=b.create("div",{className:"muiAddressItem muiAddressGroupItem "+k.className},this.domNode);b.create("div",{className:"muiAddressItemName",innerHTML:k.text},l);this.connect(l,"click",function(){h.openView(k.viewKey)});var m=b.create("div",{className:"muiAddressItemMore"},l);b.create("i",{className:"mui mui-forward"},m);return l},openView:function(l){var h=this;var k={moveTo:l+"_"+this.key};new g(document.body,k).dispatch()}})})},"sys/mobile/js/mui/address/AddressMyGroupCategoryPath":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojox/mobile/TransitionEvent","./AddressCategoryPath","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(d,g,a,f,b,e){return d("mui.syscategory.AddressMyGroupCategoryPath",[b],{titleNode:e["mui.mobile.address.myGroup"],_createTitleNode:function(){var k=a.create("div",{className:"muiCatePathTitleItem"},this.containerNode);var l=a.create("div",{},k);var h=a.create("span",{},l);h.innerHTML=e["mui.mobile.address.group.path"];this.connect(k,"onclick",g.hitch(this,function(){var m={moveTo:"groupView_"+this.key};new f(document.body,m).dispatch()}));return this.inherited(arguments)},_chgHeaderInfo:function(k,h){if(!this.isSameChannel(k,h)){return}if(h){if(h.fdId){this._createPath([h])}else{this._createPath([])}}}})})},"sys/attachment/mobile/js/_AttachmentTypeMixin":function(){define(["dojo/_base/declare"],function(a){return a("sys.attachment.mobile.js._AttachmentTypeMixin",null,{getType:function(){var b="";if(this.name.lastIndexOf(".")>-1){var d=this.name.substring(this.name.lastIndexOf(".")+1);if(d!=""){d=d.toLowerCase()}switch(d){case"doc":case"docx":b="word";break;case"xls":case"xlsx":b="excel";break;case"pps":case"ppt":case"pptx":b="ppt";break;case"ofd":b="ofd";break;case"pdf":b="pdf";break;case"txt":case"text":b="text";break;case"jpg":case"jpeg":case"ico":case"bmp":case"gif":case"png":case"svg":b="img";break;case"tif":b="tif";break;case"mht":case"html":case"htm":b="html";break;case"mpp":b="project";break;case"vsd":b="visio";break;case"zip":case"rar":case"rar":case"7z":case"gz":b="zip";break;case"mp4":case"m4v":case"flv":case"f4v":case"ogg":case"3gp":case"avi":case"wmv":case"asx":case"asf":case"mpg":case"mov":case"rm":case"wmv9":case"wrf":b="video";break;case"mp3":b="audio";break;case"wps":b="wps";break;case"et":b="et";break;case"dps":b="dps";break;case"out":b="out";break;case"psd":b="psd";break;case"raq":b="raq";break;case"wav":b="wav";break;case"ttc":case"ttf":case"otf":b="ttf";break;case"key":b="keynote";break;case"rmvb":b="rmvb";break;case"ai":b="ai";break;case"sketch":b="sketch";break}}return b}})})},"sys/mobile/js/mui/header/NavHeaderHashMixin":function(){define(["dojo/_base/declare","mui/hash"],function(a,b){return a("mui.header.NavHeaderHashMixin",[],{ensureloadIndex:function(){var d=null;if(!b.canHash()){return d}var f=b.getPath();if(f&&f.length>0){var e=Number(f[0]);return isNaN(e)?d:e}return d}})})},"sys/mobile/js/mui/form/Address":function(){define(["dojo/_base/declare","mui/form/Category","mui/address/AddressMixin","dojo/query","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/topic","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,m,a,k,d,h,l,f,b){var g=e("mui.form.Address",[m,a],{subject:b["mui.mobile.address.subject"],needToUpdateAttInDetail:["idField","nameField","key"],showHeadImg:true,deptLimit:"",exceptValue:"",maxPageSize:300,muiSingleRowViewClass:"muiAddressForm muiAddressShowHeadImg muiCateFiledShow",dataUrl:"/sys/organization/mobile/address.do?method=addressList&parentId=!{parentId}&orgType=!{selType}&deptLimit=!{deptLimit}&maxPageSize=!{maxPageSize}",iconUrl:"/sys/organization/image.jsp?orgId=!{orgId}",searchUrl:"/sys/organization/mobile/address.do?method=searchList&keyword=!{keyword}&orgType=!{orgType}&deptLimit=!{deptLimit}",buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"muiAddressForm");if(this.showHeadImg){l.add(this.domNode,"muiAddressShowHeadImg")}},startup:function(){this.inherited(arguments);if(this.edit&&this.orient=="vertical"){l.add(this.domNode,"showTitle")}},_readOnlyAction:function(n){this.inherited(arguments);if(n){h.set(this.muiCategoryAddNode,"display","none")}else{h.set(this.muiCategoryAddNode,"display","inline-block")}},domNodeClick:function(){if(this.showHeadImg){var n=k(arguments[0].target).closest(".muiCategoryAdd");if(n.length<=0){return}}this.inherited(arguments)},buildValue:function(n){this.inherited(arguments);if(!this.edit){if(this.idField&&!this.idDom){var o=k("[name='"+this.idField+"']");if(o.length>0){this.idDom=o[0]}else{this.idDom=d.create("input",{type:"hidden",name:this.idField},this.valueNode)}}if(this.nameField&&!this.nameDom){var o=k("[name='"+this.nameField+"']");if(o.length>0){this.nameDom=o[0]}else{this.nameDom=d.create("input",{type:"hidden",name:this.nameField},this.valueNode)}}if(this.idDom){this.idDom.value=this.curIds==null?"":this.curIds}if(this.nameDom){this.nameDom.value=this.curNames==null?"":this.curNames}}if(this.showHeadImg){var p="muiCategoryAdd fontmuis muis-new muiNewAdd";this.muiCategoryAddNode=d.create("div",{className:p},n);if(this.edit&&(!this.curIds||this.isMul)){h.set(this.muiCategoryAddNode,"display","inline-block")}else{h.set(this.muiCategoryAddNode,"display","none")}}f.publish("/mui/list/resize",this)},buildOptIcon:function(n){if(!this.showHeadImg){this.inherited(arguments)}this.muiCategoryAddNode=n},_setValueAttr:function(n){this.inherited(arguments);if(this.domNode!=null){l.add(this.domNode,"showTitle")}},getText:function(){var p=[];if(this.curNames!=null&&this.curNames!=""){var n=this.curNames.split(";");for(var o=0;o<n.length;o++){p.push(n[o])}}return p.join(";")}});return g})},"sys/attachment/mobile/js/AttachmentViewPageTime":function(){define(["dojo/_base/declare","dojo/topic","dijit/_WidgetBase","mui/util","dojo/request","dojo/string"],function(e,d,g,a,f,b){return e("AttachmentViewPageTime",[g],{fdId:"",_templateId:"",_contentId:"",computingTimeUrl:"/sys/attachment/computingTime.do?method=computingTime&fdId=${fdId}&_templateId=${_templateId}&_contentId=${_contentId}",startup:function(){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);window.computingTimeTimer="";computingTimeTimer=setInterval(function(){h.computingTime()},1000*60);var h=this;document.addEventListener("visibilitychange",function(){if(document.hidden){clearInterval(computingTimeTimer)}else{computingTimeTimer=setInterval(function(){h.computingTime()},1000*60)}});this.computingTime()},computingTime:function(){var h=f.post(a.formatUrl(b.substitute(this.computingTimeUrl,{fdId:this.fdId||"",_templateId:this._templateId||"",_contentId:this._contentId||""})),{handleAs:"json"});h.response.then(function(k){if(k.status==200){var l=k.data;if(l.isFinished){clearInterval(computingTimeTimer)}}})}})})},"sys/mobile/js/mui/view/NativeDocView":function(){define(["dojo/_base/declare","mui/NativeView","dojo/topic","./AddBottomTipMixins"],function(d,a,b,e){return d("mui.view.NativeDocView",[a,e],{buildRendering:function(){this.inherited(arguments);this.addBottomTip(this.containerNode);window.addEventListener("scroll",this.scrollEvent.bind(this));this.subscribe("/mui/list/toTop","toTop")},toTop:function(m,r){var p=0;if(r){p=r.y||0}var k=-p;var g=this.getPos().y;var q=k-g;var s=300;var o=30;var n=10;var h=q/n;var l=0;var f=window.setInterval(function(){if(l<=n-1){g+=h;l++;window.scrollTo(0,g)}else{window.clearInterval(f)}},o)},scrollEvent:function(){var f=this.getPos().y;if(f>=50){b.publish("mui/view/showTop")}else{b.publish("mui/view/hideTop")}},handleToTopTopic:function(g,f){if(window.console){window.console.log("function is null")}}})})},"sys/mobile/js/mui/category/FavoriteCateMixin":function(){define(["dojo/_base/declare","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,b){return a("mui.category.FavoriteCateMixin",null,{memory:[{moveTo:"favoriteCateView",text:b["mui.mobile.favoriteCateView"],selected:true},{moveTo:"allCateView",text:b["mui.mobile.allCateView"]}]})})},"sys/mobile/js/mui/nav/_StaticNavBarMixin":function(){define("mui/nav/_StaticNavBarMixin",["dojo/_base/declare","dojo/dom-style","dojox/mobile/_StoreMixin","dojo/_base/array","./NavItem","mui/store/JsonRest","mui/util"],function(h,g,e,k,a,f,d){var b=h("mui.nav._StaticNavBarMixin",e,{itemRenderer:a,key:"",defaultUrl:"",memory:null,buildRendering:function(){this.inherited(arguments)},onComplete:function(l){this.generateList(l);this._shareNav();if(this.selectedItem){this.selectedItem.setSelected();if(this.selectedItem.moveTo){this.selectedItem.defaultClickAction({})}}},_shareNav:function(){var p=this.containerNode.offsetWidth,m=this.domNode.offsetWidth;if(p>m){return}var o=this.getChildren();var l=0;k.forEach(o,function(r){var q=r.domNode;l+=q.offsetWidth});var n=(p-l)/(o.length*2);k.forEach(o,function(r){var q=r.domNode;g.set(q,{"margin-left":n+"px","margin-right":n+"px"})})},generateList:function(l){k.forEach(l,function(n,m){if(m==0){this.addFirstChild(this.createListItem(n));return}this.addChild(this.createListItem(n));if(n[this.childrenProperty]){k.forEach(n[this.childrenProperty],function(p,o){this.addChild(this.createListItem(p))},this)}},this)},selectedItem:null,addFirstChild:function(l){this.addChild(l)},createListItem:function(l){var l=new this.itemRenderer(this._createItemProperties(l));if(l.selected===true){this.selectedItem=l}return l},_createItemProperties:function(l){return l},startup:function(){if(this._started){return}if(this.memory){this.defer(function(){this.onComplete(this.memory)},1)}else{if(!this.store&&!this.defaultUrl){return}if(!this.store&&this.defaultUrl){var l=new f({idProperty:"fdId",target:d.formatUrl(this.defaultUrl)})}else{l=this.store}this.store=null;this.setStore(l,this.query,this.queryOptions)}this.inherited(arguments)}});return b})},"sys/mobile/js/mui/address/AddressMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/query","dojo/dom-construct","mui/form/Category","dojo/request","mui/util"],function(h,b,l,d,a,f,k){window.ORG_TYPE_ORG=1;window.ORG_TYPE_DEPT=2;window.ORG_TYPE_POST=4;window.ORG_TYPE_PERSON=8;window.ORG_TYPE_GROUP_CATE=4096;window.ORG_TYPE_GROUP=16;window.ORG_TYPE_ROLE=32;window.ORG_TYPE_ORGORDEPT=window.ORG_TYPE_ORG|window.ORG_TYPE_DEPT;window.ORG_TYPE_POSTORPERSON=window.ORG_TYPE_POST|window.ORG_TYPE_PERSON;window.ORG_TYPE_ALLORG=window.ORG_TYPE_ORGORDEPT|window.ORG_TYPE_POSTORPERSON;window.ORG_TYPE_ALL=window.ORG_TYPE_ALLORG|window.ORG_TYPE_GROUP;window.ORG_FLAG_AVAILABLEYES=256;window.ORG_FLAG_AVAILABLENO=512;window.ORG_FLAG_AVAILABLEALL=window.ORG_FLAG_AVAILABLEYES|window.ORG_FLAG_AVAILABLENO;window.ORG_FLAG_BUSINESSYES=1024;window.ORG_FLAG_BUSINESSNO=2048;window.ORG_FLAG_BUSINESSALL=window.ORG_FLAG_BUSINESSYES|window.ORG_FLAG_BUSINESSNO;var g=h("mui.address.AddressMixin",null,{type:window.ORG_TYPE_ALL,isMul:false,jsURL:"/sys/mobile/js/mui/address/address_sgl.js!",buildRendering:function(){this.inherited(arguments)},_setIsMulAttr:function(m){this._set("isMul",m);if(this.isMul){this.jsURL="/sys/mobile/js/mui/address/address_mul.js!"}else{this.jsURL="/sys/mobile/js/mui/address/address_sgl.js!"}},afterSelect:function(m){var n="/sys/organization/sys_organization_recent_contact/sysOrganizationRecentContact.do?method=addContacts&contactIds="+m.curIds;f.get(k.formatUrl(n))}});var e={address:function(s,o,m,n,r){var q=new a();q.isMul=s==true?true:false;q.jsURL=(s==true?"/sys/mobile/js/mui/address/address_mul.js!":"/sys/mobile/js/mui/address/address_sgl.js!");q.key=o?o:"_address_default";var p=null;var t=null;if(o){p=l("[name='"+o+"']")[0]}if(m){t=l("[name='"+m+"']")[0]}if(p){q.curIds=p.value}if(t){q.curNames=t.value}if(n!=null){q.type=n}else{q.type=window.ORG_TYPE_ALL}q.afterSelect=function(u){if(p){p.value=u.curIds}if(t){t.value=u.curNames}if(r){r(u)}};q.eventBind();q._selectCate()}};return b.mixin(g,e)})},"sys/mobile/js/mui/form/DateTime":function(){define(["dojo/_base/declare","mui/form/_SelectBase","dojo/query","mui/datetime/_DateMixin","mui/datetime/_DateMixin7","mui/datetime/_TimeMixin","mui/datetime/_DateTimeMixin","dojo/_base/lang","dojo/topic","mui/form/_CompositeContainedMixin"],function(h,a,l,m,e,g,n,b,k,d){var o=h("mui.form.DateTime",[a,d],{needToUpdateAttInDetail:["valueField","nameField"],nameField:null,value:"",VALUE_CHANGE:"/mui/form/datetime/change",opt:true,tipMsg:"",optClass:"muis-to-right",muiSingleRowViewClass:"muiSelInput",isValidate:false,dimension:"",buildRendering:function(){this.inherited(arguments);if(this.getParent()){if(this.getParent().validateDate){this.isValidate=true}}},_setValueAttr:function(p){var r=p!=this.value;this.inherited(arguments);var q=true;if(this.isValidate){if(this.getParent().validateDate(this)){if(r){k.publish(this.VALUE_CHANGE,this)}}}else{if(r){k.publish(this.VALUE_CHANGE,this)}}}});var f={selectDate7:function(s,p,t,v,r){var u=l('[name="'+p+'"]');if(u.length==0){return}var q=new h([o,e])({valueDom:u[0],value:u[0].value});q.openDateTime()},selectDate:function(s,p,t,v,r){var u=l('[name="'+p+'"]');if(u.length==0){return}var q=new h([o,m])({valueDom:u[0],value:u[0].value});q.openDateTime()},selectTime:function(s,p,t,v,r){var u=l('[name="'+p+'"]');if(u.length==0){return}var q=new h([o,g])({valueDom:u[0],value:u[0].value});q.openDateTime()},selectDateTime:function(s,p,t,v,r){var u=l('[name="'+p+'"]');if(u.length==0){return}var q=new h([o,n])({valueDom:u[0],value:u[0].value});q.openDateTime()}};return b.mixin(o,f)})},"sys/mobile/js/mui/address/AddressDeptMember":function(){define(["dojo/_base/declare","dojo/topic","dijit/_WidgetBase","dojo/dom-construct","dojox/mobile/TransitionEvent","mui/device/adapter","mui/history/listener","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(f,g,e,d,k,l,a,h,b){return f("mui.address.AddressDeptMember",[e],{buildRendering:function(){var n=this;this.inherited(arguments);if((this.selType&window.ORG_TYPE_PERSON)!=window.ORG_TYPE_PERSON){return}this.dom=d.create("div",{className:"muiAddressItem muiUsualDeptMember"},this.domNode);var m=d.create("div",{className:"muiAddressItemIcon"},this.dom);d.create("img",{src:h.formatUrl("/sys/mobile/css/themes/default/images/address-deptmember.png")},m);d.create("div",{className:"muiAddressItemName",innerHTML:b["mui.mobile.address.deptMember"]},this.dom);var o=d.create("div",{className:"muiAddressItemMore"},this.dom);d.create("i",{className:"mui mui-forward"},o)},startup:function(){this.inherited(arguments);this.dom&&this.connect(this.dom,"click","openView")},openView:function(){var n;var m=this;a.push({forwardCallback:function(){n=document.title;g.publish("/mui/address/swapView",m,{viewKey:"deptMember"});new k(document.body,{moveTo:"deptMemberView_"+m.key}).dispatch();l.setTitle(b["mui.mobile.address.deptMember"])},backCallback:function(){g.publish("/mui/address/swapView",m,{viewKey:"default"});new k(document.body,{moveTo:"defaultView_"+m.key}).dispatch();if(n){l.setTitle(n);n=null}}})}})})},"sys/mobile/js/mui/category/CategorySearchListMixin":function(){define(["dojo/_base/declare","mui/util","dojo/_base/array","dojo/topic"],function(d,a,e,b){return d("sys.syscategory.CategorySearchListMixin",null,{_cateChange:function(g,f){b.publish("/mui/searchbar/cancel")},buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/search/submit","_onRelod");this.subscribe("/mui/search/cancel","_onCancel")},_onCancel:function(f){if(f.key==this.key){e.forEach(this.getChildren(),function(g){g.destroyRecursive()})}},_onRelod:function(g,f){if(g.key==this.key){this.keyword=f.keyword;this.url=a.urlResolver(a.formatUrl(this.dataUrl),this);this.buildLoading();this.reload()}}})})},"sys/mobile/js/mui/nav/MobileCfgNavBar":function(){define("mui/nav/MobileCfgNavBar",["dojo/_base/declare","./NavBarStore","mui/util"],function(b,d,a){return b("mui.nav.MobileCfgNavBar",[d],{url:"/sys/mobile/sys_mobile_module_category_config/sysMobileModuleCategoryConfig.do?method=data&fdModelName=!{modelName}",modelName:null,isTiny:false,startup:function(){if(this._started){return}if(typeof(navMemory)!="undefined"&&this.modelName){if(navMemory[this.modelName]){this.isTiny=true;this.defer(function(){this.onComplete(navMemory[this.modelName])},1)}}else{if(this.modelName){this.url=a.urlResolver(this.url,{modelName:this.modelName})}else{this.url=a.urlResolver(this.url,{modelName:""})}}this.inherited(arguments)},_createItemProperties:function(e){if(this.isTiny){e.text=e[dojoConfig.locale]}return e}})})},"sys/attachment/mobile/js/AttachmentOptSelect":function(){define(["dojo/_base/declare","mui/form/Select","dojo/dom-construct","sys/attachment/mobile/js/AttachmentOptDialog","dojo/_base/lang","dojo/topic","dojo/_base/array"],function(f,k,b,a,g,e,h){var d=f("sys.attachment.mobile.js.AttachmentOptSelect",[k],{pop:false,renderListItem:function(){h.forEach(this.values,function(m){var l=b.create("div",{className:"muiAttDialogButton",innerHTML:m.text},this.contentNode);this.connect(l,"click",g.hitch(this,function(){e.publish("/mui/form/valueChanged",this,{value:m.value})}))},this)},_onClick:function(){if(this.dialog){this.dialog.hide();this.dialog=null;return}this.contentNode=b.create("div",{className:"muiAttDialogContent"});this.renderListItem();this.dialog=a.element({element:this.contentNode,position:"bottom",showClass:"muiDialogSelect attOperationDialog",callback:g.hitch(this,function(){e.publish(this.SELECT_CALLBACK,this);this.dialog=null})})}});return d})},"sys/mobile/js/mui/rating/Rating":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-attr","dojo/topic","dojo/touch","dijit/_WidgetBase","dojo/dom-style","dojo/dom-class","dojo/_base/Deferred"],function(f,a,b,m,g,e,d,h,n,l){var k=f("mui.rating.Rating",[d],{icon:"fontmuis muis-star",numStars:5,value:0,baseClass:"muiRating",editable:false,classOff:"muiRatingOff",classOn:"muiRatingOn",eventName:"/mui/rating/ratingSelected",ratings:[],unratings:[],buildRendering:function(){this.inherited(arguments);this.starArea=b.create("div",{className:"muiRatingArea"},this.domNode);this.buildStarts(this.classOff,this.starArea,!this.editable)},buildStarts:function(r,s,p){if(p){if(this.value%1>0){this.nbuildStartsHarf(s)}else{this.nbuildStarts(s)}return}h.set(this.domNode,{position:"relative"});for(var o=0;o<this.numStars;o++){var q=b.create("i",{className:this.icon+" "+r,score:(o+1)},s);this.connect(q,e.release,"_selectStar");if(r==this.classOff){this.unratings.push(q)}if(r==this.classOn){this.ratings.push(q)}}},nbuildStarts:function(r){for(var q=0;q<this.value;q++){var s=b.create("i",{className:this.icon+" "+this.classOn},r)}var o=this.numStars-this.value;for(var p=0;p<o;p++){var s=b.create("i",{className:this.icon+" "+this.classOff},r)}},nbuildStartsHarf:function(q){var u=parseInt(this.value);var w=this.value%1;var r=this.numStars-u-1;for(var t=0;t<u;t++){var v=b.create("i",{className:this.icon+" "+this.classOn},q)}var o=b.create("span",{className:this.icon+" "+this.classOff+" mulRatingHarfContainer"},q);var p=b.create("span",{className:this.icon+" "+this.classOn+" mulRatingHarf"},o);h.set(p,{width:(w/1)*100+"%",margin:0});h.set(this.starArea,{"text-align":"center"});for(var s=0;s<r;s++){var v=b.create("i",{className:this.icon+" "+this.classOff},q)}},_setValueAttr:function(q){this._set("value",q);if(this.Value==0||!this.editable){return}if(this.valArea==null){this.valArea=b.create("div",{className:"muiRatingValue"},this.domNode);this.buildStarts(this.classOn,this.valArea)}this.valArea.style.width=(parseFloat(this.value)/parseFloat(this.numStars))*100+"%";var q=parseInt(this.value);var o=this;var s="muiRatingScale",r="muiRatingHide";for(var p=0;p<q;p++){~~function(t){return function(){var u=new l();u.then(function(){n.remove(o.unratings[t],r);n.remove(o.ratings[t],s)});o.defer(function(){n.add(o.unratings[t],r);n.add(o.ratings[t],s);o.defer(function(){u.resolve()},200)},t*200)}()}(p)}},_selectStar:function(o){var p=o.target||o.srcElement;value=m.getNodeProp(p,"score");this.set("value",parseInt(value,10));g.publish(this.eventName,this)}});return k})},"sys/mobile/js/mui/form/Label":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-class","dojo/dom-construct","mui/form/_FormBase"],function(d,f,e,a,g){var b=d("mui.form.Label",[g],{baseClass:"muiFormEleWrap showTitle",value:null,showStatus:"view",buildRendering:function(){this.inherited(arguments);if(this.value){this.labelNode=a.create("div",{className:"muiSelLabel",innerHTML:this.value},this.domNode)}}});return b})},"sys/mobile/js/mui/form/editor/plugins/lingling/SysFaceConfig":function(){define(["dojo/_base/declare","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-view"],function(d,a,e){var b=d("sys.mui.form.editor.plugins.lingling.SysFaceConfig",null,{_faceConfig:{face:{activeClass:"eval_bq_active",tabId:"eval_bq_system",bqName:"系统表情",width:24,height:24,container:"eval_bg_system_container",row:5,col:17,start:0,max:79,type:"face",suffix:".gif",path:a.formatUrl("/sys/evaluation/import/resource/images/bq/")},dnyling:{tabId:"eval_bq_dny_ling",bqName:"动态凌凌",width:60,height:60,container:"eval_bg_dny_ling_container",isHide:true,row:3,col:6,start:1,max:32,type:"dnyling",suffix:".gif",path:a.formatUrl("/sys/ui/resource/images/phiz/dnyling/")},lingling:{tabId:"eval_bq_ling_ling",bqName:"凌凌表情",width:60,height:60,container:"eval_bg_ling_ling_container",isHide:true,row:3,col:6,start:1,max:33,type:"lingling",suffix:".png",path:a.formatUrl("/sys/ui/resource/images/phiz/lingling/")}},_initSysFaceConfig:function(){for(var h in this._faceConfig){var k=this._faceConfig[h];k.configs=[];for(var g=k.start;g<=k.max;g++){k.configs[g]="["+k.type+g+"]"}}},getByType:function(g){return this._faceConfig[g]},replaceFace:function(l){if(!l||l.length==0){return""}for(var k in this._faceConfig){var m=this._faceConfig[k];for(var h=m.start;h<=m.max;h++){var g=m.configs[h];while(l.indexOf(g)!=-1){l=l.replace(m.configs[h],"<img width='"+m.width+"' src='"+m.path+h+m.suffix+"' type='"+m.type+"' />")}}l=l.replace(/&amp;nbsp;/g,"");l=l.replace(/&lt;div&gt;/g,"<br>");l=l.replace(/&lt;\/div&gt;/g,"")}return l},replaceFaceWithBlank:function(l){if(!l||l.length==0){return""}for(var k in this._faceConfig){if("face"==k){continue}var m=this._faceConfig[k];for(var h=m.start;h<=m.max;h++){var g=m.configs[h];while(l.indexOf(g)!=-1){l=l.replace(m.configs[h],"")}}l=l.replace(/&amp;nbsp;/g,"");l=l.replace(/&lt;div&gt;/g,"<br>");l=l.replace(/&lt;\/div&gt;/g,"")}return l},startup:function(){this.inherited(arguments);this._initSysFaceConfig()}});var f=new b();f.startup();return f})},"sys/mobile/js/mui/address/AddressCategoryPath":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/topic","dojo/request","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/query","dojox/mobile/ScrollableView","mui/category/ScrollableCategoryPath","mui/util","./AddressChannelMixin","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(h,a,o,m,g,f,n,q,s,b,p,r,l,k,e,d){return h("mui.syscategory.AddressCategoryPath",[l,e],{visible:true,detailUrl:"/sys/organization/sys_org_element/sysOrgElement.do?method=getParentOrgs&fdId=!{curId}&isEcoPath=!{isEcoPath}&noPath=!{noPath}&deptLimit=!{deptLimit}",titleNode:d["mui.mobile.address.allCate"],buildRendering:function(){if(this._started){return}this.inherited(arguments);s.add(this.domNode,"muiAddressPath");this.arrowNode=f.create("div",{className:"muiAddressPathArrow"},this.domNode);f.create("i",{className:"muiAddressPathArrowIcon"},this.arrowNode)},postCreate:function(){this.inherited(arguments);this.connect(this.arrowNode,"click","_toggleExpand")},_createScrollNode:function(){this.scroll=new r({scrollBar:false,scrollDir:"h",height:"3rem"});this.addChild(this.scroll)},_createPath:function(t){var u=p(".muiAddressPathItemExpand",this.domNode);o.forEach(u,function(v){f.destroy(v)},this);this.inherited(arguments);q.set(this.containerNode,"data-length",t.length);if(!this.visible){n.set(this.domNode,"display","none")}s.toggle(this.domNode,"hasExpand",false);this._resizePath()},_resizePath:function(){var t=this._hasExpand();if(t){n.set(this.scroll.domNode,"display","none");var v=this.scroll.containerNode;while(v.firstElementChild){var u=v.firstElementChild;s.add(u,"muiAddressPathItemExpand");f.place(u,this.containerNode,"last")}}else{var w=p(".muiAddressPathItemExpand",this.domNode);o.forEach(w,function(x){s.remove(x,"muiAddressPathItemExpand");f.place(x,this.scroll.containerNode,"last")},this);n.set(this.scroll.domNode,"display","block")}s.toggle(this.domNode,"canExpand",this._hasExpand()||this._canExpand())},_canExpand:function(){var u=b.getContentBox(this.scroll.containerNode).w;var t=b.getContentBox(this.scroll.domNode).w;return u>t},_hasExpand:function(){return s.contains(this.domNode,"hasExpand")},_toggleExpand:function(){s.toggle(this.domNode,"hasExpand",!this._hasExpand());this._resizePath()},_chgHeaderInfo:function(u,t){if(this.isSameChannel(u)){this.inherited(arguments)}},resize:function(){this.inherited(arguments);this._resizePath()}})})},"sys/mobile/js/mui/category/CommonCateMixin":function(){define(["dojo/_base/declare","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,b){return a("mui.category.CommonCateMixin",null,{memory:[{moveTo:"commonCateView",text:b["mui.mobile.favoriteCateView"],selected:true,channelName:"category"},{moveTo:"allCateView",text:b["mui.mobile.allCateView"]}]})})},"sys/mobile/js/mui/address/address_mul":function(){define(["./address_common"],function(b){function a(f,e){var d=b.html({mul:true});e(d)}return{load:function(f,d,e){a(f,e)}}})},"sys/mobile/js/mui/datetime/_EditDateTimeMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/registry","dojo/query","mui/dialog/Dialog","dojo/dom-style","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(g,b,e,h,a,f,k){var d=g("mui.datetime._EditDateTimeMixin",null,{edit:true,type:"",tmplURL:null,mixinId:null,title:"",value:"",canClear:true,_contentExtendClass:null,showClass:"muiDateTimeShow",getMixinIds:function(){if(this.mixinIds){return this.mixinIds}if(this.type=="date"||this.type=="time"){this.mixinIds=["_"+this.type+"_picker"]}else{this.mixinIds=["_date_picker","_time_picker"]}return this.mixinIds},setDateTimeValue:function(o){var m=this.getMixinIds();if(m.length>0){if(m.length==1){e.byId(m[0]).set("value",o)}else{var n=this.splitValue();for(var l=0;l<m.length;l++){e.byId(m[l]).set("value",n[l])}}}},getDateTimeValue:function(){var m=this.getMixinIds();var n="";if(m.length>0){if(m.length==1){n=e.byId(m[0]).get("value")}else{var o=[];for(var l=0;l<m.length;l++){o.push(e.byId(m[l]).get("value"))}n=o.join(" ")}}return n},getDialogDiv:function(){var l=h(".muiDateTimeDialogContent",this.dialog);return l.length>0?l[0]:null},openDateTime:function(l){var n=this;var m=this.tmplStr;if(n.dialog){return}n.dialog=b.create("div",{className:"muiDateTimeDialog "+n.showClass});n.dialogContentDiv=b.create("div",{className:"muiDateTimeDialogContent"+(n._contentExtendClass?" "+n._contentExtendClass:"")},n.dialog);var p=n.splitValue();n.dialogContentDiv.innerHTML=m.replace("!{dateValue}",p[0]).replace("!{timeValue}",p[1]).replace("!{minuteStep}",n.params.minuteStep||"");var o=[{title:k["mui.button.cancel"],fn:function(q){q.hide()}},{title:k["mui.button.ok"],fn:function(q){var r=n.getDateTimeValue();n.set("value",r);q.hide()}}];if(n.canClear){o.push({title:k["mui.button.clear"],fn:function(q){n.set("value","");q.hide()}})}a.element({element:n.dialog,scrollable:false,parseable:true,position:"bottom",showClass:"muiFormDateTime",canClose:false,buttons:o,callback:function(){n.destroyDialog()}})},splitValue:function(){var l=["",""];if(this.value==null||this.value==""){return l}if(this.type=="date"||this.type=="week"){l[0]=this.value}else{if(this.type=="time"){l[1]=this.value}else{l=this.value.split(" ")}}if(l.length<2){l=["",""]}return l},destroyDialog:function(){if(this.dialog){b.destroy(this.dialog);this.dialog=null}},editValueSet:function(l){if(this.valueDom){this.valueDom.value=l}this.inputContent.innerHTML=l;this.valueDom.value=l},hiddenValueSet:function(l){},viewValueSet:function(l){this.inputContent.innerHTML=l},readOnlyValueSet:function(l){this.editValueSet(l)},buildEdit:function(){this.inherited(arguments);this.valueDom=b.create("input",{readonly:"readonly",name:this.valueField,type:"hidden"},this.domNode,"first");if(this.domNode){this.domNodeOnClickEvent=this.connect(this.domNode,"click",this.domNodeClick)}},_readOnlyAction:function(l){this.inherited(arguments);if(l){if(this.domNodeOnClickEvent){this.disconnect(this.domNodeOnClickEvent)}this.domNodeOnClickEvent=null}else{this.domNodeOnClickEvent=this.connect(this.domNode,"click",this.domNodeClick)}},domNodeClick:function(){this.openDateTime()},buildReadOnly:function(){this.valueDom=b.create("input",{readonly:"readonly",name:this.valueField,type:"hidden"},this.domNode,"first")},buildView:function(){},buildHidden:function(){this.buildReadOnly();f.set(this.domNode,{display:"none"})},_getNameAttr:function(){return this._get("valueField")}});return d})},"sys/mobile/js/mui/address/AddressSearchBar":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-style","dojo/dom-attr","dijit/registry","dojox/mobile/TransitionEvent","mui/search/SearchBar","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,f,h,k,a,l,b,g,d){function m(o,p,n){var q=null;return function(){var s=n.context||this;var r=arguments;if(q){clearTimeout(q)}q=setTimeout(function(){o.apply(s,r)},p)}}return e("mui.address.AddressSearchBar",[b],{jumpToSearchUrl:false,needPrompt:false,showLayer:false,keyword:"",exceptValue:"",placeHolder:d["mui.mobile.address.search"],orgType:null,previousView:null,buildRendering:function(){this.inherited(arguments);this.subscribe("/mui/address/searchBar/cancel","_onCancel")},postMixInProperties:function(){this.inherited(arguments);this.placeHolder=this.getPlaceHolder()},postCreate:function(){this.inherited(arguments);this.connect(this.searchNode,"onclick","_onOpenSearchView");this.connect(this.searchNode,"oninput",m(this._onSearch,500,{context:this}));this.subscribe("/mui/address/swapView","_onChangeView");this.subscribe("/mui/address/search/submit","_onHandleSearchNode")},_onOpenSearchView:function(){f.publish("/sys/org/eco/btn/hidden");var p=this.getSearchView();var o=p.getShowingView();var n=o.id;if(n.startsWith("default")){new l(document.body,{moveTo:p.id}).dispatch()}if(p!==o){this.previousView=o;f.publish("/mui/address/search/init",this)}},_onChangeView:function(o,n){if(o.key===this.key){if(n&&n.viewKey!="default"){k.set(this.searchNode,"placeHolder",d["mui.mobile.address.search.simple"])}else{k.set(this.searchNode,"placeHolder",this.getPlaceHolder())}}},_onCancel:function(n){f.publish("/sys/org/eco/btn/show");this._onClear(n);h.set(this.buttonArea,{display:"none"});if(this.previousView){new l(document.body,{moveTo:this.previousView.id}).dispatch();f.publish("/mui/address/search/cancel",this)}},_onSearch:function(n){this._eventStop(n);this.set("keyword",this.searchNode.value);if(this.keyword){f.publish("/mui/address/search/submit",this,{keyword:decodeURIComponent(this.keyword.replace(/%/g,"%25"))})}return false},_onHandleSearchNode:function(n){var o=this.searchNode.value;if(n.keyword!==o){this.searchNode.value=n.keyword}},getSearchView:function(){var o="searchView_"+this.key;var n=a.byId(o);return n},getPlaceHolder:function(){var n=d["mui.form.please.input"];if((this.orgType&window.ORG_TYPE_PERSON)==window.ORG_TYPE_PERSON){n+=d["mui.mobile.address.search.type.person"]+"/"}if((this.orgType&window.ORG_TYPE_ORG)==window.ORG_TYPE_ORG){n+=d["mui.mobile.address.search.type.org"]+"/"}if((this.orgType&window.ORG_TYPE_DEPT)==window.ORG_TYPE_DEPT){n+=d["mui.mobile.address.search.type.dept"]+"/"}if((this.orgType&window.ORG_TYPE_POST)==window.ORG_TYPE_POST){n+=d["mui.mobile.address.search.type.post"]+"/"}return n.replace(/\/$/,"")}})})},"sys/mobile/js/mui/category/AppBarsMixin":function(){define(["dojo/_base/declare"],function(a){return a("mui.category.AppBarsMixin",null,{findAppBars:function(){if(!this.appBars){return}var d=this.getParent();while(d){var b=d.domNode;if(b.parentNode){for(i=0,len=b.parentNode.childNodes.length;i<len;i++){c=b.parentNode.childNodes[i];if(this.checkFixedBar(c,false)){break}}}d=d.getParent()}return this.inherited(arguments)}})})},"sys/mobile/js/mui/panel/NavPanel":function(){define("mui/panel/NavPanel",["dojo/_base/declare","dojo/_base/lang","dojo/store/Memory","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/topic","dojo/query","dojo/window","dojo/dom-geometry","dijit/registry","mui/panel/AccordionPanelMixin","mui/fixed/Fixed","mui/fixed/FixedItem","mui/panel/NavPanelBar","mui/panel/DelayContent"],function(l,f,q,k,s,o,m,r,n,g,a,e,b,d,h,p){return l("mui.panel.NavPanel",[e],{navBarHeight:"4.4rem",selectedNavIndex:0,fixedOrder:0,startup:function(){this.inherited(arguments);var t=[];if(this.contentList){for(var v=0;v<this.contentList.length;v++){var z=this.contentList[v].claz;var y={text:z.title,key:v};t.push(y)}}if(t.length>1){var x=this.titleList[0];o.set(x,"display","none");var w=k.create("div",{className:"muiAccordionVirtualTitleLine"});k.place(w,x,"before");this.titleList[0]=w;var u=new q({data:t});this.fixed=new b({fixedOrder:this.fixedOrder});k.place(this.fixed.domNode,this.domNode,"first");this.fixedItem=new d({baseClass:"muiFlowFixedItem"});k.place(this.fixedItem.domNode,this.fixed.domNode,"first");this.navPanelBar=new h({store:u,height:this.navBarHeight});k.place(this.navPanelBar.domNode,this.fixedItem.domNode,"first");this.fixed.startup();this.fixedItem.startup();this.navPanelBar.startup();if(this.buildOtherItems){this.buildOtherItems()}this.bindNavPanelListener()}},bindNavPanelListener:function(){this.handleScrollEventFunc=f.hitch(this,"handleScrollEvent");this.defer(function(){this.subscribe("/mui/navitem/_selected","handleNavChanged");window.addEventListener("scroll",this.handleScrollEventFunc)},500);this.subscribe("/mui/panel/navPanel/scroll","handleNavPanelScroll");this.defer(function(){var t=this.navPanelBar.getChildren()[this.selectedNavIndex];m.publish("/mui/navitem/changedSelected",t,{key:this.selectedNavIndex})},50);this.defer(function(){var v=this.getSelectedNavIndex();for(var t=0;t<this.contentList.length;t++){if(t<=v){var u=this.contentList[t].claz;if(u instanceof p){u.isInFirstScreen=true;m.publish("/mui/panel/delayContent/init",u)}}}},100)},handleNavChanged:function(x,z){var v=this.navPanelBar.getChildren();if(v&&v.length>0){var t=false;for(var u in v){if(v[u]==x){t=true}}if(!t){return}}else{return}var y=this.contentList[z.index].claz;if(y instanceof p){m.publish("/mui/panel/delayContent/init",y)}var w=this.titleList[z.index];this._scrollToNode(w);this.selectedNavIndex=z.index},handleNavPanelScroll:function(t,u){if(t==this&&u&&u.target){this._scrollToNode(u.target)}},_scrollToNode:function(x){var w=g.getContentBox(x).t;var u=n.getBox().t;var t=this;var v=10;if(w>u){window.removeEventListener("scroll",t.handleScrollEventFunc);var y=setInterval(function(){w=t._getToWinTop(x);if(w-u<=v||u>=document.documentElement.scrollHeight){t._setScrollTop(w);clearInterval(y);setTimeout(function(){window.addEventListener("scroll",t.handleScrollEventFunc)},100)}else{u+=v;t._setScrollTop(u);if(v<50){v++}}},1)}else{if(w<u){window.removeEventListener("scroll",t.handleScrollEventFunc);var y=setInterval(function(){w=t._getToWinTop(x);if(u-w<=v||u<=0){t._setScrollTop(w);clearInterval(y);setTimeout(function(){window.addEventListener("scroll",t.handleScrollEventFunc)},100)}else{u-=v;t._setScrollTop(u);if(v<50){v++}}},1)}}},_setScrollTop:function(t){document.body.scrollTo(0,t);document.documentElement.scrollTo(0,t)},_getToWinTop:function(t){if(s.contains(this.fixed.domNode,"muiFixed")){return g.getContentBox(t).t-g.getContentBox(this.fixed.domNode).h}else{return g.getContentBox(t).t}},_isVisible:function(t){var u=function(w){return o.get(w,"display")!=="none"};for(var v=t;v.tagName!=="BODY";v=v.parentNode){if(!u(v)){return false}}return true},handleScrollEvent:function(t){var w=0;if(n.getBox().t>1){w=this.getSelectedNavIndex()}if(this.selectedNavIndex!=w){var u=this.navPanelBar.getChildren()[w];m.publish("/mui/navitem/changedSelected",u,{key:w});var v=this.contentList[w].claz;if(v instanceof p){m.publish("/mui/panel/delayContent/init",v)}this.selectedNavIndex=w}},getFixedBottomHeight:function(){var u=0;var v=r("[fixed='bottom'].muiViewBottom");if(v.length>0){var t=v[0];if(this._isVisible(t)){u=g.getContentBox(t).h}}return u},getSelectedNavIndex:function(){var B=0;var C=this.getFixedBottomHeight();var u=n.getBox();var x=u.t;var G=u.h;var F=this.titleList;if(F.length>0){for(var y=0;y<F.length;y++){var A=F[y];var E=g.getContentBox(A);var w=E.t;var z=E.h;var v=0;if(s.contains(this.fixed.domNode,"muiFixed")){v=this.fixed.domNode.offsetTop}var t=w+C+z+v-G;var D=t-x;if(x>=t||(D>0&&D<1)){B=y}else{break}}}return B}})})},"sys/mobile/js/mui/fixed/NativeFixed":function(){define("mui/fixed/NativeFixed",["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","./NativeFixedMixin"],function(e,f,d,a,b){return e("mui.fixed.NativeFixed",[f,d,a,b],{fixed:"top",noSrcoll:true})})},"sys/mobile/js/mui/panel/NavPanelBar":function(){define("mui/panel/NavPanelBar",["dojo/_base/declare","dojo/store/Memory","mui/nav/NavBarStore"],function(a,d,b){return a("mui.panel.NavPanelBar",[b],{})})},"sys/mobile/js/mui/address/AddressSelection":function(){define(["dojo/_base/declare","mui/iconUtils","mui/category/CategorySelection","mui/util","dojo/dom-construct","dojo/dom-class"],function(d,f,h,b,a,g){var e=d("mui.address.AddressSelection",[h],{detailUrl:"/sys/organization/mobile/address.do?method=detailList&orgIds=!{curIds}",buildIcon:function(o,m){var l=a.create("div",{className:"muiCateSecItemIcon"},o);var k=a.create("div",{className:"muiCateIcon"},l);var n=false;if(m.isExternal&&m.isExternal=="true"){if((m.type|window.ORG_TYPE_ORG)==window.ORG_TYPE_ORG){m.icon="address-org-external";n=true}if((m.type|window.ORG_TYPE_DEPT)==window.ORG_TYPE_DEPT){m.icon="address-dept-external";n=true}if((m.type|window.ORG_TYPE_POST)==window.ORG_TYPE_POST){m.icon="address-post-external";n=true}}else{if((m.type|window.ORG_TYPE_ORG)==window.ORG_TYPE_ORG){m.icon="address-org";n=true}if((m.type|window.ORG_TYPE_DEPT)==window.ORG_TYPE_DEPT){m.icon="address-dept";n=true}if((m.type|window.ORG_TYPE_POST)==window.ORG_TYPE_POST){m.icon="address-post";n=true}}if((m.type|window.ORG_TYPE_GROUP)==window.ORG_TYPE_GROUP){m.icon="address-group";n=true}if(n){this.buildPNGIcon(m.icon,k)}else{if(m.icon){f.setIcon(b.formatUrl(m.icon),null,this._headerIcon,null,k)}else{if(dojoConfig.dingXForm&&dojoConfig.dingXForm==="true"&&m.type==window.ORG_TYPE_PERSON){k.innerHTML=f.createDingIcon(m.label,"div")}}}},buildPNGIcon:function(l,k){a.create("img",{src:b.formatUrl("/sys/mobile/css/themes/default/images/"+l+".png")},k)},buildDesc:function(l,k){a.empty(l);g.add(l,"muiAddressSelectionItem");var m=a.create("div",{className:"muiAddressSelectionItemName"},l);a.create("span",{className:"muiAddressSelectionItemLabelName",innerHTML:b.formatText(k.label)},m);if(k.staffingLevel){a.create("span",{className:"muiAddressSelectionItemLevelName",innerHTML:b.formatText(k.staffingLevel)},m)}if(k.parentNames){g.add(l,"muiAddressSelectionItemWithParentNames");a.create("div",{className:"muiAddressSelectionItemParentNames",innerHTML:this._formatParentNames(b.formatText(k.parentNames))},l)}},_formatParentNames:function(o){if(!o){return o}var q="";var l=o.split("_");var n=l.length;var p=n<=3?0:n-3;for(var m=p;m<n;m++){var k=l[m];if(k.length>8){k="..."+k.substring(k.length-8)}q+=k+"_"}q=q.replace(/_$/,"");return q}});return e})},"sys/mobile/js/mui/category/CategoryList":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-construct","dojo/_base/array","dojo/_base/lang","mui/util","mui/list/JsonStoreList"],function(e,d,b,h,g,a,f){return e("mui.category.CategoryList",[f],{dataUrl:"",parentId:null,selType:null,curIds:null,curNames:null,isMul:false,baseClass:"muiCateLists",key:null,showMore:true,buildRendering:function(){this.url=a.urlResolver(this.dataUrl,this);this.inherited(arguments);this.domNode.className=this.baseClass},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/changed","_cateChange");this.subscribe("/mui/search/cancel/back","_cateReback");this.subscribe("/mui/category/selected","_cateSelected");this.subscribe("/mui/cate/navTo","_scrollToCate");this.subscribe("/mui/category/selChanged","_setCurSel");this.subscribe("/mui/view/afterScroll","_setNavInfo")},reload:function(){this.buildLoading();this.inherited(arguments)},startup:function(){this.inherited(arguments)},buildLoading:function(){if(this.tmpLoading==null){h.forEach(this.getChildren(),function(k){k.destroyRecursive()});this.tmpLoading=b.create("li",{className:"muiCateLoading",innerHTML:'<i class="mui mui-loading mui-spin"></i>'},this.domNode)}},onComplete:function(){if(this.tmpLoading){b.destroy(this.tmpLoading);this.tmpLoading=null}this.inherited(arguments);if(window.cateFilterSetSelc&&window.cateFilterSetSelc.openCount<=1){var k=document.getElementsByClassName("muiCateClearBtn");if(k&&k.length>0&&!k[0].className.contains("muiModelingCancelBtn")){k[0].click()}}},_setCurSel:function(l,k){if(l.key==this.key){if(k){this.curIds=k.curIds;this.curNames=k.curNames}}},_setNavInfo:function(l,k){if(l.key==this.key){var n=this.getChildren();var o=null;if(k.to.y<0){var p=false;for(var m=0;m<n.length;m++){if(n[m].header=="true"&&0-k.to.y>n[m].domNode.offsetTop-n[m].domNode.offsetHeight){d.publish("/mui/category/navChange",this,{label:n[m].getTitle()});p=true}}if(!p){d.publish("/mui/category/navChange",this,null)}}else{d.publish("/mui/category/navChange",this,null)}}},_scrollToCate:function(l,k){if(l.key==this.key){if(k){var n=this.getChildren();var o=null;for(var m=0;m<n.length;m++){if(n[m].header=="true"&&n[m].label==k.label){o=n[m];break}}if(o){d.publish("/mui/view/scrollTo",this,{y:0-o.domNode.offsetTop})}}}},_cateReback:function(l,k){if(l.key==this.key){if(this._addressUrl){this.url=this._addressUrl}d.publish("/mui/category/clearNav",this);this.showMore=true;this.buildLoading();this.reload()}},_cateChange:function(l,k){if(l.key==this.key){if(k&&k.url){if(!this._addressUrl){this._addressUrl=this.url}this.showMore=false;this.url=k.url}else{this.showMore=true;this.parentId=k.fdId;this.url=a.urlResolver(a.formatUrl(this.dataUrl),this)}d.publish("/mui/category/clearNav",this);this.buildLoading();this.reload()}},_cateSelected:function(l,k){if(l.key==this.key){if(!this.isMul){this.curIds=k.fdId;this.curNames=k.label;d.publish("/mui/category/clearSelected",this,{fdId:k.fdId});if(!this.confirm){d.publish("/mui/category/submit",this,{key:this.key,curIds:k.fdId,curNames:k.label})}}}}})})},"sys/mobile/js/mui/rtf/RtfResizeUtil":function(){define(["dojo/_base/declare","dojo/dom","mui/rtf/_ImageGlobalResizeMixin","mui/rtf/_TableResizeMixin","mui/rtf/_VideoResizeMixin","dojo/_base/array","dojo/_base/lang","dojo/dom-attr","dojo/query","dojo/on"],function(e,d,a,f,l,k,b,n,m,h){var g=e("mui.rtf.RtfResizeUtil",[a,f,l],{constructor:function(o){if(o){this.name=o.name;this.channel=o.channel||"default";this.formatContent(o.containerNode);this.restore(o.containerNode)}},restore:function(o){k.forEach(m("a",o),b.hitch(this,function(q){var p=q.href;n.set(q,"href","javascript:;");h(q,"click",function(){if(p&&(p.indexOf("http")==0||p.indexOf("/")==0)){window.open(p,"_self")}else{new Function(p)()}})}))},destroy:function(){this.emptySrcList()}});return g})},"sys/mobile/js/mui/form/radio/render/RadioNormal":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","mui/util"],function(e,b,g,f,d,a){return e("mui.form.radio.render.RadioNormal",[g],{renderType:"normal",radioNode:null,postCreate:function(){this.inherited(arguments);this.subscribe("mui/form/radio/renderCheckedStatus","_renderCheckedStatus")},_buildRender:function(h){if(this.renderType==h.renderType){this.radioNode=b.create("label",{className:"muiRadioItem",style:h.style,innerHTML:"<span class='mui-radio-base'>"+h.text&&h.text.indexOf("&#039;")>0?h.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.formatText(h.text)+"</span>"},h.domNode,"after");this.radioIcon=b.create("span",{className:"fontmuis muis-form-radio muiRadioCircle "+h.unCheckedIcon},this.radioNode,"first")}return this.radioNode},_renderCheckedStatus:function(k,h){if(this.radioNode==h.domNode){if(h.checked){f.replace(this.radioNode,h.checkedIcon,h.unCheckedIcon);f.replace(this.radioIcon,h.checkedIcon,h.unCheckedIcon)}else{f.replace(this.radioNode,h.unCheckedIcon,h.checkedIcon);f.replace(this.radioIcon,h.unCheckedIcon,h.checkedIcon)}}}})})},"sys/mobile/js/mui/category/CategorySearchBar":function(){define(["dojo/_base/declare","mui/search/SearchBar","dojox/mobile/TransitionEvent","mui/history/listener","dojo/_base/lang"],function(a,f,d,b,e){return a("sys.category.CategorySearchBar",[f],{jumpToSearchUrl:false,needPrompt:false,showLayer:false,getViewId:function(g){return g+"_"+this.key},_onfocus$:function(){this._onfocusCommon();new d(document.body,{moveTo:this.getViewId("searchView")}).dispatch()},_onCancel$:function(){this.inherited(arguments);new d(document.body,{moveTo:this.getViewId("defaultView")}).dispatch()},_onfocus:function(){if(this.show){return}this.show=true;var k=e.hitch(this,function(){this._onfocus$()});var h=e.hitch(this,function(){this._onCancel$()});var g=b.push({forwardCallback:k,backCallback:h});this.beforeSelectCateHistoryId=g.previousId}})})},"sys/mobile/js/mui/view/DocScrollableView":function(){define(["./DocView","./NativeDocView"],function(a,b){return dojoConfig._native?b:a})},"sys/mobile/js/mui/category/CategorySelection":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/request","dojo/topic","mui/util","mui/dialog/Dialog","mui/dialog/Tip","mui/iconUtils","mui/history/listener","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(l,a,h,o,g,f,k,n,m,p,r,e,b,d){var q=l("mui.category.CategorySelection",[h],{curIds:null,curNames:null,beforeSelectCateHistoryId:null,detailUrl:"",isMul:true,baseClass:"muiCateSec muiCateSecBottom",cateSelArr:[],itemPrefix:"_CateSecItem_",key:null,buildRendering:function(){this.inherited(arguments);this.cateSelArr=[];this.containerNode=f.create("div",{className:"muiCateSecContainer"},this.domNode);this.leftArea=f.create("div",{className:"muiCateSecLeft"},this.containerNode);this.rightArea=f.create("div",{className:"muiCateSecRight"},this.containerNode);this.clearButtonNode=f.create("span",{className:"muiCateClearBtn",innerHTML:d["mui.button.clear"]},this.rightArea);this.buttonNode=f.create("span",{className:"muiCateSecBtn ",innerHTML:d["mui.button.ok"]},this.rightArea)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/selected","_addSelItme");this.subscribe("/mui/category/unselected","_delSelItem");this.subscribe("/mui/category/clearSelected","_clearSelItem")},startup:function(){if(this._started){return}this.inherited(arguments);this._initSelection()},destroy:function(){this.inherited(arguments)},_subSelItem:function(){n.publish("/mui/category/submit",this,this._calcCurSel())},_clearSelItem:function(v,s){if(v.key!=this.key){return}var w;if(s){w=s.fdId}var t=0;while(this.cateSelArr.length>t){var u=this.cateSelArr[0];if(u.fdId==w){t++;continue}this._delSelItem(this,u);n.publish("/mui/category/cancelSelected",this,u)}},_popSelItem:function(){var u;var t;var w=a.hitch(this,function(){var x=f.create("div",{className:"muiCateSecItems"});o.forEach(this.cateSelArr,function(y){var z=this._buildSelItem(y);x.appendChild(z)},this);t=p.element({canClose:false,element:x,position:"bottom",scrollable:true,parseable:true,showClass:"muiCateSecPop",callback:a.hitch(this,function(){if(u){b.go({historyId:u,callback:function(){}})}t=null;u=null})})});var v=a.hitch(this,function(){if(t){t.hide();t=null;u=null}});var s=b.push({forwardCallback:w,backCallback:v});u=s.previousId},_initSelection:function(){var x=this;if(this.curIds){var u=m.urlResolver(this.detailUrl,this);u=m.formatUrl(u);if(u){var C;if(u.length>2048&&u.indexOf(".jsp?")>-1){var t=u.split("?");var y=t[1].split("&");var A=[];var z={};for(var v=0;v<y.length;v++){if(y[v].length>0){var B=y[v].split("=");if(B[1].length>500){z[B[0]]=B[1]}else{A.push(y[v])}}}u=t[0]+"?"+A.join("&");C=k.post(u,{handleAs:"json",data:z})}else{C=k.post(u,{handleAs:"json"})}C.then(function(D){if(D.length>0){o.forEach(D,function(E){x._addSelItme(x,E)})}})}else{var s=this.curIds.split(";");var w=this.curNames.split(";");o.forEach(s,function(E,D){x._addSelItme(x,{fdId:E,label:w[D],labelLevel:w[D]})})}}else{this._resizeSelection()}},buildDesc:function(){},_buildSelItem:function(s){var v=f.create("div",{id:this.itemPrefix+s.fdId,className:"muiCateSecItem"});this.buildIcon(v,s);var t=f.create("div",{className:"muiCateSecItemLabel"},v);f.create("div",{innerHTML:s.label},t);this.buildDesc(t,s);var u=f.create("div",{className:"muiCateSecItemDelArea"},v);f.create("div",{className:"muiCateSecItemDel"},u);this.connect(u,"click",function(w){this._delSelItem(this,s);f.destroy(g.byId(this.itemPrefix+s.fdId));n.publish("/mui/category/cancelSelected",this,s)});return v},buildIcon:function(s,t){if(t.icon){e.setIcon(t.icon,null,null,null,s)}else{e.setIcon("mui mui-file-text",null,null,null,s)}},_checkInSelArr:function(u){var s=false;for(var t=0;t<this.cateSelArr.length;t++){if(this.cateSelArr[t].fdId==u){s=true;break}}return s},_addSelItme:function(t,s){if(t.key==this.key){if(s){if(typeof s.labelLevel=="undefined"){s.labelLevel=typeof t.labelLevel!="undefined"?t.labelLevel:t.label}if(!this._checkInSelArr(s.fdId)){this.cateSelArr.push(s)}}this._resizeSelection()}},_delSelItem:function(t,s){if(t.key==this.key){if(s&&s.fdId){for(var u=0;u<this.cateSelArr.length;u++){if(this.cateSelArr[u].fdId==s.fdId){this.cateSelArr.splice(u,1);break}}this._resizeSelection()}}},_resizeSelection:function(){var t=0;var s=this.cateSelArr.length;if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}if(s>0){this.leftArea.className="muiCateSecLeft";this.clearButtonNode.className="muiCateClearBtn";if(this.clearHandle==null){this.clearHandle=this.connect(this.clearButtonNode,"click",a.hitch(this,function(){this._clearSelItem(this);this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}}))}if(this.popHandle==null){this.popHandle=this.connect(this.leftArea,"click","_popSelItem")}}else{this.leftArea.className="muiCateSecLeft muiCateSecBtnDis";this.clearButtonNode.className="muiCateClearBtn muiCateSecBtnDis";if(this.popHandle){this.disconnect(this.popHandle);this.popHandle=null}if(this.clearHandle){this.disconnect(this.clearHandle);this.clearHandle=null}}this.leftArea.innerHTML=d["mui.button.count"].replace("%count%",s);n.publish("/mui/category/selChanged",this,this._calcCurSel())},_calcCurSel:function(){var s={curIds:"",curNames:"",key:this.key};if(this.cateSelArr.length>0){var t="";var u="";o.forEach(this.cateSelArr,function(v){t+=";"+v.fdId;u+=";"+v.label});if(t!=""){t=t.substring(1);u=u.substring(1);s.curIds=t;s.curNames=u}}if(s.curNames==""){s.curNames=window.SEL_CATEGORY_DEFAULT_TITLE}return s}});return q})},"sys/mobile/js/mui/rtf/RtfResize":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-construct","mui/rtf/_ImageResizeMixin","mui/rtf/_TableResizeMixin","mui/rtf/_VideoResizeMixin","mui/util","dojo/_base/array","dojo/_base/lang","dojo/dom-attr","dojo/query","dojo/on","dojo/dom-style","dojo/topic","dojo/ready"],function(f,e,d,a,k,p,h,o,b,r,q,n,l,g,s){var m=f("mui.rtf.RtfResize",[a,k,p],{containerNode:null,name:null,formatContent:function(t){this.inherited(arguments);s(function(){var u=t.getBoundingClientRect().x||t.getBoundingClientRect().left||0;var v=document.documentElement.clientWidth;if(v&&t.getBoundingClientRect().width>v){l.set(t,{"max-width":(v-u-12)+"px"})}})},renderTitle:function(t){if(dojoConfig.newMui&&this.label){this.tipNode=d.create("div",{className:"muiFormEleTip"},t,"first");this.titleNode=d.create("span",{className:"muiFormEleTitle",innerHTML:h.formatText(this.label)},this.tipNode)}},setName:function(t){this.name=t},setLabel:function(t){this.label=t},constructor:function(u,t){this.inherited(arguments);if(typeof(u)=="object"){this.setName(u.name);this.containerNode=u.containerNode}else{this.setName(u)}this.setLabel(t);this.load()},load:function(){var t=null;if(this.name!=null){t="_____rtf_____"+this.name;t=e.byId(t)}else{t=this.containerNode}this.renderTitle(t);this.formatContent(t);o.forEach(q("a",t),b.hitch(this,function(v){var u=v.href;r.set(v,"href","javascript:;");n(v,"click",function(){if(u&&(u.indexOf("http")==0||u.indexOf("/")==0)){window.open(u,"_self")}else{new Function(u)()}})}))}});return m})},"sys/mobile/js/mui/form/editor/plugins/EditorPluginBaseMixin":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-style","dojo/topic","dojo/dom-class"],function(d,f,b,a,e){return d("mui.form.editor.plugins.EditorPluginBaseMixin",[f],{EVENT_PLUGIN_CLICK:"/mui/editor/plugin/click",selectedClass:"muiEditorPluginSelected",constructor:function(){this.subscribe(this.EVENT_PLUGIN_CLICK,"_unclick");this._isShow=false},show:function(){a.publish(this.EVENT_PLUGIN_CLICK,this,{target:this.iconNode});e.add(this.iconNode,this.selectedClass)},hide:function(){e.remove(this.iconNode,this.selectedClass);this._isShow=false},_unclick:function(k,g){if(!g){return}var h=g.target;if(!this.iconNode||h==this.iconNode){return}this.hide()},_faceHoldTime:250,_faceLastTime:null,_faceFireClick:function(g){var h=this._faceLastTime;this._faceLastTime=new Date().getTime();if(h&&this._faceLastTime-h<=this._faceHoldTime){return false}return true}})})},"sys/mobile/js/mui/form/validate/Validation":function(){define(["dojo/_base/declare","mui/form/validate/Validator","mui/form/validate/Reminder","mui/form/validate/dom-value","dojo/dom-attr","dojo/_base/lang","mui/form/_FormBase","mui/i18n/_i18n!sys/mobile/js/mui/mui-view","mui/form/validate/Elements"],function(k,f,g,h,m,d,n,e,a){var l={skip:{test:function(o){return true}},required:{error:e["errors.required"].replace("{0}","{name}"),test:function(o){return !this.getValidator("isEmpty").test(o)}},number:{error:e["errors.number"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||(!isNaN(o)&&!/^\s+$/.test(o)&&/^.{1,20}$/.test(o)&&/(\.)?\d$/.test(o))}},digits:{error:e["errors.integer"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||/^-?\d+$/.test(o)}},alpha:{error:e["errors.alpha"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||/^[a-zA-Z]+$/.test(o)}},alphanum:{error:e["errors.alphanum"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||!/\W/.test(o)}},date:{error:e["errors.date"].replace("{0}","{name}"),test:function(o){var p=false;var q=/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/;if(dojoConfig.locale!=null&&(dojoConfig.locale!="zh-cn"&&dojoConfig.locale!="zh-hk"&&dojoConfig.locale!="ja-jp")){q=/^(((0[13578]|1[02])\/(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)\/(0[1-9]|[12][0-9]|30))|(02\/(0[1-9]|[1][0-9]|2[0-9])))\/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})$/}if(dojoConfig.Date_format&&dojoConfig.Date_format.match(/^d.*M.*y.*$/)){q=/^(((0[1-9]|[12][0-9]|3[01])\/(0[13578]|1[02]))|((0[1-9]|[12][0-9]|30)\/(0[469]|11))|((0[1-9]|[1][0-9]|2[0-9])\/02))\/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})$/}var s=/^[0-2][\d]:[0-5][\d]$/;if(o){var r=o.split(/\s+/);if(r.length==1){p=q.test(o)||s.test(o)}else{if(r.length==2){p=q.test(r[0])&&s.test(r[1])}}}return this.getValidator("isEmpty").test(o)||p}},email:{error:e["errors.email"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||/\w{1,}[@][\w\-]{1,}([.]([\w\-]{1,})){1,3}$/.test(o)}},url:{error:e["errors.url"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i.test(o)}},"currency-dollar":{error:e["errors.dollar"].replace("{0}","{name}"),test:function(o){return this.getValidator("isEmpty").test(o)||/^\$?\-?([1-9]{1}[0-9]{0,2}(\,[0-9]{3})*(\.[0-9]{0,2})?|[1-9]{1}\d*(\.[0-9]{0,2})?|0(\.[0-9]{0,2})?|(\.[0-9]{1,2})?)$/.test(o)}},"maxLength(length)":{error:e["errors.maxLength.simple"].replace("{0}","{name}").replace("{1}","{maxLength}"),test:function(q,s,t){var r=isNaN(t.length)?0:parseInt(t.length);if(r==0||this.getValidator("isEmpty").test(q)){return true}t.maxLength=r;var p=q.replace(/[^\x00-\xff]/g,"***");return p.length<=r}},"range(min,max)":{error:e["errors.range"].replace("{0}","{name}").replace("{1}","{min}").replace("{2}","{max}"),test:function(q,t,u){if(this.getValidator("isEmpty").test(q)){return true}if((!isNaN(q)&&!/^\s+$/.test(q))){var r=isNaN(u.min)?0:parseFloat(u.min);var p=isNaN(u.max)?0:parseFloat(u.max);var s=parseFloat(q);return(r<=s&&s<=p)}return false}},"max(num)":{error:e["errors.max"].replace("{0}","{name}").replace("{1}","{num}"),test:function(p,s,t){if(this.getValidator("isEmpty").test(p)){return true}if((!isNaN(p)&&!/^\s+$/.test(p))){var q=isNaN(t.num)?0:parseFloat(t.num);var r=parseFloat(p);return(r<=q)}return false}},"min(num)":{error:e["errors.min"].replace("{0}","{name}").replace("{1}","{num}"),test:function(p,s,t){if(this.getValidator("isEmpty").test(p)){return true}if((!isNaN(p)&&!/^\s+$/.test(p))){var q=isNaN(t.num)?0:parseFloat(t.num);var r=parseFloat(p);return(r>=q)}return false}},"scaleLength(num)":{error:e["errors.scaleLength"].replace("{0}","{name}").replace("{1}","{num}"),test:function(p,s,u){if(this.getValidator("isEmpty").test(p)){return true}if((!isNaN(p)&&!/^\s+$/.test(p))){var t=p.lastIndexOf(".");if(t<0){return true}var q=isNaN(u.num)?0:parseInt(u.num);var r=p.substr(t+1).length;return(r<=q)}return false}},before:{error:e["errors.time.before"].replace("{0}","{name}"),test:function(r,t,u){if(this.getValidator("isEmpty").test(r)){return true}var q=new Date();q.setSeconds(0,0);var s=null;if(dojoConfig.locale!=null&&(dojoConfig.locale!="zh-cn"&&dojoConfig.locale!="zh-hk")){s=Com_GetDate(r)}else{var p=r.split(/[^0-9]/);s=new Date(parseInt(p[0],10),parseInt(p[1],10)-1,parseInt(p[2],10),p[3]==null?0:parseInt(p[3],10),p[4]==null?0:parseInt(p[4],10),p[5]==null?0:parseInt(p[5],10),p[6]==null?0:parseInt(p[6],10),p[7]==null?0:parseInt(p[7],10)).getTime()}if(dojoConfig.Date_format&&dojoConfig.Date_format.match(/^d.*M.*y.*$/)){var p=r.split(/[^0-9]/);s=new Date(parseInt(p[2],10),parseInt(p[1],10)-1,parseInt(p[0],10),p[3]==null?0:parseInt(p[3],10),p[4]==null?0:parseInt(p[4],10),p[5]==null?0:parseInt(p[5],10),p[6]==null?0:parseInt(p[6],10),p[7]==null?0:parseInt(p[7],10)).getTime()}if(s<=q.getTime()){return true}return false}},after:{error:e["errors.time.after"].replace("{0}","{name}"),test:function(r,t,u){if(this.getValidator("isEmpty").test(r)){return true}var q=new Date();q.setSeconds(0,0);var s=null;if(dojoConfig.locale!=null&&(dojoConfig.locale!="zh-cn"&&dojoConfig.locale!="zh-hk")){s=Com_GetDate(r)}else{var p=r.split(/[^0-9]/);s=new Date(parseInt(p[0],10),parseInt(p[1],10)-1,parseInt(p[2],10),p[3]==null?0:parseInt(p[3],10),p[4]==null?0:parseInt(p[4],10),p[5]==null?0:parseInt(p[5],10),p[6]==null?0:parseInt(p[6],10),p[7]==null?0:parseInt(p[7],10)).getTime()}if(dojoConfig.Date_format&&dojoConfig.Date_format.match(/^d.*M.*y.*$/)){var p=r.split(/[^0-9]/);s=new Date(parseInt(p[2],10),parseInt(p[1],10)-1,parseInt(p[0],10),p[3]==null?0:parseInt(p[3],10),p[4]==null?0:parseInt(p[4],10),p[5]==null?0:parseInt(p[5],10),p[6]==null?0:parseInt(p[6],10),p[7]==null?0:parseInt(p[7],10)).getTime()}if(s>=q.getTime()){return true}return false}},__date:{error:e["errors.date"].replace("{0}","{name}"),test:function(o){var p=false;var q=/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/;if(dojoConfig.locale!=null&&(dojoConfig.locale!="zh-cn"&&dojoConfig.locale!="zh-hk")){q=/^(((0[13578]|1[02])\/(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)\/(0[1-9]|[12][0-9]|30))|(02\/(0[1-9]|[1][0-9]|2[0-9])))\/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})$/}if(dojoConfig.Date_format&&dojoConfig.Date_format.match(/^d.*M.*y.*$/)){q=/^(((0[1-9]|[12][0-9]|3[01])\/(0[13578]|1[02]))|((0[1-9]|[12][0-9]|30)\/(0[469]|11))|((0[1-9]|[1][0-9]|2[0-9])\/02))\/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})$/}if(o){p=q.test(o)}return this.getValidator("isEmpty").test(o)||p}},__datetime:{error:e["errors.datetime"].replace("{0}","{name}"),test:function(o){var p=false;var q=/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/;if(dojoConfig.locale!=null&&(dojoConfig.locale!="zh-cn"&&dojoConfig.locale!="zh-hk")){q=/^(((0[13578]|1[02])\/(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)\/(0[1-9]|[12][0-9]|30))|(02\/(0[1-9]|[1][0-9]|2[0-9])))\/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})$/}if(dojoConfig.Date_format&&dojoConfig.Date_format.match(/^d.*M.*y.*$/)){q=/^(((0[1-9]|[12][0-9]|3[01])\/(0[13578]|1[02]))|((0[1-9]|[12][0-9]|30)\/(0[469]|11))|((0[1-9]|[1][0-9]|2[0-9])\/02))\/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})$/}var s=/^[0-2][\d]:[0-5][\d]$/;if(o){var r=o.split(/\s+/);if(r.length==2){p=q.test(r[0])&&s.test(r[1])}}return this.getValidator("isEmpty").test(o)||p}},__time:{error:e["errors.time"].replace("{0}","{name}"),test:function(o){var p=false;var q=/^[0-2][\d]:[0-5][\d]$/;if(o){p=q.test(o)}return this.getValidator("isEmpty").test(o)||p}},phoneNumber:{error:e["error.noValidPhoneNumber"],test:function(p,q,r){if(this.getValidator("isEmpty").test(p)){return true}if(p.indexOf("-")!=-1){if(p.slice(0,"+".length)==="+"){if(p.slice(0,"+86".length)==="+86"){return/^(\+86)-1(\d{10})$/.test(p)}else{return/^(\+\d{1,5})-(\d{6,11})$/.test(p)}}else{if(p.slice(0,"86".length)==="86"){return/^(\86)-1(\d{10})$/.test(p)}else{return/^(\d{1,5})-(\d{6,11})$/.test(p)}}}else{if(p.slice(0,"+".length)==="+"){if(p.slice(0,"+86".length)==="+86"){return/^(\+86)1(\d{10})$/.test(p)}else{return/^(\+\d{1,5})(\d{6,11})$/.test(p)}}else{if(p.slice(0,"86".length)==="86"){return/^(\86)1(\d{10})$/.test(p)}else{return/^1(\d{10})$/.test(p)}}}}},idCard:{error:e["error.noValidIDCard"],test:function(A,y,p){var t=this.getValidator("isEmpty").test(A);var q=false;if(!t&&A.length==18){A=A.toUpperCase();var s=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];var x=0;for(var u=0;u<s.length;u++){x+=parseInt(A.charAt(u),10)*s[u]}var z=[0,1,2,3,4,5,6,7,8,9,10];var w=[1,0,"X",9,8,7,6,5,4,3,2];var B="";for(var r=0;r<z.length;r++){if(z[r]==x%11){B=w[r]}}q=B==A.substring(A.length-1)}return t||q}}};var b=k("mui.form.validate.Validation",null,{serialAttrName:"__validate_serial",_validateSerialPrefix:"_validate_",Validators:{},constructor:function(){this.inherited(arguments);if(!window._validateSerialIndex){window._validateSerialIndex=1}this.addValidator("isEmpty","",function(p){return((p==null)||p.replace(/^(\s+|\u00A0+)|(\s+|\u00a0+)$/g,"")==""||(p.length==0))});for(var o in l){this.addValidator(o,l[o].error,l[o].test)}},addValidator:function(r,q,s){var o=this._parseValidatorName(r);var p=o.shift();if(!this.Validators[p]){this.Validators[p]=new f(p,q,s,o)}},hideWarnHint:function(p){var o=new g(this._getValidatorDom(p));o.hide()},getValidator:function(q){var o=this._parseValidatorName(q);var p=o.shift();var r=this.Validators[p]?this.Validators[p]:new f();r.setParamValues(o);r.setOwner(this);return r},validateElement:function(r){var t=this._getValidatorName(r);if(!t){return true}this._serializeElement(r);var s=t.split(" ");for(var q=0;q<s.length;q++){var p=s[q].trim();if(p!=""){var o=this.getValidator(p);if(o){if(o instanceof f){if(!this._doValidateElement(r,o)){return false}}else{if(o.doOwnValidate){if(!o.doOwnValidate(r)){return false}}}}}}return true},_doValidateElement:function(s,r){var t=this._isElementEnable(s)&&r.test(this._getValidatorValue(s),s);var q=d.mixin(r.options,{name:this._getValidatorLabel(s),validator:r,widget:s});var p=new g(this._getValidatorDom(s),r.error,q);if(!(/validatorControl_\w+/.test(r.type))){if(t){p.hide()}else{var o=null;if(s.showValiReminder&&typeof(s.showValiReminder)==="function"){o=d.hitch(s,"showValiReminder")}p.show(o)}}return t},_isElementEnable:function(o){return true},_serializeElement:function(o){var p=this._getValidatorDom(o);if(p!=null){if(m.get(p,this.serialAttrName)==null){m.set(p,this.serialAttrName,this._validateSerialPrefix+window._validateSerialIndex);window._validateSerialIndex=window._validateSerialIndex+1}}return},_getValidatorDom:function(o){if(o instanceof n){return o.domNode}return o},_getValidatorLabel:function(o){if(o instanceof n){return o.subject}return m.get(o,"subject")},_getValidatorValue:function(o){if(o instanceof n){return o.get("value")}var p=h.get(o);return p?p[1]:""},_getValidatorName:function(o){var p=null;if(o.getAttribute){p=o.getAttribute("validate");if(p!=null&&p!=""){p=p.trim()}}if(p!=null&&p!=""){return p}if(o.validate&&o.validate!=""){return o.validate}return p},_parseValidatorName:function(p){var o=p.replace("(",",").replace(")","");return o.split(",")},addElements:function(p,o){var r=new a();var q=this._getValidatorDom(p);r.addElementValiate(q,o)},removeElements:function(p,o){var r=new a();var q=this._getValidatorDom(p);r.removeElementValiate(q,o)}});return b})}}});require({cache:{"sys/mobile/js/mui/mui-view_zh-cn._min_":function(){define("",{"mui.sysAttMain.file.manager":"文件管理器","mui.sysAttMain.download.oversize":"下载文件过大，请稍后进入页面再试。","mui.sysAttMain.download.oversize.time":"下载文件过大，预计需要（","mui.sysAttMain.pieces":"个","mui.sysAttMain.msg.wechatDownload":"附件将随后通过微信发送给您，请注意查收!","mui.sysAttMain.photograph":"拍照","mui.sysAttMain.download.oversize.time.sec":"）秒，请稍后进入页面再试。","mui.viewContent":"阅读全文","mui.sysAttMain.comment":"添加批注","mui.viewContent.back":"返回","mui.sysAttMain.msg.null":"请至少上传一个附件","mui.sysAttMain.download":"下载","mui.sysAttMain.editfile":"编辑文件","mui.sysAttMain.upload":"附件上传中","mui.sysAttMain.pic.null":"请至少上传一张图片","mui.sysAttMain.total":"共","mui.sysAttMain.errortypefile":"文件类型不匹配","mui.sysAttMain.download.to.ding":"下载到钉盘","mui.editContent":"编辑正文","mui.sysAttMain.openfile":"打开文件","mui.sysAttMain.download.oversize.time.min":"）分钟，请稍后进入页面再试。","mui.sysAttMain.savefile":"保存文件","mui.sysAttMain.label":"附件","mui.sysAttMain.picture":"手机相册","mui.sysAttMain.button.upload":"附件上传","sysAttMain.button.cancelAll":"取消","date.weekDayNames":'星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六',"date.format.dayMonth":"MM dd","date.format.time.sec.2y":"yy-MM-dd HH:mm:ss","date.format.date":"yyyy-MM-dd","date.format.time.msel":"yyyy-MM-dd HH:mm:ss.SSS","date.monthNames":'一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月',"date.label":"日期","date.format.year":"yyyy","date.interval.hour":"小时","date.weekDay3":"星期三","date.weekDay2":"星期二","date.weekDay1":"星期一","date.weekDay0":"星期日","date.weekDay6":"星期六","date.weekDay5":"星期五","date.weekDay4":"星期四","date.format.datetime.3y":"yyy-MM-dd HH:mm","date.interval.day":"天","date.format.time":"HH:mm","date.format.datetime.2y":"yy-MM-dd HH:mm","date.interval.second":"秒","date.interval.minute":"分钟","date.format.date.2y":"yy-MM-dd","date.format.date.3y":"yyy-MM-dd","date.shortMonthNames":'一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月',"date.format.long":"yyyy年MM月dd日 HH:mm:ss","date.interval.after":"后","date.interval.ago":"前","date.format.yearMonth":"yyyy-MM","date.format.date5y":"MM/dd/yyyy","date.format.date4y":"yyyy-MM-dd","date.format.date7y":"yy-mm","date.format.date6y":"dd/MM/yyyy","date.format.datetime":"yyyy-MM-dd HH:mm","date.format.time.sec":"yyyy-MM-dd HH:mm:ss","date.shortWeekDayNames":'日", "一", "二", "三", "四", "五", "六',"mui.sysEvaluation.success":"点评成功","mui.sysEvaluation.mobile.reply":"我来说两句...","mui.sysEvaluation.threeStar.showText":"不错，非常感谢你的认真努力！","mui.sysEvaluation.mobile.header.noScore":"暂无评分","mui.sysEvaluation.mobile.header.count":"%count%人评价","mui.sysEvaluation.fourStar.showText":"你做得很好，为你喝彩！","mui.sysEvaluation.mobile.oneStar.fiveText":"非常好","mui.sysEvaluation.mobile.header.score":"分","mui.sysEvaluation.oneStar.showText":"还不是很好哟，需要再努力一点，加油！","mui.sysEvaluation.mobile.header.err":"请求数据出错","mui.sysEvaluation.mobile.header.star":"星","mui.sysEvaluation.mobile.twoStar.showText":"还行","mui.sysEvaluation.mobile.eval.score":"请评分","mui.sysEvaluation.fail":"点评失败","mui.sysEvaluation.mobile.threeStar.showText":"不错","mui.sysEvaluation.mobile.eval.submit":"发表","mui.sysEvaluation.twoStar.showText":"看得出你在认真做，再加把劲会更棒！","mui.sysEvaluation.mobile.replyContent":"请回复...","mui.sysEvaluation.mobile.reply.count":"共有%count%条回复...","mui.sysEvaluation.mobile.oneStar.showText":"加油","mui.sysEvaluation.oneStar.fiveText":"没有原因，它就是非常好……","mui.sysEvaluation.mobile.btnReply":"回复","mui.sysEvaluation.mobile.fourStar.showText":"很好 ","errors.integer":"{0} 必须为整数.","errors.email":"{0} 必须为标准的邮件格式.","errors.datetime":"{0} 不是日期时间类型.","error.anonymous.noAccess":"该资源匿名用户不允许访问","errors.byte":"{0} 必须为字节类型（byte）.","errors.short":"{0} 必须为短整数.","errors.dbException":"数据库错误消息：{0}","errors.noRecord":"该文档不存在","error.noportal.error2":"当前门户下没有可访问的页面","error.noportal.error1":"当前用户没有默认门户","error.noportal.error3":"当前页面没有权限访问","errors.minLength":"{0} 不能少于 {1} 字符.","errors.double":"{0} 必须为双精度类型（带小数点的数字）.","errors.unknown":"很抱歉，操作失败！","errors.customer":"错误发生在第{0}行，错误信息为：{1}","errors.ioException":"输入/输出错误消息: {0}","error.constraintViolationException":"违反数据约束错误，请检查数据是否被关联","errors.maxLength":"{0} 不能大于 {1} 英文字符(1个中文字符相当于3个英文字符).","errors.float":"{0} 必须为有效浮点类型.","errors.time.before":"{0} 不能晚于当前时间.","errors.header.correct":"请您纠正以下错误：","error.noAccessCreateTemplate.alert":"您没有权限在分类'{0}'下创建模板,请重新选择类别!","errors.maxLength.simple":"{0} 超出 {1} 个英文字符限制","errors.sensitive.word.warn":"{0}中含有敏感词{1}，请检查","errors.date":"{0} 不是日期类型.","error.noValidIDCard":"请输入有效的身份证号","errors.time.after":"{0} 不能早于当前时间.","errors.alpha":"{0} 必须为英文.","errors.treeCycle":"{0} 发生循环嵌套","error.datadict.propertyUndefined":"域模型{0}的属性{1}未定义","error.search.keywords.required":"请输入“关键字”再进行搜索或点击高级搜索！","error.formModelConvert.property":"域模型与Form模型之间转换属性{0}错误","error.noAccessCreateTemplate":"(您没有权限在分类'{0}'下创建模板,请重新选中类别)","errors.long":"{0} 必须为长整数.","errors.required":"{0} 不能为空","errors.alphanum":"{0} 必须为英文或数字.","error.formModelConvert.unknown":"域模型与Form模型之间的数据转换错误","error.datadict.displayPropertyUndefined":"域模型{0}的displayProperty属性未配置","errors.max":"{0} 必须小于或等于 {1}.","errors.scaleLength":"{0} 小数位必须小于等于 {1}.","error.formModelConvert.propertyMapRequest":"域模型与Form模型之间转换映射表中，属性{0}的映射信息{1}必须配置","error.userNotFound":"当前用户不存在","errors.url":"{0} 必须为有效的url地址.","errors.time":"{0} 不是时间类型.","errors.range":"{0} 没有在区间 {1} 和 {2}之间.","error.fieldNotFound":"未找到相关的字段","error.classCanNotNewInstance":"类 {0} 无法被实例化","error.cannotloadmessage":"无法获取资源：{0}","error.unexpectedRequest":"无效的请求","errors.header.vali":"校验错误","errors.invalid":"{0} 为非法.","errors.footer":"","errors.min":"{0} 必须大于或等于 {1}.","errors.dollar":"{0} 必须为有效的货币格式，例如：100.00.","errors.number":"{0} 必须为有效数字类型.","error.noValidPhoneNumber":"请输入有效的手机号"})}}});