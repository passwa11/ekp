require({cache:{"sys/mobile/js/mui/device/device":function(){var a={PC:-1,WEB:0,WEB_IPHONE:1,EKP_IPHONE:2,EKP_IPAD:3,EKP_ANDRIOD:4,EKP_ANDRIODPAD:5,THIRD_WEIXIN:6,KK_IPHONE:7,KK_ANDRIOD:8,KK5_IPHONE:9,KK5_ANDRIOD:10,THIRD_DING:11,THIRD_WXWORK:12,THIRD_365:13,THIRD_GOVDING:14,THIRD_FEISHU:22,_UA_MAP:[{type:12,value:"wxwork"},{type:13,value:"coco"},{type:6,value:"micromessenger"},{type:14,value:"taurusapp"},{type:11,value:"dingtalk"},{type:9,value:"ekp-i-kk5"},{type:10,value:"ekp-i-android-kk5"},{type:7,value:"ekp-i-kk"},{type:8,value:"ekp-i-android-kk"},{type:4,value:"ekp-i-android"},{type:5,value:"ekp-i-hd-android"},{type:3,value:"ekp-i-hd"},{type:2,value:"ekp-i"},{type:22,value:"lark"}],__getClientUAKey:function(){var c=window.navigator.userAgent;c=c.toLowerCase();for(var b=0;b<this._UA_MAP.length;b++){var d=this._UA_MAP[b];if(c.indexOf(d.value)>-1){return d}}return null},getClientType:function(){var b=this.__getClientUAKey();if(b!=null){return b.type}return this.WEB}};if(window.dojoConfig&&window.define){window.define(["mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(b){a.getClientTypeStr=function(d){var c=d!=null?d:this.getClientType();var e=b["mui.comefrom."+c];if(e!=null){return e}else{return c}};return a})}},"sys/mobile/js/mui/top/_TopViewMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/_base/lang"],function(b,a,c){return b("mui.list._TopViewMixin",null,{adjustDestination:"/mui/list/adjustDestination",listTop:"/mui/list/toTop",toTop:function(d){a.publish(this.listTop,this)},connectToggle:function(){this.subscribe(this.adjustDestination,c.hitch(function(e,h,g,f){var d=h.y<-5&&((f!=null&&f.c.h>=f.d.h)||f==null);if(d&&!this._show){a.publish("mui/view/addBottomTip")}this.show();if(!d&&this._show){this.hide()}}));this.subscribe("mui/view/showTop","show");this.subscribe("mui/view/hideTop","hide")}})})},"sys/mobile/js/mui/device/kk5/dojo.custom":function(){require(["dojo/_base/lang","mui/device/kk5/xhr","mui/device/kk5/kkHttpRequest","lib/kk5/kk5"],function(f,a,c,e){window.dojo4OfflineKK=true;window.FormData=null;window.CustomHttpRequest=c;var d=dojoConfig.cacheBust;function g(h){h+="";return h+(d?((/\?/.test(h)?"&":"?")+d):"")}function b(h,j){return f.mixin(new Error(h),{src:"dojoLoader",info:j})}require.getText=function(h,k,j){try{var m=require.getXhr();m.open("GET",g(h),false);m.send(null);if(m.status==200||(!location.host&&!m.status)){if(j){j(m.responseText,k)}}else{throw b("xhrFailed",m.status)}}catch(l){m=a._create();m.open("GET",g(h),false);m.__startTime=new Date().getTime();m.send(null);m.addEventListener("load",function(){if(m.status==200||(!location.host&&!m.status)){if(j){j(m.responseText,k)}}else{throw b("xhrFailed",m.status)}},false);m.addEventListener("error",function(){throw b("xhrFailed",m.status)},false)}return m.responseText}})},"sys/mobile/js/mui/device/kk/adapter":function(){define(["mui/device/device","sys/mobile/js/lib/kk/kkapi","dojo/_base/lang","mui/device/kk/attachment","mui/mime/mime"],function(c,e,f,b,d){var a={closeWindow:function(){return e.closeWindow()},showTitleBar:function(g){return e.showTitleBar(g)},goBack:function(){return e.goBack()},goForward:function(){return e.goForward()},getUserID:function(){return e.getUserID()},_select:function(l,k){if(window.console){window.console.log(l+" begin..")}var j=k.options;if(!window.AttachmentList){window.AttachmentList={}}var h=window.AttachmentList[j.fdKey];if(!h){h=new b(j);window.AttachmentList[j.fdKey]=h}var g=this;e[l]({complete:function(p,o){var m=o;if(typeof(o)=="string"){m=e.formatJson(o)}if(window.console){window.console.log(l+" complete cacheId = "+p+",files="+o)}if(f.isArray(m)){for(var n=0;n<m.length;n++){if(l=="openCamera"||l=="selectFile"){m[n].href=g.readAsDataURL(m[n])}h.startUploadFile(m[n])}}else{if(l=="openCamera"||l=="selectFile"){m.href=g.readAsDataURL(m)}h.startUploadFile(m)}e.clearCache(p)},cancel:function(m){e.clearCache(m)},error:function(n,m){h.uploadError(null,{rtn:{status:"-1",msg:"附件错误:"+m}});e.clearCache(n)}});return{}},openSpeech:function(g){return this._select("openSpeech",g)},openCamera:function(g){return this._select("openCamera",g)},selectFile:function(g){return this._select("selectFile",g)},playSpeech:function(g){return e.playSpeech(g)},captureScreen:function(h){var g=this;e.captureScreen({complete:function(m,k){var j=k;if(typeof(k)=="string"){j=e.formatJson(k)}var l=g.readAsDataURL({fullpath:j.src});if(l){h(l)}e.clearCache(m)},cancel:function(j){e.clearCache(j)},error:function(k,j){if(window.console){window.console.error("截屏出错:"+j)}e.clearCache(k)}});return{}},readAsDataURL:function(j){var k=e.readAsDataURL(j);if(k!=null){var h=k.result;var g=d.getMime(j.fullpath);if(g!=null&&g!=""){h="data:"+g+";base64,"+h}else{h="data:image/jpeg;base64,"+h}return h}return null}};if(c.getClientType()==c.KK_IPHONE){delete a.openSpeech;delete a.captureScreen}return a})},"sys/mobile/js/mui/device/kk5/_attachment":function(){define(["dojo/_base/declare","dojo/request","mui/device/attachment/_attachmentProxy","lib/kk5/kk5","mui/util"],function(b,c,e,d,a){return b("mui.device.kk5._attachment",[e],{_uploadFile:function(j,h){var f=this;var g=f.uploadurl;if(this.uploadType==2){g=this.rtfUploadUrl}var k=(h&&h.header)?h.header.userkey:"";d.proxy.uploadView({token:k,userkey:k,url:g,fullPath:j.fileUri},function(l){j.filekey=l.filekey;j.status=2;j.href=j.fileUri;f.uploadSuccess(j,l)},function(l){if(window.console){window.console.log("KK.proxy.uploadView fail:"+l)}j.status=0;f.uploadError(j,{rtn:fileInfo})})}})})},"sys/mobile/js/mui/store/JsonpRest":function(){define(["dojo/_base/xhr","dojo/_base/lang","dojo/json","dojo/_base/declare","dojo/store/util/QueryResults","dojo/request/script"],function(g,f,e,c,b,a){var d=null;return c("mui.store.JsonpRest",d,{constructor:function(h){this.headers={};c.safeMixin(this,h)},headers:{},target:"",idProperty:"id",ascendingPrefix:"+",descendingPrefix:"-",_getTarget:function(j){var h=this.target;if(typeof j!="undefined"){if(h.charAt(h.length-1)=="/"){h+=j}else{h+="/"+j}}return h},get:function(l,j){j=j||{};var h=this.target.indexOf("?")>-1;var k=j.query;if(k&&typeof k=="string"){k=g.queryToObject(k);k=k?(h?"&":"?")+k:""}return a.get(this.target,{jsonp:"jsonpcallback",query:k,timeout:typeof(j.timeout)=="number"?j.timeout:10000})},accepts:"application/javascript, application/json",getIdentity:function(h){return h[this.idProperty]},put:function(j,h){},add:function(j,h){},remove:function(j,h){},query:function(o,k){k=k||{};var h=this.target.indexOf("?")>-1;if(o&&typeof o=="string"){o=g.queryToObject(o);o=o?(h?"&":"?")+o:""}if(k&&k.sort){var j=this.sortParam;o+=(o||h?"&":"?")+(j?j+"=":"sort(");for(var n=0;n<k.sort.length;n++){var m=k.sort[n];o+=(n>0?",":"")+(m.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(m.attribute)}if(!j){o+=")"}}var l=a.get(this.target,{jsonp:"jsonpcallback",query:o,timeout:typeof(k.timeout)=="number"?k.timeout:10000});return b(l)}})})},"sys/mobile/js/mui/device/ereb/attachment":function(){define(["dojo/_base/declare","dojo/query","dojo/topic","dojo/request","dojo/_base/lang","mui/device/_attachment","mui/device/kk5/attachment","lib/kk5/kk5"],function(b,d,a,c,g,f,h,e){return b("mui.device.ereb.attachment",[f,h],{constructor:function(j){this.inherited(arguments);a.subscribe("attachmentObject_delete_ereb",g.hitch(this,function(){this.rawFilePath=""}))},uploadSuccess:function(k,j){k.filekey=j.filekey;a.publish(this.eventPrefix+"success_ereb",this,g.mixin(j,{file:k}))}})})},"sys/mobile/js/mui/device/_attachment":function(){define(["mui/device/attachment/_attachmentDirect","mui/device/attachment/_attachmentProxy"],function(b,a){if(window.attachmentConfig&&window.attachmentConfig.isSupportDirect){return b}return a})},"sys/mobile/js/mui/top/Top":function(){define(["dojo/_base/declare","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/_base/array","dojo/topic","dojo/dom-geometry","dojo/window"],function(e,l,b,d,k,c,h,j,f,a,g){return e("mui.top.Top",[d,b,l],{bottom:"80px",right:"1.25rem",_show:false,canDrag:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode}k.replace(this.containerNode,"muiTop");h.set(this.domNode,{bottom:this.bottom,right:this.right});this.topNode=c.create("i",{className:"fontmuis muis-stick"},this.domNode);this.handleDragEvent()},startup:function(){if(this._started){return}this.inherited(arguments)},postCreate:function(){this.connect(this.domNode,"onclick","_onClick");this.connectToggle();var m=this;this.subscribe("/mui/top/viewChanged",function(n){m.hide()});this.subscribe("/dojox/mobile/viewChanged,/dojox/mobile/afterTransitionIn",function(n){if(n.isShowTop){if(n.isShowTop()){this.show()}else{this.hide()}return}this.hide();if(n._v&&n.toTop){if(n.getPos().y<-5){this.show();f.publish("mui/view/addBottomTip")}}else{j.forEach(n.getChildren(),function(o){if(o._v&&o.toTop){if(o.getPos().y<-5){this.show()}return false}},this)}})},destroy:function(){this.destoryDragEvent();this.inherited(arguments)},_onClick:function(m){this.toTop(m)},show:function(){h.set(this.domNode,{display:"block"});this.set("_show",true)},hide:function(){h.set(this.domNode,{display:"none",bottom:this.bottom,right:this.right,top:"initial",left:"initial"});this.set("_show",false)},toTop:function(m){},connectToggle:function(){},handleDragEvent:function(){if(!this.canDrag){return}this.domNode.addEventListener("touchstart",this.touchstartEvent.bind(this));this.domNode.addEventListener("touchmove",this.touchmoveEvent.bind(this),{passive:false});this.handleDragSuccess=true;this.dragInfo={}},touchstartEvent:function(m){this.dragInfo.startPoint=this.getDragPoint(m);this.dragInfo.startPoint=this.dragInfo.startPoint;this.drag_initBoundary()},touchmoveEvent:function(s){s.preventDefault();var m=this.getDragPoint(s);var n=m.y-this.dragInfo.startPoint.y;var o=m.x-this.dragInfo.startPoint.x;var q=this.dragInfo.originPosition.y;var p=this.dragInfo.originPosition.x;if(n>0){q+=n}else{q+=n}q=this.drag_checkTopBoundary(q);if(o>0){p+=o}else{p+=o}p=this.drag_checkLeftBoundary(p);h.set(this.domNode,{top:q+"px",left:p+"px",bottom:"initial",right:"initial"});this.dragInfo.lastPoint=m},drag_initBoundary:function(){this.dragInfo.originPosition=a.position(this.domNode);this.dragInfo.boundary={maxTop:g.getBox().h-this.dragInfo.originPosition.h,minTop:0,maxLeft:g.getBox().w-this.dragInfo.originPosition.w,minLeft:0}},drag_checkTopBoundary:function(m){var n=this.dragInfo.boundary;if(m<n.minTop){m=n.minTop}if(m>n.maxTop){m=n.maxTop}return m},drag_checkLeftBoundary:function(m){var n=this.dragInfo.boundary;if(m<n.minLeft){m=n.minLeft}if(m>n.maxLeft){m=n.maxLeft}return m},getDragPoint:function(m){return{x:m.touches?m.touches[0].pageX:m.clientX,y:m.touches?m.touches[0].pageY:m.clientY}},destoryDragEvent:function(){if(!this.canDrag){return}this.domNode.revomeEventListener("touchstart",this.touchstartEvent.bind(this));this.domNode.revomeEventListener("touchmove",this.touchmoveEvent.bind(this),{passive:false})}})})},"sys/mobile/js/mui/device/attachment/_md5FileMixin":function(){define(["dojo/_base/declare","dojo/topic"],function(b,a){return b("mui.device.attachment._md5FileMixin",null,{MD5_CACULATE_DONE:"MD5.CACULATE.DONE",loadFromBlob:function(c){var e=this;if(!(c instanceof File)){e.md5Next(c,e.getResult());return}var g=2*1024*1024;var f=Math.ceil(c.size/g);var d=0;require(["lib/spark-md5"],function(k){var m=new k.ArrayBuffer();var j=c.mozSlice||c.webkitSlice||c.slice,l;var h=new FileReader();l=function(){var o,n;o=d*g;n=Math.min(o+g,c.size);h.onload=function(p){m.append(p.target.result)};h.onloadend=function(){h.onloadend=h.onload=null;if(++d<f){setTimeout(l,1)}else{setTimeout(function(){e.result=m.end();l=m=null;e.md5Next(c,e.getResult())},50)}};h.readAsArrayBuffer(j.call(c,o,n))};l()})},md5Next:function(){},getResult:function(){return this.result||""}})})},"sys/mobile/js/mui/main":function(){define(["./iconUtils","mui/dialog/Tip","dojox/mobile/SwapView","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/NodeList-dom","dojo/NodeList-html","dojo/NodeList-manipulate","dojo/NodeList-traverse"],function(c,a,d,b){if(!window.building){window.building=function(){a.tip({icon:"mui mui-warn",text:b["mui.btn.building"]})}}d.prototype.slideTo=function(m,g,j,h){if(!this._beingFlipped){var n=this.domNode.offsetWidth;var l=this.w||2;var k=h||this.getPos();var f,e;if(k.x<0){f=this.nextView(this.domNode);if(k.x<-n/l){if(f){m.x=-n;e=0}}else{if(f){e=n}}}else{f=this.previousView(this.domNode);if(k.x>n/l){if(f){m.x=n;e=0}}else{if(f){e=-n}}}if(f){f._beingFlipped=true;f.slideTo({x:e},g,j);f._beingFlipped=false;f.domNode._isShowing=(f&&e===0)}this.domNode._isShowing=!(f&&e===0)}this._runSlideAnimation(this.getPos(),m,g,j,this.containerNode,2);this.slideScrollBarTo(m,g,j)};if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(e){return this.slice(0,e.length)===e}}return{iconUtils:c,building:building}})},"sys/mobile/js/mui/picslide/PicSlide":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/query","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/topic","mui/store/JsonRest","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojox/mobile/_StoreListMixin","dojox/mobile/SwapView","mui/picslide/PicItem","mui/util","mui/loadingMixin"],function(f,t,p,c,h,l,e,m,n,o,q,k,b,s,g,a,j){var d=p("mui.picslide.PicSlide",[o,k,q,b,j],{itemRenderer:g,width:"inherit",height:"inherit",refreshTime:0,showType:"",showSubject:true,url:"",items:[],picTensile:false,curIndex:0,openByProxy:false,time:null,picResizeEvt:"/mui/picitem/resize",viewChanged:"/dojox/mobile/viewChanged",changeView:"/mui/picslide/changeview",_getSource:function(){if(!this.store&&this.url!=null&&this.url!=""){this.store=new n({idProperty:"fdId",target:a.formatUrl(this.url)})}},buildRendering:function(){this.containerNode=e.create("div",{className:"muiListPicslideContainer",id:this.id+"_container"});this.inherited(arguments);var w,u;if(this.srcNodeRef){for(w=0,u=this.srcNodeRef.childNodes.length;w<u;w++){this.containerNode.appendChild(this.srcNodeRef.firstChild)}}if(this.showType=="dot"){this.switchNode=e.create("div",{className:"muiListPicslideSwitch"},this.containerNode);if(this.showSubject){this.titleNode=e.create("div",{className:"muiListPicslideTitleDot"},this.containerNode)}}else{var v=e.create("div",{className:"muiListPicslidePaging"},this.containerNode);this.curPagingNode=e.create("span",{className:"muiListPicslideCur"},v);this.totalPagingNode=e.create("span",{className:"muiListPicslideTotal"},v);if(this.showSubject){this.titleNode=e.create("div",{className:"muiListPicslideTitle"},this.containerNode)}}this.domNode.appendChild(this.containerNode);this._getSource();if(this.refreshTime==0){return}this.connect(this.domNode,"touchstart",this.doTouchStartHandler);this.connect(this.domNode,"touchend",this.doTouchEndHandler)},doTouchStartHandler:function(){if(this.time){clearInterval(this.time);this.time=null}},doTouchEndHandler:function(){var u=this;if(!this.time){this.time=setInterval(function(){u._changView()},this.refreshTime*1000)}},postCreate:function(){this.inherited(arguments);this.subscribe(this.viewChanged,"_handleViewChanged");this.subscribe(this.changeView,"_changView")},startup:function(){if(this._started){return}var v,u;if(this.height==="inherit"){if(this.domNode.parentNode){v=this.domNode.parentNode.offsetHeight+"px"}}else{if(this.height){v=this.height}}if(v){this.domNode.style.height=v}if(this.width==="inherit"){if(this.domNode.parentNode){u=this.domNode.parentNode.offsetWidth+"px"}}else{if(this.width){u=this.width}}if(u){this.domNode.style.width=u}if(this.store){this.buildLoading(this.domNode);this.setQuery({},{})}else{this.onComplete(this.items)}this.inherited(arguments)},resizeItems:function(){var v=this.domNode.offsetHeight,u=this.domNode.offsetWidth;m.publish(this.picResizeEvt,this,{height:v,width:u,tensile:this.picTensile,id:this.id})},onComplete:function(z){f.forEach(this.getChildren(),function(w){if(w instanceof s){w.destroyRecursive()}});this.destroyLoading(this.domNode);this.items=z;var u,y=this.domNode.offsetHeight;if(z.length>0){if(z.length==1&&!z[0].icon){var B=e.create("a",{className:"mblView mblSwapView",href:a.formatUrl(z[0].href)},this.containerNode);var C=e.create("div",{className:"muiListPicslideItem"},B);e.create("img",{className:"muiListPicItemImg",alt:z[0].label,src:z[0].url,width:"100%",height:y+"px"},C);if(this.showSubject){if(this.items[0].label||this.items[0].alt){this.titleNode.innerHTML='<div class="muiListPicItemTitle muiFontSizeM textEllipsis">'+(this.items[0].label?this.items[0].label:this.items[0].alt)+"</div>";l.set(this.titleNode,{display:"block"})}else{l.set(this.titleNode,{display:"none"})}}}else{if(z.length>0){var B=new s({height:y+"px",lazy:true,w:4});B.addChild(new this.itemRenderer(t.mixin(z[z.length-1],{itemIndex:z.length-1,openByProxy:this.openByProxy})));this.addChild(B);B.hide()}for(var x=0;x<z.length;x++){var B=new s({height:y+"px",lazy:true,w:4});B.addChild(new this.itemRenderer(t.mixin(z[x],{itemIndex:x,openByProxy:this.openByProxy})));this.addChild(B);if(x===0){B.show();u=B}else{B.hide()}}if(z.length>0){var B=new s({height:y+"px",lazy:true,w:4});B.addChild(new this.itemRenderer(t.mixin(z[0],{itemIndex:0,openByProxy:this.openByProxy})));this.addChild(B);B.hide()}if(this.showType=="dot"){if(z.length>1){for(var x=0;x<z.length;x++){e.create("span",{className:this.id+"_muiListPicslideDotItem_"+x},this.switchNode)}}}}this.resizeItems();this._handleViewChanged(u);if(this.refreshTime>0){var D=this;this.time=setInterval(function(){D._changView()},this.refreshTime*1000)}}else{if(this.showType=="dot"){if(this.switchNode){l.set(this.switchNode,"display","none")}if(this.titleNode){l.set(this.titleNode,"display","none")}}var E=a.formatUrl("/sys/mportal/mobile/css/imgs/nodata.png");var v=e.create("div",{className:"muiListNoDataArea"},this.containerNode);var A=e.create("div",{className:"muiListNoDataInnerArea"},v);e.create("div",{className:"muiListNoDataContainer muiListNoDataImg",innerHTML:"<img src="+E+">"},A);e.create("div",{className:"muiListNoDataTxt muiFontSizeM muiFontColorInfo",innerHTML:"暂无内容"},v)}},_handleViewChanged:function(y){var w=null;var v=0;if(y instanceof s&&y.getParent()===this){w=y;var z=this.getIndexOfChild(w);if(z==0){v=this.items.length-1;var A=this.getChildren()[this.items.length];A.show();this.currentView=A}else{if(z==this.items.length+1){v=0;var B=this.getChildren()[1];B.show();this.currentView=B}else{v=z-1}}if(z==this.items.length&&w==this.currentView){v=0;var B=this.getChildren()[1];this.currentView.goTo(1,B);this.currentView=B}if(this.currentView!=w){this.curIndex=z;if(this.showType=="dot"){if(this.items.length>1){for(var u=0;u<this.items.length;u++){if(u==v){h.add(c("."+this.id+"_muiListPicslideDotItem_"+u)[0],"item_on")}else{h.remove(c("."+this.id+"_muiListPicslideDotItem_"+u)[0],"item_on")}}}}else{this.curPagingNode.innerHTML=(v+1);this.totalPagingNode.innerHTML="/"+this.items.length}if(this.showSubject){if(this.items[v].label||this.items[v].alt){this.titleNode.innerHTML='<div class="muiListPicItemTitle muiFontSizeM textEllipsis">'+(this.items[v].label?this.items[v].label:this.items[v].alt)+"</div>";l.set(this.titleNode,{display:"block"})}else{l.set(this.titleNode,{display:"none"})}}this.currentView=w}}this._setSiblingViewsInMotion(false)},_setSiblingViewsInMotion:function(u){var v=u?"true":false;this.containerNode.setAttribute("data-dojox-mobile-swapview-inmotion",v)},_changView:function(v,x){if(x){var u=x.curIndex;var y=u+1;var w=this.getChildren()[y];if(this.currentView!=w){w.show();this._handleViewChanged(w)}}else{this._setSiblingViewsInMotion(true);if(this.curIndex==this.items.length){this.curIndex=0}var w=this.getChildren()[this.curIndex+1];if(this.currentView!=w){this.currentView.goTo(1,w);this.curIndex++}}}});return d})},"sys/mobile/js/mui/i18n/i18n":function(){define(["dojo/request","mui/util"],function(c,a){var b="/sys/mobile/js/mui/i18n/i18n.jsp?bundle=!{bundle}&locale="+dojoConfig.locale+"&"+dojoConfig.cacheBust;var d=function(e,g){var f=a.formatUrl(a.urlResolver(b,{bundle:e}));c(f,{sync:false,handleAs:"json"}).then(g)};return{load:function(g,e,f){d(g,f)}}})},"sys/mobile/js/mui/back/HomeButton":function(){define(["mui/tabbar/TabBarButton","dojo/_base/declare","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/device/adapter","dojo/dom-style","dojo/dom-class","dojo/dom-attr"],function(b,d,e,a,c,f,h){var g=function(){var j=a.closeWindow();if(j==null){location=dojoConfig.baseUrl?dojoConfig.baseUrl:"/"}};return d("mui.back.HomeButton",[b],{icon1:"mui mui-home",buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"muiBarFloatRightButton");this.labelNode.innerHTML=e["mui.back.home"];h.set(this.domNode,"title",this.labelNode.innerHTML)},startup:function(){this.inherited(arguments);if(this.iconDivNode){if(!this.icon1){c.set(this.iconDivNode,{width:"0px"})}if(c.get(this.iconDivNode,"float")=="right"){c.set(this.iconDivNode,{"float":"none"})}}},_onClick:function(j){setTimeout(function(){g()},350)}})})},"sys/mobile/js/mui/form/_CategoryBase":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/_base/lang","dojo/html","dojo/_base/array","mui/util","dojo/touch","mui/device/adapter","mui/history/listener"],function(g,k,e,d,l,o,a,j,m,h,f,n,b){var c=g("mui.form._CategoryBase",null,{key:null,type:null,curIds:"",curNames:"",splitStr:";",confirm:false,isMul:false,templURL:null,jsURL:null,_cateDialogPrefix:"__cate_dialog_",afterSelect:null,authType:"02",eventBind:function(){this.subscribe("/mui/category/submit",a.hitch(this,"returnDialog"));this.subscribe("/mui/category/cancel",a.hitch(this,"closeDialog"));this.subscribe("/mui/category/clear",a.hitch(this,"clearDialog"));this.subscribe("/mui/category/changeprops",a.hitch(this,"doChangeProps"))},doChangeProps:function(q){for(var p in q){this[p]=q[p]}},returnDialog:function(q,p){if(p){if(q.key==this.key){this.curIds=p.curIds;this.curNames=p.curNames;this.closeDialog(q);if(this.afterSelect){this.afterSelect(p)}}}},__doCloseDialog:function(){if(this.previousTitle){n.setTitle(this.previousTitle);this.previousTitle=null}if(this.beforeSelectCateHistoryId){b.goNoop({historyId:this.beforeSelectCateHistoryId});this.beforeSelectCateHistoryId=null}o.add(this.dialogDiv,"fadeOut animated");this.defer(function(){if(this.dialogContainerDiv){l.set(this.dialogContainerDiv,"display","none")}if(this.dialogDiv){l.set(this.dialogDiv,"display","none")}},500);setTimeout(a.hitch(this,function(){if(this.parseResults&&this.parseResults.length){m.forEach(this.parseResults,function(p){if(p.destroy){p.destroy()}});delete this.parseResults}d.destroy(this.dialogDiv);this.dialogDiv=null;this._working=false}),410)},_closeDialog:function(p){var q=p.target;if(this.dialogDiv&&q===this.dialogDiv){this.__doCloseDialog()}},closeDialog:function(p){if(this.dialogDiv&&p.key==this.key){this.__doCloseDialog()}},clearDialog:function(p){if(p.key==this.key){this.curIds="";this.curNames="";this.closeDialog(p)}},showAnimate:function(){l.set(this.dialogContainerDiv,"display","block");l.set(this.dialogDiv,"display","block");o.add(this.dialogDiv,"fadeIn animated");l.set(this.dialogDiv,"background-color","rgba(0, 0, 0, 0.6)");this.defer(function(){l.set(this.dialogDiv,{opacity:1});o.remove(this.dialogDiv,"fadeIn")},500)},urlResolver:function(p){if(p&&!this._working){this._working=true;this.dialogDiv=e.byId(this._cateDialogPrefix+this.key);if(this.dialogDiv==null){var q=h.urlResolver(p,this);if(q.startsWith("/")&&!q.startsWith(dojoConfig.baseUrl)){q=h.formatUrl(q)}return q}}return false},_selectCate$1:function(){var s;if(this.templURL){s=this.urlResolver(this.templURL);if(!s){return}s="dojo/text!"+s}else{if(this.jsURL){s=this.urlResolver(this.jsURL);if(!s){return}}}var p=this;var q=this._cateDialogPrefix+this.key;require([s],function(u){p.dialogDiv=d.create("div",{id:q,className:"muiCateDiaglogN",tabindex:"0"},document.body,"last");p.dialogContainerDiv=d.create("div",{className:"muiCateDiaglogContainer "},p.dialogDiv);p.dialogDiv.focus();p.defer(function(){p.connect(p.dialogDiv,"click","_closeDialog")},500);h.disableTouch(p.dialogDiv,f.move);var t=new j._ContentSetter({node:p.dialogContainerDiv,parseContent:true,cleanContent:true,onBegin:function(){this.content=a.replace(this.content,{categroy:p});this.inherited("onBegin",arguments)}});t.set(u);t.parseDeferred.then(function(v){p.parseResults=v;k.publish("/mui/category/tmploaded",{dom:p.dialogDiv,widgetList:v})});t.tearDown();p.showAnimate()})},_selectCate:function(){var s=a.hitch(this,function(){this._selectCate$1();this.previousTitle=document.title;if(this.subject){n.setTitle(this.subject)}});var q=a.hitch(this,function(){this.beforeSelectCateHistoryId=null;this.__doCloseDialog()});var p=b.push({forwardCallback:s,backCallback:q});this.beforeSelectCateHistoryId=p.previousId}});return c})},"sys/mobile/js/mui/header/HeaderItem":function(){define(["dojo/_base/declare","dojox/mobile/_ItemBase","dojo/dom-style","mui/util"],function(d,b,c,a){return d("mui.header.HeaderItem",[b],{icon:null,baseClass:"muiHeaderItem",label:null,referListId:null,buildRendering:function(){if(this.icon){this.baseClass=this.baseClass+" "+this.icon}this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/list/loaded","refreshLabel")},refreshLabel:function(e){if(e&&e.id==this.referListId&&this.label){if(e.totalSize){this.domNode.innerHTML="<div class='muiHeaderItemLable muiFontSizeM muiFontColorInfo'>"+a.formatText(this.label)+"("+e.totalSize+")</div>"}}},startup:function(){this.inherited(arguments);if(this.domNode.parentNode){var f=this.domNode.parentNode.style.height;if(f>0||parseFloat(f)>0){var e={height:f,"line-height":f};c.set(this.domNode,e)}}},_setLabelAttr:function(e){if(this.label){this.domNode.innerHTML="<div class='muiHeaderItemLable muiFontSizeM muiFontColorInfo'>"+a.formatText(this.label)+"</div>"}}})})},"sys/mobile/js/mui/device/ereb/adapter":function(){define(["dojo/_base/declare","mui/device/device","mui/util","mui/device/ereb/attachment","mui/device/kk5/_attachment","mui/dialog/Tip","mui/picslide/ImagePreview","dojo/request","lib/kk5/kk5","dojo/Deferred","mui/map","dojo/dom-attr"],function(f,b,g,c,d,n,m,e,h,k,a,j){var l={getSignImage:function(s){var w=h.app.getClientInfo().semver;var t=b.getClientType();if(t==9&&this.kkVersionCompare(w,"6.0.2")<0){return false}var y=s.options;if(!window.AttachmentList){window.AttachmentList={}}var o=window.AttachmentList[y.fdKey];if(!o){y.uploadStream=false;o=new c(y);window.AttachmentList[y.fdKey]=o}var q={width:window.screen.width,height:window.screen.height,penSize:2,penColor:1};if(this.kkVersionCompare(w,"6.0.2")>=0){q={penSize:2,penColor:"black"};var x=window.AttachmentList[y.fdKey+"_rawFile"];if(!x){var u=s.options;x=new c(u);x.uploadStream=false;x.fdKey=y.fdKey+"_rawFile";window.AttachmentList[y.fdKey+"_rawFile"]=x}if(x.rawFilePath){q.rawFilePath=x.rawFilePath}else{x.rawFilePath=""}}var v=this;h.media.getSignImage(q,function(z){var p=z.resultPath;if(!p){p=z.picUri}o.startUploadFile({fullPath:p,href:p,size:"",name:"image.png"});x.startUploadFile({fullPath:p,href:p,size:"",name:"image.png"});x.rawFilePath=z.rawFilePath},function(p,z){if(window.console){window.console.log("错误信息:"+z+",错误代码:"+p)}});return{}}};return l})},"sys/mobile/js/mui/util":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/on","dojo/query","mui/base64","dojo/Deferred","dojo/promise/all"],function(e,h,b,g,a,d,f){var c=e("mui.util",null,{formatUrl:function(l,m){var k="";if(l==null){k=""}else{if(l.substring(0,1)=="/"){if(dojoConfig.serverPrefix){var j=dojoConfig.serverPrefix;j=j.charAt(j.length-1)=="/"?j.substring(0,j.length-1):j;k=j+l;return k}else{k=dojoConfig.baseUrl+l.substring(1)}}else{k=l}}if(m&&!(new RegExp("^http").test(k)||new RegExp("^https").test(k)||new RegExp("^dingtalk").test(k))){k=this.getHost()+k}return k},getHost:function(){var j=location.protocol.toLowerCase()+"//"+location.hostname;if(location.port!=""&&location.port!="80"){j=j+":"+location.port}return j},formatText:function(j){if(j==null||j==undefined||j.length==0){return""}return(j+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;").replace(/\n/g,"<br>")},formatTextChar:function(j){if(!j||j.length==0){return""}if((j+"").indexOf("\\")<0){return j}if((j+"").indexOf("\\'")>-1){return j}return(j+"").replace(/\\/g,"\\\\")},decodeHTML:function(j){if(!j||j.length==0){return""}return(j+"").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")},urlResolver:function(j,k){return j.replace(/\!\{([\w\.]*)\}/gi,function(l,m){var n=null;if(k){n=k[m]}return n===null||n===undefined?"":n})},capitalize:function(j){if(!j||j.length==0){return""}return j.substr(0,1).toUpperCase()+j.substr(1)},getScreenSize:function(){return{h:h.global.innerHeight||h.doc.documentElement.clientHeight||h.doc.documentElement.offsetHeight,w:h.global.innerWidth||h.doc.documentElement.clientWidth||h.doc.documentElement.offsetWidth}},addTopView:function(j){var k=g("#content .mblView")[0].parentNode;if(j&&j.domNode){g(k).append(j.domNode)}else{if(j&&j.nodeType){g(k).append(j)}}},getUrlParameter:function(k,m){var l=new RegExp();l.compile("[\\?&]"+m+"=([^&]*)","i");var j=l.exec(k);if(j==null){return null}else{return decodeURIComponent(j[1])}},setUrlParameter:function(j,m,l){var k=new RegExp();k.compile("([\\?&]"+m+"=)[^&]*","ig");if(l==null){if(k.test(j)){j=j.replace(k,"")}}else{l=encodeURIComponent(l);if(k.test(j)){j=j.replace(k,"$1"+l)}else{j+=(j.indexOf("?")==-1?"?":"&")+m+"="+l}}if(j.charAt(j.length-1)=="?"){j=j.substring(0,j.length-1)}return j},setUrlParameterMap:function(j,k){for(param in k){j=this.setUrlParameter(j,param,k[param])}return j},disableTouch:function(k,l){if(k){var j=function(m){m.preventDefault()};b(k,l,j)}},base64Encode:function(l,j){var k=l;if(l!=null&&l.length>0){l="\u4241\u5345\u3634{"+a.encode(l)+"}"}if(k!=l){if(j==true){k="\u4645\u5810\u4d40"+l}else{k="\u4649\u5820\u4d45"+l}}return k},preLoading:function(k){if(k==null||k==""){return}try{var j={};if(window.XMLHttpRequest){j=new XMLHttpRequest()}else{if(window.ActiveXObject){j=new ActiveXObject("Microsoft.XMLHTTP")}}if(!this.getUrlParameter(k,"s_cache")){if(window.Com_Parameter&&window.Com_Parameter.Cache){k=Com_SetUrlParameter(k,"s_cache",Com_Parameter.Cache)}else{k=k.indexOf("?")>-1?k+"&"+dojoConfig.cacheBust:k+"?"+dojoConfig.cacheBust}}j.open("GET",k,true);j.setRequestHeader("Accept","text/plain");j.setRequestHeader("Content-Type","text/plain;charset=UTF-8");j.send(null)}catch(l){}},urlParse:function(k,o){var s=String(k).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);if(!s){throw new RangeError()}var z=s[1]||"";var u=s[2]||"";var y=s[3]||"";var A=s[4]||"";var w=s[5]||"";var q=s[6]||"";var n=s[7]||"";var B=s[8]||"";var t=s[9]||"";if(o!==undefined){var l=this.urlParse(o);var v=z===""&&A===""&&u==="";if(v&&n===""&&B===""){B=l.search}if(v&&n.charAt(0)!=="/"){n=n!==""?((l.host!==""||l.username!=="")&&l.pathname===""?"/":"")+l.pathname.slice(0,l.pathname.lastIndexOf("/")+1)+n:l.pathname}var p=[];n.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(m){if(m==="/.."){p.pop()}else{p.push(m)}});n=p.join("").replace(/^\//,n.charAt(0)==="/"?"/":"");if(v){q=l.port;w=l.hostname;A=l.host;y=l.password;u=l.username}if(z===""){z=l.protocol}}var x=z+(z!==""||A!==""?"//":"")+A;var j=z+(z!==""||A!==""?"//":"")+(u!==""?u+(y!==""?":"+y:"")+"@":"")+A+n+B+t;return{protocol:z,username:u,password:y,host:A,hostname:w,port:q,search:B,searchJSON:(function(){var m={};var C=B.length>0?B.substring(1):B;C.replace(/([^?&]+)=([^?&]+)/gi,function(E,D,F){m[D]=F});return m})(),pathname:n,hash:t,href:j,origin:x}},loadCSS:function(k,n){this.__csscache=this.__csscache||{};var j=this;if(this.__csscache[k]){return}var m=document.getElementsByTagName("head")[0],l=document.createElement("link");l.type="text/css";l.rel="stylesheet";l.href=dojoConfig.baseUrl+k.substring(1);l.onload=l.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){n&&n();l.onload=l.onreadystatechange=null;j.__csscache[k]=true}};l.onerror=function(){if(l.__retry){return}l.__retry=true;l.href=j.formatUrl(k);m.appendChild(l)};m.appendChild(l)},setInnerHTML:function(o,m){var p=new d();o.innerHTML=m;var j=o.getElementsByTagName("script");var l=[];for(var k=0;k<j.length;k++){n(j[k])}if(l.length==0){p.resolve()}else{f(l).then(function(){p.resolve()})}function n(u){var s=new d();var v=u.text||u.textContent||u.innerHTML||"",w=u.src,t=document.getElementsByTagName("head")[0],q=document.createElement("script");q.type="text/javascript";if(w){q.src=w;l.push(s.promise);q.onload=function(){s.resolve()};t.appendChild(q)}else{p.then(function(){q.appendChild(document.createTextNode(v));t.appendChild(q)})}}return p},formatDate:function(l,m){if(!l){return}var n={"M+":l.getMonth()+1,"d+":l.getDate(),"H+":l.getHours(),"m+":l.getMinutes(),"s+":l.getSeconds()};if(/(y+)/.test(m)){m=m.replace(RegExp.$1,(l.getFullYear()+"").substring(RegExp.$1.length==2?2:0))}for(var j in n){if(new RegExp("("+j+")").test(m)){m=m.replace(RegExp.$1,RegExp.$1.length==1?n[j]:("00"+n[j]).substring((""+n[j]).length))}}return m},parseDate:function(n,m){var l=m||dojoConfig.DateTime_format;var j=new Date();if(/(y+)/.test(l)){j.setFullYear(n.substring(l.indexOf(RegExp.$1),l.indexOf(RegExp.$1)+RegExp.$1.length))}if(/(M+)/.test(l)){j.setMonth(parseInt(n.substring(l.indexOf(RegExp.$1),l.indexOf(RegExp.$1)+RegExp.$1.length),10)-1,1)}if(/(d+)/.test(l)){j.setDate(n.substring(l.indexOf(RegExp.$1),l.indexOf(RegExp.$1)+RegExp.$1.length))}if(/(H+)/.test(l)){j.setHours(n.substring(l.indexOf(RegExp.$1),l.indexOf(RegExp.$1)+RegExp.$1.length))}if(/(h+)/.test(l)){var k=n.substring(l.indexOf(RegExp.$1),l.indexOf(RegExp.$1)+RegExp.$1.length);k=k%12==0?12:k%12;j.setHours(k)}if(/(m+)/.test(l)){j.setMinutes(n.substring(l.indexOf(RegExp.$1),l.indexOf(RegExp.$1)+RegExp.$1.length))}if(/(s+)/.test(l)){j.setSeconds(n.substring(l.indexOf(RegExp.$1),l.indexOf(RegExp.$1)+RegExp.$1.length))}if(/(S+)/.test(l)){j.setMilliseconds(n.substring(l.indexOf(RegExp.$1),l.indexOf(RegExp.$1)+RegExp.$1.length))}return j},isExistFace:function(n){function l(u){var t=[],s=0,v=u.length,w,q;while(s<v){w=u.charCodeAt(s++);if(w>=55296&&w<=56319&&s<v){q=u.charCodeAt(s++);if((q&64512)==56320){t.push(((w&1023)<<10)+(q&1023)+65536)}else{t.push(w);s--}}else{t.push(w)}}return t}if(!n){return""}var k=l(n);for(var m=0;m<k.length;m++){var j=k[m];var o=false;if(j>=57344&&j<58680){o=true}else{if((j>=8598&&j<=8601)||j==9664||j==9654||j==9194||j==9193||(j>=9728&&j<=12953)||(j>=126976&&j<=129535)){o=true;if((j>=12289&&j<=12290)||(j>=12296&&j<=12299)||(j>=12304&&j<=12305)||(j>=12032&&j<=12035)||(j==12581)||(j>=12352&&j<=12447)||(j>=12448&&j<=12543)||(j>=12784&&j<=12799)){o=false}}else{if(j==8419){if(m>0){var p=k[m-1];if(p==35||(p>=48&&p<=57)){o=true}}}}}if(o){return true}}return false}});return new c()})},"sys/mobile/js/mui/device/ding/adapter":function(){define(["https://g.alicdn.com/dingding/dingtalk-jsapi/2.10.3/dingtalk.open.js","dojo/_base/lang","mui/device/device","dojo/request","mui/util","mui/coordtransform","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/dialog/Tip","dojo/Deferred","dojo/topic","mui/map","mui/device/web/attachment","mui/base64"],function(q,c,b,g,j,f,d,p,n,h,a,e,l){var k=false,m=false;var o={__readyCallbacks:[],__readyfailCallbacks:[],__hasListener__:false,ready:function(t,s){if(m){s&&s.call(this);return}if(k){t&&t.call(this);return}this.__readyCallbacks.push(t);this.__readyfailCallbacks.push(s);if(!this.__hasListener__){this.__hasListener__=true;h.subscribe("/third/ding/ready",c.hitch(this,function(){var u=null;while(u=this.__readyCallbacks.shift()){u&&u.call(this)}}));h.subscribe("/third/ding/readyfail",c.hitch(this,function(){var u=null;while(u=this.__readyfailCallbacks.shift()){u&&u.call(this)}}))}},closeWindow:function(){this.ready(function(){q.biz.navigation.close()},function(){q.biz.navigation.close()});return{}},share2ding:function(s){console.log(s);q.biz.chat.pickConversation({corpId:s.corpId,isConfirm:"true",onSuccess:function(t){$.post(dojoConfig.baseUrl+"third/ding/ThirdDingShare.do?method=share",{cid:t.cid,title:t.title,reqUrl:s.reqUrl,fdSubject:s.fdSubject,fdContent:s.fdContent,fdContentPro:s.fdContentPro,fdModelName:s.fdModelName,fdModelId:s.fdModelId},function(u){var v=$.parseJSON(u);if(v.error==0){p.success({text:"分享成功"})}else{p.fail({text:"分享失败:"+v.msg})}})},onFail:function(t){console.log("error:",t);if(t.errorCode&&t.errorCode!=3){p.fail({text:"fail:"+t.errorMessage})}}})},resume:function(s){console.log("注册钉钉resume事件监听");document.addEventListener("resume",s)},setTitle:function(s){if(!s){s=""}s=s.trim();q.biz.navigation.setTitle({title:s,onSuccess:function(t){},onFail:function(t){}});this.ready(function(){q.biz.navigation.setTitle({title:s,onSuccess:function(t){},onFail:function(t){}})},function(){console.log("ready失败！");q.biz.navigation.setTitle({title:s,onSuccess:function(t){},onFail:function(t){}})});document.title=s},imagePreview3:function(s){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,s);return{}},imagePreview:function(s){this.ready(function(){if(s.curSrc.indexOf("blob:")==0){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,s)}else{q.biz.util.previewImage({current:s.curSrc,urls:s.srcList,onSuccess:function(t){},onFail:function(t){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,s)}})}},function(){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,s)});return{}},sleep:function(t){var s=new Date().getTime()+parseInt(t,10);while(new Date().getTime()<s){}},downloadToDing:function(u,y){var v="";var t="";var z="";var x=u.time;$.ajaxSettings.async=false;$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=downloadToOther",{fdId:u.fdId,key:"ding",t:x},null);$.ajaxSettings.async=true;if(y){var s=false;var w=0;while(w<3){$.ajaxSettings.async=false;$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=isSuccess",{fdId:u.fdId,key:"ding",t:x,type:"0"},function(A){if(A.status=="0"){s=true;v=A.msg.url;t=A.msg.corpId;_name=A.msg.name}});$.ajaxSettings.async=true;if(s){break}w=Number(w)+1;if(w==3){p.tip({time:5000,text:d["mui.sysAttMain.download.oversize"]})}else{this.sleep(5000)}}if(v!=""&&t!=""){var u={corpId:t,url:v,name:_name};this.saveFile(u)}else{}}},isSuccess:function(u,t){var s=false;$.ajaxSettings.async=false;$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=isSuccess",{fdId:u,key:"ding",t:t,type:"0"},function(v){if(v.status=="0"){s=true}});$.ajaxSettings.async=true;return s},checkFileTypeByDing:function(w,s){var v=new Array(".js",".bat",".exe",".sh");if(w&&s){var t="."+s;var u=true;for(i=0;i<v.length;i++){if(t==v[i]){u=false;break}}if(!u){p.tip({text:"系统不允许上传“"+v+"”类型附件."});return true}}return false},isTypeDisable:function(u,x){if(u.fileName&&typeof(x.fdDisabledFileType)!="undefined"){var t=null;var s=u.fileName;t=s.substring(s.lastIndexOf("."));t=t.toLowerCase();var w=new Array();w=x.fdDisabledFileType.split(";");if("1"==x.fileLimitType){var v=true;for(i=0;i<w.length;i++){if(t==w[i]){v=false;break}}if(!v){p.tip({text:"系统不允许上传“"+this.fdDisabledFileType+"”类型附件."});return true}}else{if("2"==x.fileLimitType){var v=false;for(i=0;i<w.length;i++){if(t==w[i]){v=true;break}}if(!v){p.tip({text:"系统只允许上传“"+this.fdDisabledFileType+"”类型附件."});return true}}}}return false},isSizeDisable:function(s,t){if(t.fdSmallMaxSize&&null!=t.fdSmallMaxSize&&"pic"!=t.fdAttType){if(s.size>(t.fdSmallMaxSize*1024*1024)){p.tip({text:"单个附件上传最大不超过"+t.fdSmallMaxSize+"MB,请重新选择文件"});return true}}return false},isPicDisable:function(u,v){var s=u.fileName;if("pic"==v.fdAttType){if(s.lastIndexOf(".")>-1){var t=s.substring(s.lastIndexOf("."));t=t.toLowerCase();if(".gif"!=t&&".jpg"!=t&&".jpeg"!=t&&".png"!=t){p.tip({text:"仅支持gif、jpg、jpeg、png格式"});return true}}if(null!=v.fdImageMaxSize){if(u.fileSize>(v.fdImageMaxSize*1024*1024)){p.tip({text:"图片上传最大不超过"+v.fdImageMaxSize+"MB,请重新选择图片"});return true}}}return false},getToken:function(u){var s=j.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttUpload&gettype=getuserkey&format=json",true);var w=encodeURIComponent(u.fileName);var t="filesize="+u.fileSize+"&fileName="+w+"&fdAttMainId=&md5=";var v;g.post(s,{data:t,handleAs:"json",sync:true}).then(function(y){if(y.status=="1"){u.status=1;var x=y.token;v=(x&&x.header)?x.header.userkey:""}else{p.fail({text:"上传附件失败"})}},function(x){p.fail({text:"上传附件失败"})});return v},downloadFromDing:function(s,u){var t=this;this.ready(function(){q.runtime.permission.requestAuthCode({corpId:s.corpId,onSuccess:function(w){var v=w.code;q.biz.util.uploadAttachment({space:{corpId:s.corpId,isCopy:0,max:1},types:["space"],onSuccess:function(x){if(t.checkFileTypeByDing(x.data[0].fileName,x.data[0].fileType)){return}if(t.isTypeDisable(x.data[0],u)){return}if(t.isSizeDisable(x.data[0],u)){return}if(t.isPicDisable(x.data[0],u)){return}var B=t.getToken(x.data[0]);if(!B){return}if(!window.AttachmentList){window.AttachmentList={}}var y=window.AttachmentList[s.fdKey];if(!y){y=new e(s);window.AttachmentList[s.fdKey]=y}var z=l.encode(x.data[0].fileName);z=z.replace(/\+/g,"");z=z.replace(/\//g,"");z=z.replace(/\=/g,"");var A=p.processing();A.show();$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=uploadToEkp",{code:v,key:"ding",fdSign:z,token:B,spaceId:x.data[0].spaceId,fileId:x.data[0].fileId,fileName:x.data[0].fileName,fileSize:x.data[0].fileSize,fileType:x.data[0].fileType,fdAttType:s.fdAttType,fdKey:s.fdKey,fdModelId:s.fdModelId,fdModelName:s.fdModelName},function(C){h.publish("/third/ding/status/"+s.fdKey,{url:dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=isSuccess",fdId:C.fdAttId+";"+C.fileId,size:x.data[0].fileSize,name:x.data[0].fileName,attachment:y,obj:t,tip:A,_fdAttId:C.fdAttId})})},onFail:function(x){}})}})},function(){p.fail({text:"ready失败"})})},saveFile:function(s){this.ready(function(){q.biz.cspace.saveFile({corpId:s.corpId,url:s.url,name:s.name,onSuccess:function(t){},onFail:function(t){}})},function(){p.fail({text:"ready失败"})})},open:function(s,v,t){if(s.indexOf("/")==0){s=j.getHost()+s}if(!(window.self===window.top)){window.open(s,"_self");return}try{q.biz.util.openLink({url:s,onFail:function(w){window.open(s,"_self")}});return}catch(u){window.open(s,"_self");return}},openChat:function(s){this.ready(function(){var t=this._fetchUserId(s);t.then(function(u){q.biz.chat.openSingleChat(u)})},function(){this["$super$openChat"]&&this["$super$openChat"].call(this,s)})},openUserCard:function(s){this.ready(function(){var u=this._fetchUserId(s),t=this;u.then(function(v){q.biz.util.open({name:"profile",params:{id:v.userId,corpId:v.corpId},onFail:function(w){console.log("errorMessage:"+w.errorMessage);t["$super$openUserCard"]&&t["$super$openUserCard"].call(t,s)}})})},function(){this["$super$openUserCard"]&&this["$super$openUserCard"].call(this,s)})},_fetchUserId:function(u){u.userId=u.loginName;var w=new n();if(!u.userId&&u.ekpId){var v=null;var s=dojoConfig.baseUrl+"sys/mobile/adapter.do?method=getDingPrefix",t={data:{url:location.href},handleAs:"json"};g.post(s,t).response.then(function(y){var z=y.data;v=z.url;var x=j.formatUrl("/"+v+"/user.do?method=getUserId&fdId="+u.ekpId);g(x,{handleAs:"json"}).then(function(A){u.userId=A.userId;u.corpId=A.corpId;w.resolve(u)})},function(){console.log("请求失败！")})}else{w.resolve(u)}return w},download:function(v){var s=function(){var y=navigator.userAgent.toLowerCase();if(/(iPhone|iPad|iPod|iOS)/i.test(y)){return true}return false};var x=function(){var y=navigator.userAgent.toLowerCase();if(y.indexOf("android")>-1){return true}return false};if(s()){var u=v.name.toLowerCase(),t=u.substring(u.lastIndexOf(".")+1);if(t=="zip"||t=="rar"){p.fail({text:"暂不支持此文件类型打开"});return}}if(!x()){location.href=j.formatUrl(v.href);return}var w=j.formatUrl(v.href);$.ajaxSettings.async=false;$.post(dojoConfig.baseUrl+"sys/attachment/sys_att_main/sysAttMain.do?method=getSignDownload",{fdAttMainId:v.fdId},function(y){if(y.hasAtt==true){if(y.hasRest){w=j.formatUrl("/resource/jsp/download.jsp?url="+encodeURIComponent(y.downloadUrl))}else{p.fail({text:"未配置附件rest服务访问策略"})}}else{p.fail({text:"附件不存在"})}});$.ajaxSettings.async=true;location.href=w;return},scanQRCode:function(s){this.ready(function(){q.biz.util.scan({type:"qrCode",onSuccess:function(t){s&&s({text:t.text})},onFail:function(t){}})},function(){this["$super$scanQRCode"]&&this["$super$scanQRCode"].call(this,s)});return true},openViewMap:function(s,u,t){this.ready(function(){var v=[s.lng,s.lat];if(s.coordType=="bd09"){v=f.bd09togcj02(s.lng,s.lat)}q.biz.map.view({longitude:v[0],latitude:v[1],title:s.value});u&&u()},function(){this["$super$openViewMap"]&&this["$super$openViewMap"].call(this,s,u,t)})},openEditMap:function(s,u,t){this.ready(function(){var v=[s.lng,s.lat];if(s.coordType=="bd09"&&s.lng&&s.lat){v=f.bd09togcj02(s.lng,s.lat)}q.biz.map.locate({longitude:v[0],latitude:v[1],onSuccess:function(x){var w={lat:x.latitude,lng:x.longitude};if(s.coordType=="bd09"){var y=f.gcj02tobd09(w.lng,w.lat);w.lng=y[0];w.lat=y[1]}u&&u({point:w,value:x.title,detail:x.snippet})}})},function(){this["$super$openEditMap"]&&this["$super$openEditMap"].call(this,s,u,t)})},getNetworkType:function(s){this.ready(function(){q.device.connection.getNetworkType({onSuccess:function(t){s&&s({networkType:t.result})},onFail:function(t){s&&s()}})},function(){this["$super$getNetworkType"]&&this["$super$getNetworkType"].call(this,s)})},getWifiInfo:function(t){var s=this;this.ready(function(){q.device.base.getInterface({onSuccess:function(u){t&&t({ssid:u.ssid,macIp:s._fixMacIp(u.macIp)})},onFail:function(u){p.fail({text:"获取WIFI信息失败:"+u});t&&t()}})},function(){p.fail({text:"调用钉钉wifi接口授权失败"});this["$super$getWifiInfo"]&&this["$super$getWifiInfo"].call(this,t)})},_fixMacIp:function(s){var w="";if(s){var x=s.split(":");var t=[];for(var u in x){var v=x[u]||"";if(v.length==0){v="00"}else{if(v.length==1){v="0"+v[0]}}t.push(v)}w=t.join(":")}return w},getDeviceInfo:function(s){this.ready(function(){q.device.base.getUUID({onSuccess:function(t){s&&s({deviceId:t.uuid})},onFail:function(t){s&&s()}})})},complexPicker:function(s,t){this.ready(function(){q.biz.contact.complexPicker({title:s.title,corpId:s.corpId,multiple:true,limitTips:"超出了",maxUsers:1000,pickedUsers:s.pickedUsers,pickedDepartments:[],disabledUsers:[],disabledDepartments:[],requiredUsers:[],requiredDepartments:[],appId:s.appId,permissionType:"GLOBAL",responseUserOnly:true,startWithDepartmentId:0,onSuccess:function(u){t&&t({users:u.users})},onFail:function(u){console.log(u)}})},function(){p.tip({icon:"mui mui-warn",text:"调钉钉jsapi:dd.biz.contact.complexPicker失败"})})},doCreageScenegroup:function(t,v){var s=baseUrl+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=createScenegroup";var u={title:t.title,fdId:t.fdId,modelName:t.modelName,fdKey:t.fdKey,moduleKey:t.moduleKey,ownerPersonId:t.ownerPersonId,users:t.users};g.post(s,{data:t,handleAs:"json",sync:true}).then(function(w){p.fail({text:"场景群创建成功"});v&&v({data:w})},function(w){p.fail({text:"调用createScenegroup接口失败"});return})},creageScenegroup:function(u,x){var v=dojoConfig.baseUrl;var s=this;var t=v+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=getCreateScenegroupInfo";var w={fdId:u.fdId,modelName:u.modelName,fdKey:u.fdKey,moduleKey:u.moduleKey,ownerPersonId:u.ownerPersonId,personIds:u.personIds};g.post(t,{data:w,handleAs:"json",sync:true}).then(function(A){if(A!=null){var y=A.result;if(y==true){var B=A.data;u.appId=B.appId;u.corpId=B.corpId;u.pickedUsers=B.pickedUsers;var z=s;s.complexPicker(u,function(G){G=G.users;var F="";$.each(G,function(I,H){F+=H.emplId+";"});var D=dojoConfig.baseUrl;var C=D+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=createScenegroup";var E={title:u.title,fdId:u.fdId,modelName:u.modelName,fdKey:u.fdKey,moduleKey:u.moduleKey,ownerPersonId:u.ownerPersonId,users:F};g.post(C,{data:E,handleAs:"json",sync:true}).then(function(I){var H=I.result;if(H==true){p.success({text:"场景群创建成功"});x&&x({data:I})}else{p.fail({text:I.errorMsg})}},function(H){p.fail({text:"调用createScenegroup接口失败"});return})})}else{p.fail({text:A.errorMsg});return}}else{alert(JSON.stringify(A));return}},function(y){alert(JSON.stringify(data_res));p.fail({text:"调用thirdDingScenegroupMapp接口失败"});return})},addScenegroupMember:function(u,x){var v=dojoConfig.baseUrl;var s=this;var t=v+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=getScenegroupInfo";var w={fdId:u.fdId,modelName:u.modelName,fdKey:u.fdKey,personIds:u.personIds};g.post(t,{data:w,handleAs:"json",sync:true}).then(function(A){if(A!=null){var y=A.result;if(y==true){var B=A.data;u.appId=B.appId;u.corpId=B.corpId;u.pickedUsers=B.pickedUsers;var z=s;s.complexPicker(u,function(G){G=G.users;var F="";$.each(G,function(I,H){F+=H.emplId+";"});var D=dojoConfig.baseUrl;var C=D+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=addScenegroupMember";var E={fdId:u.fdId,modelName:u.modelName,fdKey:u.fdKey,users:F};g.post(C,{data:E,handleAs:"json",sync:true}).then(function(I){var H=I.result;if(H==true){p.success({text:"场景群加人成功"});x&&x({data:I})}else{p.fail({text:I.errorMsg})}},function(H){p.fail({text:"调用addScenegroupMember接口失败"});return})})}else{p.fail({text:A.errorMsg});return}}else{alert(JSON.stringify(A));return}},function(y){alert(JSON.stringify(data_res));p.fail({text:"调用thirdDingScenegroupMapp接口失败"});return})},delScenegroupMember:function(u,x){var v=dojoConfig.baseUrl;var s=this;var t=v+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=getScenegroupInfo";var w={fdId:u.fdId,modelName:u.modelName,fdKey:u.fdKey,personIds:u.personIds};g.post(t,{data:w,handleAs:"json",sync:true}).then(function(A){if(A!=null){var y=A.result;if(y==true){var B=A.data;u.appId=B.appId;u.corpId=B.corpId;u.pickedUsers=B.pickedUsers;var z=s;s.complexPicker(u,function(G){G=G.users;var F="";$.each(G,function(I,H){F+=H.emplId+";"});var D=dojoConfig.baseUrl;var C=D+"third/ding/scenegroup/third_ding_scenegroup_mapp/thirdDingScenegroupMapp.do?method=delScenegroupMember";var E={fdId:u.fdId,modelName:u.modelName,fdKey:u.fdKey,users:F};g.post(C,{data:E,handleAs:"json",sync:true}).then(function(I){var H=I.result;if(H==true){p.success({text:"场景群删人成功"});x&&x({data:I})}else{p.fail({text:I.errorMsg})}},function(H){p.fail({text:"调用delScenegroupMember接口失败"});return})})}else{p.fail({text:A.errorMsg});return}}else{alert(JSON.stringify(A));return}},function(y){alert(JSON.stringify(data_res));p.fail({text:"调用thirdDingScenegroupMapp接口失败"});return})},createGroup:function(s,t){this.ready(function(){q.biz.contact.createGroup({corpId:s.corpId,users:s.emplIds,onSuccess:function(u){t&&t({groupID:u.id})},onFail:function(u){p.fail({text:u.errorMessage})}})})},openGroup:function(s){this.ready(function(){q.biz.chat.toConversation({corpId:s.corpId,chatId:s.chatId,onSuccess:function(){},onFail:function(){}})})},chooseConversationByCorpId:function(s,t){this.ready(function(){q.biz.chat.chooseConversationByCorpId({corpId:s,onSuccess:function(){t&&t({chatId:result.chatId})},onFail:function(){}})})},startRecord:function(){this.ready(function(){q.device.audio.startRecord({onSuccess:function(){},onFail:function(s){p.fail({text:s.errorMessage})}})})},stopRecord:function(){this.ready(function(){q.device.audio.stopRecord({onSuccess:function(s){download(s.mediaId)},onFail:function(s){p.fail({text:s.errorMessage})}})})},audioDownload:function(s){this.ready(function(){q.device.audio.download({mediaId:s,onSuccess:function(t){t.localAudioId},onFail:function(t){p.fail({text:t.errorMessage})}})})},play:function(s){this.ready(function(){q.device.audio.play({localAudioId:s,onSuccess:function(){},onFail:function(t){p.fail({text:t.errorMessage})}})})},createDing:function(s){this.ready(function(){q.biz.ding.create(s)})},call:function(t,s){this.ready(function(){q.biz.telephone.call({users:t,corpId:s,onSuccess:function(){},onFail:function(){}})})},getCurrentCoord:function(u,t,s){this.ready(function(){q.device.geolocation.get({targetAccuracy:200,coordinate:1,withReGeocode:false,useCache:false,onSuccess:function(w){var v={lat:w.latitude,lng:w.longitude,coordType:5};u&&u(v)},onFail:function(v){if(window.console){window.console.log(v)}p.tip({icon:"mui mui-warn",text:"钉钉地理定位失败"});t&&t(v)}})},function(){if(window.console){window.console.log("调用钉钉坐标定位接口授权失败")}this["$super$getCurrentCoord"]&&this["$super$getCurrentCoord"].call(this,u,t)})},getCurrentPosition:function(u,t,s){s=s||{};this.ready(function(){this.getCurrentCoord(function(v){a.getMapLocation(c.mixin(v,s),u,t)},t,s)},function(){if(window.console){window.console.log("调用钉钉定位接口失败")}this["$super$getCurrentPosition"]&&this["$super$getCurrentPosition"].call(this,u,t)})},editOffice:function(s,v){var u=this.uploadOffice;try{q._invoke("exclusive.sdk.invoke",{bundle_id:"landray-officesdk",api:"office.edit",request_params:{downloadUri:s.downloadUri,fileId:s.fileId,fileName:s.fileName,wpsSerNum:s.wpsSerNum},onSuccess:function(w){var x={};x.uploadUri=s.uploadUri;x.fileId=s.fileId;u(x,v)},onFail:function(w){console.log(w);v&&v.call(false,w)}}).then(function(){console.log("done")})}catch(t){console.log("editOffice调用失败,"+JSON.stringify(t));v&&v.call(false,t)}},uploadOffice:function(s,u){try{q._invoke("exclusive.sdk.invoke",{bundle_id:"landray-officesdk",api:"office.upload",request_params:{uploadUri:s.uploadUri,uploadMethod:"post",fileId:s.fileId,uploadConfig:{fileStreamKey:"file",fileSizeKey:"fileSize"}},onSuccess:function(v){u&&u.call(true,v)},onFail:function(v){console.log(JSON.stringify(v));u&&u.call(false,v)}}).then(function(){console.log("done")})}catch(t){console.log("uploadOffice调用失败,"+JSON.stringify(t));u&&u.call(false,t)}},viewOffice:function(s,u){try{q._invoke("exclusive.sdk.invoke",{bundle_id:"landray-officesdk",api:"office.view",request_params:{downloadUri:s.downloadUri,fileId:s.fileId,fileName:s.fileName},onSuccess:function(v){alert(JSON.stringify(v))},onFail:function(v){console.log(JSON.stringify(v))}}).then(function(){console.log("done")})}catch(t){console.log("viewOffice调用失败,"+JSON.stringify(t));u&&u.call(false,t)}}};(function(){var w=b.getClientType();if(w!=11){return}if(!q){return}var v=dojoConfig.baseUrl;var u=location.href;var x=function(){var y=navigator.userAgent.toLowerCase();if(y.indexOf("android")>-1){return true}return false};if(x()&&window.oldLocaHrefUrl){console.log("取window.oldLocaHrefUrl的值：",window.oldLocaHrefUrl);u=window.oldLocaHrefUrl}option={data:{url:u},handleAs:"json"};console.log("queryUrl:"+u);var s=dojoConfig.baseUrl+"sys/mobile/adapter.do?method=getDingPrefix",t={data:{url:location.href},handleAs:"json"};g.post(s,t).response.then(function(y){var z=y.data;v=v+z.url+"/jsapi.do?method=jsapiSignature";g.post(v,option).response.then(function(B){var A=B.data;if(A){q.config({appId:A.appId,agentId:A.appId,corpId:A.corpId,timeStamp:A.timeStamp,nonceStr:A.nonceStr,signature:A.signature,jsApiList:["biz.chat.openSingleChat","biz.util.open","biz.util.openLink","biz.map.locate","biz.map.view","device.connection.getNetworkType","device.base.getInterface","device.base.getUUID","biz.contact.complexPicker","biz.contact.createGroup","biz.chat.toConversation","biz.chat.chooseConversationByCorpId","device.audio.startRecord","device.audio.stopRecord","device.audio.download","device.audio.play","biz.ding.create","biz.telephone.call","device.geolocation.get","biz.chat.pickConversation","biz.navigation.quit","biz.navigation.setTitle","biz.cspace.saveFile","biz.util.uploadAttachment","biz.util.downloadFile"]});q.ready(function(){k=true;h.publish("/third/ding/ready")});q.error(function(D){console.log(D);var E=JSON.stringify(D.errorMessage);var G=E.indexOf("url:[");var C=E.indexOf("],ticketList:");var F=E.substring(G+5,C);console.log("error_url:"+F);console.log("location.href:"+location.href);if(F!=""){option={data:{url:F},handleAs:"json"};g.post(v,option).response.then(function(I){var H=I.data;if(H){q.config({appId:H.appId,agentId:H.appId,corpId:H.corpId,timeStamp:H.timeStamp,nonceStr:H.nonceStr,signature:H.signature,jsApiList:["biz.chat.openSingleChat","biz.util.open","biz.util.openLink","biz.map.locate","biz.map.view","device.connection.getNetworkType","device.base.getInterface","device.base.getUUID","biz.contact.complexPicker","biz.contact.createGroup","biz.chat.toConversation","biz.chat.chooseConversationByCorpId","device.audio.startRecord","device.audio.stopRecord","device.audio.download","device.audio.play","biz.ding.create","biz.telephone.call","device.geolocation.get","biz.chat.pickConversation","biz.navigation.quit","biz.navigation.setTitle","biz.cspace.saveFile","biz.util.uploadAttachment","biz.util.downloadFile"]});q.ready(function(){k=true;h.publish("/third/ding/ready");console.log("二次尝试鉴权ready成功")});q.error(function(J){m=true;h.publish("/third/ding/readyfail");console.log("error",J);console.log("signInfo",H)})}else{m=true;h.publish("/third/ding/readyfail");console.log("signInfo empty(ding)")}},function(){m=true;h.publish("/third/ding/readyfail");console.log(JSON.stringify(arguments))})}else{m=true;h.publish("/third/ding/readyfail")}})}else{q.ready(function(){console.log("dd.ready")});m=true;h.publish("/third/ding/readyfail");console.log("signInfo empty(ding)")}},function(){m=true;h.publish("/third/ding/readyfail");console.log(JSON.stringify(arguments))})},function(y){console.log("请求失败！"+y)})})();return o})},"sys/mobile/js/mui/i18n/_i18n":function(){define([],function(){function a(c,b){require([c+"_"+dojoConfig.locale+"._min_"],b)}return{load:function(d,b,c){a(d,c)}}})},"sys/mobile/js/mui/hash":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/json"],function(d,a,g,l){var k=function(){var p=window.location.hash?window.location.hash.substr(1).split("&"):[],o={};for(var n=0;n<p.length;n++){var m=p[n].split("=");o[m[0]]=decodeURIComponent(m[1])}return o};var h=function(o){var n=[];for(var m in o){n.push(m+"="+encodeURIComponent(o[m]))}return n.join("&")};var b=function(m){window.location.hash=h(m)};var j=function(m){window.history.replaceState(null,null,"#"+h(m))};var c=function(o){var n={};if(!o){return n}var m=o.split(";");g.forEach(m,function(s){if(!s){return}var p=s.indexOf(":");var q=s.substring(0,p);var t=s.substring(p+1);if(/^{.*}$/.test(t)){t=l.parse(t)}if(n[q]){t=a.isArray(n[q])?n[q].concat(t):[n[q],t]}n[q]=t});return n};var f=function(m){var p="";for(var n in m){var o=m[n];if(a.isString(o)){if(o||n==="ordertype"){p+=n+":"+o+";"}}else{if(a.isArray(o)){g.forEach(o,function(t,s,q){if(t||(q.length>1&&!t)){p+=n+":"+t+";"}})}else{if(a.isObject(o)){p+=n+":"+l.stringify(o)+";"}}}}return p};var e=d("mui.hash",null,{get:function(n){var m=k();if(n){return m[n]}else{return m}},add:function(o){var n=k();for(var m in o){n[m]=o[m]}b(n)},replace:function(o){var n=k();for(var m in o){n[m]=o[m]}j(n)},remove:function(m){m=(typeof(m)=="string")?[m]:m;var o=k();for(var n=0;n<m.length;n++){delete o[m[n]]}b(o)},clear:function(){b({})},canHash:function(){return dojoConfig&&dojoConfig.canHash},getPath:function(){var m=this.get("path");if(!m){return[]}if(m.startsWith("/")){m=m.substring(1)}return m?m.split("/"):[]},replacePath:function(m){if(!m||m.length===0){return""}var n=m.join("/");this.replace({path:n})},matchPath:function(n){var m=this.get("path");if(!m){m="0"}return m===n},getQuery:function(p,o){var n=this.get("query");if(!n){return p?null:{}}var m=c(n);return p?m[p]:m},replaceQuery:function(m){var o=this.get("query");var n=c(o);if(n){n=Object.assign(n,m)}else{n=m}this.replace({query:f(n)})},clearQueryR:function(){this.replace({query:""})}});return new e()})},"sys/mobile/js/mui/device/weixin/adapterEx":function(){define(["https://res.wx.qq.com/open/js/jweixin-1.0.0.js","dojo/request","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/dialog/Tip","mui/device/device","dojo/Deferred"],function(h,g,b,e,d,f,c){var a={closeWindow:function(){h.closeWindow();return{}},imagePreview:function(j){h.previewImage({current:j.curSrc,urls:j.srcList});return{}},startRecord:function(j){function k(l){if(this.failTipTimer){clearTimeout(this.failTipTimer)}this.failTipTimer=setTimeout(function(){alert(l.errMsg)},100)}if(!localStorage.__allowRecord||localStorage.__allowRecord!=="true"){h.startRecord({success:function(){localStorage.__allowRecord="true";h.stopRecord()},fail:function(l){k(l)}});return}this.timer=setTimeout(function(){h.startRecord({fail:function(l){k(l)}});j()},200)},stopRecord:function(k,j){if(this.timer){clearTimeout(this.timer)}setTimeout(function(){h.stopRecord({success:function(l){if(k){k(l)}},fail:function(l){if(j){j(l)}}})},200)},stopRecordByTranslate:function(j,k){if(j){j()}this.stopRecord(function(m){var l=m.localId;if(l){h.translateVoice({localId:l,isShowProgressTips:1,success:function(n){if(k){k(n)}}})}})},scanQRCode:function(j){h.ready(function(){h.scanQRCode({desc:"scanQRCode desc",needResult:1,scanType:["qrCode","barCode"],success:function(k){j&&j({text:k.text||k.resultStr})},error:function(k){if(k.errMsg.indexOf("function_not_exist")>0){d.tip({icon:"mui mui-warn",text:"微信版本过低请升级"})}}})});return true},getCurrentCoord:function(k,j){this._loadScript(function(){h.getLocation({success:function(m){var l={latitude:m.latitude,longitude:m.longitude};k&&k(l)},cancel:function(){d.tip({icon:"mui mui-warn",text:"只有授权才允许地理定位"})},fail:function(l){if(window.console){window.console.log(l.errMsg)}d.tip({icon:"mui mui-warn",text:"地理定位失败"})}})})},getCurrentPosition:function(l,k){var j=this;h.ready(function(){j.getCurrentCoord(function(p){var m=new BMap.Point(p.longitude,p.latitude);var n=new BMap.Convertor();var o=[];o.push(m);n.translate(o,1,5,function(s){if(s.status===0){var q=new BMap.Geocoder();q.getLocation(s.points[0],function(t){l&&l(t)})}})},k)})}};return a})},"sys/mobile/js/mui/pageLoading":function(){define(["dojo/dom","dojo/request/notify","dojo/dom-class","dojo/dom-style"],function(g,c,f,b){var d=false;var h=false;var e=0;var a=function(){if(h&&0<=e){setTimeout(function(){var j=g.byId("pageLoading");if(j){b.set(j,"display","none");d=true}},11)}};c("start",function(){if(d){return}e++});c("stop",function(){if(d){return}e--;a()});return{hide:function(){h=true;a()},isHide:function(){return d},opcity:function(){opcity()}}})},"sys/mobile/js/mui/loadingMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style"],function(c,a,d,b){return c("mui.loadingMixin",null,{isDestroy:false,buildLoading:function(f){this.loadingNode=a.create("div",{className:"muiLoadingTextContainer"},f);for(var e=0;e<3;e++){var g=a.create("div",{className:"muiLoadingText"},this.loadingNode);a.create("div",{className:"muiLoadingTextTitle"},g);a.create("div",{className:"muiLoadingTextContent",innerHTML:"<i></i><span></span>"},g)}this.muiLoadingTextBox=a.create("div",{className:"muiLoadingTextBox"},this.loadingNode);d.add(f,"loading");this.animation()},animation:function(){var e=this;this.timeout=setTimeout(function(){b.set(e.muiLoadingTextBox,{left:"100%"})},0);this.interval=setInterval(function(){b.set(e.muiLoadingTextBox,{transition:"all 0s ease","-webkit-transition":"all 0s ease"});b.set(e.muiLoadingTextBox,{left:"-110%"});setTimeout(function(){b.set(e.muiLoadingTextBox,{transition:"all 3s ease","-webkit-transition":"all 3s ease"});b.set(e.muiLoadingTextBox,{left:"100%"})},1)},3500)},destroyLoading:function(e){if(this.loadingNode){a.destroy(this.loadingNode);d.remove(e,"loading");clearTimeout(this.timeout);clearInterval(this.interval)}}})})},"sys/mobile/js/mui/top/_TopListMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom-style","dojo/_base/lang"],function(c,a,b,d){return c("mui.list._TopListMixin",null,{adjustDestination:"/mui/list/adjustDestination",listTop:"/mui/list/toTop",toTop:function(e){a.publish(this.listTop,this)},connectToggle:function(){this.subscribe(this.adjustDestination,d.hitch(function(e,h,g,f){this.defer(function(){var j=h.y<-5&&((f!=null&&f.c.h>=f.d.h)||f==null);if(j&&!this._show){a.publish("mui/view/addBottomTip");this.show()}if(!j&&this._show){this.hide()}},0)}));this.subscribe("mui/list/showTop","show");this.subscribe("mui/list/hideTop","hide")}})})},"sys/mobile/js/mui/device/kk5/attachment":function(){define(["dojo/_base/declare","dojo/request","mui/device/attachment/_attachmentProxy","lib/kk5/kk5"],function(a,b,d,c){return a("mui.device.kk5.attachment",[d],{_uploadFile:function(h,g){var e=this;if(this.uploadStream){var f=this.buildOptions(h,g);var j=b.post(this._url,f);j.then(function(k){e.uploadSuccess(h,k)},function(k){h.status=0;e.uploadError(h,{rtn:k})},function(k){h.status=1;e.uploadProcess(k.loaded,h)})}else{this._url=this.uploadurl;if(this.uploadType==2){this._url=this.rtfUploadUrl}e.uploadFile(h,this._url,g.header.userkey,function(k){e.uploadSuccess(h,k)},null,function(k){h.status=0;e.uploadError(h,k)})}},uploadFile:function(h,j,k,g,f,l){var e=this;c.proxy.uploadView({token:k,userkey:k,url:j,fullPath:h.fullPath},function(m){g(m)},function(m){var n="";if(m==-1){n="附件上传网络不可用";if(window.console){window.console.error(n)}}if(m==-2){n="附件上传调用参数错误";if(window.console){window.console.error(n)}}if(m==-3){n="附件上传被取消";if(window.console){window.console.error(n)}}if(m==-9){n="附件上传服务器端出错";if(window.console){window.console.error(n)}}if(l&&n!=""){l({rtn:{status:"-1",msg:"附件上传错误:"+n}})}});return{}}})})},"sys/mobile/js/mui/device/ding/adapterEx":function(){define(["https://g.alicdn.com/dingding/open-develop/1.6.9/dingtalk.js","dojo/request","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/Deferred"],function(a,f,c,e,d){var b={closeWindow:function(){a.biz.navigation.close();return{}},imagePreview:function(g){a.biz.util.previewImage({current:g.curSrc,urls:g.srcList});return{}},openChat:function(g){var h=this._fetchUserId(g);h.then(function(j){a.biz.chat.openSingleChat(j)})},openUserCard:function(g){var h=this._fetchUserId(g);h.then(function(j){a.biz.util.open({name:"profile",params:{id:j.userId,corpId:j.corpId},onFail:function(k){console.log("errorMessage:"+k.errorMessage)}})})},_fetchUserId:function(h){h.userId=h.loginName;var j=new d();if(!h.userId&&h.ekpId){var g=c.formatUrl("/third/ding/user.do?method=getUserId&fdId="+h.ekpId);f(g,{handleAs:"json"}).then(function(k){h.userId=k.userId;h.corpId=k.corpId;j.resolve(h)})}else{j.resolve(h)}return j}};return b})},"sys/mobile/js/mui/device/kk5/kkHttpRequest":function(){define(["dojo/io-query","lib/kk5/kk5"],function(d,c){function a(){var g=document.createDocumentFragment();function f(l,m,k,j){return g.addEventListener(l,m,k,j)}function h(j){return g.dispatchEvent(j)}function e(k,l,j){return g.removeEventListener(k,l,j)}this.addEventListener=f;this.dispatchEvent=h;this.removeEventListener=e}var b=function(){a.call(this)};b.prototype.method="GET";b.prototype.async=true;b.prototype.headers={};b.prototype.open=function(g,e,f){this.method=g||"GET";this.url=e;this.async=f;this.readyState=1};b.prototype.send=function(e){var f=this;this.readyState=2;c.ready(function(){var g=c.proxy.request({url:f.url,data:(e&&typeof(e)=="string")?d.queryToObject(e):e,headers:f.headers});g.then(function(h){f.responseText=h;f.status=200;f.statusText="OK";f.readyState=4;f.onreadystatechange&&f.onreadystatechange();f.dispatchEvent(f.__evt("load"))},function(h,j){f.status=h;f.statusText=j;f.readyState=4;f.onreadystatechange&&f.onreadystatechange();f.dispatchEvent(f.__evt("error"))})})};b.prototype.setRequestHeader=function(e,f){this.headers[e]=f};b.prototype.getResponseHeader=function(e){};b.prototype.__evt=function(f){var e=document.createEvent("Event");e.initEvent(f,true,true);e.target=this;return e};return b})},"sys/mobile/js/mui/header/Header":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/dom-class","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/_base/array","dojo/_base/lang"],function(d,f,h,c,j,b,g,a){var e=d("mui.header.Header",[c,b,j],{width:"100%",height:"",baseClass:"muiHeader",buildRendering:function(){this.inherited(arguments);if(this.width!="100%"){f.set(this.domNode,{width:this.width})}if(this.height!=""){f.set(this.domNode,{height:this.height})}},startup:function(){this.inherited(arguments);this.changeChildDisplay()},changeChildDisplay:function(){g.forEach(this.getChildren(),a.hitch(this,function(k){if(k&&k.domNode){h.add(k.domNode,"muiHeaderItem")}}))}});return e})},"sys/mobile/js/mui/ChannelMixin":function(){define(["dojo/_base/declare"],function(a){return a("mui.ChannelMixin",[],{channelPropName:"key",isSameChannel:function(c){var d=this.channelPropName;var b=function(e){return typeof(e)==="undefined"||this[e]===null};if(b(this[d])&&b(c)){return true}return this[d]==c}})})},"sys/mobile/js/mui/mime/mime":function(){define(["dojo/request","mui/util"],function(c,a){var b="/sys/mobile/js/mui/mime/mime.jsp?fileName=!{fileName}";return{getMime:function(f){var e="";var d=a.formatUrl(a.urlResolver(b,{fileName:f}));c(d,{sync:true,handleAs:"json"}).then(function(g){if(g.status==1){e=g.message}});return e}}})},"sys/mobile/js/mui/load":function(){define(["dojo/parser","mui/main","mui/pageLoading","dojo/_base/window","dojox/mobile/sniff","dojo/topic","mui/form","dojo/request","mui/util","dojo/_base/lang","dojo/_base/query","mui/device/adapter","mui/device/device","dojo/dom-style"],function(a,e,n,k,o,h,c,f,g,d,l,m,b,j){return{recoverUrl:function(p){if(history.replaceState){history.replaceState(null,null,p)}},errorCode:{"403":"/third/pda/resource/jsp/e403.jsp"},renderTitle:function(){var q=l("[data-dojo-block='title']");if(q.length==0){return}var p=q[0].innerText;if(p){m.setTitle(p)}},decodeUrlOriginal:function(q){var p=decodeURIComponent(q);if(p===q){return q}else{return this.decodeUrlOriginal(p)}},encodeStr:function(u,q,t){if(!u){return""}var p=t?decodeUrlOriginal(u):u;for(var s=0;s<q;s++){p=encodeURIComponent(p)}return p},setOriginalUrl:function(){var s=location.href;var q=this.decodeUrlOriginal(s);var t=q.indexOf("#");var u="q.docCategory";if(t>-1&&q.indexOf(u)>t){var v="_referer";var p=this.encodeStr(g.getUrlParameter(s,v),1);s=g.setUrlParameter(s,v,p)}window.oldLocaHrefUrl=s},loadAndParse:function(p){dojoConfig._native=true;h.subscribe("parser/done",this.renderTitle.bind(this));dojoConfig.tiny=true;try{var p=g.formatUrl(p);var t=g.urlParse(location.href).searchJSON,p=g.setUrlParameterMap(p,t);this.setOriginalUrl();this.recoverUrl(p);p=g.setUrlParameter(p,"_data","true");var s="";f.get(p,{handleAs:"json",headers:{accept:"application/json"}}).then(function(y){if(y.dataUrl&&y.dataUrl!=""){var u=g.formatUrl(y.dataUrl);var x=b.getClientType();if(!o("ios")&&x===11||x===14){if(history.replaceState){history.replaceState(null,document.title,u);history.go(0)}else{location.replace(u)}}else{location.replace(u)}}if(!y.text){return}var v=y.text;var w=document.getElementById("content");g.setInnerHTML(w,v).then(d.hitch(this,function(){a.parse().then(function(){k.doc.dojoClick=!o("ios")||o("ios")>13;n.hide();h.publish("parser/done")})}))},d.hitch(this,function(v){var u=v.response.status;if(this.errorCode[u]){var x=g.formatUrl(this.errorCode[u]);var w=f.post(x,{});w.response.then(function(y){s=y.data;document.write(s)})}}))}catch(q){}}}})},"sys/mobile/js/mui/header/DingViewHeader":function(){define("mui/header/DingViewHeader",["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/dom-geometry","dojo/on","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,d,k,h,b,a,j,g,c){var f=e("mui.header.DingViewHeader",[d],{baseClass:"muiDocViewHeader",subject:"",userId:"",userName:"",imgUrl:"/sys/person/sys_person_zone/sysPersonZone.do?method=img&fdId=!{userId}",docStatus:"",docStatusText:"",docStatusEnum:{"00":{text:c["mui.mobile.process.status.discard"],iconClass:"processStatusDiscard"},"30":{text:c["mui.mobile.process.status.done"],iconClass:"processStatusDone"}},expandItems:false,itemDatas:[],buildRendering:function(){this.inherited(arguments);var m=b.create("div",{className:"muiDocViewHeaderBase"},this.domNode);if(this.subject){b.create("div",{className:"muiDocViewHeaderSubject",innerHTML:this.subject},m)}if(this.serviceSource&&"ding"==this.serviceSource){if(this.docStatus&&"20"==this.docStatus){var A="等待"+this.handlerValue+"处理";b.create("div",{className:"nodeNamesShow",innerHTML:A},m)}if(this.itemDatas&&this.itemDatas.length>1){var q=b.create("div",{className:"muiDocViewHeaderDetailWarp"},this.domNode);var u=b.create("div",{className:"muiDocViewHeaderDetailContainer"},q);var p=b.create("div",{className:"muiDocViewHeaderDetail"},u);for(var E=0;E<this.itemDatas.length;E++){var H=this.itemDatas[E];var x=b.create("div",{className:"muiDocViewHeaderDetailItem"},p);var o=b.create("div",{className:"muiDocViewHeaderDetailItemL"},x);var D=b.create("span",{},o);if(H.name){D.innerHTML=H.name}var G=b.create("div",{className:"muiDocViewHeaderDetailItemR"},x);var y=b.create("span",{},G);if(H.value){y.innerHTML=H.value}if(H.click){j(y,"click",H.click)}}}}else{if(this.userId||this.userName){var v=b.create("div",{className:"muiDocViewHeaderPerson"},m);if(this.userId){var s=b.create("div",{className:"muiDocViewHeaderIcon"},v);b.create("img",{src:g.formatUrl(this.imgUrl.replace(/!{userId}/,this.userId))},s)}if(this.userName){b.create("div",{className:"muiDocViewHeaderUser",innerHTML:this.userName},v)}}}if(this.docStatus&&this.docStatusEnum[this.docStatus]){var w=this.docStatusEnum[this.docStatus];var n=w.iconClass?w.iconClass:"";var l=b.create("div",{className:"muiDocViewHeaderStatus "+n});var C=b.create("i",{className:"fontmuis muis-watermark"},l);var F=b.create("span",{},l);F.innerText=this.docStatusText?this.docStatusText:w.text;b.place(l,m,"last")}if("ding"!=this.serviceSource){if(this.itemDatas&&this.itemDatas.length>1){var q=b.create("div",{className:"muiDocViewHeaderDetailWarp"},this.domNode);var u=b.create("div",{className:"muiDocViewHeaderDetailContainer"},q);var p=b.create("div",{className:"muiDocViewHeaderDetail"},u);for(var E=0;E<this.itemDatas.length;E++){var H=this.itemDatas[E];var x=b.create("div",{className:"muiDocViewHeaderDetailItem"},p);var o=b.create("div",{className:"muiDocViewHeaderDetailItemL"},x);var D=b.create("span",{},o);if(H.name){D.innerHTML=H.name}var G=b.create("div",{className:"muiDocViewHeaderDetailItemR"},x);var y=b.create("span",{},G);if(H.value){y.innerHTML=H.value}if(H.click){j(y,"click",H.click)}}var B=a.getContentBox(q).h;if(this.expandItems){h.set(q,{"max-height":B+"px",overflow:"inherit"})}else{h.set(q,{"max-height":"0",overflow:"hidden"})}var t=b.create("div",{className:"muiDocViewHeaderExpandBtn",style:{display:this.expandItems?"none":"block"}},this.domNode);b.create("i",{className:"fontmuis muis-slide-down"},t);var z=b.create("div",{className:"muiDocViewHeaderCollapseBtn",style:{display:this.expandItems?"block":"none"}},this.domNode);b.create("i",{className:"fontmuis muis-slide-up"},z);this.connect(t,"click",function(){k.remove(t,"muiDocViewHeaderBtnFadeIn");h.set(t,{display:"none"});k.add(z,"muiDocViewHeaderBtnFadeIn");h.set(z,{display:"block"});k.remove(q,"muiDocViewHeaderWarpHidden");k.add(q,"muiDocViewHeaderWarpShow");h.set(q,{"max-height":B+"px",overflow:"inherit"})});this.connect(z,"click",function(){k.remove(z,"muiDocViewHeaderBtnFadeIn");h.set(z,{display:"none"});k.add(t,"muiDocViewHeaderBtnFadeIn");h.set(t,{display:"block"});k.remove(q,"muiDocViewHeaderWarpShow");k.add(q,"muiDocViewHeaderWarpHidden");h.set(q,{"max-height":"0",overflow:"hidden"})})}}}});return f})},"sys/mobile/js/mui/device/web/attachment":function(){define(["dojo/_base/declare","dojo/request","mui/device/_attachment","dojo/_base/lang"],function(a,b,d,c){return a("mui.device.web.attachment",[d],{_uploadFile:function(h,g){var f=this.buildOptions(h,g);var e=this;if(this._url.indexOf("?")>=0){this._url=this._url+"&xx="+(new Date()).getTime()}else{this._url=this._url+"?xx="+(new Date()).getTime()}var j=b.post(this._url,f);j.then(function(k){e.uploadSuccess(h,k)},function(k){h.status=0;e.uploadError(h,{rtn:k})},function(k){h.status=1;e.uploadProcess(k.loaded,h)})}})})},"sys/mobile/js/mui/back/BackButton":function(){define(["dojo/_base/declare","mui/tabbar/TabBarButton","dojo/dom-construct","dojo/dom-style","dojo/dom-class","mui/dialog/Dialog","mui/device/adapter","dojo/_base/lang","mui/util","dojo/dom-attr","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(d,l,c,f,j,g,k,a,e,h,b){return d("mui.back.BackButton",[l],{icon1:"mui mui-back",edit:false,editTip:b["mui.editor.exit"],buildRendering:function(){this.inherited(arguments);j.add(this.domNode,"muiBarFloatLeftButton");if(this.edit){h.set(this.domNode,"title",b["mui.button.exist"]);if(!this.label&&!this.icon1){this.labelNode.innerHTML=b["mui.button.exist"]}}else{h.set(this.domNode,"title",b["mui.button.back"]);if(!this.label&&!this.icon1){this.labelNode.innerHTML=b["mui.button.back"]}}},startup:function(){this.inherited(arguments);if(!this.icon1){f.set(this.iconDivNode,{width:"0px"})}if(f.get(this.iconDivNode,"float")=="left"){f.set(this.iconDivNode,{"float":"none"})}},_onClick:function(m){this.defer(function(){if(this.edit){var n=c.create("div",{className:"muiBackDialogElement",innerHTML:"<div>"+e.formatText(this.editTip)+"<div>"});g.element({title:b["mui.dialog.tips"],showClass:"muiBackDialogShow",element:n,scrollable:false,parseable:false,buttons:[{title:b["mui.search.cancel"],fn:function(o){o.hide()}},{title:b["mui.button.ok"],fn:a.hitch(this,function(o){this.doBack();o.hide()})}]})}else{this.doBack()}},450)},doBack:function(m){var n=k.goBack();if(n==null){history.back()}}})})},"sys/mobile/js/mui/header/tmpl/emptyTemplate":function(){define([],function(){return""})},"sys/mobile/js/mui/device/attachment/_attachmentProxy":function(){define(["dojo/_base/declare","dojo/request","dojo/topic","mui/dialog/Tip","dojo/_base/lang","mui/util","mui/base64","./_md5FileMixin"],function(e,f,d,c,h,b,a,g){return e("mui.device.attachment._attachmentProxy",[g],{rawFilePath:"",fdKey:"",fdModelName:"",fdModelId:"",fdMulti:false,fdAttType:"byte",fdViewType:"byte",editMode:"edit",uploadStream:false,eventPrefix:"attachmentObject_",tokenurl:b.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttUpload&gettype=getuserkey&format=json&isSupportDirect=false",true),attachurl:b.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttUpload&gettype=submit&format=json",true),uploadurl:b.formatUrl("/sys/attachment/uploaderServlet?gettype=upload&format=json",true),uploadStreamUrl:b.formatUrl("/sys/attachment/uploaderServlet?gettype=uploadStream&type=pic&format=json",true),deleteUrl:b.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=delete&format=json",true),md5Url:b.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttUpload&gettype=checkMd5&format=json",true),uploadType:1,rtfUploadUrl:b.formatUrl("/resource/fckeditor/editor/filemanager/upload/simpleuploader?Type=Image",true),downloadUrl:b.formatUrl("/resource/fckeditor/editor/filemanager/download"),FILE_EXT_PIC:"Picture Files|*.gif;*.jpg;*.jpeg;*.bmp;*.png;*.tif|All Files (*.*)|*.*",constructor:function(j){this.init(j)},init:function(j){this.fdKey=j.fdKey;this.fdModelName=j.fdModelName;this.fdModelId=j.fdModelId;this.fdMulti=j.fdMulti;this.fdAttType=j.fdAttType;this.fdSmallMaxSize=j.fdSmallMaxSize;this.fdImageMaxSize=j.fdImageMaxSize;this.fdViewType=this.fdAttType;if(j.uploadType){this.uploadType=j.uploadType}this.editMode=j.editMode;this.uploadStream=j.uploadStream;if(this.fdKey==null||this.fdKey==""){if(window.console){window.console.error("附件机制错误:fdKey信息为空!")}return}if(this.uploadType==1){this.fileLimitType=j.fileLimitType;this.fdDisabledFileType=j.fdDisabledFileType;this.fdSmallMaxSize=j.fdSmallMaxSize;if(j.extParam){this.extParam=new String(j.extParam)}if(this.fdModelName==null||this.fdModelName==""){if(window.console){window.console.error("附件机制错误:fdModelName信息为空!")}return}}else{if(this.uploadType==2){if(this.fdModelName){this.rtfUploadUrl=b.setUrlParameter(this.rtfUploadUrl,"fdModelName",this.fdModelName)}if(this.fdModelId){this.rtfUploadUrl=b.setUrlParameter(this.rtfUploadUrl,"fdModelId",this.fdModelId)}}}this.eventPrefix=this.eventPrefix+this.fdKey+"_";this.UPLOAD_EVENT_START=this.eventPrefix+"start";this.UPLOAD_EVENT_SUCCESS=this.eventPrefix+"success";this.UPLOAD_EVENT_FAIL=this.eventPrefix+"fail";this.UPLOAD_EVENT_PROCESS=this.eventPrefix+"process";this.UPLOAD_EVENT_SHARE=this.eventPrefix+"share"},guid:(function(){var j=0;return function(m){var k=(+new Date().getTime()).toString(32),l=0;for(;l<5;l++){k+=Math.floor(Math.random()*65535).toString(32)}return(m||"mobile_")+k+(j++).toString(32)}})(),isTypeDisable:function(l){if(l.name&&typeof(this.fdDisabledFileType)!="undefined"){var k=null;var j=l.name;k=j.substring(j.lastIndexOf("."));k=k.toLowerCase();var n=new Array();n=this.fdDisabledFileType.split(";");if("1"==this.fileLimitType){var m=true;for(i=0;i<n.length;i++){if(k==n[i]){m=false;break}}if(!m){c.tip({text:"系统不允许上传“"+this.fdDisabledFileType+"”类型附件."});return true}}else{if("2"==this.fileLimitType){var m=false;for(i=0;i<n.length;i++){if(k==n[i]){m=true;break}}if(!m){c.tip({text:"系统只允许上传“"+this.fdDisabledFileType+"”类型附件."});return true}}}}return false},isSizeDisable:function(j){if(null!=this.fdSmallMaxSize&&"pic"!=this.fdAttType){if(j.size>(this.fdSmallMaxSize*1024*1024)){c.tip({text:"单个附件上传最大不超过"+this.fdSmallMaxSize+"MB,请重新选择文件"});return true}}return false},isPicDisable:function(l){var j=l.name;if("pic"==this.fdAttType){if(j.lastIndexOf(".")>-1){var k=j.substring(j.lastIndexOf("."));k=k.toLowerCase();if(".gif"!=k&&".jpg"!=k&&".jpeg"!=k&&".png"!=k){c.tip({text:"仅支持gif、jpg、jpeg、png格式"});return true}}if(null!=this.fdImageMaxSize){if(l.size>(this.fdImageMaxSize*1024*1024)){c.tip({text:"图片上传最大不超过"+this.fdImageMaxSize+"MB,请重新选择图片"});return true}}}return false},tokenSuccess:function(j){},md5Success:function(j,k){if(this.token&&this.token.body){this.token.body.fileMd5=k}},fileUpload:function(m){if(this.isTypeDisable(m)){return"false"}if(this.isSizeDisable(m)){return"false"}if(this.isPicDisable(m)){return"false"}var j=m.name;if(m._fdId==null||m._fdId==""){m._fdId=this.guid()}if(window.console){window.console.log("startUploadFile begin..")}m.edit=this.editMode=="edit";m.key=m.key?m.key:this.fdKey;m.status=-1;var n=encodeURIComponent(m.name);var l="filesize="+m.size+"&fileName="+n;var k=this;k.uploadStart(m,{});if(m.filePath=="dingUpload"){m.status=2;k._uploadSuccess(m)}else{f.post(k.tokenurl,{data:l,handleAs:"json"}).then(function(o){if(window.console){window.console.log("startUploadFile getToken end.. result:"+o.status)}if(o.status=="1"){m.status=1;m.token=o.token;k.tokenSuccess(m);k.loadFromBlob(m)}else{m.status=0;k.uploadError(m,{rtn:o})}},function(o){m.status=0;k.uploadError(m,{rtn:o})})}},md5Next:function(l,m){var k=this;var j="filesize="+l.size+"&fileName="+l.name+"&md5="+m;f.post(k.md5Url,{data:j,handleAs:"json"}).then(function(n){l.filekey=n.fileId;k.md5Success(l,m,n);if(n.md5Exists){l.status=2;k._uploadSuccess(l)}else{k._uploadFile(l,l.token)}})},rtfUpload:function(j){var k=j.name.substring(j.name.lastIndexOf("."));if(this.FILE_EXT_PIC.indexOf(k)<0&&(j.type&&j.type.indexOf("image")<0)){return"false"}if(j._fdId==null||j._fdId==""){j._fdId=this.guid()}j.status=1;this.uploadStart(j,{});this._uploadFile(j)},startUploadFile:function(k){var j=k;if(!(k instanceof File)){if(k.href){j=this.dataURItoBlob(k.href)}if(k.type){j.type=k.type}j.name=k.name;j.href=k.href;j.fullPath=k.fullPath}if(window.attachmentConfig&&window.attachmentConfig.isSupportShare){this.uploadShare(j);return}if(this.uploadType==1){return this.fileUpload(j)}if(this.uploadType==2){return this.rtfUpload(j)}},registFile:function(m,n){if(window.dojo4OfflineKK){return this.registFileOffline(m,n)}var j="filekey="+m.filekey+"&filename="+encodeURIComponent(m.name)+"&fdKey="+this.fdKey+"&fdModelName="+this.fdModelName+"&fdModelId="+this.fdModelId+"&fdAttType="+this.fdAttType;var k=this;var l=a.encode(m.name);l=l.replace(/\+/g,"");l=l.replace(/\//g,"");l=l.replace(/\=/g,"");j=j+"&fdSign="+l;f.post(this.attachurl,{data:j,handleAs:"json",sync:true}).then(function(o){if(o.status=="1"){m.fdId=o.attid;m.status=2;if(n){n(m,{rtn:o})}}else{m.status=0;if(n){n(m,{rtn:o})}}},function(o){m.status=0;if(n){n(m,{rtn:o})}});return m.fdId},registFileOffline:function(o,p){var j="filekey="+o.filekey+"&filename="+encodeURIComponent(o.name)+"&fdKey="+this.fdKey+"&fdModelName="+this.fdModelName+"&fdModelId="+this.fdModelId+"&fdAttType="+this.fdAttType;var k=this;var n=a.encode(o.name);n=n.replace(/\+/g,"");n=n.replace(/\//g,"");n=n.replace(/\=/g,"");j=j+"&fdSign="+n;var m=this.attachurl;var l={url:m,data:j,async:false,dataType:"json",success:function(q){if(q.status=="1"){o.fdId=q.attid;o.status=2;if(p){p(o,{rtn:q})}}else{o.status=0;if(p){p(o,{rtn:q})}}}};l.crossDomain=true;l.xhrFields=l.xhrFields||{};l.xhrFields.withCredentials=true;$.ajax(l);return o.fdId},_uploadFile:function(k,j){},uploadStart:function(k,j){d.publish(this.UPLOAD_EVENT_START,this,h.mixin(j,{file:k}))},uploadSuccess:function(j,k){if(!k.status||k.status=="1"){j.status=2;j.filekey=k.filekey;this._uploadSuccess(j,k)}else{j.status=0;this.uploadError(j,{rtn:k})}},_uploadSuccess:function(k,j){d.publish(this.UPLOAD_EVENT_SUCCESS,this,h.mixin(j,{file:k}))},uploadError:function(k,j){d.publish(this.UPLOAD_EVENT_FAIL,this,h.mixin(j,{file:k}))},uploadProcess:function(j,k){d.publish(this.UPLOAD_EVENT_PROCESS,this,{file:k,loaded:j})},destroy:function(){this.inherited(arguments)},dataURItoBlob:function(k){var n;if(k.indexOf("base64,")>=0){k=k.replace(/\s/g,"");n=atob(k.split("base64,")[1])}else{n=unescape(k.split("base64,")[1])}var j=k.split(",")[0].split(":")[1].split(";")[0];var l=new Uint8Array(n.length);for(var m=0;m<n.length;m++){l[m]=n.charCodeAt(m)}return new Blob([l],{type:j})},buildOptions:function(n,m){var p=null;var j=null;var q=null;if(m){j=m.body;q=m.header}if(window.FormData){p=new FormData;if(j){for(var l in j){p.append(l,j[l])}}if(this.extParam){p.append("extParam",this.extParam)}var o="NewFile";if(window.attachmentConfig&&window.attachmentConfig.fileVal){o=window.attachmentConfig.fileVal}p.append(o,n);this._url=this.uploadurl}else{p={data:n.href,extParam:this.extParam,fileName:n.name};if(j){h.extend(p,j)}this._url=this.uploadStreamUrl}if(this.uploadType==2){this._url=this.rtfUploadUrl}var k={data:p,handleAs:"json"};if(q){k.headers=q}return k},uploadShare:function(k,j){d.publish(this.UPLOAD_EVENT_SHARE,this,h.mixin(j,{file:k}))}})})},"sys/mobile/js/mui/picslide/PicItem":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojox/mobile/_ItemBase","mui/util","dojo/topic","dojox/mobile/sniff"],function(g,c,f,b,a,e,d){var h=g("mui.picslide.PicItem",[b],{picClick:"/mui/picitem/click",picResizeEvt:"/mui/picitem/resize",baseClass:"muiListPicslideItem",itemIndex:0,srcId:"",openByProxy:false,buildRendering:function(){this.inherited(arguments);this.domNode.tabIndex="0";this.imageNode=c.create("img",{className:"muiListPicItemImg"},this.domNode);this.domNode.dojoClick=!d("ios")},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onclick");this.subscribe(this.picResizeEvt,"_resize")},startup:function(){if(this._started){return}this.inherited(arguments);this.imageNode.alt=this.alt?this.alt:this.label;this.imageNode.src=this.icon?this.icon:this.url},_resize:function(l,k){if(this.srcId==""){this.srcId=l.id}if(k&&k.id==this.srcId){var j=k;if(j.tensile==false){f.set(this.domNode,{"line-height":j.height+"px"});f.set(this.imageNode,{"max-height":j.height+"px","max-width":j.width+"px"})}else{f.set(this.imageNode,{height:j.height+"px",width:j.width+"px"})}}},_onclick:function(j){e.publish(this.picClick,this,this.itemIndex,j);if(this.href){j.stopPropagation();j.preventDefault();location.href=a.formatUrl(this.href)}},_setLabelAttr:function(j){this._set("label",j)},_setIconAttr:function(j){this._set("icon",j);this.imageNode.src=this.icon}});return h})},"sys/mobile/js/mui/header/NavHeaderHashMixin":function(){define(["dojo/_base/declare","mui/hash"],function(a,b){return a("mui.header.NavHeaderHashMixin",[],{ensureloadIndex:function(){var c=null;if(!b.canHash()){return c}var e=b.getPath();if(e&&e.length>0){var d=Number(e[0]);return isNaN(d)?c:d}return c}})})},"sys/mobile/js/mui/scrollable/IPhoneXScrollableMixin":function(){define(["dojo/_base/declare"],function(a){function b(){var e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,d=window.devicePixelRatio||1;var c={width:window.screen.width*d,height:window.screen.height*d};if(e&&c.width==1125&&c.height===2436){return true}return false}return a("mui.scrollable.IPhoneXScrollableMixin",null,{scrollType:b()?3:null})})},"sys/mobile/js/mui/createUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/json"],function(d,f,a){function c(j,h){var g=d.clone(j);if(h&&h.length>0){f.forEach(h,function(k){if(g[k]){delete g[k]}})}return g}function e(g){if(!d.isObject(g)){return}var h=a.stringify(g);h=h.replace(/\"/g,"'");return h}function b(g,m,l){g=g||"div";m=m||{};var k="<"+g+" ";if(m.dojoType){k+=' data-dojo-type="'+m.dojoType+'" '}var h=[];if(m.dojoMixins){if(typeof(m.dojoMixins)==="string"){h.push(m.dojoMixins)}else{h=m.dojoMixins}}if(h.length>0){k+=' data-dojo-mixins="'+h.join(",")+'" '}if(m.dojoProps){k+=' data-dojo-props="'+(function(){var p=m.dojoProps;var o=[];for(var s in p){var q=typeof(p[s])==="string"?(/^\$\$.*\$\$$/.test(p[s])?p[s].replace(/^\$\$/,"").replace(/\$\$$/,""):("'"+p[s]+"'")):(d.isObject(p[s])?e(p[s]):p[s]);o.push(s+":"+q)}return o.join(",")})()+'" '}if(m.className){k+=' class="'+m.className+'" '}var j=c(m,["dojoType","dojoMixins","dojoProps","className"]);for(var n in j){k+=" "+n+'="'+j[n]+'" '}k+=" >";if(l){if(typeof(l)==="string"){k+=l}else{k+=l.join(" ")}}k+=" </"+g+">";return k}return{createTemplate:b}})},"sys/mobile/js/mui/coordtransform":function(){(function(a,b){if(typeof define==="function"&&define.amd){define([],b)}else{if(typeof module==="object"&&module.exports){module.exports=b()}else{a.coordtransform=b()}}}(this,function(){var b=3.141592653589793*3000/180;var m=3.141592653589793;var k=6378245;var f=0.006693421622965943;var c=function c(q,p){var q=+q;var p=+p;var a=q-0.0065;var u=p-0.006;var t=Math.sqrt(a*a+u*u)-0.00002*Math.sin(u*b);var o=Math.atan2(u,a)-0.000003*Math.cos(a*b);var n=t*Math.cos(o);var s=t*Math.sin(o);return[n,s]};var l=function l(n,q){var q=+q;var n=+n;var s=Math.sqrt(n*n+q*q)+0.00002*Math.sin(q*b);var o=Math.atan2(q,n)+0.000003*Math.cos(n*b);var a=s*Math.cos(o)+0.0065;var p=s*Math.sin(o)+0.006;return[a,p]};var j=function j(u,t){var t=+t;var u=+u;if(d(u,t)){return[u,t]}else{var p=e(u-105,t-35);var s=g(u-105,t-35);var a=t/180*m;var v=Math.sin(a);v=1-f*v*v;var q=Math.sqrt(v);p=(p*180)/((k*(1-f))/(v*q)*m);s=(s*180)/(k/q*Math.cos(a)*m);var n=t+p;var o=u+s;return[o,n]}};var h=function h(u,t){var t=+t;var u=+u;if(d(u,t)){return[u,t]}else{var p=e(u-105,t-35);var s=g(u-105,t-35);var a=t/180*m;var v=Math.sin(a);v=1-f*v*v;var q=Math.sqrt(v);p=(p*180)/((k*(1-f))/(v*q)*m);s=(s*180)/(k/q*Math.cos(a)*m);var n=t+p;var o=u+s;return[u*2-o,t*2-n]}};var e=function e(n,o){var o=+o;var n=+n;var a=-100+2*n+3*o+0.2*o*o+0.1*n*o+0.2*Math.sqrt(Math.abs(n));a+=(20*Math.sin(6*n*m)+20*Math.sin(2*n*m))*2/3;a+=(20*Math.sin(o*m)+40*Math.sin(o/3*m))*2/3;a+=(160*Math.sin(o/12*m)+320*Math.sin(o*m/30))*2/3;return a};var g=function g(n,o){var o=+o;var n=+n;var a=300+n+2*o+0.1*n*n+0.1*n*o+0.1*Math.sqrt(Math.abs(n));a+=(20*Math.sin(6*n*m)+20*Math.sin(2*n*m))*2/3;a+=(20*Math.sin(n*m)+40*Math.sin(n/3*m))*2/3;a+=(150*Math.sin(n/12*m)+300*Math.sin(n/30*m))*2/3;return a};var d=function d(a,n){var n=+n;var a=+a;return !(a>73.66&&a<135.05&&n>3.86&&n<53.55)};return{bd09togcj02:c,gcj02tobd09:l,wgs84togcj02:j,gcj02towgs84:h}}))},"sys/mobile/js/mui/picslide/ImagePreview":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/_base/array","dojo/_base/lang","dojo/topic","dojo/window","mui/picslide/PicSlide"],function(d,c,j,g,h,b,e,f,a){return d("mui.picslide.ImagePreview",null,{picPlayEvtName:"/mui/image/play",picClick:"/mui/picitem/click",viewChangedEvt:"/mui/picslide/changeview",constructor:function(){this.inherited(arguments);e.subscribe(this.picClick,b.hitch(this,function(l,k){this._imagePlayClose(k)}))},reDraw:function(k){if(k!=null){this.imgs=[].concat(k.srcList);if(this.imgSlide!=null){this.imgSlide.destroy()}this.buildPicSlide(k)}},buildPicSlide:function(m){this.imgs=[].concat(m.srcList);var l=[];h.forEach(this.imgs,function(n){l.push({icon:n})});var k={width:f.getBox().w+"px",height:f.getBox().h+"px"};this.imgSlide=new a(b.mixin({items:l},k));if(!this.topDiv){this.topDiv=c.create("div",{className:"muiRtfPicSlider"},document.body);g.set(this.topDiv,k)}this.topDiv.appendChild(this.imgSlide.domNode);if(this.imgSlide._started!=true){this.imgSlide.startup()}},play:function(k){if(k==null){return}if(this.topDiv){g.set(this.topDiv,"display","block")}if(this.imgs&&this.imgs.toString()!=k.srcList.toString()){this.reDraw(k)}else{if(this.topDiv==null){this.buildPicSlide(k)}}setTimeout(b.hitch(this,function(){j.add(this.topDiv,"muiRtfPicShow");if(k.previewImgBgColor){g.set(this.topDiv,{background:k.previewImgBgColor})}var l=function(p,o){var m=0;for(var n=0;n<p.length;n++){if(o.indexOf(p[n])!=-1){m=n;break}}return m};if(this.imgs.length>1){e.publish(this.viewChangedEvt,this,{curIndex:this.imgs.length-1})}e.publish(this.viewChangedEvt,this,{curIndex:l(this.imgs,k.curSrc)})}),350)},_imagePlayClose:function(k){j.remove(this.topDiv,"muiRtfPicShow");setTimeout(b.hitch(this,function(){g.set(this.topDiv,"display","none")}),200)}})})},"sys/mobile/js/mui/header/NavHeader":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/html","dojox/mobile/View","dojox/mobile/TransitionEvent","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","mui/util","./NavHeaderHashMixin","dojo/topic"],function(f,b,l,o,n,k,j,a,m,e,c,p,h,d,g){return f("mui.header.NavHeader",[e,c,p,d],{baseClass:"muiNavHeader",baseItemClass:"muiHeaderItem",width:"100%",height:"4rem",templateChildNodes:null,buildRendering:function(){this.inherited(arguments);if(!this.templateChildNodes){this.templateChildNodes=[];var t=this.domNode.childNodes;for(var q=0;q<t.length;q++){var s=t[q];if(s.nodeType==1){this.templateChildNodes.push(s.cloneNode(true))}}this.domNode.innerHTML=""}},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/nav/onComplete","handleNavOnComplete");this.subscribe("/mui/navitem/_selected","handleNavChanged")},handleNavOnComplete:function(t,q){var s=this.ensureloadIndex(t);this.renderHeader(q,s)},handleNavChanged:function(q,s){if(q.channelName&&q.channelName!=this.channelName){return}if(this.getChildren()[s.index]){new m(document.body,{moveTo:this.getChildren()[s.index].id}).dispatch()}if(!window.cateFilterSetSelc){window.cateFilterSetSelc={navId:"",openCount:0}}if(window.cateFilterSetSelc.navId!=this.getChildren()[s.index].id){window.cateFilterSetSelc={navId:this.getChildren()[s.index].id,openCount:0};window._curIds=""}},channelName:"",renderHeader:function(q,s){l.forEach(q,function(y,w){var t=new a({"class":"muiHeaderView"});this.addChild(t);var v={key:this.channelName+w,container:t.domNode,index:w};if(y.headerTemplate){var z=h.formatUrl(y.headerTemplate);require([z],b.hitch(this,function(B){this.renderHeaderWithTemplate(B,v)}))}else{if(y.headerTempStr){var u=y.headerTempStr.trim();this.renderHeaderWithTemplate(u,v)}else{if(this.templateChildNodes){var A=[];for(var x=0;x<this.templateChildNodes.length;x++){A.push(this.templateChildNodes[x].cloneNode(true))}this.renderHeaderWithTemplate(A,v)}}}},this);this.defer(function(){new m(document.body,{moveTo:this.getChildren()[s].id}).dispatch()},1)},renderHeaderWithTemplate:function(u,t){if(typeof(u)=="string"){u=u.trim()}if(!u||u.length==0){k.set(t.container,"display","none");return}if(this.height!=""){k.set(t.container,{height:this.height,"line-height":this.height})}g.publish("/mui/navView/resize",this,{key:t.index});var s=this;var q=new j._ContentSetter({node:t.container,parseContent:true,cleanContent:true,setContent:function(){this.inherited("setContent",arguments);l.forEach(this.node.childNodes,function(v){if(v.nodeType===1){n.set(v,"key",t.key);o.add(v,s.baseItemClass)}})}});node=q.set(u);q.parseDeferred.then(b.hitch(this,function(v){l.forEach(v,function(w){},this)}));q.tearDown()},ensureloadIndex:function(t){var s=0;if(t&&t.selectedItem){var q=t.getChildren();s=l.indexOf(q,t.selectedItem)}if(window.localStorage&&this.canStore){s=localStorage.getItem("swapIndex:"+location.pathname);if(s==null){s=0}else{s=parseInt(s)}}var u=this.inherited(arguments);if(u!==null){s=u}return s}})})},"sys/mobile/js/mui/device/feishu/adapter":function(){define(["https://sf6-scmcdn-tos.pstatp.com/goofy/ee/lark/h5jssdk/js_sdk/h5-js-sdk-1.4.15.js","dojo/_base/lang","mui/device/device","dojo/request","mui/util","mui/coordtransform","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/dialog/Tip","dojo/Deferred","dojo/topic","mui/map"],function(m,c,b,f,h,e,d,o,l,g,a){var j=false,k=false;var n={__readyCallbacks:[],__readyfailCallbacks:[],__hasListener__:false,ready:function(q,p){if(k){p&&p.call(this);return}if(j){q&&q.call(this);return}this.__readyCallbacks.push(q);this.__readyfailCallbacks.push(p);if(!this.__hasListener__){this.__hasListener__=true;g.subscribe("/third/feishu/ready",c.hitch(this,function(){var s=null;while(s=this.__readyCallbacks.shift()){s&&s.call(this)}}));g.subscribe("/third/feishu/readyfail",c.hitch(this,function(){var s=null;while(s=this.__readyfailCallbacks.shift()){s&&s.call(this)}}))}},closeWindow:function(){window.h5sdk.ready(function(){window.h5sdk.biz.navigation.close({onSuccess:function(p){console.log(p)},onFail:function(p){console.log(JSON.stringify(p))}})});return{}},setTitle:function(p){if(!p){p=""}p=p.trim();window.h5sdk.biz.navigation.setTitle({title:p,onSuccess:function(q){},onFail:function(q){}});document.title=p},imagePreview:function(p){if(p.curSrc.indexOf("blob:")==0){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,p)}else{window.h5sdk.biz.util.previewImage({current:p.curSrc,urls:p.srcList,onSuccess:function(q){},onFail:function(q){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,p)}})}return{}},open2:function(p,s,q){if("_blank"==s){this.ready(function(){try{window.h5sdk.biz.util.openLink({url:p,title:"ekp",newTab:false,onFail:function(u){window.open(p,"_self")}});return}catch(t){window.open(p,"_self");return}},function(){window.open(p,"_self");return})}else{window.open(p,s);return}},getCurrentCoord2:function(s,q,p){this.ready(function(){window.h5sdk.device.geolocation.get({useCache:false,onSuccess:function(u){var t={lat:u.latitude,lng:u.longitude,coordType:5};s&&s(t)},onFail:function(t){if(window.console){window.console.log(t)}o.tip({icon:"mui mui-warn",text:"飞书地理定位失败"});q&&q(t)}})},function(){if(window.console){window.console.log("调用飞书坐标定位接口授权失败")}this["$super$getCurrentCoord"]&&this["$super$getCurrentCoord"].call(this,s,q)})}};(function(){var q=b.getClientType();if(q!=22){return}if(!m){return}var p=dojoConfig.baseUrl;option={data:{url:location.href},handleAs:"json"};p=p+"third/feishu/jsapi.do?method=jsapiSignature";f.post(p,option).response.then(function(t){var s=t.data;if(s){window.h5sdk.config({appId:s.appId,timeStamp:s.timeStamp,nonceStr:s.nonceStr,signature:s.signature,jsApiList:["tt.getClipboardData","tt.getLocation","tt.chooseLocation","tt.getLocation","biz.navigation.setTitle","biz.navigation.setLeft","biz.navigation.setRight","biz.navigation.setMenu","biz.navigation.goBack","biz.navigation.close","biz.util.previewImage","biz.util.openLink","biz.util.scan","device.geolocation.get","device.geolocation.start","device.geolocation.stop","device.notification.confirm","device.notification.alert","device.geolocation.get","device.geolocation.start","device.geolocation.stop"],onSuccess:function(u){j=true;g.publish("/third/feishu/ready")},onFail:function(u){k=true;g.publish("/third/feishu/ready");console.log(JSON.stringify(s));console.log("location.href:"+location.href);console.log("errCode:"+u.errorCode);console.log("-------- errMsg:"+u.message)}})}else{k=true;g.publish("/third/feishu/readyfail");console.log("signInfo empty(feishu)")}},function(){k=true;g.publish("/third/feishu/readyfail");console.log(JSON.stringify(arguments))})})();return n})},"sys/mobile/js/mui/store/xhr":function(){define(["dojo/_base/kernel","dojo/io-query","dojo/dom","dojo/dom-form","dojo/_base/Deferred","dojo/_base/lang","dojo/on"],function(d,e,g,c,b,f,a){f.mixin(d.xhr,{_ioSetArgs:function(q,t,m,s){var o={args:q,url:q.url};var u=null;if(q.form){var j=g.byId(q.form);var v=j.getAttributeNode("action");o.url=o.url||(v?v.value:(d.doc?d.doc.URL:null));u=c.toObject(j)}var k={};if(u){f.mixin(k,u)}if(q.content){f.mixin(k,q.content)}if(q.preventCache){k["dojo.preventCache"]=new Date().valueOf()}o.query=e.objectToQuery(k);o.handleAs=q.handleAs||"text";var p=new b(function(w){w.canceled=true;t&&t(w);var x=w.ioArgs.error;if(!x){x=new Error("request cancelled");x.dojoType="cancel";w.ioArgs.error=x}return x});p.addCallback(m);var h=q.load;if(h&&f.isFunction(h)){p.addCallback(function(w){return h.call(q,w,o)})}var l=q.error;if(l&&f.isFunction(l)){p.addErrback(function(w){return l.call(q,w,o)})}var n=q.handle;if(n&&f.isFunction(n)){p.addBoth(function(w){return n.call(q,w,o)})}p.addErrback(function(w){return s(w,p)});if(cfg.ioPublish&&d.publish&&o.args.ioPublish!==false){p.addCallbacks(function(w){d.publish("/dojo/io/load",[p,w]);return w},function(w){d.publish("/dojo/io/error",[p,w]);return w});p.addBoth(function(w){d.publish("/dojo/io/done",[p,w]);return w})}p.ioArgs=o;return p}});return d.xhr})},"sys/mobile/js/mui/back/HrefBackMixin":function(){define(["dojo/_base/declare","dojo/dom-class","mui/util"],function(b,c,a){return b("mui.back.HrefBackMixin",null,{href:"",icon:"mui mui-home-opposite",buildRendering:function(){this.inherited(arguments);c.add(this.domNode,"muiHrefBack")},_onExpand:function(d){if(window[this.click]){window[this.click]()}else{if("[object Function]"==Object.prototype.toString.call(this.click)){this.click()}else{new Function(this.click)()}}this.inherited(arguments)},show:function(e){if(this.click){return}var d=dojoConfig.baseUrl?dojoConfig.baseUrl:"/";if(this.href){d=a.formatUrl(this.href)}location=d}})})},"sys/mobile/js/mui/device/weixin/wxPCAgentConfig":function(){seajs.use(["lui/dialog","sys/mobile/js/lib/weixin/jweixin-1.0.0"],function(b,c){window.livingImmediately=function(d){c.invoke("startLiving",d,function(e){console.log("立即直播：",e);if(e.err_msg=="startLiving:ok"){d.livingId=e.livingId;a(d)}else{if(e.err_msg!="startLiving:cancel"){b.alert("创建直播失败："+e.err_msg)}}})};window.openLiving=function(d){console.log("linvingid:"+d);c.invoke("startLiving",{livingId:d},function(e){console.log("打开直播res",e);if(e.err_msg=="startLiving:ok"){livingId=e.livingId}else{b.alert("打开直播失败:"+JSON.stringify(e))}})}});function a(c){var b=Com_Parameter.ContextPath+"third/weixin/work/third_weixin_work_living/thirdWeixinWorkLiving.do?method=createMapping";$.ajax({url:b,type:"POST",dataType:"json",data:c,error:function(d){console.log("会话校验失败：",d)},success:function(d){console.log("建立mapping",d)}})}window.checkLiving=function(b){url=Com_Parameter.ContextPath+"third/weixin/work/third_weixin_work_living/thirdWeixinWorkLiving.do?method=checkLiving";var c;$.ajax({type:"post",url:url,data:b,async:false,success:function(d){console.log("检查结果：",d);d=JSON.parse(d);if(d.success){c=d.exist;window.__livingid__=d.livingId}else{console.log(d.result)}}});return c};window.getLivingId=function(){return window.__livingid__};(function(){seajs.use(["lui/jquery","lui/dialog","lang!","sys/mobile/js/lib/weixin/jweixin-1.0.0"],function(d,b,f,c){var e=["startLiving","config","agentConfig"];url=Com_Parameter.ContextPath+"third/wxwork/jsapi/wxJsapi.do?method=jsapiSignature&type=agent_config",option={data:{url:location.href},handleAs:"json"};console.log("url:",url);console.log("option:",option);d.ajax({url:url,type:"POST",dataType:"json",data:{url:location.href},async:true,error:function(g){console.log("会话校验失败：",g)},success:function(h){console.log("返回结果:",h);var g=h;if(g&&g.appId){c.agentConfig({beta:true,debug:false,corpid:g.corpid,agentid:g.agentid,timestamp:g.timestamp,nonceStr:g.noncestr,signature:g.signature,jsApiList:e,success:function(j){___ready___=true;console.log("agentConfig鉴权成功",j)},fail:function(j){___ready___=false;console.log("agentConfig失败",j);console.log("agentConfig失败"+JSON.stringify(j))}})}else{console.log("signInfo appId empty(wxwork)")}}})})})()},"sys/mobile/js/mui/folder/_Folder":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-style","dojo/dom-class","dojo/touch"],function(b,d,a,c,e){return b("mui.folder._Folder",null,{buildRendering:function(){this.inherited(arguments);c.add(this.domNode,"muiFolder")},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,e.press,"_onExpand")},_onExpand:function(f){this.defer(function(){if(this.defaultClickAction){this.defaultClickAction(f)}this.show(f)},410)},show:function(f){}})})},"sys/mobile/js/mui/device/kk5/xhr":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/io-query","dojo/errors/RequestError","dojo/request/handlers","dojo/request/util","dojo/request/watch","dojo/request/xhr","lib/kk5/kk5","mui/util","mui/device/kk5/kkHttpRequest"],function(o,t,f,p,h,a,g,l,b,j,q){var s=q;function m(u,v){var x=u.xhr;u.status=u.xhr.status;try{u.text=x.responseText}catch(w){}if(u.options.handleAs==="xml"){u.data=x.responseXML}if(!v){try{h(u)}catch(w){v=w}}if(v){this.reject(v)}else{if(a.checkStatus(x.status)){this.resolve(u)}else{v=new p("Unable to load "+u.url+" status: "+x.status,u);this.reject(v)}}}isValid=function(u){return u.xhr.readyState};isReady=function(u){return 4===u.xhr.readyState};cancel=function(u,v){};addListeners=function(y,u,v){function w(z){u.handleResponse(v)}function x(z){var B=z.target;var A=new p("Unable to load "+v.url+" status: "+B.status,v);u.handleResponse(v,A)}y.addEventListener("load",w,false);y.addEventListener("error",x,false);return function(){y.removeEventListener("load",w,false);y.removeEventListener("error",x,false);y=null}};var c={blob:"arraybuffer",document:"document",arraybuffer:"arraybuffer"};function k(u){return this.xhr.getResponseHeader(u)}var d,n={data:null,query:null,sync:false,method:"GET"};function e(v,K,J){var I=v.indexOf("?")>-1?v.substring(0,v.indexOf("?")):v;if(dojoConfig.fileMapping&&dojoConfig.fileMapping[I]){var z=dojoConfig.fileMapping[I]+(v.indexOf("?")>-1?v.substring(v.indexOf("?"),v.length):"");return l(z,K,J)}var A=a.parseArgs(v,a.deepCreate(n,K),false);v=A.url;K=A.options;var H,F=function(){H&&H()};var G=a.deferred(A,cancel,isValid,isReady,m,F);var w=A.xhr=e._create();if(!w){G.cancel(new p("XHR was not created"));return J?G:G.promise}A.getHeader=k;if(addListeners){H=addListeners(w,G,A)}var B=K.data,y=!K.sync,u=K.method;try{w.open(u,v,y);w.handleAs=K.handleAs;if(K.handleAs in c){w.responseType=c[K.handleAs]}var x=K.headers,E="application/x-www-form-urlencoded";if(x){for(var D in x){if(D.toLowerCase()==="content-type"){E=x[D]}else{if(x[D]){w.setRequestHeader(D,x[D])}}}}if(E&&E!==false){w.setRequestHeader("Content-Type",E)}if(!x||!("X-Requested-With" in x)){w.setRequestHeader("X-Requested-With","KKProxyHttpRequest")}w.setRequestHeader("Landray-Resonponse-Type","offline");if(a.notify){a.notify.emit("send",A,G.promise.cancel)}w.send(B)}catch(C){G.reject(C)}g(G);w=null;return J?G:G.promise}e._create=function(){return new s()};a.addCommonMethods(e);return e})},"sys/mobile/js/mui/base64":function(){define(["dojo/_base/declare"],function(b){var a=b("mui.base64",null,{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var c="";var m,k,h,l,j,g,f;var d=0;e=this._utf8_encode(e);while(d<e.length){m=e.charCodeAt(d++);k=e.charCodeAt(d++);h=e.charCodeAt(d++);l=m>>2;j=((m&3)<<4)|(k>>4);g=((k&15)<<2)|(h>>6);f=h&63;if(isNaN(k)){g=f=64}else{if(isNaN(h)){f=64}}c=c+this._keyStr.charAt(l)+this._keyStr.charAt(j)+this._keyStr.charAt(g)+this._keyStr.charAt(f)}return c},decode:function(e){var c="";var m,k,h;var l,j,g,f;var d=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d<e.length){l=this._keyStr.indexOf(e.charAt(d++));j=this._keyStr.indexOf(e.charAt(d++));g=this._keyStr.indexOf(e.charAt(d++));f=this._keyStr.indexOf(e.charAt(d++));m=(l<<2)|(j>>4);k=((j&15)<<4)|(g>>2);h=((g&3)<<6)|f;c=c+String.fromCharCode(m);if(g!=64){c=c+String.fromCharCode(k)}if(f!=64){c=c+String.fromCharCode(h)}}c=this._utf8_decode(c);return c},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var d="";for(var g=0;g<e.length;g++){var f=e.charCodeAt(g);if(f<128){d+=String.fromCharCode(f)}else{if((f>127)&&(f<2048)){d+=String.fromCharCode((f>>6)|192);d+=String.fromCharCode((f&63)|128)}else{d+=String.fromCharCode((f>>12)|224);d+=String.fromCharCode(((f>>6)&63)|128);d+=String.fromCharCode((f&63)|128)}}}return d},_utf8_decode:function(d){var e="";var f=0;var g=c1=c2=0;while(f<d.length){g=d.charCodeAt(f);if(g<128){e+=String.fromCharCode(g);f++}else{if((g>191)&&(g<224)){c2=d.charCodeAt(f+1);e+=String.fromCharCode(((g&31)<<6)|(c2&63));f+=2}else{c2=d.charCodeAt(f+1);c3=d.charCodeAt(f+2);e+=String.fromCharCode(((g&15)<<12)|((c2&63)<<6)|(c3&63));f+=3}}}return e}});return new a()})},"sys/mobile/js/mui/store/JsonRest":function(){define(["./xhr","dojo/_base/lang","dojo/_base/declare","dojo/store/util/QueryResults","dojo/store/JsonRest","mui/dialog/Tip","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(g,f,d,a,c,b,e){return d("mui.store.JsonRest",c,{defaultType:"POST",query:function(t,x){x=x||{};if(x.type){this.defaultType=x.type}var l=f.mixin({Accept:this.accepts},this.headers,x.headers);var p={};var s=this.target.indexOf("?")>-1,j={};if(t&&typeof t=="object"){if(this.defaultType.toLowerCase()=="post"){p.postData=t;t=""}else{t=g.objectToQuery(t);t=t?(s?"&":"?")+t:""}}if(x.start>=0||x.count>=0){l["X-Range"]="items="+(x.start||"0")+"-"+(("count" in x&&x.count!=Infinity)?(x.count+(x.start||0)-1):"");if(this.rangeParam){t+=(t||s?"&":"?")+this.rangeParam+"="+l["X-Range"];s=true}else{l.Range=l["X-Range"]}}if(x&&x.sort){var k=this.sortParam;t+=(t||s?"&":"?")+(k?k+"=":"sort(");for(var q=0;q<x.sort.length;q++){var o=x.sort[q];t+=(q>0?",":"")+(o.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(o.attribute)}if(!k){t+=")"}}var w=this.target;if(this.target.length>2048&&this.target.indexOf(".jsp?")>-1){var h=this.target.split("?");var u=h[1].split("&");var m=[];for(var q=0;q<u.length;q++){if(u[q].length>0){var v=u[q].split("=");if(v[1].length>500){p.postData[v[0]]=v[1]}else{m.push(u[q])}}}w=h[0]+"?"+m.join("&")}f.mixin(p,{url:w+(t||""),handleAs:"json",headers:l});var n=g(this.defaultType,p);n.total=n.then(function(){var y=n.ioArgs.xhr.getResponseHeader("Content-Range");if(!y){y=n.ioArgs.xhr.getResponseHeader("X-Content-Range")}return y&&(y=y.match(/\/(.*)/))&&+y[1]},function(){var y=n.ioArgs.xhr;if(y.status==401||y.responseURL.indexOf("login.jsp")>-1){window.location.reload()}else{if(y.status<400){b.fail({text:e["mui.jsonRest.failure"],cover:true})}}});return a(n)}})})},"sys/mobile/js/mui/form":function(){define(["mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/topic","dojo/_base/lang","dijit/registry","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(g,q,C,j,w){var b={isArray:C.isArray,trim:C.trim};var A="extendDataFormInfo.value(";var k=")";window.$form=function(H,G){if((H instanceof l)||(H instanceof h)){return H}if(typeof H=="string"){var E=H.indexOf("*");if(E>-1){if(G&&H.substring(0,E)==G.substring(0,E)){var D=G.match(/[\[\.](\d+)[\]\.]/g);if(D){for(var F=0;F<D.length;F++){H=H.replace(/([\[\.])\*([\]\.])/,D[F])}return new l(H)}else{return new h(H)}}else{return new h(H)}}}return new l(H)};$form.str=function(G,E,H){if(b.isArray(G)){var F=[];for(var D=0;D<G.length;D++){F.push(p(G[D],E,H))}return F}return p(G,E,H)};$form.format=function(G,E,H){if(b.isArray(G)){var F=[];for(var D=0;D<G.length;D++){F.push(u(G[D],E,H))}return F}return u(G,E,H)};$form.bind=function B(D){o.push(D)};$form.unbind=function f(E){for(var D=0;D<o.length;D++){if(o[D]===E){o.splice(D,1);D--}}};function l(E){this.target=e(E);this._provider=v(this.target);this.field=this.target.field;this.val=function(F){return this._provider.val(this.target,F==null||typeof F=="string"?F:F+"")};this.display=function(F){return this._provider.display(this.target,D(F))};this.readOnly=function(F){return this._provider.readOnly(this.target,D(F))};this.required=function(F){return this._provider.required(this.target,D(F))};this.editLevel=function(F){if(F!=null){F=parseInt(F,10);if(isNaN(F)){return}}return this._provider.editLevel(this.target,F)};this.size=function(){return this.target.type?1:0};function D(F){if(F==null){return F}if(F===true||F==="true"){return true}return false}}function h(D){this.target={field:D,type:"detail"};this.field=D;this._fields=E(D);this.val=function(F){return this._exec("val",F)};this.display=function(F){return this._exec("display",F)};this.readOnly=function(F){return this._exec("readOnly",F)};this.required=function(F){return this._exec("required",F)};this.editLevel=function(F){return this._exec("editLevel",F)};this.size=function(){return this._fields.length};this._exec=function(J,I){if(I==null){var H=[];for(var G=0;G<this._fields.length;G++){H.push(this._fields[G][J]())}return H}var F=b.isArray(I);for(var G=0;G<this._fields.length;G++){if(F){if(I.length<=G){break}if(I[G]==null){continue}this._fields[G][J](I[G])}else{this._fields[G][J](I)}}return H};function E(L){var G=L.indexOf("*");var K=L.substring(0,G);var I=L.substring(G+1);var F=[];for(var H=0;true;H++){var J=new l(K+H+I);if(J.size()==0){break}F.push(J)}return F}}function y(E,F){if(!E){return}var G={"M+":E.getMonth()+1,"d+":E.getDate(),"H+":E.getHours(),"m+":E.getMinutes(),"s+":E.getSeconds()};if(/(y+)/.test(F)){F=F.replace(RegExp.$1,(E.getFullYear()+"").substring(RegExp.$1.length==2?2:0))}for(var D in G){if(new RegExp("("+D+")").test(F)){F=F.replace(RegExp.$1,(RegExp.$1.length==1)?(G[D]):(("00"+G[D]).substring((""+G[D]).length)))}}return F}function s(K,L){if(!K){return}K=b.trim(K);var D=/([yMdHms]+)/g;var G=/\D/;var M=[];var F,J;for(var H=0;H<6;H++){J=D.exec(L,H);if(J==null){break}if(F){M.push({key:J[0],split:L.substring(F.index+F[0].length,J.index)})}else{M.push({key:J[0],index:0})}F=J}if(M.length==0){return null}var E=new Date(0);F=M[0];for(var H=1;H<M.length;H++){var J=M[H];J.index=K.indexOf(J.split,F.index);if(J.index==-1){return null}if(!I(E,F.key,K.substring(F.index,J.index))){return null}J.index+=J.split.length;F=J}if(!I(E,F.key,K.substring(F.index))){return null}return E;function I(N,Q,P){if(G.test(P)){return false}P=parseInt(P,10);switch(Q.charAt(0)){case"y":if(Q.length==2){var O=new Date().getFullYear();P=O-O%100+P%100}N.setFullYear(P);break;case"M":if(P>12){return false}N.setMonth(P-1);break;case"d":if(P>31){return false}N.setDate(P);break;case"H":if(P>23){return false}N.setHours(P);break;case"m":if(P>59){return false}N.setMinutes(P);break;case"s":if(P>59){return false}N.setSeconds(P);break}return true}}function p(E,D,F){if(E==null){return""}if(typeof E=="string"){return E}if(typeof E=="number"){if(isNaN(E)){return""}var G=E.toString();if(/\.\d*999999/.test(G)||/\.\d*0000000/.test(G)){G=Math.round(E*1000000)/1000000+""}return G}D=D==null?"string":D.toLowerCase();if(D=="datetime"||D=="date"||D=="time"){return y(E,t(D,F))}return E+""}function u(E,D,F){if(E==null){return E}D=D==null?"string":D.toLowerCase();switch(D){case"string":case"rtf":if(typeof E=="string"){return E}else{return E+""}case"integer":case"long":if(E==""){return 0}E=parseInt(E,10);if(isNaN(E)){return null}else{return E}case"double":if(E==""){return 0}E=parseFloat(E,10);if(isNaN(E)){return null}else{return E}case"boolean":if(E==true||E=="true"||E=="on"){return true}if(E==false||E=="false"||E=="off"){return false}return null;case"date":case"time":case"datetime":if(typeof E=="string"){return s(E,t(D,F))}if(E instanceof Date){return E}return null}return null}function t(D,E){if(E){return w["date.format."+E]}return w["date.format."+D]}var c=[];var o=[];var d=-1;function n(E){if(E.target){E.field=E.target.field}var F=false;for(var D=0;D<c.length;D++){var G=c[D];if(G.type===E.type&&G.field===E.field){F=true;break}}if(!F){c.push(E)}if(d>-1){clearTimeout(d)}d=setTimeout(a,100)}function a(){var J=c;c=[];d=-1;for(var G=0;G<J.length;G++){var I=J[G];for(var E=0;E<o.length;E++){var D=o[E];if(D[I.type]==null){continue}if(H(I.field,D.field,true)){I.listener=D;try{D[I.type](I)}catch(F){if(window.console){console.error(F)}}}}}function H(K,N,M){if(N==null){return M}if(typeof N=="string"){if(K==N){return true}if(N.indexOf("*")>-1){K=K.replace(/([\.\[])\d+([\.\]])/g,"$1*$2");if(K==N){return true}}if(K.substring(0,A.length)==A){return K==A+N+k}}else{if(b.isArray(N)){for(var L=0;L<N.length;L++){if(H(K,N[L],false)){return true}}}}return false}}function v(D){return x}function z(D){for(var F in D){this[F]=D[F]}this.val=function(H,G){return E(this,"val",H,G)};this.display=function(H,G){if(H.cache.maxLevel==0){return false}return E(this,"display",H,G,"onDisplayChange")};this.readOnly=function(H,G){if(H.cache.maxLevel<2){if(G==null){return true}return false}return E(this,"readOnly",H,G,"onReadOnlyChange")};this.required=function(H,G){if(H.cache.maxLevel<2){return false}return E(this,"required",H,G)};this.editLevel=function(I,H){var J=0;if(!this.display(I)){J=0}else{if(this.readOnly(I)){J=1}else{if(!this.required(I)){J=2}else{J=3}}}if(H==null){return J}if(H==J){return false}var G=I.cache.maxLevel==2?3:I.cache.maxLevel;H=H>G?G:H;if(H==0){this.display(I,false);this.required(I,false)}else{if(H==1){this.display(I,true);this.readOnly(I,true);this.required(I,false)}else{if(H==2){this.display(I,true);this.readOnly(I,false);this.required(I,false)}else{if(H>=3){this.display(I,true);this.readOnly(I,false);this.required(I,true)}}}}};function E(J,N,M,L,I){var K=D[N];var H=K.apply(J,[M]);if(L==null){return H}if(H==L){return false}var G=K.apply(J,[M,L]);if(I&&G!==false){n({type:I,target:M,by:"set"})}return G}}function e(F){if(typeof F=="string"){var E=m(F);if(E.type){return E}else{var D=m(A+F+k);if(D.type){return D}else{return E}}}else{return m(F)}}function m(J){var H,F,E;H=document.getElementsByName(J);if(H.length==0){H=null}if(!H){E=document.getElementById("_xform_"+J);if(E){H=E.querySelectorAll("*[data-dojo-type]")}if(I(E,J)){F=E._xForm_cache}else{E=null}return G()}F=H[0]._xForm_cache;if(F){if(F.root){if(F.detailTable){E=D(H)}else{E=document.getElementById(F.root)}}return G()}E=D(H);F=E&&E._xForm_cache;return G();function D(K){for(K=K[0];K&&K.getAttribute;K=K.parentNode){if(K.getAttribute("_xform_type")){return K;break}}}function I(K,N){if(!K){return false}if(K._xForm_cache&&!K._xForm_cache.detailTable||!window.DocList_TableInfo){return true}var L=(/[\[\.](\d+)[\]\.]/).exec(N);if(L==null){return true}var O;for(var M=K;M!=null&&M.nodeType==1;M=M.parentNode){switch(M.tagName){case"TR":O=M.rowIndex;break;case"TABLE":if(M.id&&DocList_TableInfo[M.id]&&O!=null){return O-DocList_TableInfo[M.id].firstIndex==L[1]}}}return true}function G(){var K;if(F){K=F.widget?j.byId(F.widget):null;return{field:J,type:F.type,widget:K,root:E,cache:F}}F={};if(H){K=j.getEnclosingWidget(H[0]);if(K){if(K.showStatus){F.widget=K.id}else{K=null}}H[0]._xForm_cache=F}if(E){F.type=E.getAttribute("_xform_type");F.root=E.id;E._xForm_cache=F}else{if(K){F.type=K.declaredClass}}F.detailTable=(/[\[\.]\d+[\]\.]/).test(J);if(K){switch(K.showStatus){case"edit":F.maxLevel=2;break;case"view":case"readOnly":F.maxLevel=1;break;default:F.maxLevel=0}}else{if(E){F.maxLevel=1}else{F.maxLevel=0}}return{field:J,type:F.type,widget:K,root:E,cache:F}}}var x=new z({val:function(F,E){var D=F.widget;if(E==null){if(D){if(F.field==D.nameField){return F.widget.get("curNames")}else{return F.widget.get("value")}}return}if(D){if(F.field==D.nameField){F.widget.set("curNames",E)}else{F.widget.set("value",E)}return true}return false},display:function(F,E){var D=F.root||(F.widget&&F.widget.domNode);if(D){if(E==null){if(window.getComputedStyle){return window.getComputedStyle(D)["display"]!="none"}else{return D.currentStyle.display!="none"}}D.style.display=E?"":"none"}else{return false}},readOnly:function(F,E){var D=F.widget;if(E==null){if(D){return F.widget.get("readOnly")}return}if(D){F.widget.set("readOnly",E);return true}return false},required:function(F,E){var D=F.widget;if(E==null){if(D){return F.widget.get("required")}return}if(D){F.widget.set("required",E);return true}return false}});q.subscribe("/mui/form/valueChanged",function(D){if(D&&D.showStatus){n({type:"onValueChange",field:D.get("name"),by:"change"})}});return window.$form})},"sys/mobile/js/mui/device/kk5/adapter":function(){define(["mui/device/device","mui/util","mui/device/kk5/attachment","mui/device/kk5/_attachment","mui/dialog/Tip","mui/picslide/ImagePreview","dojo/request","lib/kk5/kk5","dojo/Deferred","mui/map","dojo/_base/lang"],function(b,g,d,e,m,l,f,h,j,a,c){var k={closeWindow:function(){h.app.exit();return{}},enterVideoMeeting:function(o,n,p){h.app.enterMeeting({roomId:o.roomId},function(){var q={code:0,text:"成功进入会议"};n&&n(q)},function(s,t){var t="";if(s==-1){t="会议不存在"}if(s==-2){t="会议未开始"}if(s==-3){t="会议已经结束"}if(s==-8){t="网络异常"}if(window.console){window.console.error(t)}if(window.console){console.log("错误代码是"+s+"，错误信息是"+t)}var q={code:s,text:"错误信息："+t};p&&p(q)})},imagePreview:function(o){var s=h.app.getClientInfo().semver;if(this.kkVersionCompare(s,"6.0.1")>=0||(this.kkVersionCompare(s,"5.2.6.6")>=0&&this.kkVersionCompare(s,"6.0.0")<0)){var q=o.srcList,n=0;if(q&&q.length>0){for(var p=0;p<q.length;p++){if(o.curSrc.indexOf(q[p])!=-1){n=p;break}}}h.ready(function(){h.media.previewImage({paths:q,startIndex:n+1,operations:true},function(t,u){console.log("错误信息:"+u+",错误代码:"+t)})})}else{if(!this.preivew){this.preivew=new l()}this.preivew.play(o)}return{}},fileView:function(n){h.file.view(n.path,function(){console.log("在Andriod设备下直接使用外部应用打开文件，在IOS设备下则根据控制台配置的打开方式打开")},function(o){if(window.console){console.log("打开失败："+o)}var p="";if(o==-1){p="文件不存在"}if(o==-2){p="系统未安装wps，无法在线编辑！"}if(o==-3){p="文档保存失败"}if(o==-6){}if(window.console){window.console.error(p)}if(p!=""){m.fail({text:p})}})},setTitle:function(n){h.ready(function(){h.app.setTitle(n)});document.title=n},doDownLoad:function(n,p,s){var q;var o=new h.proxy.Download({url:g.formatUrl("/third/pda/attdownload.jsp?fdId="+n.fdId,true),path:p,isContinuous:false,appearInFileManager:true},function(t){if(t.progress==100){if(q){q.hide()}h.file.view({filepath:t.path,title:s},function(){},function(){})}else{if(!q){q=m.progressing({text:"文件下载中"+t.progress+"%"})}else{q.containerNode.innerHTML='<div><div class="muiDialogTipIcon"><div class="mui mui-loading mui-spin"></div></div><div class="muiDialogTipText"><span>文件下载中'+t.progress+"%</span></div></div>"}}},function(t,u){location.href=g.formatUrl(n.href)});o.start()},download:function(q){var p=q.name.toLowerCase(),s=b.getClientType();if(p.lastIndexOf(".")>-1&&s==9){var o=p.substring(p.lastIndexOf(".")+1);if(o=="zip"||o=="rar"){m.fail({text:"暂不支持此文件类型打开"});return}}var u="sdcard://kkDownloadWps/"+q.name;var v=q.name;var t=v.substring(v.lastIndexOf("."));var n=this;h.file.exists(u,function(w){if(w.exists){v=v.substring(0,v.lastIndexOf("."));u="sdcard://kkDownloadWps/"+v+"_"+(new Date()).getTime()+t;n.doDownLoad(q,u,v)}else{n.doDownLoad(q,u,v)}})},canUseJinGe:function(){var o=new j();var n={office:false,pdf:false};var p=h.app.getClientInfo().semver;if(this.kkVersionCompare(p,"6.0.4")>=0){h.ready(function(){h.file.canUseJinGe(function(q){n.office=q.office;n.pdf=q.pdf;o.resolve(n)},function(q,s){console.log("获取用户使用金格的权限出错，错误信息："+s+"，错误代码:"+q)})})}else{if(this.kkVersionCompare(p,"6.0.2")>=0){n.office=true;n.pdf=true;o.resolve(n)}else{o.resolve(n)}}return o},openOfdFile:function(p,o,v){var u=p.name;var t=u.substring(u.lastIndexOf("."));var n=this;var s=g.formatUrl("/third/pda/attdownload.jsp?fdId="+p.fdAttMainId,true);var q=new h.proxy.Download({url:s,path:"sdcard://kkDownloadWps/"+p.fdAttMainId+t,isContinuous:false},function(x){var z=m.processing({text:"文件打开中..."});if(x.progress!=100){z.show();var y={code:0,text:"文件打开中..."};o&&o(y)}else{z.hide();var w={filepath:x.path,via:"auto"};h.file.view(w,function(A){h.app.on("resume",function(B){n.removefile(x.path)})},function(B){var C="";if(B==-1){C="文件不存在"}if(B==-2){C="系统未安装ofd软件，无法在线打开！"}if(B==-6){C="ofd发生错误"}if(C!=""){if(v){var A={code:B,text:"获取文件系统路径出错："+C};v&&v(A)}else{m.fail({text:C})}}})}},function(x,y){if(window.console){console.log("错误信息："+y+",错误代码："+x)}var w={code:x,text:"错误信息："+y};v&&v(w)});q.start()},openfileByType:function(s,t,q,o,u){var n=this;var p={filepath:t,via:s};if(s=="wps"){p.mode="edit"}h.file.view(p,function(v){if(window.console){console.log("打开成功："+v.operation)}if(v.operation=="close"||v.operation=="save"){h.file.getOSPath(t,function(x){if(window.console){console.log("系统路径为："+x.OSPath)}var w={fdAttMainId:q.fdAttMainId,href:x.OSPath,path:t,name:q.name,edit:true,key:q.key,status:-1};n.doUploadFile(w,v.operation,o,u)},function(x,y){if(window.console){console.log("获取文件系统路径出错："+y+",错误代码："+x)}var w={code:x,text:"获取文件系统路径出错："+y};u&&u(w)})}},function(w){if(window.console){console.log("打开失败："+w)}var x="";if(w==-1){x="文件不存在"}if(w==-2){x="系统未安装"+s+"软件，无法在线编辑！"}if(w==-3){x="文档保存失败"}if(w==-6){x="wps发生错误"}if(window.console){window.console.error(x)}if(x!=""){if(u){var v={code:w,text:"获取文件系统路径出错："+x};u&&u(v)}else{m.fail({text:x})}}})},openfilePdf:function(p,o,n,q){this.openfileByType("pdf",p,o,n,q)},openfileWps:function(p,o,n,q){this.openfileByType("wps",p,o,n,q)},editfile:function(p,o,v){var u=p.name;var t=u.substring(u.lastIndexOf("."));var n=this;var s=g.formatUrl("/third/pda/attdownload.jsp?fdId="+p.fdAttMainId,true);var q=new h.proxy.Download({url:s,path:"sdcard://kkDownloadWps/"+p.fdAttMainId+t,isContinuous:false},function(w){var y=m.processing({text:"文件打开中..."});if(w.progress!=100){y.show();if(window.console){console.log("下载进度："+w.progress)}var x={code:0,text:"文件打开中..."};o&&o(x)}else{y.hide();if(window.console){console.log("文件地址："+w.path)}if(p.fileType&&p.fileType=="pdf"){n.openfilePdf(w.path,p,o,v)}else{n.openfileWps(w.path,p,o,v)}}},function(x,y){if(window.console){console.log("错误信息："+y+",错误代码："+x)}var w={code:x,text:"错误信息："+y};v&&v(w)});q.start()},doUploadFile:function(t,s,n,u){var q=g.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttUpload&gettype=getuserkey&format=json",true);console.log("fdAttMainId:"+t.fdAttMainId);var p="filesize="+t.size+"&fdAttMainId="+t.fdAttMainId+"&md5=";var o=this;f.post(q,{data:p,handleAs:"json",sync:true}).then(function(v){if(v.status=="1"){t.status=1;var w=(v.token&&v.token.header)?v.token.header.userkey:"";o.uploadWpsFile(w,t,s,n,u)}},function(w){if(window.console){console.log(w)}var v={text:"上传附件失败"};u&&u(v)})},removefile:function(n){h.file.remove(n,function(){if(window.console){console.log("删除成功！！！")}},function(o,p){if(window.console){console.log("错误信息："+p+",错误代码:"+o)}})},uploadWpsFile:function(s,q,p,o,t){var n=this;h.proxy.uploadView({token:s,userkey:s,url:g.formatUrl("/sys/attachment/uploaderServlet?gettype=upload&fdAttMainId="+q.fdAttMainId+"&format=json",true),fullPath:q.href},function(u){if(window.console){console.log("上传成功："+u)}if(p=="close"){n.removefile(q.path)}var v={code:1,text:""};o&&o(v)},function(v){n.removefile(q.path);var w="";if(v==-1){w="附件上传网络不可用"}if(v==-2){w="附件上传调用参数错误"}if(v==-3){w="附件上传被取消"}if(v==-9){w="附件上传服务器端出错"}if(window.console){window.console.error(w)}if(w!=""){if(t){var u={code:v,text:w};t&&t(u)}else{m.fail({text:w})}}})},showTitleBar:function(n){if(n){h.app.hideTitleBar()}else{h.app.showTitleBar()}return{}},goBack:function(){h.history.canGo(function(n){if(n.canGoBack){h.history.back()}else{h.app.exit()}});return{}},goForward:function(){h.history.forward();return{}},getUserID:function(){var n=h.app.getUserInfo();if(n!=null){return n.loginName}return null},_select:function(s,q){var p=q.options;if(!window.AttachmentList){window.AttachmentList={}}if(!window.feature){window.feature=s}var o=window.AttachmentList[p.fdKey];if(!o||window.feature!=s){window.feature=s;p.uploadStream=true;o=new d(p);window.AttachmentList[p.fdKey]=o}var t=1;if(p.fdMulti&&s=="album"){t=9}var n={sourceType:s,count:t,quality:p.quality,destinationType:"file",encodingType:p.encodingType||"png",showVideo:true,needCover:true};if(p.targetWidth){n.targetWidth=p.targetWidth}if(p.targetHeight){n.targetHeight=p.targetHeight}h.media.getPicture(n,function(v,w){for(var x=0;x<v.length;x++){var u=v[x];if(u.mediaType=="video"){var z=u.videoPath;h.file.readAsBase64(z,function(A){o.startUploadFile({href:"data:image/png;base64,"+A.content,size:"",name:"video"+new Date().getTime()+".mp4",filePath:z})},function(B,A){if(B){o.uploadError(null,{rtn:{status:B,msg:"附件转换为base64过程发生错误,信息为："+A}})}})}else{if(u.mediaType=="image"){var y=u.imageURI;h.file.readAsBase64(y,function(A){o.startUploadFile({href:"data:image/png;base64,"+A.content,size:"",name:"image"+new Date().getTime()+".png",filePath:y})},function(B,A){if(B){o.uploadError(null,{rtn:{status:B,msg:"附件转换为base64过程发生错误,信息为："+A}})}})}}}},function(u,v){if(u&&u!=-1&&v!=null&&v!=""){o.uploadError(null,{rtn:{status:"-1",msg:"附件上传错误,信息为："+v}})}});return{}},openCamera:function(o){var p=h.app.getClientInfo().semver;console.log(o.options);o.options.encodingType="jpeg";o.options.quality=80;o.options.targetWidth=1000;o.options.targetHeight=2000;var n="camera";if(o.options.capture&&this.kkVersionCompare(p,"6.0.4")>=0){n=o.options.capture}return this._select(n,o)},selectFile:function(o){console.log(o.options);o.options.targetWidth=window.screen.width*2;o.options.targetHeight=window.screen.height*2;var n=o.feature||"album";if(n=="file_manager"){return this._selectFile(n,o)}else{return this._select(n,o)}},_selectFile:function(q,p){var o=p.options;if(!window.AttachmentList){window.AttachmentList={}}if(!window.feature){window.feature=q}var n=window.AttachmentList[o.fdKey];if(!n||window.feature!=q){window.feature=q;o.uploadStream=true;n=new e(o);window.AttachmentList[o.fdKey]=n}h.file.chooseFile(function(s){s.name=s.fileName;h.file.getFileInfo(s.filePath,function(t){s.size=t.size;n.startUploadFile(s)},function(t,u){})},function(s,t){console.log("从文件管理器选择一个文件，错误信息："+t+"，错误代码:"+s)})},openSpeech:function(p){var o=p.options;if(!window.AttachmentList){window.AttachmentList={}}var n=window.AttachmentList[o.fdKey];if(!n){n=new d(o);window.AttachmentList[o.fdKey]=n}h.media.captureAudio(function(q){n.startUploadFile(q)},function(q){if(q==-3){if(window.console){window.console.log("录音取消..")}}if(q==-9){if(window.console){window.console.error("录音出错..")}}});return{}},playSpeech:function(n){h.media.playAudio(n,function(o){if(o==-3){if(window.console){window.console.log("录音播放取消..")}}if(o==-9){if(window.console){window.console.error("录音播放出错..")}}});return{}},captureScreen:function(n){h.app.captureScreen({targetWidth:window.screen.width,targetHeight:window.screen.height},function(o){n(o.imageData)},function(o){if(window.console){window.console.error("截屏出错:"+o)}});return{}},isEBEN:function(){var o=h.app.getClientInfo().semver;if(this.kkVersionCompare(o,"6.0.3")>=0){var n=h.app.getDeviceInfo();if(n&&n.osModel&&n.osModel.indexOf("EBEN")>-1){return true}else{return false}}return false},getSignImage:function(q){var u=h.app.getClientInfo().semver;var s=b.getClientType();if(s==9&&this.kkVersionCompare(u,"6.0.2")<0){return false}var o=q.options;if(!window.AttachmentList){window.AttachmentList={}}var n=window.AttachmentList[o.fdKey];if(!n){o.uploadStream=false;n=new d(o);window.AttachmentList[o.fdKey]=n}var t={width:window.screen.width,height:window.screen.height,penSize:3,penColor:1};if(this.kkVersionCompare(u,"6.0.2")>=0){t={penSize:3,penColor:"black"}}h.media.getSignImage(t,function(v){var p=v.resultPath;if(!p){p=v.picUri}n.startUploadFile({fullPath:p,href:p,size:"",name:"image.png"})},function(p,v){if(window.console){window.console.log("错误信息:"+v+",错误代码:"+p)}});return{}},ready:function(n){h.ready(n)},setOrientation:function(n){h.device.setOrientation(n)},getOrientation:function(o,n){h.device.getOrientation(o,n)},callPhone:function(n){if(typeof n!=="number"){n=parseFloat(n)}h.phone.call({number:n,needCallSessionInfo:false})},sendMsg:function(n){h.phone.sms(n)},view:function(n,q,p){try{var s=h.app.getClientInfo().semver;if("_blank"==q&&this.kkVersionCompare(s,"5.2.6")>=0){h.file.view(n,function(){},function(){window.open(n,"_self")});return}}catch(o){}window.open(n,q);return},open:function(n,s,q){var p=n.indexOf("?")>-1?n.substring(0,n.indexOf("?")):n;if(dojoConfig.fileMapping&&dojoConfig.fileMapping[p]){n=dojoConfig.fileMapping[p]+(n.indexOf("?")>-1?n.substring(n.indexOf("?"),n.length):"");window.open(n,"_self")}try{var t=h.app.getClientInfo().semver;if("_blank"==s&&this.kkVersionCompare(t,"5.2.6")>=0){h.app.callApp(n,function(){if(n.indexOf("third/pad/")>-1||n.indexOf("sys/notify/")>-1){console.log("resume注册");h.app.on("resume",function(u){window.location.reload();console.log(JSON.stringify(u))})}},function(u,v){console.log("kk.app.callApp 错误代码："+u+" , 错误信息："+v);window.open(n,"_self")});return}}catch(o){if(s==="_top"){window.open(n,"_top");return}window.open(n,"_self");return}window.open(n,s);return},kkVersionCompare:function(u,t){var q=u.split("."),n=t.split(".");for(var p=0;p<Math.max(q.length,n.length);p++){var s=parseInt(q[p]||0,10),o=parseInt(n[p]||0,10);if(s>o){return 1}if(o>s){return -1}}return 0},scanQRCode:function(n){h.ready(function(){h.scaner.scanTDCode(function(o){n&&n({text:o.code})})});return true},getCurrentCoord:function(p,o,n){h.ready(function(){h.location.getLocation(function(q){console.log("获取地理坐标:"+q.latitude+","+q.longitude);p&&p({lat:q.latitude,lng:q.longitude,coordType:3})},function(q){o&&o(q);m.fail({text:"KK地理定位失败"});if(window.console){console.error("获取地理坐标失败:"+q)}})})},getCurrentPosition:function(p,o,n){n=n||{};this.getCurrentCoord(function(q){a.getMapLocation(c.mixin(q,n),p,o)},o,n)},openChat:function(o,q,n){var p=this._fetchUserId(o);p.then(function(s){h.ready(function(){h.econtact.startChat(s,function(){q&&q()},function(t,u){console("发起会话失败：code："+t+",错误信息："+u);n&&n(t)})})})},openUserCard:function(o){var p=this._fetchUserId(o),n=this;p.then(function(q){h.ready(function(){h.econtact.showECard(q,function(){},function(s,t){console.log(t);n["$super$openUserCard"]&&n["$super$openUserCard"].call(n,o)})})})},_fetchUserId:function(o){var p=new j();o.userID=o.userId;if(!o.userID&&!o.loginName&&o.ekpId){var n=g.formatUrl("/third/im/kk/user.do?method=getUserId&fdId="+o.ekpId);f(n,{handleAs:"json"}).then(function(q){o.loginName=q.userId;p.resolve(o)})}else{p.resolve(o)}return p},supportfingerPrint:function(){if(this.kkVersionCompare(v1,"6.0.1")>=0){return 0}else{return 2}},validatefingerPrint:function(p,n){var o=h.app.getClientInfo().semver;if(this.kkVersionCompare(o,"6.0.1")>=0){h.ready(function(){h.security.verifyFingerprint(function(){p&&p()},function(q,s){if(q==1){p&&p()}else{if(q==4){n&&n()}else{if(q==2||q==3||q==5||q==9){var t={text:s};m.fail(t);n&&n(t)}}}console.log("指纹错误码:"+q+"信息:"+s)})})}else{p&&p()}},supportFacePrint:function(){var n=h.app.getClientInfo().semver;if(this.kkVersionCompare(n,"6.0.4")>=0){return 0}else{return 2}},checkFace:function(p,n){var o=h.app.getClientInfo().semver;if(this.kkVersionCompare(o,"6.0.4")>=0){h.ready(function(){h.security.checkFace(function(){p&&p()},function(q,s){if(q==1||q==2||q==3||q==4||q==5||q==7||q==6){m.fail({text:s});n&&n({text:s,code:q})}console.log("发起人脸检查失败，错误代码："+q+"; 错误详情："+s)})})}else{p&&p()}},supportCamera:function(){return 0},validateCamera:function(u,s,o){var q=o||{};console.log(q);q.encodingType="jpeg";q.quality=80;q.targetWidth=1000;q.targetHeight=2000;var p="camera";var t=h.app.getClientInfo().semver;if(this.kkVersionCompare(t,"6.0.4")>=0){p="sysCamera"}var n={sourceType:p,count:1,quality:80,destinationType:"file",encodingType:"png",showVideo:"1"};h.media.getPicture(n,function(w){;for(var y=0;y<w.length;y++){var v=w[y],z=v.imageURI;var x=v.imageFileOSPath;h.file.readAsBase64(z,function(B){var A={href:"data:image/png;base64,"+B.content,size:"",name:"image"+new Date().getTime()+".png",imageFileOSPath:x,filePath:z};u&&u(A)},function(B,A){if(B){s({rtn:{status:B,msg:"附件转换为base64过程发生错误,信息为："+A}})}})}},function(v,w){console.log("错误信息:"+w+", 错误代码:"+v);s&&s(v)})},openViewMap:function(n,p,o){h.ready(function(){if(n&&n.lng&&n.lat){if(n.coordType=="bd09"){n.__coordType=2}else{n.__coordType=1}h.location.navigate({fromAddress:n.fromAddress||"我的位置",targetLongitude:n.lng,targetLatitude:n.lat,targetAddress:n.value,coordinateType:n.__coordType},function(){p&&p()},function(q,s){window.console&&console.log("导航失败， code: "+q+" ,msg: "+s)})}else{window.console&&console.log("导航失败，缺少参数");o&&o()}})},getNetworkType:function(o){var n=this;h.ready(function(){var p=h.app.getClientInfo().semver;if(n.kkVersionCompare(p,"6.0.2")>=0){h.device.getNetType(function(q){o&&o({networkType:q.netType})},function(){o&&o();window.console&&console.log("未知网络环境")})}else{o&&o()}})},getWifiInfo:function(o){var n=this;h.ready(function(){var p=h.app.getClientInfo().semver;if(n.kkVersionCompare(p,"6.0.2")>=0){h.device.getWifiInfo(function(q){o&&o({ssid:q.ssid,macIp:q.ap_mac})},function(q,s){m.fail({text:"获取wifi失败:"+s});window.console&&console.log("获取wifi失败，错误信息:"+s+", 错误代码:"+q);o&&o()})}else{m.fail({text:"获取wifi失败，kk需升级到6.0.2以上"});o&&o()}})},getDeviceInfo:function(n){h.ready(function(){var o=h.app.getDeviceInfo();n&&n({deviceId:o&&o.deviceID})})},getFontSize:function(n){h.ready(function(){var o=h.app.getClientInfo();n&&n({fontSize:o&&o.fontSize?o.fontSize:0})})},checkGroup:function(n,o){if(this.getKKClient()){h.ready(function(){h.config("detailLog",true);h.econtact.isBizGroupExists({bizType:n.bizType,bizID:n.bizId},function(q){console.log("是否存在boolean:"+q.exists+",群ID，exist=true时有效:"+q.groupID);var p=null;if(q.exists){p=q.groupID}o&&o({groupID:p})},function(p,q){if(p=="-3"||p=="-4"){q="网络不可用！"}m.fail({text:q});console.log("错误信息:"+q+",错误代码:"+p)})})}},createGroup:function(n){console.log(n);if(this.getKKClient()){h.ready(function(){h.econtact.createBizGroup({bizType:n.bizType,bizTypeName:n.bizTypeName,bizTypeNameEn:n.bizTypeName,bizID:n.bizId,bizURL:n.bizUrl,groupName:n.groupName,title:n.groupName,user:n.descUser,time:n.descTime,creater:n.creater,users:n.users},function(o){console.log("创建协作群成功，群id为"+o.groupID)},function(o,p){m.fail({text:p});console("创建协作群失败：code："+o+"错误信息："+p)})})}},showGroupMessage:function(n){if(this.getKKClient()){h.ready(function(){h.econtact.genBizGroupChatMsgUrl({groupID:n.groupId},function(o){deviceType=b.getClientType();if(deviceType==9){window.open(o.url,"_blank")}else{window.open(o.url,"_self")}console.log("获取群协作聊天记录链接成功")},function(o,p){m.fail({text:p});console("获取群协作聊天记录链接失败：code："+o+"错误信息："+p)})})}},getKKClient:function(){var n=h.app.getClientInfo().semver;if(this.kkVersionCompare(n,"6.0.1")>=0){return true}return false},addCalendar:function(n){h.calendar.addEvent(n,function(){console.log("日程创建成功")},function(o,p){console.log("创建日程失败，失败回调 code: "+o+" ,msg: "+p)})},shareTo:function(q,s,p){var o=q.dest;var n={recieverType:q.recieverType,type:q.type,recieverList:q.recieverList,content:q.content,showChooseView:q.showChooseView,imageUri:q.imageUri,url:q.url,title:q.title,bizType:q.bizType,summary:q.summary,attachmentType:q.attachmentType,attachmentName:q.attachmentName,attachmentUrl:q.attachmentUrl,attachmentSize:q.attachmentSize};h.ready(function(){h.share.to(o,n,function(t){s&&s()},function(t,u){if(window.console){console.log("KK分享失败,错误代码："+t+"; 错误详情："+u)}p&&p(u);m.fail({text:"KK分享失败"})})})},downloadByUrl:function(p,q,o){var n={url:p.url,path:p.path,isContinuous:p.isContinuous||false,appearInFileManager:p.appearInFileManager||false};console.log("downloadByUrl:"+JSON.stringify(n));h.ready(function(){var s=new h.proxy.Download(n,function(t){var u=m.processing({text:"文件下载中..."});if(t.progress!=100){u.show();console.log("下载进度："+t.progress)}else{u.hide();console.log("文件地址："+t.path);q&&q(t)}},function(u,v){if(window.console){console.log("错误信息："+v+",错误代码："+u)}var t={code:u,text:"错误信息："+v};o&&o()});s.start()})},uploadFileByApp:function(q,s,o){var p=q.options;if(!window.AttachmentList){window.AttachmentList={}}var n=window.AttachmentList[p.fdKey];if(!n){p.uploadStream=true;n=new e(p);window.AttachmentList[p.fdKey]=n}h.ready(function(){h.file.getOSPath(q.path,function(u){console.log("系统路径为："+u.OSPath);var v=u.OSPath.substring(u.OSPath.lastIndexOf("/")+1);var t={filePath:q.path,fileUri:u.OSPath,fileName:v,name:v};h.file.getFileInfo(t.filePath,function(w){console.log("getFileInfo1:"+JSON.stringify(w));t.size=w.size;n.startUploadFile(t);s&&s(t)},function(w,x){console.log("获取文件信息径出错："+x+",错误代码："+w);o&&o(w)})},function(t,u){console.log("获取文件系统路径出错："+u+",错误代码："+t);o&&o(t)})})},isSessionMemberByMsg:function(o,p,n){h.ready(function(){h.econtact.isSessionMemberByMsg(o,function(q){p&&p(q)},function(q,s){console.log("判断当前用户是否为该消息所在聊天会话的成员失败,错误代码是："+q+",错误信息是："+s);n&&n(q)})})},sendGroup:function(o,p,n){h.ready(function(){h.econtact.sendGroup(o,function(q){p&&p(q)},function(q,s){console.log("进入群聊会话失败：code："+q+",错误信息："+s);n&&n(q)})})},genSessionChatMsgUrl:function(o,p,n){if(this.getKKClient()){h.ready(function(){h.econtact.genSessionChatMsgUrl(o,function(q){console.log("获取聊天记录链接成功:"+q.url);p&&p(q)},function(q,s){m.fail({text:s});console.log("获取聊天记录链接失败：code："+q+",错误信息："+s);n&&n(q,s)})})}}};return k})},"sys/mobile/js/mui/device/kk/attachment":function(){define(["dojo/_base/declare","dojo/request","mui/device/_attachment","sys/mobile/js/lib/kk/kkapi"],function(a,b,d,c){return a("mui.device.kk.attachment",[d],{_uploadFile:function(g,h){var e=this;var f=this.uploadurl;if(this.uploadStream==true){var k={userkey:h,data:g.href,extParam:this.extParam};if(window.FormData){k=new FormData();k.append("userkey",h);k.append("NewFile",this.dataURItoBlob(g.href));if(this.extParam){k.append("extParam",this.extParam)}f=this.uploadurl}else{f=this.uploadStreamUrl}if(this.uploadType==2){f=this.rtfUploadUrl}var j=b.post(f,{data:k,handleAs:"json"});j.then(function(l){if(l.status=="1"){g.status=2;g.filekey=l.filekey;e.uploadSuccess(g,l)}else{g.status=0;e.uploadError(g,{rtn:l})}},function(l){g.status=0;e.uploadError(g,{rtn:l})},function(l){g.status=1;e.uploadProcess(l.loaded,g)})}else{if(this.uploadType==2){f=this.rtfUploadUrl}e.uploadFile(g,f,h,function(l){g.filekey=l.filekey;g.status=2;e.uploadSuccess(g,l)},function(l){g.status=1;e.uploadProcess(l,g)},function(l){g.status=0;e.uploadError(g,l)})}},uploadFile:function(h,j,k,g,f,l){var e=this;return kkApi.uploadFile({filepath:h.fullpath,userkey:k,uploadurl:j,complete:function(o,n){if(window.console){window.console.log("UploadFile complete cacheId="+o+",fileInfo="+n)}var m=kkApi.formatJson(n);if(g){g(m)}kkApi.clearCache(o)},progress:function(n,m){if(f){f(m)}},cancel:function(m){kkApi.clearCache(m)},error:function(n,m){if(l){l({rtn:{status:"-1",msg:"附件上传错误:"+m}})}if(window.console){window.console.error("UploadFile Error:"+m)}kkApi.clearCache(n)}})}})})},"sys/mobile/js/mui/device/kk5/mapping":function(){dojoConfig.fileMapping={}},"sys/mobile/js/mui/history/listener":function(){define(["dojo/_base/declare","dojo/_base/lang","mui/hash"],function(d,g,f){var e=function(){};var c=function(m){var l=m?m.split("&"):[],k={};for(var j=0;j<l.length;j++){var h=l[j].split("=");k[h[0]]=decodeURIComponent(h[1])}return k};var a=function(k){var j=[];for(var h in k){j.push(h+"="+encodeURIComponent(k[h]))}return j.join("&")};var b=d("mui.history.listener",null,{key:"listener",currentIndex:0,historyArr:[],historyData:{},tempCallback:null,constructor:function(){var j=this;var k=this.gethash({href:location.href});var h=this.getparam(k,this.key)||"listener";this.historyArr.push(h);this.currentIndex=0;window.onhashchange=g.hitch(this,function(v){var w=this.gethash({href:v.oldURL}),o=this.gethash({href:v.newURL}),t=this.getparam(o,this.key);var l=this.currentIndex;var s=this.historyArr.indexOf(t);if(this.tempCallback){this.tempCallback();this.tempCallback=null}else{var n=s>l;if(n){for(var q=l+1;q<=s;q++){var m=this.historyArr[q];this.historyData[m].forwardCallback&&this.historyData[m].forwardCallback()}}else{for(var q=l;q>s;q--){var m=this.historyArr[q];this.historyData[m].backCallback&&this.historyData[m].backCallback()}}}this.currentIndex=s;var u=c(w);var p=c(o);if(u.listener){delete u.listener}window.history.replaceState(null,null,"#"+a(g.mixin(p,u)))})},get:function(h){if(this.historyArr.indexOf(h)===-1){console.error("不存在或者已经被清除的historyId");return}return this.historyData[h]},go:function(k){if(k&&k.step){var h=this.currentIndex+k.step;if(h>=this.historyArr.length||h<0){console.warn("跳转step失败",k.step);return}if(k&&k.callback){this.tempCallback=k.callback}history.go(k.step);return}if(k&&k.historyId){var j=this.currentIndex;var h=this.historyArr.indexOf(k.historyId);if(h===-1||j===h){console.warn("跳转historyId失败",k.historyId);window.location.reload();return}if(k&&k.callback){this.tempCallback=k.callback}history.go(h-j)}},goNoop:function(h){h=g.mixin({callback:e},h);this.go(h)},push:function(j){var l=j.callback||j.backCallback||e;var h=j.forwardCallback||e;var k=this.getId();this.historyArr=this.historyArr.slice(0,this.currentIndex+1);this.historyArr.push(k);this.historyData[k]={backCallback:l,forwardCallback:h};f.add({listener:k});return{previousId:this.historyArr[this.currentIndex],currentId:this.historyArr[this.currentIndex+1]}},add:function(h){this.push(h)},gethash:function(h){var j=h.href||"",k=h.hash||(j.indexOf("#")>-1?j.substr(j.indexOf("#")):"");k=k?k.substr(1):"";return k},getparam:function(k,m){var l=k?k.split("&"):[];for(var j=0;j<l.length;j++){var h=l[j].split("=");if(h[0]==m){return decodeURIComponent(h[1])}}return"listener"},getId:function(){return"listener"+new Date().getTime()}});return new b()})},"sys/mobile/js/mui/iconUtils":function(){define(["dojox/mobile/iconUtils","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style"],function(c,a,h,d,f){var b=function(o,m,l,p,n,k,q){if(!n||!o&&!l){return null}if(o&&o!=="none"&&(o.indexOf("mui-")>-1||o.indexOf("muis-")>-1)){if(l&&l.tagName!=="I"){d.destroy(l);l=null}l=this.createIcon(o,null,l,p,n,k,q);return l}this._setIcon.apply(this,arguments)};var e=function(o,m,p,q,n,l,s){if(o&&o!=="none"&&(o.indexOf("mui-")>-1||o.indexOf("muis-")>-1)){if(!p){p=d.create("I",null,l||n,s)}if(o.indexOf("mui-")>-1){o+=" mui"}if(o.indexOf("muis-")>-1){o+=" fontmuis"}p.title=q;h.add(p,o);if(m&&n){var k=m.split(/[ ,]/);f.set(n,{position:"relative",width:k[2]+"px",height:k[3]+"px"});h.add(n,"mblSpriteIconParent")}return p}return this._createIcon.apply(this,arguments)};var j=function(m,l){l=l||"span";var k="<"+l+" class='mui-address-imgcontainer-sm mui-ding-address-imgcontainer-sm'><span class='mui-ding-address-name'>"+g(m)+"</span></"+l+">";return k};var g=function(k){let showName=k||"";let arr=[];let _isEnglish=showName.match(/^([a-zA-Z]|\s|,|\.)+$/)!==null?true:false;if(_isEnglish){showName=showName.replace(/,|\./g," ").replace(/\s+/g," ");arr=showName.split(" ");if(arr.length===1){return showName.slice(0,2)}return arr[0].slice(0,1)+arr[1].slice(0,1)}return showName.replace(/,|\.|\s+/g,"").slice(-2)};c._setIcon=c.setIcon;c.setIcon=b;c._createIcon=c.createIcon;c.createIcon=e;c.createDingIcon=j;return c})},"sys/mobile/js/mui/device/web/adapter":function(){define(["mui/picslide/ImagePreview","mui/device/web/attachment","mui/util","dojo/request","dojo/Deferred","mui/dialog/Tip","dojo/_base/array","mui/map","dojo/_base/lang","dojo/request/script"],function(k,d,f,e,h,l,g,a,b,c){var j={resetTempVal:{x:0,y:0,flag:false},closeWindow:function(){location=dojoConfig.baseUrl?dojoConfig.baseUrl:"/";return{}},setTitle:function(m){document.title=m},goBack:function(o){var n=this;if(history.length>1){var m=f.getUrlParameter(window.location.href,"mdingclose");if(m=="1"){this.closeWindow()}else{history.back()}}else{this.closeWindow()}return{}},goForward:function(){history.forward();return{}},getUserID:function(){window.building();return null},openSpeech:function(m){window.building();return null},openCamera:function(m){window.building();return null},selectFile:function(m){this.uploadFile(m);return{}},uploadFile:function(s){var p=s.options;if(!window.AttachmentList){window.AttachmentList={}}var n=window.AttachmentList[p.fdKey];if(!n){n=new d(p);window.AttachmentList[p.fdKey]=n}if(s.evt.target){var t=s.evt.target.files;for(var q=0;q<t.length;q++){var u=t[q].name;var m=t[q].type;if(p&&p.nameAtts){if(g.indexOf(p.nameAtts,u)>-1&&m.indexOf("image")==-1){l.fail({text:"不允许上传同名文件！"});continue}else{p.nameAtts.push(u)}}var o=this.readAsDataURL(t[q]);if(o){t[q].href=o}if("false"===n.startUploadFile(t[q])){p.nameAtts.pop()}}}else{n.startUploadFile({href:s.evt.dataURL,size:s.evt.dataURL.size,name:"image.png"})}return{}},playSpeech:function(m){window.building();return null},imagePreview:function(m){if(!this.preivew){this.preivew=new k()}this.preivew.play(m);return{}},fileView:function(m){},download:function(m){window.open(f.formatUrl(m.href),"_blank")},captureScreen:function(m){window.building();return null},readAsDataURL:function(m){if(window.URL){return window.URL.createObjectURL(m)}else{if(window.webkitURL){return window.webkitURL.createObjectURL(m)}}return null},ready:function(n,m){},setOrientation:function(m){},getOrientation:function(n,m){},getCurrentCoord:function(p,o,n){var m=this;this._loadScript(function(t,v){var u=document.createElement("div");u.id="Map_"+new Date().getTime();document.body.appendChild(u);if(window.AMap){var w=new AMap.Map(u.id,{resizeEnable:true});AMap.plugin("AMap.Geolocation",function(){var x=new AMap.Geolocation({enableHighAccuracy:true,timeout:10000});w.addControl(x);x.getCurrentPosition(function(z,y){if(z=="complete"){p&&p({lat:y.position.lat,lng:y.position.lng,coordType:5})}else{if(window.console){window.console.error(y)}}})})}else{if((t&&t.mapType==="qmap")||(window.qq&&window.qq.maps)){var s=function(x){let r=x.data;if(r&&r.module=="geolocation"){let temp=m.resetTempVal;if(temp&&temp.flag===true){let lat=r.lat;let lng=r.lng;if(lat!=temp.x&&lng!=temp.y){m.resetTempVal={x:lat,y:lng,flag:false};p&&p({lat:lat,lng:lng,coordType:5})}}}};window.removeEventListener("message",s,false);window.addEventListener("message",s,false)}else{var q=new BMap.Geolocation();q.getCurrentPosition(function(x){if(this.getStatus()==BMAP_STATUS_SUCCESS){p&&p({lat:x.point.lat,lng:x.point.lng,coordType:3})}else{o&&o(this.getStatus())}},{enableHighAccuracy:true})}}},p)},getCurrentPosition:function(o,n,m){m=m||{};this.getCurrentCoord(function(p){a.getMapLocation(b.mixin(p,m),o,n)},n,m)},getPois:function(n,m){this.getCurrentCoord(function(p){var o=f.formatUrl("/sys/mobile/bapi.do?method=getPoisList");e.post(o,{data:{coord:p.point.lat+","+p.point.lng},handleAs:"json"}).response.then(function(q){if(q.status=="200"){if(n){n(q)}}else{if(window.console){console.error("errorCode:"+q)}}},function(q){if(window.console){console.error(q)}})},m)},_loadScript:function(p,o){var m=this;if(window.BMap||window.AMap){if(p){p(window.Map_Result||{})}return}var n=f.formatUrl("/sys/attend/map/sysAttendMapConfig.do?method=getCurrentMap");e.post(n,{handleAs:"json"}).then(function(q){window.Map_Result=q;var s=document.createElement("script");s.type="text/javascript";if(q.mapType==="amap"){s.src="https://webapi.amap.com/maps?v=1.4.15&key="+q.mapKey+"&plugin=AMap.Geolocation&callback=bInitCallback";window.bInitCallback=function(){p&&p(q)};document.body.appendChild(s)}else{if(q.mapType==="qmap"){var t=document.getElementById("qMapGeolocation");m.resetTempVal={x:0,y:0,flag:true};if(t==null){var u=document.createElement("iframe");u.id="qMapGeolocation";u.style.display="none";u.src="https://apis.map.qq.com/tools/geolocation?key="+q.mapKey+"&referer="+q.mapKeyName;document.body.appendChild(u);p&&p(q)}else{t.contentWindow.postMessage("getLocation","*")}}else{s.src="https://api.map.baidu.com/api?v=2.0&ak="+q.mapKey+"&s=1&callback=bInitCallback";window.bInitCallback=function(){p&&p(q)};document.body.appendChild(s)}}},function(q){var s=document.createElement("script");s.type="text/javascript";var t=dojoConfig.map.bMapKey||"cnG6G1wW70lQ36H693uVOyOXiwvMaph3";s.src="https://api.map.baidu.com/api?v=2.0&ak="+t+"&s=1&callback=bInitCallback";window.bInitCallback=function(){p&&p()};document.body.appendChild(s)})},callPhone:function(m){location.href="tel:"+m},sendMsg:function(m){location.href="sms:"+m},open:function(m,p,o){if(p==="_top"){try{window.open(m,"_top")}catch(n){if(window.console){console.error(n)}l.tip({icon:"mui mui-warn",text:"URL跳转失败！"})}return}window.open(m,"_self")},scanQRCode:function(m){l.tip({icon:"mui mui-warn",text:"web端暂不支持扫码功能！"});return false},openChat:function(){return},canUseJinGe:function(m,n){return},openUserCard:function(m){if(m.ekpId){window.location.href=f.formatUrl("/sys/zone/index.do?userid="+m.ekpId)}},supportfingerPrint:function(){return 1},validatefingerPrint:function(n,m){n&&n()},supportFacePrint:function(){return 1},checkFace:function(n,m){n&&n()},supportCamera:function(){return 1},validateCamera:function(o,n,m){o&&o()},openViewMap:function(m,o,n){n&&n()},openEditMap:function(m,o,n){n&&n()},getNetworkType:function(m){m&&m({})},getWifiInfo:function(m){m&&m({})},getDeviceInfo:function(m){m&&m({})},getFontSize:function(m){m&&m({fontSize:0})},addCalendar:function(m){if(m&&typeof m.webAdapterCallback==="function"){m.webAdapterCallback()}}};return j})},"sys/mobile/js/mui/device/adapter":function(){define(["mui/device/device","dojo/_base/lang","mui/device/web/adapter","dojo/dom-class"],function(b,c,f,h){var k=c.clone(f);var j=k;var e=b.getClientType();var d=false;h.add(document.body,"clientType"+b.getClientType());var g=false;____readyCallbacks=[];j.resume=function(l){};j.mixinReady=function(l){if(g){l&&l.call(this);return}____readyCallbacks.push(l)};j._mixinReady=function(m){g=true;var l=null;while(l=____readyCallbacks.shift()){l&&l.call(m||this)}};if(e==6||e==12){d=true;require({async:false},["mui/device/weixin/adapter"],function(l){j=a(k,l);j._mixinReady()})}if(e==7||e==8){d=true;require({async:false},["mui/device/kk/adapter"],function(l){j=a(k,l);j._mixinReady()})}if(e==9||e==10){d=true;require({async:false},["mui/device/kk5/adapter"],function(l){j=a(k,l);j.ready(function(){if(j.isEBEN()){require({async:false},["mui/device/ereb/adapter"],function(m){j=a(j,m);j._mixinReady()})}else{j._mixinReady()}})})}if(e==11){d=true;require({async:false},["mui/device/ding/adapter"],function(l){j=a(k,l);j._mixinReady()})}if(e==14){d=true;require({async:false},["mui/device/govding/adapter"],function(l){j=a(k,l);j._mixinReady()})}if(e==22){d=true;require({async:false},["mui/device/feishu/adapter"],function(l){j=a(k,l);j._mixinReady()})}if(!d){j._mixinReady()}function a(m,t){var l,p,n,q={};for(l in t){p=t[l];var o="$super$"+l;m[o]=m[l];if(!(l in m)||(m[l]!==p&&(!(l in q)||q[l]!==p))){m[l]=p}}return m}j.mixinReady(function(){j.getFontSize(function(l){var m=l&&l.fontSize?l.fontSize:0;h.add(document.documentElement,"fontSize"+m)})});return j})},"sys/mobile/js/mui/device/attachment/_attachmentDirect":function(){define(["dojo/_base/declare","mui/device/attachment/_attachmentProxy","dojo/request","mui/util"],function(c,b,d,a){return c("mui.device.attachment._attachmentDirect",[b],{tokenurl:a.formatUrl("/sys/attachment/sys_att_main/sysAttMain.do?method=handleAttUpload&gettype=getuserkey&format=json",true),addFileUrl:"/sys/attachment/sys_att_main/sysAttMain.do?method=addFile",uploadurl:window.attachmentConfig?window.attachmentConfig.uploadurl:this.uploadurl,tokenSuccess:function(f){var e=f.token;f.direct={path:e.path,fileId:e.fileId,fileSize:f.size}},md5Success:function(e,g,f){e.direct.md5=g},uploadSuccess:function(f,g){var e=this;if(!f.direct){e._uploadSuccess(f,g);return}d.post(a.formatUrl(this.addFileUrl),{handleAs:"json",data:f.direct}).then(function(h){f.status=2;f.filekey=f.direct.fileId;e._uploadSuccess(f,g)},function(h){f.status=0;e.uploadError(f,{rtn:h})})}})})},"sys/mobile/js/mui/header/DocViewHeader":function(){define("mui/header/DocViewHeader",["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/dom-geometry","dojo/on","mui/util","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(e,d,k,h,b,a,j,g,c){var f=e("mui.header.DocViewHeader",[d],{baseClass:"muiDocViewHeader",subject:"",userId:"",userName:"",imgUrl:"/sys/person/sys_person_zone/sysPersonZone.do?method=img&fdId=!{userId}",docStatus:"",docStatusText:"",docStatusEnum:{"00":{text:c["mui.mobile.process.status.discard"],iconClass:"processStatusDiscard"},"20":{text:c["mui.mobile.process.status.examine"],iconClass:"processStatusExamine"},"30":{text:c["mui.mobile.process.status.done"],iconClass:"processStatusDone"}},expandItems:false,itemDatas:[],buildRendering:function(){this.inherited(arguments);var m=b.create("div",{className:"muiDocViewHeaderBase"},this.domNode);if(this.subject){b.create("div",{className:"muiDocViewHeaderSubject",innerHTML:this.subject},m)}if(this.userId||this.userName){var v=b.create("div",{className:"muiDocViewHeaderPerson"},m);if(this.userId){var s=b.create("div",{className:"muiDocViewHeaderIcon"},v);b.create("img",{src:g.formatUrl(this.imgUrl.replace(/!{userId}/,this.userId))},s)}if(this.userName){b.create("div",{className:"muiDocViewHeaderUser",innerHTML:this.userName},v)}}if(this.docStatus&&this.docStatusEnum[this.docStatus]){var w=this.docStatusEnum[this.docStatus];var n=w.iconClass?w.iconClass:"";var l=b.create("div",{className:"muiDocViewHeaderStatus "+n});var B=b.create("i",{className:"fontmuis muis-watermark"},l);var E=b.create("span",{},l);E.innerText=this.docStatusText?this.docStatusText:w.text;b.place(l,m,"last")}if(this.itemDatas&&this.itemDatas.length>1){var q=b.create("div",{className:"muiDocViewHeaderDetailWarp"},this.domNode);var u=b.create("div",{className:"muiDocViewHeaderDetailContainer"},q);var p=b.create("div",{className:"muiDocViewHeaderDetail"},u);for(var D=0;D<this.itemDatas.length;D++){var G=this.itemDatas[D];var x=b.create("div",{className:"muiDocViewHeaderDetailItem"},p);var o=b.create("div",{className:"muiDocViewHeaderDetailItemL"},x);var C=b.create("span",{},o);if(G.name){C.innerHTML=G.name}var F=b.create("div",{className:"muiDocViewHeaderDetailItemR"},x);var y=b.create("span",{},F);if(G.value){y.innerHTML=G.value}if(G.click){j(y,"click",G.click)}}var A=a.getContentBox(q).h;if(this.expandItems){h.set(q,{"max-height":A+"px",overflow:"inherit"})}else{h.set(q,{"max-height":"0",overflow:"hidden"})}var t=b.create("div",{className:"muiDocViewHeaderExpandBtn",style:{display:this.expandItems?"none":"block"}},this.domNode);b.create("i",{className:"fontmuis muis-slide-down"},t);var z=b.create("div",{className:"muiDocViewHeaderCollapseBtn",style:{display:this.expandItems?"block":"none"}},this.domNode);b.create("i",{className:"fontmuis muis-slide-up"},z);this.connect(t,"click",function(){k.remove(t,"muiDocViewHeaderBtnFadeIn");h.set(t,{display:"none"});k.add(z,"muiDocViewHeaderBtnFadeIn");h.set(z,{display:"block"});k.remove(q,"muiDocViewHeaderWarpHidden");k.add(q,"muiDocViewHeaderWarpShow");h.set(q,{"max-height":A+"px",overflow:"inherit"})});this.connect(z,"click",function(){k.remove(z,"muiDocViewHeaderBtnFadeIn");h.set(z,{display:"none"});k.add(t,"muiDocViewHeaderBtnFadeIn");h.set(t,{display:"block"});k.remove(q,"muiDocViewHeaderWarpShow");k.add(q,"muiDocViewHeaderWarpHidden");h.set(q,{"max-height":"0",overflow:"hidden"})})}}});return f})},"sys/mobile/js/mui/map":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/on","dojo/query","dojo/request/script","mui/coordtransform"],function(d,g,a,f,c,e){var b=d("mui.map",null,{getMapLocation:function(j,l,h){var k=dojoConfig.map.mapType||"bmap";if(k=="bmap"){this.getBMapLocation(j,l,h)}else{if(k=="qmap"){this.getQMapLocation(j,l,h)}else{if(k=="amap"){this.getAMapLocation(j,l,h)}}}},getQMapLocation:function(u,t,o){var s=dojoConfig.map.qMapKey;var m=u.coordType;var n=u.lat+","+u.lng;var j=u.poiRadius||500;var h=u.poiPageSize||50;var q=u.getPoi==0?0:1;var p="jsonpcallback_"+new Date().getTime();var k="https://apis.map.qq.com/ws/geocoder/v1/?callback={jsonpcallback}&output=jsonp&coord_type={coordType}&poi_options=radius={radius};page_size={poiPageSize};page_index=1&get_poi={getPoi}&key={key}&location="+n;k=k.replace("{coordType}",m).replace("{key}",s).replace("{jsonpcallback}",p).replace("{radius}",j).replace("{poiPageSize}",h).replace("{getPoi}",q);var l={handleAs:"json",jsonp:p,timeout:10000};window[p]=function(B){if(B.status==0){var y=B.result;var v={};v.coordType="5";var C=y.address_component.street_number||y.address_component.street||y.address_component.district;v.title=C;v.point={lat:y.location.lat,lng:y.location.lng};v.address=y.formatted_addresses.recommend||y.address;v.addressComponent=y.address_component;var A=y.pois;if(A&&A.length>0){var z=[];for(var x=0;x<A.length;x++){var w={title:A[x].title,address:A[x].address,point:{lat:A[x].location.lat,lng:A[x].location.lng},distance:A[x]._distance};z.push(w)}v.pois=z}t&&t(v)}else{o&&o(B)}};c.get(k,l)},getBMapLocation:function(v,u,p){var t=dojoConfig.map.bMapKey||"cnG6G1wW70lQ36H693uVOyOXiwvMaph3";var n=v.coordType;if(n==1){n="wgs84ll"}else{if(n==3){n="bd09ll"}else{if(n==5){n="gcj02ll"}}}var o=v.lat+","+v.lng;var j=v.poiRadius||500;var h=v.poiPageSize||50;var s=v.getPoi==0?0:1;var q="jsonpcallback_"+new Date().getTime();var m=dojoConfig.map.bMapVer=="1"?true:false;var k=this.getBMapApiUrl(t,o,n,j,h,s,q,m);var l={handleAs:"json",jsonp:q,timeout:10000};window[q]=function(C){console.log("获取地理坐标:jsonpcallback:"+C.status);if(C.status==0){var A=C.result;var B={};B.coordType="3";var x=A.addressComponent.street||"";var F=A.addressComponent.street_number||"";var D=(x+F)||A.addressComponent.district;B.title=D;B.point={lat:A.location.lat,lng:A.location.lng};B.address=A.formatted_address;B.addressComponent=A.addressComponent;var w=A.pois;if(w&&w.length>0){var E=[];for(var y=0;y<w.length;y++){var z={title:w[y].name,address:w[y].addr,point:{lat:w[y].point.y,lng:w[y].point.x},distance:w[y].distance};E.push(z)}B.pois=E}u&&u(B)}else{p&&p(C)}};c.get(k,l)},getBMapApiUrl:function(q,n,l,j,h,p,o,m){var k="https://api.map.baidu.com/reverse_geocoding/v3/?callback={jsonpcallback}&output=json&coordtype={coordType}&extensions_poi={getPoi}&radius={radius}&page_size={poiPageSize}&ak={key}&location="+n;if(!m){k="https://api.map.baidu.com/geocoder/v2/?callback={jsonpcallback}&output=json&coordtype={coordType}&pois={getPoi}&radius={radius}&page_size={poiPageSize}&ak={key}&location="+n}k=k.replace("{coordType}",l).replace("{key}",q).replace("{jsonpcallback}",o).replace("{radius}",j).replace("{poiPageSize}",h).replace("{getPoi}",p);return k},getAMapLocation:function(u,t,o){var s=dojoConfig.map.aMapKey;var m=u.coordType;if(m==1){m="gps"}else{if(m==3){m="baidu"}else{if(m==5){m="autonavi"}}}var n=u.lng+","+u.lat;var j=u.poiRadius||500;var h=u.poiPageSize||50;var q=u.getPoi==0?"base":"all";var p="jsonpcallback_"+new Date().getTime();var k="https://restapi.amap.com/v3/geocode/regeo?key={key}&location={location}&coordsys={coordType}&radius={radius}&callback={jsonpcallback}&output=json&extensions={getPoi}&roadlevel=0";k=k.replace("{coordType}",m).replace("{key}",s).replace("{jsonpcallback}",p).replace("{location}",n).replace("{radius}",j).replace("{getPoi}",q);var l={handleAs:"json",jsonp:p,timeout:10000};window[p]=function(F){if(F.status==1){var B=F.regeocode;var z=B.addressComponent;var E={};E.coordType="5";var I=z.streetNumber&&z.streetNumber.location;var y=I&&I.split(",");if(y&&y.length>1){E.point={lat:y[1],lng:y[0]}}else{if(u.coordType==1){y=e.wgs84togcj02(u.lng,u.lat);E.coordType="5";E.point={lat:y[1],lng:y[0]}}else{if(u.coordType==3){E.coordType="3";E.point={lat:u.lat,lng:u.lng}}else{if(u.coordType==5){E.point={lat:u.lat,lng:u.lng}}}}}var G=B.addressComponent;var x=G.streetNumber&&G.streetNumber.street||"";var K=G.streetNumber&&G.streetNumber.number||"";var H=(x+K)||G.district;E.title=H;E.address=B.formatted_address;var A=z.city;if(A instanceof Array){z.city=z.province}E.addressComponent=z;var w=B.pois;if(w&&w.length>0){var J=[];for(var C=0;C<w.length;C++){var v=w[C].location.split(",");var D={title:w[C].name,address:w[C].address,point:{lat:v[1],lng:v[0]},distance:w[C].distance};J.push(D)}E.pois=J}t&&t(E)}else{o&&o(F)}};c.get(k,l)}});return new b()})},"sys/mobile/js/mui/device/weixin/wxAgentConfig":function(){require(["dojo/topic","dojo/ready","dijit/registry","dojo/query","dojo/request","lib/weixin/jweixin-1.0.0","mui/util","mui/dialog/Tip"],function(e,j,a,h,c,b,f,k){var g=false;window.livingImmediately=function(l){this.agentConfig(function(){b.invoke("startLiving",l,function(m){console.log("立即直播：",m);if(m.err_msg=="startLiving:ok"){l.livingId=m.livingId;d(l)}else{if(m.err_msg!="startLiving:cancel"){k.fail({text:"创建直播失败:"+JSON.stringify(m)})}}})})};function d(l){url=f.formatUrl("/third/weixin/work/third_weixin_work_living/thirdWeixinWorkLiving.do?method=createMapping");c.post(url,{data:l,handleAs:"json",headers:{accept:"application/json"}}).response.then(function(m){console.log("建立mapping",m)})}window.checkLiving=function(l){url=f.formatUrl("/third/weixin/work/third_weixin_work_living/thirdWeixinWorkLiving.do?method=checkLiving");var m;$.ajax({type:"post",url:url,data:l,async:false,success:function(n){console.log("检查结果：",n);n=JSON.parse(n);if(n.success){m=n.exist;window.__livingid__=n.livingId}else{k.fail({text:n.result})}}});return m};window.canLiving=function(m){url=f.formatUrl("/third/weixin/work/third_weixin_work_living/thirdWeixinWorkLiving.do?method=canLiving");var l;$.ajax({type:"post",url:url,data:m,async:false,success:function(n){console.log(n);n=JSON.parse(n);l=n.success}});return l};window.getLivingId=function(){return window.__livingid__};window.agentConfig=function(l){if(g){l&&l.call(this)}else{console.log("---延迟500毫秒----");setTimeout(l,500)}};window.openLiving=function(l){console.log("linvingid:"+l);this.agentConfig(function(){b.invoke("startLiving",{livingId:l},function(m){console.log("打开直播res",m);if(m.err_msg=="startLiving:ok"){livingId=m.livingId}else{k.fail({text:"打开直播失败:"+JSON.stringify(m)})}})})};(function(){var l=["startLiving","config","agentConfig"];url=f.formatUrl("/third/wxwork/jsapi/wxJsapi.do?method=jsapiSignature&type=agent_config"),option={data:{url:location.href},handleAs:"json"};console.log("url:",url);c.post(url,option).response.then(function(n){var m=n.data;if(m&&m.appId){console.log("signInfo",m);b.agentConfig({beta:true,debug:true,corpid:m.corpid,agentid:m.agentid,timestamp:m.timestamp,nonceStr:m.noncestr,signature:m.signature,jsApiList:l,success:function(o){g=true;console.log("agentConfig鉴权成功",o)},fail:function(o){g=false;k.fail({text:"agentConfig失败:"+JSON.stringify(o)});console.log("agentConfig失败",o)}})}else{console.log("signInfo appId empty(wxwork)")}})})()})},"sys/mobile/js/mui/device/govding/adapter":function(){define(["https://g.alicdn.com/gdt/jsapi/1.8.2/index.js","dojo/_base/lang","mui/device/device","dojo/request","mui/util","mui/coordtransform","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/dialog/Tip","dojo/Deferred","dojo/topic","mui/map"],function(o,c,b,f,h,e,d,n,l,g,a){o=o["default"];var j=false,k=false;var m={__readyCallbacks:[],__readyfailCallbacks:[],__hasListener__:false,ready:function(q,p){if(k){p&&p.call(this);return}if(j){q&&q.call(this);return}this.__readyCallbacks.push(q);this.__readyfailCallbacks.push(p);if(!this.__hasListener__){this.__hasListener__=true;g.subscribe("/third/govding/ready",c.hitch(this,function(){var s=null;while(s=this.__readyCallbacks.shift()){s&&s.call(this)}}));g.subscribe("/third/govding/readyfail",c.hitch(this,function(){var s=null;while(s=this.__readyfailCallbacks.shift()){s&&s.call(this)}}))}},goBack:function(s){var q=this;if(history.length>1){var p=h.getUrlParameter(window.location.href,"mdingclose");if(p=="1"){this.closeWindow()}else{window.location.href=document.referrer}}else{this.closeWindow()}return{}},closeWindow:function(){this.ready(function(){o.closePage().then(function(p){console.log(p)},function(p){console.log(p)})},function(){o.closePage().then(function(p){console.log(p)},function(p){console.log(p)})});return{}},setTitle:function(p){if(!p){p=""}p=p.trim();this.ready(function(){o.setTitle({title:p}).then(function(q){console.log(q)},function(q){console.log(q)})});document.title=p},imagePreview3:function(p){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,p);return{}},imagePreview:function(p){this.ready(function(){if(p.curSrc.indexOf("blob:")==0){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,p)}else{o.previewImage({current:p.curSrc,urls:p.srcList}).then(function(q){console.log(q)},function(q){console.log(q)})}},function(){this["$super$imagePreview"]&&this["$super$imagePreview"].call(this,p)});return{}},open:function(p,s,q){if("_blank"==s){this.ready(function(){try{o.openLink({url:p}).then(function(u){console.log(u)},function(u){window.open(p,"_self")});return}catch(t){window.open(p,"_self");return}})}else{window.open(p,s);return}},download:function(p){n.warn({text:"根据国家政务安全规定，暂不支持下载文件到移动端"});return},scanQRCode:function(p){this.ready(function(){o.scan({type:"qrCode"}).then(function(q){p&&p({text:q.text})},function(q){console.log(q)})},function(){this["$super$scanQRCode"]&&this["$super$scanQRCode"].call(this,p)});return true},openViewMap:function(p,s,q){this.ready(function(){var t=[p.lng,p.lat];if(p.coordType=="bd09"){t=e.bd09togcj02(p.lng,p.lat)}o.showOnMap({latitude:t[0],longitude:t[1],title:p.value}).then(function(u){console.log(u)},function(u){console.log(u)});s&&s()},function(){this["$super$openViewMap"]&&this["$super$openViewMap"].call(this,p,s,q)})},openEditMap:function(p,s,q){this.ready(function(){var t=[p.lng,p.lat];if(p.coordType=="bd09"&&p.lng&&p.lat){t=e.bd09togcj02(p.lng,p.lat)}o.locateOnMap({latitude:t[0],longitude:t[1]}).then(function(v){var u={lat:v.latitude,lng:v.longitude};if(p.coordType=="bd09"){var w=e.gcj02tobd09(u.lng,u.lat);u.lng=w[0];u.lat=w[1]}s&&s({point:u,value:v.title,detail:v.snippet})},function(u){console.log(u)})},function(){this["$super$openEditMap"]&&this["$super$openEditMap"].call(this,p,s,q)})},getNetworkType:function(p){this.ready(function(){o.getNetworkType({}).then(function(q){p&&p({networkType:q.result})},function(q){p&&p()})},function(){this["$super$getNetworkType"]&&this["$super$getNetworkType"].call(this,p)})},getWifiInfo:function(q){var p=this;this.ready(function(){o.getHotspotInfo().then(function(s){q&&q({ssid:s.ssid,macIp:p._fixMacIp(s.macIp)})},function(s){n.fail({text:"获取WIFI信息失败:"+s});q&&q()})},function(){n.fail({text:"调用政务钉钉wifi接口授权失败"});this["$super$getWifiInfo"]&&this["$super$getWifiInfo"].call(this,q)})},_fixMacIp:function(p){var u="";if(p){var v=p.split(":");var q=[];for(var s in v){var t=v[s]||"";if(t.length==0){t="00"}else{if(t.length==1){t="0"+t[0]}}q.push(t)}u=q.join(":")}return u},getDeviceInfo:function(p){this.ready(function(){o.getUUID().then(function(q){p&&p({deviceId:q.uuid})},function(q){p&&p()})})},complexPicker:function(p,q){this.ready(function(){o.chooseContactWithComplexPicker({title:p.title,multiple:true,maxUsers:1000,pickedUsers:p.pickedUsers,disabledUsers:[],requiredUsers:[],responseUserOnly:true,limitTips:"超出了",pickedDepartments:[],disabledDepartments:[],requiredDepartments:[]}).then(function(s){q&&q({selectedCount:s.selectedCount,users:s.users,departments:s.departments})},function(s){n.fail({text:s.errorMessage})})},function(){n.tip({icon:"mui mui-warn",text:"调钉钉jsapi:dd.biz.contact.complexPicker失败"})})},createGroup:function(p,q){this.ready(function(){o.createChatGroup({corpId:p.corpId,users:p.emplIds}).then(function(s){q&&q({groupID:s.id})},function(s){n.fail({text:s.errorMessage})})})},pickChat:function(p,q){this.ready(function(){o.pickChat({corpId:p}).then(function(s){q&&q({chatId:s.cid})},function(s){n.fail({text:s.errorMessage})})})},startRecord:function(){this.ready(function(){o.startRecordAudio().then(function(p){console.log(p)},function(p){n.fail({text:p.errorMessage})})})},stopRecord:function(){this.ready(function(){o.stopRecordAudio().then(function(p){audioDownload(p.mediaId)},function(p){n.fail({text:p.errorMessage})})})},audioDownload:function(p){this.ready(function(){o.downloadAudio({mediaId:p}).then(function(q){console.log(q.localAudioId)},function(q){n.fail({text:q.errorMessage})})})},play:function(p){this.ready(function(){o.playAudio({localAudioId:p}).then(function(q){console.log(q)},function(q){n.fail({text:q.errorMessage})})})},createDing:function(p){this.ready(function(){o.createDing(p)})},createVideoMeeting:function(q,p){this.ready(function(){o.createVideoMeeting({title:p,calleeStaffIds:q}).then(function(s){console.log(s)},function(s){console.log(s)})})},getCurrentCoord:function(s,q,p){this.ready(function(){o.getGeolocation({targetAccuracy:200,coordinate:1,withReGeocode:false,useCache:false}).then(function(u){var t={lat:u.latitude,lng:u.longitude,coordType:5};s&&s(t)},function(t){if(window.console){window.console.log(t)}n.tip({icon:"mui mui-warn",text:"政务钉钉地理定位失败"});q&&q(t)})},function(){n.tip({icon:"mui mui-warn",text:"调用政务钉钉坐标定位接口授权失败"});this["$super$getCurrentCoord"]&&this["$super$getCurrentCoord"].call(this,s,q)})},getCurrentPosition:function(s,q,p){p=p||{};this.ready(function(){this.getCurrentCoord(function(t){a.getMapLocation(c.mixin(t,p),s,q)},q,p)},function(){n.tip({icon:"mui mui-warn",text:"调用政务钉钉定位接口失败"});this["$super$getCurrentPosition"]&&this["$super$getCurrentPosition"].call(this,s,q)})}};(function(){var u=b.getClientType();if(u!=14){return}if(!o){return}var s=dojoConfig.baseUrl,t={data:{url:location.href},handleAs:"json"};var p=dojoConfig.baseUrl+"sys/mobile/adapter.do?method=getDingPrefix",q={data:{url:location.href},handleAs:"json"};f.post(p,q).response.then(function(v){var w=v.data;s=s+w.url+"/jsapi.do?method=jsapiSignature";f.post(s,t).response.then(function(y){var x=y.data;if(x){o.ready(function(){j=true;g.publish("/third/govding/ready");o.authConfig({ticket:x.ticket,jsApiList:["showOnMap","locateOnMap","getUUID","chooseContactWithComplexPicker","createChatGroup","createDing","getGeolocation"]}).then(function(z){console.log(z)},function(z){console.log(z)})})}else{k=true;g.publish("/third/govding/readyfail");console.log("signInfo empty(ding)")}},function(){k=true;g.publish("/third/govding/readyfail");console.log(JSON.stringify(arguments))})},function(v){console.log("请求失败！"+v)})})();return m})},"sys/mobile/js/mui/folder/Folder":function(){define(["dojo/_base/declare","mui/folder/_Folder","mui/util","dojo/_base/array","dojo/html","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/window","dojo/query","dojo/touch","dojox/mobile/_css3","dojo/topic"],function(c,m,f,j,e,a,h,l,g,k,b,n,d){return c("mui.folder.Folder",[m],{tmplURL:null,icon:"mui mui-plus",HIDE_EVENT:"/mui/folder/hide",SHOW_EVENT:"/mui/folder/show",_scollTempl:'<div data-dojo-type="dojox/mobile/ScrollableView" data-dojo-props="scrollBar:true,height:\'100%\'" class="muiFolderView">!{tmplInfo}</div>',postCreate:function(){this.inherited(arguments)},hideStyle:{},showStyle:{},startup:function(){this.inherited(arguments);this.hideStyle[n.name("transform")]="translate3d(0, -50%, 0)";this.showStyle[n.name("transform")]="translate3d(0, 0, 0)";this.subscribe("/mui/searchbar/show","hide")},show:function(q){if(this._showed){this.hide();return}var s=this.domNode.offsetHeight;l.add(this.domNode,"muiFolderRotate muiFolderRotate135");if(this.expandDiv==null){this.expandDiv=a.create("div",{className:"muiFolderExpand"},document.body,"last");h.set(this.expandDiv,{top:s+"px",height:(g.getBox().h-s)+"px"});if(this.tmplURL!=null&&this.tmplURL!=""){var o=this;require(["dojo/text!"+f.formatUrl(f.urlResolver(this.tmplURL,this))],function(u){u=o._scollTempl.replace("!{tmplInfo}",u);u=u.replace("!{topHeight}",s);var t=new e._ContentSetter({node:o.expandDiv,parseContent:true,cleanContent:true});t.set(u);t.parseDeferred.then(function(w){o.parseResults=w;var v=k(".muiFolderView",o.expandDiv);h.set(v[0],o.showStyle);o._showed=true;d.publish(o.SHOW_EVENT,o,{})});t.tearDown()})}}else{h.set(this.expandDiv,{display:"block"});h.set(this.expandDiv,{top:s+"px",height:(g.getBox().h-s)+"px"});var p=k(".muiFolderView",this.expandDiv);h.set(p[0],this.showStyle);this._showed=true;d.publish(this.SHOW_EVENT,this,{})}this.expandHandle=this.connect(document.body,b.press,"hide")},hide:function(p){d.publish(this.HIDE_EVENT,this,{});if((p&&p.target==this.domNode)||this.expandDiv==null){return}if(this._showed!=true){return}l.remove(this.domNode,"muiFolderRotate muiFolderRotate135");var o=k(".muiFolderView",this.expandDiv);h.set(o[0],this.hideStyle);this.defer(function(){h.set(this.expandDiv,{display:"none"})},410);if(this.expandHandle){this.expandHandle.remove()}this._showed=false}})})}}});require({cache:{"sys/mobile/js/mui/mui-common_zh-cn._min_":function(){define("",{"mui.sysAttMain.file.manager":"文件管理器","mui.sysAttMain.download.oversize":"下载文件过大，请稍后进入页面再试。","mui.sysAttMain.download.oversize.time":"下载文件过大，预计需要（","mui.sysAttMain.pieces":"个","mui.sysAttMain.msg.wechatDownload":"附件将随后通过微信发送给您，请注意查收!","mui.sysAttMain.photograph":"拍照","mui.sysAttMain.download.oversize.time.sec":"）秒，请稍后进入页面再试。","mui.viewContent":"阅读全文","mui.sysAttMain.comment":"添加批注","mui.viewContent.back":"返回","mui.sysAttMain.msg.null":"请至少上传一个附件","mui.sysAttMain.download":"下载","mui.sysAttMain.editfile":"编辑文件","mui.sysAttMain.upload":"附件上传中","mui.sysAttMain.pic.null":"请至少上传一张图片","mui.sysAttMain.total":"共","mui.sysAttMain.errortypefile":"文件类型不匹配","mui.sysAttMain.download.to.ding":"下载到钉盘","mui.editContent":"编辑正文","mui.sysAttMain.openfile":"打开文件","mui.sysAttMain.download.oversize.time.min":"）分钟，请稍后进入页面再试。","mui.sysAttMain.savefile":"保存文件","mui.sysAttMain.label":"附件","mui.sysAttMain.picture":"手机相册","mui.sysAttMain.button.upload":"附件上传","date.weekDayNames":'星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六',"date.format.dayMonth":"MM dd","date.format.time.sec.2y":"yy-MM-dd HH:mm:ss","date.format.date":"yyyy-MM-dd","date.format.time.msel":"yyyy-MM-dd HH:mm:ss.SSS","date.monthNames":'一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月',"date.label":"日期","date.format.year":"yyyy","date.interval.hour":"小时","date.weekDay3":"星期三","date.weekDay2":"星期二","date.weekDay1":"星期一","date.weekDay0":"星期日","date.weekDay6":"星期六","date.weekDay5":"星期五","date.weekDay4":"星期四","date.format.datetime.3y":"yyy-MM-dd HH:mm","date.interval.day":"天","date.format.time":"HH:mm","date.format.datetime.2y":"yy-MM-dd HH:mm","date.interval.second":"秒","date.interval.minute":"分钟","date.format.date.2y":"yy-MM-dd","date.format.date.3y":"yyy-MM-dd","date.shortMonthNames":'一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月',"date.format.long":"yyyy年MM月dd日 HH:mm:ss","date.interval.after":"后","date.interval.ago":"前","date.format.yearMonth":"yyyy-MM","date.format.date5y":"MM/dd/yyyy","date.format.date4y":"yyyy-MM-dd","date.format.date7y":"yy-mm","date.format.date6y":"dd/MM/yyyy","date.format.datetime":"yyyy-MM-dd HH:mm","date.format.time.sec":"yyyy-MM-dd HH:mm:ss","date.shortWeekDayNames":'日", "一", "二", "三", "四", "五", "六',"mui.data.volume.month":"近一个月","mui.catefilter.all":"全部","mui.button.count":"已选择%count%项","mui.model.docAlteror":"修改人","mui.ocr.identify.process":"识别中...","mui.time.select":"时间选择","mui.select.task":"请选择任务","mui.mobile.address.search.type.dept":"部门名称","mui.search.clearrecord":"清空搜索历史","mui.mobile.address.commonGroup":"公共群组","mui.address.group":"群组","mui.calendar.after":"后","mui.mobile.address.recently":"最近","mui.dialog.tips":"提示","mui.mobile.address.deptMember":"同部门","mui.comefrom.-9":"企业微信客户端","mui.search.history":"搜索历史","mui.comefrom.-1":"PC端","mui.ocr.validator.pic.null":"请至少上传一张图片","mui.search.hot":"近期热门搜索","mui.form.select":"下拉框","mui.comefrom.20":"MaxHub","mui.alert.failure":"操作失败","mui.mobile.address.search.type.group":"群组名称","mui.comefrom.22":"飞书","mui.catefilter.selectAll":"全选","mui.mobile.sysFtSearch.clean":"清空历史","mui.ocr.identify.button.onlyUpload":"仅上传图片","mui.model.fdAlterTime":"修改时间","mui.button.done":"完成","mui.mobile.favoriteCateView":"常用分类","mui.list.msg.nomore":"已经到底了","mui.mobile.address.subordinate":"我的下属","mui.ocr.identify.button.replaceImg":"替换图片","mui.compress.task":"还有任务在执行，请耐心等待","mui.mobile.address.search.history.clear":"清空历史","mui.search.norecord":"没有搜索历史记录","mui.button.send":"发送","mui.comefrom.10":"KK Android客户端","mui.comefrom.11":"钉钉","mui.comefrom.12":"企业微信","mui.comefrom.13":"365日历","mui.item.watch":"观看","mui.datetime.year":"年","mui.ocr.identify.button.cancel":"取消","mui.time.label":"时间","mui.button.cancel":"取消","mui.list.pull.release":"释放刷新","mui.list.pull.loading":"加载中...","mui.category.select":"分类选择","mui.mobile.address.group":"群组","mui.list.msg.noData":"暂无内容","mui.form.please.select":"请选择","mui.sort.asc":"升序","mui.search.hint.doc":"请输入文档主题","mui.button.up":"上一级","mui.current.error.page":"页码错误请重新输入","mui.date.select":"日期选择","mui.datetime.week.shortName":"周日,周一,周二,周三,周四,周五,周六","mui.break.to.page":"跳到第","mui.datetime.second":"秒","mui.ocr.identify.fail.tip":"识别失败","mui.button.ok":"确定","mui.mobile.sysFtSearch.hot":"热门推荐","mui.button.unlimited":"不限","mui.mobile.process.status.discard":"已废弃","mui.mobile.address.myGroup":"个人群组","mui.button.reset":"重置","mui.data.volume.year":"近一年","mui.comefrom.1":"移动WEB版","mui.comefrom.2":"移动EKP iPhone客户端","mui.calendar.ago":"前","mui.comefrom.0":"移动WEB版","mui.button.back":"后退","mui.model.fdCreator":"创建人","mui.datetime.select":"日期时间选择","mui.address.person":"联系人","mui.comefrom.9":"KK iPhone客户端","mui.return.failure":"操作失败！","mui.return.success":"操作成功！","mui.comefrom.7":"KK iPhone客户端","mui.ocr.identify.fail.dialog.title":"上传成功，但未能自动识别文字","mui.comefrom.8":"KK Android客户端","mui.comefrom.5":"Android客户端","mui.comefrom.6":"微信","mui.comefrom.3":"移动EKP iPad客户端","mui.comefrom.4":"移动EKP Android客户端","mui.address.dept":"部门","mui.data.volume.week":"近一周","mui.ocr.identify.button.reUpload":"重新识别","mui.mobile.sysFtSearch.history":"历史搜索","mui.button.clear":"清空","mui.model.fdCreateTime":"创建时间","mui.mobile.address.search.simple":"请输入姓名/首字母","mui.search.cancel":"取消","mui.mobile.review":"流程操作","mui.search.sure.delete":"确定删除搜索历史吗？","mui.mobile.address.search":"请输入姓名/部门名称/群组名称/岗位名称","mui.button.schedule":"日程安排","mui.list.pull.reload":"下拉刷新","mui.mobile.toEnd.tip":"已经到底了","mui.search.search":"搜索","mui.mobile.address.leader.label":"领导","mui.ocr.identify.success.tip":"识别成功","mui.mobile.address.search.type.post":"岗位名称","mui.mobile.process.status.done":"已办结","mui.list.push.more":"加载更多...","mui.current.page":"当前","mui.back.home":"首页","mui.item.views":"浏览","mui.category.button.up":"上一级","mui.mobile.process.status.examine":"审批中","mui.jsonRest.failure":"请求数据失败，请手动刷新页面再试！","mui.category.select.one":"请至少选择一项","mui.emoji":"多行文本不允许输入emoji表情","mui.data.volume.all":"全部","mui.mobile.address.search.type.org":"机构名称","mui.error.emptyJson":"未能读取到navItem.json配置","mui.mobile.address.organization":"组织架构","mui.alert.success":"操作成功","mui.search.hint.model":"请输入模块名称","mui.form.please.input":"请输入","mui.mobile.address.subject":"地址本选择","mui.page":"页","mui.mobile.info":"审批内容","mui.mobile.allCateView":"所有分类","mui.ocr.identify.fail.dialog.desc1":"若想重新识别，建议尝试","mui.datetime.validate.compare.fail":"开始时间不能大于结束时间","mui.ocr.identify.fail.dialog.desc2":"1.重新上传有效且清晰的证件图片","mui.ocr.identify.fail.dialog.desc3":"2.缩小图片，尽量减少图片大小","mui.model.fdName":"名称","mui.mobile.address.search.type.person":"姓名","mui.data.volume.three.month":"近三个月","mui.tips.processing":"处理中...","mui.model.fdOrder":"排序号","mui.button.exist":"退出","mui.datetime.minute":"分","mui.datetime.month":"月","mui.editor.exit":"退出编辑？","mui.mobile.address.usual":"常用","mui.data.volume.harf.a.year":"近半年","mui.mobile.address.allCate":"组织架构","mui.btn.building":"功能建设中","mui.form.required":"(必填)","mui.select.filter":"筛选","mui.break.page":"跳页","mui.return.submitted":"操作已提交。","mui.calendar.day":"天","mui.button.more":"更多","mui.mobile.address.search.history":"历史搜索","mui.all.category":"全部分类","mui.alert.warning":"操作提醒","mui.mobile.sysMobile.simpleCategory.selected":"已选择","mui.ocr.identify.button.viewImg":"查看","mui.category.button.cancel":"取消","mui.mobile.review.record":"流程记录","mui.date.label":"日期","mui.compress.submit":"已经提交，请耐心等待","mui.mobile.address.search.count":"%count%个搜索结果","mui.datetime.hour":"时","mui.mobile.address.group.path":"常用群组","mui.address.org":"机构","mui.sort.desc":"降序","mui.calendar.today.short":"今","mui.button.small.more":"更多","mui.calendar.today":"今天","mui.address.post":"岗位","mui.add.to.content":"添加到内容","mui.button.add":"新建","mui.mobile.sysMobile.view":"浏览","mui.ocr.identify.button.del":"删除","mui.category.pselect":"请选择","mui.category.title":"分类选择","mui.button.view":"意见","mui.datetime.day":"日","mui.search.hint":"请输入搜索内容"})}}});