function Com_IncludeFile(e,t,n,r){var a,i,o;t=t||"js/",r=r||!1;var s=["jquery.js"];function l(e){for(var t=0;t<s.length;t++)if(-1<e.indexOf(s[t]))return!0;return!1}e=e.split("|");var u,c=[],d=[],f=[];for(a=0;a<e.length;a++)if(e[a]=t+e[a],-1==Com_ArrayGetIndex(Com_Parameter.JsFileList,e[a]))switch(Com_Parameter.JsFileList[Com_Parameter.JsFileList.length]=e[a],o=null==n?-1<(i=e[a].lastIndexOf("."))?e[a].substring(i+1):"js":n,e[a].indexOf("s_cache=")<0&&(0<=e[a].indexOf("?")?e[a]=e[a]+"&s_cache="+Com_Parameter.Cache:e[a]=e[a]+"?s_cache="+Com_Parameter.Cache),o){case"js":case"jsp":var m=(-1<(u=e[a]).indexOf("/")&&(u=u.substring(u.lastIndexOf("/")+1)),-1<u.indexOf("?")&&(u=u.substring(0,u.lastIndexOf("?"))),u=u.replace(/[\.\=]/g,"_"));r?(d.push(e[a]),c.push("<script id="+m+" src="+e[a]+"><\/script>")):l(e[a])?(d.unshift(Com_Parameter.ResPath+e[a]),c.unshift("<script id="+m+" src="+Com_Parameter.ResPath+e[a]+"><\/script>")):(d.push(Com_Parameter.ResPath+e[a]),c.push("<script id="+m+" src="+Com_Parameter.ResPath+e[a]+"><\/script>"));break;case"css":r?(f.push(e[a]),c.push("<link rel=stylesheet href="+e[a]+">")):(f.push(Com_Parameter.ResPath+e[a]),c.push("<link rel=stylesheet href="+Com_Parameter.ResPath+e[a]+">"))}(Com_IncludeJSFiles(d),Com_IncludeCSSFiles(f))}function Com_IncludeJSFiles(e){for(var t=0;t<e.length;t++)n(e[t]);function n(e){var t={};window.XMLHttpRequest?t=new XMLHttpRequest:window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP")),t.open("GET",e,!1),t.onreadystatechange=function(){if(4==t.readyState&&(200==t.status||0==t.status)){var e=t.responseText;window.execScript?window.execScript(e):window.eval&&window.eval(e)}},t.send(null)}}function Com_IncludeCSSFiles(e){for(var t=0;t<e.length;t++)n(e[t]);function n(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)}}function Com_NewFile(e,t){if(null!=e&&null!=t){var n=location.href,r=Com_GetUrlParameter(n,"method");if("add"==Com_GetUrlParameter(n,"method")){var a=t.indexOf("?");0<a&&(t=t.substring(a));var i=t.split("&"),o=!1;for(a=0;a<i.length;a++){var s=i[a].indexOf("=");if(!(s<0)&&0<i[a].indexOf("=!{")){var l=Com_GetUrlParameter(n,i[a].substring(0,s));if(null!=l&&""!=l){o=!0;break}}}if(!o)null==(t=Dialog_Template(e,t,!1,!0))?(Com_Parameter.CloseInfo=null,Com_CloseWindow()):window.open(t,"_self")}else 0<r.indexOf("list")&&Dialog_Template(e,t)}}function Com_NewFileFromSimpleCateory(e,t){if(null!=e&&null!=t){var n=location.href,r=Com_GetUrlParameter(n,"method");if("add"==Com_GetUrlParameter(n,"method")){var a=t.indexOf("?");0<a&&(t=t.substring(a));var i=t.split("&"),o=!1;for(a=0;a<i.length;a++){var s=i[a].indexOf("=");if(!(s<0)&&0<i[a].indexOf("=!{")){var l=Com_GetUrlParameter(n,i[a].substring(0,s));if(null!=l&&""!=l){o=!0;break}}}if(!o)null==(t=Dialog_SimpleCategoryForNewFile(e,t,!1,!0))?(Com_Parameter.CloseInfo=null,Com_CloseWindow()):window.open(t,"_self")}else 0<r.indexOf("list")&&Dialog_SimpleCategoryForNewFile(e,t)}}function Com_RegisterFile(e){e="js/"+e,-1==Com_ArrayGetIndex(Com_Parameter.JsFileList,e)&&(Com_Parameter.JsFileList[Com_Parameter.JsFileList.length]=e)}function Com_ArrayGetIndex(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1}function Com_CloseWindow(){if(null!=Com_Parameter.CloseInfo)if("undefined"!=typeof seajs)seajs.use("lui/dialog",function(e){e.confirm(Com_Parameter.CloseInfo,function(e){e&&____Com_CloseWindow()})});else{if(!confirm(Com_Parameter.CloseInfo))return;____Com_CloseWindow()}else ____Com_CloseWindow()}function ____Com_CloseWindow(){for(var e=window;e;){if(void 0!==e.$dialog)return void e.$dialog.hide();if(e==e.parent)break;e=e.parent}try{for(var t=window,n=t.parent;null!=n&&n!=t;n=t.parent){if(null!=n.Frame_CloseWindow)return void n.Frame_CloseWindow(t);t=n}}catch(e){}try{top.opener=top,top.open("","_self"),top.close()}catch(e){}}function Com_SetWindowTitle(e){try{document.title=e}catch(e){}}function Com_AddEventListener(e,t,n){Com_Parameter.IE?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function Com_RemoveEventListener(e,t,n){Com_Parameter.IE?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)}function Com_OpenWindow(e,t,n,r){r||(Com_Parameter.IsAutoTransferPara&&(e=Com_CopyParameter(e,new Array("forward","s_path"))),0!=e.indexOf("https://")&&0!=e.indexOf("http://")&&(e=Com_SetUrlParameter(e,"s_css",Com_Parameter.Style))),e=e.replace("{","%7B").replace("}","%7D");var a=Com_GetEventObject();if(null!=a&&1==a.shiftKey&&(t="_blank",document.selection.empty()),"1"!=t&&"2"!=t&&"3"!=t&&"4"!=t||(t=parseInt(t,10)),null!=t&&""!=t&&1!=t&&2!=t&&3!=t&&4!=t)return null==n||""==n?window.open(e,t):window.open(e,t,n);var i=Com_RunMainFrameFunc("Frame_OpenWindow",e,t,n);return null==i&&(null==(t=Com_GetUrlParameter(location.href,"s_target"))&&(t="_blank"),i=window.open(e,t)),i}function Com_CopyParameter(e,t){if(""==location.search)return e;var n,r,a,i,o=location.search.substring(1).split("&");e:for(n=0;n<o.length;n++)if(-1!=(r=o[n].indexOf("="))){if(i=o[n].substring(0,r),null!=t)if(null!=t[0]){for(a=0;a<t.length;a++)if(i==t[a])continue e}else if(i==t)continue;null==Com_GetUrlParameter(e,i)&&(e=Com_SetUrlParameter(e,i,decodeURIComponent(o[n].substring(r+1))))}return e}function Com_Submit(r,a,i,e){if(e=e||{},!Com_Parameter.isSubmit){if(Com_Parameter.isSubmit=!0,Com_Submit.ajaxBeforeSubmit&&Com_Submit.ajaxBeforeSubmit(r),!bCancel){if(null!=r.onsubmit&&!r.onsubmit())return Com_Submit.ajaxCancelSubmit&&Com_Submit.ajaxCancelSubmit(r),Com_Parameter.isSubmit=!1;for(var t=0;t<Com_Parameter.event.submit.length;t++)if(!Com_Parameter.event.submit[t](r,a,i,e))return Com_Submit.ajaxCancelSubmit&&Com_Submit.ajaxCancelSubmit(r),Com_Parameter.isSubmit=!1;for(t=0;t<Com_Parameter.event.confirm.length;t++)if(!Com_Parameter.event.confirm[t](r,a,i,e))return Com_Submit.ajaxCancelSubmit&&Com_Submit.ajaxCancelSubmit(r),Com_Parameter.isSubmit=!1}var o=Com_Parameter.ContextPath+"sys/ui/resources/user.jsp";try{Com_Parameter.preOldSubmit=Com_GetEventObject()}catch(e){}if("undefined"==typeof seajs||void 0===top.seajs)return Com_SubmitForm(r,a,i);try{if("undefined"!=typeof CKEDITOR)for(instance in CKEDITOR.instances)CKEDITOR.instances[instance].updateElement();seajs.use("lui/dialog",function(n){$.ajax({url:o,type:"POST",dataType:"text",data:$(r).serializeArray(),async:!0,error:function(e){alert(Com_Parameter.ServiceNotAvailTip+e.statusText),Com_Parameter.isSubmit=!1},success:function(e){if(0!=(e=e&&e.replace(/[\r\n]/g,"")).indexOf("invalid_value"))return""!=e&&"anonymous"!=e?Com_SubmitForm(r,a,i):(n.confirm(Com_Parameter.SessionExpireTip,function(e){1==e&&window.open(Com_Parameter.ContextPath)}),Com_Parameter.isSubmit=!1);-1!=e.substr("invalid_value".length).indexOf("<script>")||-1!=e.substr("invalid_value".length).indexOf("<link>")||-1!=e.substr("invalid_value".length).indexOf("<iframe>")||-1!=e.substr("invalid_value".length).indexOf("<input>")||-1!=e.substr("invalid_value".length).indexOf("<select>")||-1!=e.substr("invalid_value".length).indexOf("<option>")||-1!=e.substr("invalid_value".length).indexOf("<form>")?alert(Data_GetResourceString("sys-config:sysConfig.rtf.illegal")):alert(e.substr("invalid_value".length));for(var t=0;t<Com_Parameter.event.submit_failure_callback.length;t++)Com_Parameter.event.submit_failure_callback[t]();return Com_Parameter.isSubmit=!1}})})}catch(e){return window.console&&window.console.log(e.message),Com_SubmitForm(r,a,i)}}}function Com_SubmitForm(e,t,n){var r,a=Com_CopyParameter(e.action);if(null!=n)for(n=n.split(":"),r=0;r<n.length;r++)a=Com_SetUrlParameter(a,n[r],null);null!=t&&(a=Com_SetUrlParameter(a,"method",t));var i=parseInt(Com_GetUrlParameter(a,"s_seq"),10);return a=Com_SetUrlParameter(a,"s_seq",i=isNaN(i)?1:i+1),e.action=a,Com_Submit.ajaxSubmit?(Com_Submit.ajaxSubmit(e),Com_Submit.ajaxAfterSubmit&&Com_Submit.ajaxAfterSubmit(e)):(Com_DisableFormOpts(),e.submit()),!0}function Com_DisableFormOpts(){var e=document.getElementsByTagName("INPUT");for(i=0;i<e.length;i++)"button"!=e[i].type&&"image"!=e[i].type||(e[i].disabled=!0);for(e=document.getElementsByTagName("A"),i=0;i<e.length;i++){e[i].disabled=!0,e[i].removeAttribute("href"),e[i].onclick=null;for(var t=0;t<e[i].childNodes.length;t++)1==e[i].childNodes[t].nodeType&&(e[i].childNodes[t].disabled=!0)}window.LUI&&window.LUI.fire({type:"topic",name:"btn_disabled",data:!0},window)}function Com_SubmitNoEnabled(e,t){if(!bCancel){if(null!=e.onsubmit&&!e.onsubmit())return!1;for(var n=0;n<Com_Parameter.event.submit.length;n++)if(!Com_Parameter.event.submit[n]())return!1;for(n=0;n<Com_Parameter.event.confirm.length;n++)if(!Com_Parameter.event.confirm[n]())return!1}var r=Com_CopyParameter(e.action);null!=t&&(r=Com_SetUrlParameter(r,"method",t));var a=parseInt(Com_GetUrlParameter(r,"s_seq"),10);return r=Com_SetUrlParameter(r,"s_seq",a=isNaN(a)?1:a+1),e.action=r,e.submit(),!0}function Com_GetUrlParameter(e,t){var n=new RegExp;n.compile("[\\?&]"+t+"=([^(&|#)]*)","i");var r=n.exec(e);return null==r?null:decodeURIComponent(r[1])}function Com_SetUrlParameter(e,t,n){var r=null;-1<e.indexOf("#")&&(r=e.substring(e.indexOf("#")),e=e.substring(0,e.indexOf("#")));var a=new RegExp;return a.compile("([\\?&]"+t+"=)[^&]*","i"),null==n?a.test(e)&&(e=e.replace(a,"")):(n=encodeURIComponent(n),a.test(e)?e=e.replace(a,"$1"+n):e+=(-1==e.indexOf("?")?"?":"&")+t+"="+n),"?"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),r&&(e+=r),e}function Com_GetCurDnsHost(){var e=location.protocol.toLowerCase()+"//"+location.hostname;return""!=location.port&&"80"!=location.port&&(e=e+":"+location.port),e}function Com_HtmlEscape(e){if(null==e||""==e)return"";var t=/&/g;return e=e.replace(t,"&amp;"),t=/\"/g,e=e.replace(t,"&quot;"),t=/'/g,e=e.replace(t,"&#39;"),t=/</g,e=e.replace(t,"&lt;"),t=/>/g,e.replace(t,"&gt;")}function Com_Trim(e){return e.replace(/(^\s*)|(\s*$)/g,"")}function Com_GetCurrentStyle(e,t){return Com_Parameter.IE?e.currentStyle[t]:window.getComputedStyle(e,null).getPropertyValue(t)}function Com_GetEventObject(){if(Com_Parameter.IE)return window.event;function e(e,t){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1}for(var t=Com_GetEventObject.caller,n=[],r=0;null!=t;){if(e(n,t)){if(10<r)return null;r++}if(t.arguments&&0<t.arguments.length){var a=t.arguments[0];if(a&&(a.constructor==Event||a.constructor==MouseEvent||a.constructor==KeyboardEvent||"object"==typeof a&&a.preventDefault&&a.stopPropagation))return a}t=t.caller,n.push(t)}return null}function Com_SetOuterHTML(e,t){if(Com_Parameter.IE)e.outerHTML=t;else if(""==t)try{e.parentNode.removeChild(e)}catch(e){}else{var n=e.ownerDocument.createRange();n.setStartBefore(e);var r=n.createContextualFragment(t);e.parentNode.replaceChild(r,e)}return t}function Com_SetInnerText(e,t){"textContent"in e?e.textContent=t:e.innerText=t}function Com_ReplaceParameter(str,obj){for(var re=new RegExp("!\\{([^()]+?)\\}"),arr=re.exec(str);null!=arr;arr=re.exec(str)){var value=eval("obj."+arr[1]);str=RegExp.leftContext+(null==value?"":encodeURIComponent(value))+RegExp.rightContext}return str}function Com_EventPreventDefault(){var e=Com_GetEventObject();null!=e&&(Com_Parameter.IE?e.returnValue=!1:e.preventDefault())}function Com_EventStopPropagation(){var e=Com_GetEventObject();null!=e&&(Com_Parameter.IE?e.cancelBubble=!0:e.stopPropagation())}function Com_RunMainFrameFunc(e,t,n,r,a){try{for(var i=window,o=i.parent;null!=o&&o!=i;o=i.parent){if(null!=o[e])return o[e](i,t,n,r,a);i=o}}catch(e){}return null}Com_RegisterFile("common.js"),Com_Parameter.IE=void 0!==window.ActiveXObject,Com_Parameter.isSubmit=!1,Com_Parameter.preOldSubmit=null;var bCancel=!1;function Com_FireLKSEvent(e,t){if(e="LKS_"+e,null!=Com_Parameter.event[e])for(var n=0;n<Com_Parameter.event[e].length;n++)Com_Parameter.event[e][n](t)}function Com_AttachLKSEvent(e,t){e="LKS_"+e,null==Com_Parameter.event[e]&&(Com_Parameter.event[e]=new Array),Com_Parameter.event[e][Com_Parameter.event[e].length]=t}if(Com_Parameter.event=new Array,Com_Parameter.event.submit=new Array,Com_Parameter.event.confirm=new Array,Com_Parameter.event.submit_failure_callback=new Array,Com_Parameter.Loaded=!1,Com_AddEventListener(window,"load",function(){Com_Parameter.Loaded=!0}),Com_AddEventListener(document,"keydown",function(){var e=Com_GetEventObject();if(8==e.keyCode){var t=e.srcElement||e.target;switch(t.tagName){case"INPUT":case"TEXTAREA":if(t.readOnly)return!1;break;default:return!0}}return!0}),Com_Parameter.IE&&!window.__Com_WinOpenFunc){var __Com_CookieInfo=function(e){if("about:blank"==e)return"";var t=e.indexOf("?");if(-1<t&&(e=e.substring(0,t)),-1<(t=e.indexOf("://"))){if(!(-1<(t=(e=e.substring(t+3)).indexOf("/"))))return"";e=e.substring(t)}var n=location.hostname;return(n=-1<(t=n.indexOf("."))?"; domain="+n.substring(t+1):"")+";path="+e};document.cookie="docReferer=; expires=Fri, 31 Dec 1999 23:59:59 GMT;"+__Com_CookieInfo(location.href);var __Com_WinOpenFunc=window.open;window.open=function(){var e=__Com_CookieInfo(arguments[0]);if(""!=e&&(document.cookie="docReferer="+encodeURIComponent(location.href)+";expires="+new Date((new Date).getTime()+5e3).toGMTString()+e),__Com_WinOpenFunc.apply)return __Com_WinOpenFunc.apply(window,arguments);switch(arguments.length){case 0:return null;case 1:return __Com_WinOpenFunc(arguments[0]);case 2:return __Com_WinOpenFunc(arguments[0],arguments[1]);default:return __Com_WinOpenFunc(arguments[0],arguments[1],arguments[2])}}}function sendToUrl(e,t,n,r){var a=null,i=!1;if(window.CustomHttpRequest)a=new CustomHttpRequest;else if(window.XMLHttpRequest)a=new XMLHttpRequest;else if(window.ActiveXObject)for(var o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],s=o.length-1;null==a&&0<=s;s--)try{a=new ActiveXObject(o[s])}catch(e){}if(null==a)return!0;a.onreadystatechange=function(){4==a.readyState&&(200==a.status?"true"==a.responseText?i=!0:(alert(Com_Parameter.SessionExpireTip),window.open(Com_Parameter.ContextPath)):alert(Com_Parameter.ServiceNotAvailTip))};try{return a.open("GET",e,!1),a.send(),i}catch(e){return alert(Com_Parameter.ServiceNotAvailTip+e),!1}}function Com_GetDate(e,t,n){return e?(r=(n="date"==(t=t||(-1<e.indexOf(" ")?"datetime":"date"))?n||Com_Parameter.Date_format:n||Com_Parameter.DateTime_format).indexOf("yyyy"),a=parseInt(e.substr(r,4),10),r=n.indexOf("MM"),i=parseInt(e.substr(r,2),10),r=n.indexOf("dd"),o=parseInt(e.substr(r,2),10),"datetime"!=t?new Date(a,i-1,o):(r=n.indexOf("HH"),s=parseInt(e.substr(r,2),10),r=n.indexOf("mm"),l=parseInt(e.substr(r,2),10),u=-1<(r=n.indexOf("ss"))?parseInt(e.substr(r,2),10):0,c=-1<(r=n.indexOf("SSS"))?parseInt(e.substr(r,3),10):0,new Date(a,i-1,o,s,l,u,c))):new Date;var r,a,i,o,s,l,u,c}function Com_Delete(n,r){var e=Com_Parameter.ComfirmDelete;if(0<Com_Parameter.SoftDeleteEnableModules.length&&n.modelName&&0<n.modelName.length&&-1<Com_Parameter.SoftDeleteEnableModules.indexOf(n.modelName)&&(e=Com_Parameter.ComfirmSoftDelete),n.comfirmMsg=e,n.type=n.type||"POST","undefined"!=typeof seajs&&void 0!==top.seajs)try{seajs.use("lui/dialog",function(t){t.confirm(n.comfirmMsg,function(e){1==e&&("POST"==n.type.toUpperCase()?__Com_Delete_Ajax(n,r,t):Com_OpenWindow(n.url,"_self"))})})}catch(e){__Com_Delete_Old(n,r)}else __Com_Delete_Old(n,r)}function __Com_Delete_Old(e,t){confirm(e.comfirmMsg)&&("POST"==e.type.toUpperCase()?__Com_Delete_Ajax(e,t):Com_OpenWindow(e.url,"_self"))}function __Com_Delete_Ajax(e,t,n){e.type=e.type||"POST",n&&(window.del_load=n.loading()),$.ajax({url:e.url,type:e.type,dataType:"json",data:e.data,error:function(e){void 0!==t&&"function"==typeof t?t.call(window,e):n?n.failure(Com_Parameter.OptFailureInfo):alert(Com_Parameter.OptFailureInfo)},success:function(e){void 0!==t&&"function"==typeof t?t.call(window,e):n?n.result(e):alert(Com_Parameter.OptSuccessInfo)},complete:function(){null!=window.del_load&&window.del_load.hide()}})}function Com_Delete_Get(e,t){Com_Delete({type:"GET",url:e,modelName:t||""})}if(Com_RegisterFile("data.js"),window.dojo||(Com_IncludeFile("xml.js"),Com_IncludeFile("address.js")),null==window.Data_XMLCatche)var Data_XMLCatche=new Array;function KMSSData(e){this.data=null==e?new Array:e.data,this.unparseNum=0,this.IsKMSSData=!0,this.UseCache=!0,this.IsEmpty=DataFunc_IsEmpty,this.AddHashMap=DataFunc_AddHashMap,this.AddHashMapArray=DataFunc_AddHashMapArray,this.AddBeanData=DataFunc_AddBeanData,this.AddXMLData=DataFunc_AddXMLData,this.AddKMSSData=DataFunc_AddKMSSData,this.AddFromField=DataFunc_AddFromField,this.AddXMLContent=DataFunc_AddXMLContent,this.Clear=DataFunc_Clear,this.Delete=DataFunc_Delete,this.Format=DataFunc_Format,this.IndexOf=DataFunc_IndexOf,this.SwitchIndex=DataFunc_SwitchIndex,this.UniqueTrimByKey=DataFunc_UniqueTrimByKey,this.Parse=DataFunc_Parse,this.GetHashMapArray=DataFunc_GetHashMapArray,this.PutToField=DataFunc_PutToField,this.PutToSelect=DataFunc_PutToSelect,this.SendToBean=DataFunc_SendToBean,this.SendToUrl=DataFunc_SendToUrl,this.toString=DataFunc_ToString}function Data_GetBeanNameFromService(e,t,n){var r="XMLGetDataService&service="+e+"&item="+t;return null!=n&&(r+="&orderby="+n),r}function DataFunc_IsEmpty(){return 0==this.GetHashMapArray().length}function Data_GetBeanNameFromServiceByKey(e,t,n,r,a){if(null==t||""==t)return"";var i="XMLGetDataByKeyService&service="+e+"&item="+n;return null!=r&&""!=r&&(i+="&key="+r),null!=a&&""!=a&&(a+="&key="+a),"!{"!=t.substring(0,2)&&(t=encodeURIComponent(t.replace(/;/g,","))),i+="&value="+t}function Data_GetBeanNameOfFindPage(e,t,n,r,a,i){var o="XMLGetPageService&service="+e+"&item="+t;return null!=n&&""!=n&&(o+="&pageno="+n),null!=r&&""!=r&&(o+="&rowsize="+r),null!=a&&""!=a&&(o+="&where="+a),null!=i&&""!=i&&(o+="&orderby="+i),o}function Data_GetRadomId(e){var t=new KMSSData;t.AddBeanData("XMLGetRadomIdService"+(null==e?"":"&count="+e));var n=t.GetHashMapArray();if(null==e)return n[0].value;for(var r=new Array,a=0;a<n.length;a++)r[a]=n[a].value;return r}function Data_GetResourceString(e,t){var n=new KMSSData,r="XMLGetResourceService&key="+e;t&&(r+="&locale="+t),n.AddBeanData(r);var a=n.GetHashMapArray();if(1==a.length)return a[0].key0;for(var i=new Array,o=0;o<a.length;o++)i[o]=a[o].key0;return i}function Data_GetOrgElementBeanNameByKey(e,t,n,r){return Data_GetBeanNameFromServiceByKey("sysOrgElementService",e,t,n,r)}function Data_GetOrgPersonBeanNameByKey(e,t,n,r){return Data_GetBeanNameFromServiceByKey("sysOrgPersonService",e,t,n,r)}function DataFunc_SwitchIndex(e,t){this.Parse();var n=this.data[e];return this.data[e]=this.data[t],this.data[t]=n,this}function DataFunc_Format(e,t,n){var r,a;if(this.Parse(),e=null==e?new Array("id","name"):e.split(":"),null==t)for(t=new Array,r=0;r<e.length;r++)t[r]="key"+r;for(n=null==n||n,r=0;r<this.data.length;r++)for(a=0;a<t.length;a++)null==this.data[r][e[a]]&&(null==this.data[r][t[a]]?n&&0<a&&(this.data[r][e[a]]=this.data[r][e[a-1]]):(this.data[r][e[a]]=this.data[r][t[a]],e[a]!=t[a]&&(this.data[r][t[a]]=null)));return this}function DataFunc_IndexOf(e,t){this.Parse();for(var n=0;n<this.data.length;n++)if(this.data[n][e]==t)return n;return-1}function DataFunc_Delete(e,t){return this.Parse(),t=null==t?1:t,this.data.splice(e,t),this}function DataFunc_UniqueTrimByKey(e,t){this.Parse(),e=null==e?"id":e;var n=(t=null==t?e:t).split(":"),r=new Array;e:for(var a=0;a<this.data.length;a++){for(var i=0;i<n.length&&(null==this.data[a][n[i]]||""==this.data[a][n[i]]);i++);if(i!=n.length){for(i=0;i<r.length;i++)if(this.data[a][e]==r[i][e])continue e;r[r.length]=this.data[a]}}return this.data=r,this}function DataFunc_GetHashMapArray(e){return this.Parse(e),this.data}function DataFunc_Clear(){return 0<this.data.length&&(this.data=new Array),this.unparseNum=0,this}function DataFunc_AddHashMap(e){return this.data[this.data.length]=e,this}function DataFunc_AddHashMapArray(e){return this.data=this.data.concat(e),this}function DataFunc_AddBeanData(e){return this.AddXMLData(XMLDATABEANURL+e)}function DataFunc_AddXMLData(e){return this.unparseNum++,this.data[this.data.length]=e,this}function DataFunc_AddKMSSData(e){return this.unparseNum+=e.unparseNum,this.data=this.data.concat(e.data),this}function DataFunc_AddFromField(e,t,n,r){var a,i,o,s,l,u;if(e=e.split(":"),"string"==typeof t)for(t=t.split(":"),a=0;a<t.length;a++)t[a]=document.getElementsByName(t[a]),r||(t[a]=t[a][0]);u=r?t[0].length:1;var c=new Array;for(a=0;a<u;a++)if(null==n)for(c[s=c.length]=new Array,i=0;i<e.length;i++)c[s][e[i]]=(r?t[i][a]:t[i]).value;else{for(l=new Array,i=0;i<e.length;i++)l[i]=(r?t[i][a]:t[i]).value.split(n);for(o=0;o<l[0].length;o++)for(c[s=c.length]=new Array,i=0;i<e.length;i++)c[s][e[i]]=l[i][o]}return this.AddHashMapArray(c),this}function DataFunc_AddXMLContent(e){var t=DataFunc_GetDataByXML(XML_CreateByContent(e));return this.data=this.data.concat(t),this}function DataFunc_PutToField(e,t,n,r){var a,i,o;this.Parse(),String.prototype.endWith||(String.prototype.endWith=function(e){return!(null==e||""==e||0==this.length||e.length>this.length)&&this.substring(this.length-e.length)==e});function s(e){var t={},n="id"in e,r="name"in e;for(var a in e){var i=a.toLowerCase();!n&&i.endWith("id")?t.id=e[a]:!r&&i.endWith("name")?t.name=e[a]:t[a]=e[a]}return t}if(e=e.split(":"),"string"==typeof t)for(t=t.split(":"),a=0;a<t.length;a++)t[a]=document.getElementsByName(t[a]),r||(t[a]=t[a][0]);for(a=0;a<t.length;a++)if(r)for(i=0;i<t[a].length;i++){if("undefined"!=typeof Address_isNewAddress&&Address_isNewAddress(t[a][i]))(l=Address_GetAddressObj(t[a][i].getAttribute("xform-name"),a))?l.emptyAddress(!1):emptyNewAddress(t[a][i].getAttribute("xform-name"),null,i,!1);else t[a][i].value=""}else{if("undefined"!=typeof Address_isNewAddress&&Address_isNewAddress(t[a]))(l=Address_GetAddressObj(t[a].getAttribute("xform-name")))?l.emptyAddress(!1):emptyNewAddress(t[a].getAttribute("xform-name"),null,0,!1);else t[a].value=""}for(r||null!=n||(n=";"),a=0;a<this.data.length;a++)for(i=0;i<e.length;i++){var l;if(o=null==this.data[a][e[i]]?"":this.data[a][e[i]],r){if(null!=t[i][a])if(t[i][a].value=o,"undefined"!=typeof Address_isNewAddress&&Address_isNewAddress(t[i][a]))if(l=Address_GetAddressObj(t[a][i].getAttribute("xform-name"),a)){var u=s(this.data[a]);l.addData(u,!1)}else{newAddressAdd($("[xform-name='mf_"+t[a][i].getAttribute("xform-name")+"']")[a],u=s(this.data[a]),null,!1)}}else if(t[i].value=0==a?o:t[i].value+n+o,"undefined"!=typeof Address_isNewAddress&&Address_isNewAddress(t[i]))if(l=Address_GetAddressObj(t[i].getAttribute("xform-name"))){u=s(this.data[a]);l.addData(u,!1)}else{newAddressAdd($("[xform-name='mf_"+t[i].getAttribute("xform-name")+"']")[0],u=s(this.data[a]),null,!1)}}return this}function emptyNewAddress(e,t,n,r){if(void 0===window.$||void 0===window.$.fn.manifest)return!1;null==n&&(n=0),null==r&&(r=!0);var a=e;"string"==typeof e?a="mf_"===e.substring(0,3)?$("[xform-name='"+e+"']")[n]:$("[xform-name='mf_"+e+"']")[n]:"newAddressHidden"===a.getAttribute("xform-type")&&(a=$("[xform-name='mf_"+a.name+"']")[n]);try{$(a).manifest("remove","li",r)}catch(e){}}function newAddressAdd(e,t,n,r){if(void 0===window.$||void 0===window.$.fn.manifest)return!1;if(null==n&&(n=0),"newAddress"===e.getAttribute("xform-type")){var a=$(e).data("propertyname");e=$("[xform-name='mf_"+a+"']")[n]}null==r&&(r=!0);try{$(e).manifest("add",t,null,!0,!1,r)}catch(e){}if(window.$KMSSValidation){var i=$(e).parents("form")[0]||document.forms[0];if(null!=i){var o=$.isFunction(window.$KMSSValidation)?$KMSSValidation(i):window.$KMSSValidation;(new Elements).valiateElement(e)&&o.validateElement(e)}}}function DataFunc_PutToSelect(e,t,n,r){this.Parse(),null==n&&(n=t),this.UniqueTrimByKey(t,t+":"+n);for(var a="string"==typeof e?document.getElementsByName(e)[0]:e,i=-1,o=0;o<this.data.length;o++)r==this.data[o][t]&&(i=o),a.options[o]=new Option(this.data[o][n],this.data[o][t]);for(;o<a.options.length;)a.options[o]=null;return-1<i&&(a.selectedIndex=i),this}function DataFunc_Parse(e){if(0<this.unparseNum)for(var t=this.data.length-1;0<=t;t--)if("string"==typeof this.data[t]){var n=null;if(this.UseCache&&(n=Data_XMLCatche[this.data[t]]),null==n){if(null!=e){var r=new Object;r.url=this.data[t],r.kmssdata=this,r.asyncFunction=e,XML_Create(this.data[t],DataFunc_XMLAsyncFunction,r);continue}n=DataFunc_GetDataByXML(XML_Create(this.data[t])),Data_XMLCatche[this.data[t]]=n}var a=this.data.slice(0,t),i=this.data.slice(t+1);this.data=a.concat(n,i),this.unparseNum--}return this}function DataFunc_XMLAsyncFunction(e,t){var n=t.url,r=t.kmssdata,a=DataFunc_GetDataByXML(e);Data_XMLCatche[n]=a;for(var i=0;i<r.data.length&&r.data[i]!=n;i++);var o=r.data.slice(0,i),s=r.data.slice(i+1);r.data=o.concat(a,s),r.unparseNum--,0==r.unparseNum&&t.asyncFunction(r)}function DataFunc_GetDataByXML(e,t){for(var n=XML_GetNodesByPath(e,t||"/dataList/data"),r=new Array,a=0;a<n.length;a++){r[a]=new Array;for(var i=n[a].attributes,o=0;o<i.length;o++)r[a][i[o].nodeName]=i[o].nodeValue}return r}function DataFunc_SendToUrl(e,t,n){var r=null,a=!0;if(null!=n&&(a=n),window.CustomHttpRequest)r=new CustomHttpRequest;else if(window.XMLHttpRequest)(r=new XMLHttpRequest).overrideMimeType&&r.overrideMimeType("text/xml");else if(window.ActiveXObject)for(var i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],o=i.length-1;null==r&&0<=o;o--)try{r=new ActiveXObject(i[o])}catch(e){}if(null==r)return!1;r.onreadystatechange=function(){if(4==r.readyState){if(200!=r.status)return!1;t(r)}};var s=e.search(/[&?]/);if(0<s){var l=e.substr(s);e=e.substring(0,s)}r.open("POST",e,a),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var u="";u+=l,this.Parse();for(o=0;o<this.data.length;o++)for(var c in this.data[o])u+="&"+c+"="+encodeURIComponent(this.data[o][c]);return r.send(u.substring(1)),!0}function DataFunc_SendToBean(e,o){this.SendToUrl(XMLDATABEANURL+e,function(e){var t=XML_GetNodesByPath(e.responseXML,"/dataList/data");rtnVal=new Array;for(var n=0;n<t.length;n++){rtnVal[n]=new Array;for(var r=t[n].attributes,a=0;a<r.length;a++)rtnVal[n][r[a].nodeName]=r[a].nodeValue}var i=new KMSSData;i.AddHashMapArray(rtnVal),o(i)})}function DataFunc_ToString(){for(var e="",t=0;t<this.data.length;t++){for(var n in e+=t+": ",this.data[t])e+=n+"="+this.data[t][n]+"; ";e+="\r\n"}return e}Com_RegisterFile("doclist.js"),Com_IncludeFile("data.js"),window.dojo||(Com_IncludeFile("jquery.js"),Com_IncludeFile("doclistdnd.js"));var DocList_Info=new Array("TABLE_DocList"),DocList_TableInfo=new Array,_uploadProgressflag=!1,_uploadNewProgress=!1;function DocList_GetSum(e,t){for(var n="string"!=typeof t,r=e.getElementsByTagName("INPUT"),a=0,i=0;i<r.length;i++){if(n){if(!t.test(r[i].name))continue}else if(r[i].name!=t)continue;var o=parseFloat(r[i].value);isNaN(o)||(a+=o)}return a}function DocList_AddRow(e,t,n){null==e?e=DocListFunc_GetParentByTagName("TABLE"):"string"==typeof e&&(e=document.getElementById(e)),null==t&&(t=new Array);var r,a,i=DocList_TableInfo[e.id],o=i.lastIndex-i.firstIndex,s=e.insertRow(i.lastIndex);i.lastIndex++,s.className=i.className;for(var l=0;l<i.cells.length;l++)(a=s.insertCell(-1)).className=i.cells[l].className,a.align=i.cells[l].align?i.cells[l].align:"",a.vAlign=i.cells[l].vAlign?i.cells[l].vAlign:"",r=i.cells[l].isIndex?null==(r=null==t[l]?i.cells[l].innerHTML:t[l])||""==r?""+(1+o):(r=DocListFunc_ReplaceIndex(r,1+o)).replace("{1}",1+o):DocListFunc_ReplaceIndex(null==t[l]?DocList_formatHtml(i.cells[l]):t[l],o),a.innerHTML=r,window.dojo||Address_QuickSelectionDetail(r);function u(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}if(null!=n)for(var c in n){var d=n[c],f=c;c=DocListFunc_ReplaceIndex(c,o);var m=document.getElementsByName(c);e:for(l=0;l<m.length;l++){for(var p=m[l].parentNode;null!=p&&p!=s;p=p.parentNode);if(null!=p){switch(m[l].tagName){case"INPUT":if("radio"==m[l].type){if(m[l].value!=d)break;m[l].checked=!0;break e}if("checkbox"==m[l].type){var h=d?d.split(";"):[];m[l].checked=u(h,m[l].value);break}case"TEXTAREA":var v=m[l].name;if(v){var _=document.getElementsByName("_"+v);_&&0<_.length&&"checkbox"!==_[0].type&&(_[0].value=d)}m[l].value=d;break;case"SELECT":for(var g=0;g<m[l].options.length;g++)m[l].options[g].value==d&&(m[l].options[g].selected=!0)}if(Address_isNewAddress(m[l])){var x=Address_GetAddressObj(c,l),y=f.replace("Name","Id");y==f&&(y=f.replace(".name",".id"));var w=n[y].split(";"),D=d.split(";"),C=new Array;for(g=0;g<w.length;g++)null!=w[g]&&""!=w[g]&&null!=D[g]&&""!=D[g]&&C.push({id:w[g],name:D[g]});try{x.emptyAddress(!1),x.idField.value=n[y],x.nameField.value=d,x.addData(C)}catch(e){}}}}}return DocList_RemoveDeleteAllFlag(e),$(e).trigger($.Event("table-add"),s),$(e).trigger($.Event("table-add-new"),{row:s,vals:n,table:e}),window.doclistdnd&&i.tbdraggable&&window.doclistdnd.rebuild(i.DOMElement),DocList_ResetOptCol(i),s}function DocList_ResetFieldWidth(e){for(var t=e.getElementsByTagName("INPUT"),n=0;n<t.length;n++)0<t[n].offsetWidth&&(t[n].style.width=t[n].offsetWidth);for(t=e.getElementsByTagName("TEXTAREA"),n=0;n<t.length;n++)0<t[n].offsetWidth&&(t[n].style.width=t[n].offsetWidth)}function DocList_ResetOptCol(e){if(!e||!e.compatible){var t=e.DOMElement,n=t.rows[0];if(null!=n&&null!=n.cells){for(var r=0,a=0;a<n.cells.length;a++){var i=n.cells[a],o=$(i).attr("colspan");if(o){var s=parseInt(o);isNaN(s)?r++:r+=s}else r++}var l=t.rows[t.rows.length-1];"optRow"==l.getAttribute("type")&&0<l.cells.length&&l.cells[0].setAttribute("colspan",r)}}}function DocList_Compatible(e){e.compatible=!0;var t=e.DOMElement,n=$(t).find('[type="titleRow"]'),r=$(t).find('[type="optRow"]');if(0<n.length){var a=n.find("td:last"),i=$('<span style="cursor:pointer" onclick="DocList_AddRow();XFom_RestValidationElements();"></span>');i.addClass("optStyle opt_add_compatible_style").attr("title",Data_GetResourceString("doclist.add")),a.append(i)}0<r.length&&r.remove()}function DocList_formatHtml(e){if(e){var t=$(e);$("input,button",t).each(function(){this.setAttribute("value",this.value)}),$("textarea",t).each(function(){this.setAttribute("value",this.value),$(this).text(this.value)}),$(":radio,:checkbox",t).each(function(){this.checked?this.setAttribute("checked","checked"):this.removeAttribute("checked")}),$("option",t).each(function(){this.selected?this.setAttribute("selected","selected"):this.removeAttribute("selected")});var n=t[0].innerHTML;return $(":radio",t).each(function(){this.setAttribute("data-name",this.getAttribute("name")),this.setAttribute("name","______"+this.getAttribute("name"))}),n}}function DocList_getFiledValue(e,t){var n=$("[name='"+t+"']:input",e);if(n.is(":text"))return n.val();if(n.is(":radio")||n.is(":checkbox")){var r="";return n.each(function(e,t){var n=$(t);n.is(":checked")&&(r+=";"+n.val())}),""!=r?r.substring(1):""}return n.val()}function DocList_CopyRow(r){null==r&&(r=DocListFunc_GetParentByTagName("TR"));var a={};$(r).find(":input").each(function(e,t){$(t);if(t&&t.name){var n=t.name.replace(/\[\d+\]/g,"[!{index}]");n=n.replace(/\.\d+\./g,".!{index}."),a[n]=DocList_getFiledValue(r,t.name)}});var e=DocListFunc_GetParentByTagName("TABLE",r),t=DocList_AddRow(e,null,a);setTimeout(function(){if("function"==typeof $KMSSValidation){var n=$KMSSValidation();$(t).find(":input").each(function(e,t){n.validateElement(t)})}},500);var n=$(t).find("input[type='hidden'][name$='.fdId)'],input[type='hidden'][name$='.fdId']");0<n.length&&(n[n.length-1].value=""),$(e).trigger($.Event("table-copy"),r)}function DocList_DeleteRow(e){if(null==e&&(e=DocListFunc_GetParentByTagName("TR")),"optRow"!=e.getAttribute("type")){var t=DocListFunc_GetParentByTagName("TABLE",e);$(t).trigger($.Event("table-delete"),e);var n=DocList_TableInfo[t.id],r=Com_ArrayGetIndex(t.rows,e),a=DocList_GetRowIndex(n,e);t.deleteRow(r),n.lastIndex--;for(var i=r;i<n.lastIndex;i++)DocListFunc_RefreshIndex(n,i,a++);$(t).trigger($.Event("table-delete-finish"),{row:e,table:t})}}function DocList_SelectAllRow(e){var t=e.checked,n=DocListFunc_GetParentByTagName("TABLE",e);$(n).find("input[name='DocList_Selected']").each(function(){this.checked=t})}function DocList_SelectRow(e){var t=e.checked,n=DocListFunc_GetParentByTagName("TABLE",e),r=$(n).find("input[name='DocList_SelectAll']");t?$(n).find("input[name='DocList_Selected']:checked").size()==$(n).find("input[name='DocList_Selected']").size()&&r.prop("checked",t):r.prop("checked",t)}function DocList_CheckedSelectAll(e){var t=$(e).find("input[name='DocList_SelectAll']");$(e).find("input[name='DocList_Selected']:checked").size()==$(e).find("input[name='DocList_Selected']").size()?t.prop("checked",!0):t.prop("checked",!1)}function DocList_BatchDeleteRow(){var e=DocListFunc_GetParentByTagName("TR"),t=DocListFunc_GetParentByTagName("TABLE",e),n=$("input[name='DocList_Selected']:checked",t);DocList_TableInfo[t.id];if(0!=n.size()){for(var r=n.size()-1;0<=r;r--){var a=n.eq(r).closest("tr");a&&0<a.size()&&DocList_DeleteRow_ClearLast(a[0])}$(t).find("input[name='DocList_SelectAll']").each(function(){this.checked=!1}),$(t).trigger($.Event("table-batchDelete"),t)}else alert(Data_GetResourceString("page.noSelect"))}function DocList_DeleteRow_ClearLast(e){null==e&&(e=DocListFunc_GetParentByTagName("TR"));var t=DocListFunc_GetParentByTagName("TABLE",e);if(t){var n=DocList_TableInfo[t.id],r=Com_ArrayGetIndex(t.rows,e),a=DocList_GetRowIndex(n,e);n.lastIndex--,t.deleteRow(r),$(t).trigger($.Event("table-delete"),e),$(t).trigger($.Event("table-delete-new"),{row:e,table:t});for(var i=r;i<n.lastIndex;i++)DocListFunc_RefreshIndex(n,i,a++);n.lastIndex-n.firstIndex==0&&DocList_AddDeleteAllFlag(t),window.focus()}}function DocList_GetRowIndex(e,t){return $(t).index()+1-e.firstIndex}function DocList_GetDeleteAllFlagName(e){for(var t=null,n=DocList_TableInfo[e.id],r=0;r<n.cells.length;r++){var a=n.cells[r].innerHTML;if(-1<a.indexOf("!{index}")){/<([b-z][^>]*)\sname\s*=\s*("[^"]+!{index}[^"]+"|'[^']+!{index}[^']+'|[^\s]+!{index}[^\s]+)([^>]*)>/gi.exec(a);var i=RegExp.$2;if(null!=i&&0<i.length){t=i.replace(/[\[\.]!\{index\}[\]\.]\S[^\)]*/gi,"__autolist__");break}}}return null==t||0!=t.indexOf('"')&&0!=t.indexOf("'")||(t=t.substring(1,t.length-1)),t}function DocList_AddDeleteAllFlag(e){var t=e.id+"__autolist__",n=DocList_GetDeleteAllFlagName(e);if(null!=n){var r=document.createElement("input");r.type="hidden",r.id=t,r.name=n,r.value="true",e.rows[0].cells[0].appendChild(r)}}function DocList_RemoveDeleteAllFlag(e){var t=e.id+"__autolist__",n=document.getElementById(t);n&&n.parentNode.removeChild(n)}function DocList_MoveRow(e,t){null==t&&(t=DocListFunc_GetParentByTagName("TR"));var n=DocListFunc_GetParentByTagName("TABLE",t),r=DocList_TableInfo[n.id],a=Com_ArrayGetIndex(n.rows,t),i=a+e,o=DocList_GetRowIndex(r,t),s=DocList_GetRowIndex(r,n.rows[i]);if(1==e){if(i>=r.lastIndex)return alert(Data_GetResourceString("doclist.bottom.tip")),"bottom";n.rows[a].parentNode.insertBefore(n.rows[i],n.rows[a])}else{if(i<r.firstIndex)return alert(Data_GetResourceString("doclist.top.tip")),"top";n.rows[a].parentNode.insertBefore(n.rows[a],n.rows[i])}DocListFunc_StoreCheckedProp(n),DocListFunc_RefreshIndex(r,a,o),DocListFunc_RefreshIndex(r,i,s),DocListFunc_ReloadCheckedProp(n),$(n).trigger($.Event("table-move"),[a,i])}function DocListFunc_StoreCheckedProp(e){var t=$(e);$(":radio",t).each(function(){this.checked?this.setAttribute("___checked","checked"):this.removeAttribute("___checked")})}function DocListFunc_ReloadCheckedProp(e){var t=$(e);$(":radio",t).each(function(){this.getAttribute("___checked")&&"checked"==this.getAttribute("___checked")&&(this.checked=!0,this.removeAttribute("___checked"))})}function DocList_MoveRowBySelect(e){var t=DocListFunc_GetParentByTagName("TR"),n=DocListFunc_GetParentByTagName("TABLE",t),r=$("input[name='DocList_Selected']:checked",n);if(0!=r.size()){if(-1==e)for(var a=0;a<r.size();a++){if((o=r.eq(a).closest("tr"))&&0<o.size()){var i=DocList_MoveRow(e,o[0]);if("top"==i)break}}if(1==e)for(a=r.size()-1;0<=a;a--){var o;if((o=r.eq(a).closest("tr"))&&0<o.size()&&"bottom"==(i=DocList_MoveRow(e,o[0])))break}}else alert(Data_GetResourceString("page.noSelect"))}function DocList_GetPreField(e,t,n){if(null==e)return null;if(null!=e.name)if(n){if(e.name==t)return e}else if(-1<e.name.indexOf(t))return e;var r=e.previousSibling;if(null==r)return DocList_GetPreField(e.parentNode,t,n);for(;null!=r.lastChild;)r=r.lastChild;return DocList_GetPreField(r,t,n)}function DocList_GetSufField(e,t,n){if(null==e)return null;if(null!=e.name)if(n){if(e.name==t)return e}else if(-1<e.name.indexOf(t))return e;var r=e.nextSibling;if(null==r)return DocList_GetSufField(e.parentNode,t,n);for(;null!=r.firstChild;)r=r.firstChild;return DocList_GetSufField(r,t,n)}function DocList_GetRowField(e,t){var n=DocList_GetRowFields(e,t);return null==n?null:n[0]}function DocList_GetRowFields(e,t){if(!/\[\d+\]/g.test(t)&&!/\.\d+\./g.test(t))return document.getElementsByName(t);var n=$(e).closest("tr")[0],r=$(n).find('[name="'+t+'"]');if(0<r.length){var a=[];return r.each(function(){a.push(this)}),a}var i=$(n).closest("table")[0];if(!i)return document.getElementsByName(t);var o=DocList_TableInfo[i.id];if(null==o)return document.getElementsByName(t);var s=Com_ArrayGetIndex(i.rows,n),l=t.replace(/\[\d+\]/g,"[!{index}]").replace(/\.\d+\./g,".!{index}.");if(l=l.replace(/!\{index\}/g,s-o.firstIndex),0<(r=$(n).find('[name="'+l+'"]')).length){a=[];return r.each(function(){a.push(this)}),a}return null}function DocList_downLoadExcel(e,t,n,r,a){null==e?e=DocListFunc_GetParentByTagName("TABLE"):"string"==typeof e&&(e=document.getElementById(e));var i,o=[];if(r=!r||"1"!=r&&"true"!=r?"false":"true",a)i=a;else{i=DocList_TableInfo[e.id].fieldNames;for(var s=0;s<i.length;s++){var l=DocList_parseProName(t,i[s],r);o.push(l)}}o=DocList_promiseUnique(o),Com_OpenWindow(Com_Parameter.ContextPath+"sys/transport/detailTableExport.do?method=deTableExportTemplate&modelName="+n+"&itemName="+t+"&propertyName="+o+"&isXform="+r,"_parent")}function DocList_promiseUnique(e){for(var t,n=[],r={},a=0;a<e.length;a++)e[a]&&(r[t=e[a]]||(n.push(t),r[t]=!0));return n}function DocList_parseProName(e,t,n){if(n&&"true"==n){var r="extendDataFormInfo.value("+e+".!{index}.fd_";if(-1<t.lastIndexOf(r))return"fd_"+t.replace(r,"").replace(")","")}else if(-1<t.lastIndexOf(e))return t.substring(t.lastIndexOf(".")+1)}function DocList_exportExcel(e,t,n,r,a){if(void 0===e)return!1;r=!r||"1"!=r&&"true"!=r?"false":"true";var i=[];0!=(i=a||DocList_GetDetailsTableXformflag(null,null,!1)).length?DocList_PostForm(Com_Parameter.ContextPath+"sys/transport/detailTableExport.do?method=detailTableExportData",{fdId:e,modelName:n,itemName:t,isXform:r,field:JSON.stringify(i)},"_parent"):alert("当前明细表不含可供导出的数据！")}function DocList_exportExcelInEdit(e,t,n,r,a){null==e?e=DocListFunc_GetParentByTagName("TABLE"):"string"==typeof e&&(e=document.getElementById(e)),r=!r||"1"!=r&&"true"!=r?"false":"true";var i=$("input[name='DocList_Selected']:checked",e);if(0!=i.size()){if("true"==r){for(var o=["xform_relation_attachment","divcontrol","xform_validator"],s={},l=[],u=[],c=0;c<i.length;c++){for(var d=[],f=DocListFunc_GetParentByTagName("TR",i[c]),m=$(f).find("xformflag"),p=0;p<m.length;p++){var h=m[p],v=$(h).attr("flagtype");if(!(-1<o.indexOf(v))){var _=DocList_XformHandleControl(v,$(h));_&&d.push(_)}}l.push(d)}if(0<l.length){var g=l[0];if(0==g.length)return void alert("当前明细表不含可供导出的数据");for(c=0;c<g.length;c++)u.push(g[c].id)}s.data=l,s.ids=u,DocList_PostForm(Com_Parameter.ContextPath+"sys/transport/detailTableExport.do?method=detailTableExportDataInEdit",{export:JSON.stringify(s),itemName:t,fileName:n,isXform:r},"_parent")}}else alert(Data_GetResourceString("page.noSelect"))}function DocList_PostForm(e,t,n){var r=document.createElement("form");for(var a in r.action=e,r.target=n,r.method="post",r.style.display="none",t){var i=document.createElement("textarea");i.name=a,i.value=t[a],r.appendChild(i)}document.body.appendChild(r),r.submit(),$(r).remove()}function DocList_XformHandleControl(e,t){if(e){var n={type:e,value:""},r=t.attr("flagid");if(null==r)return;n.id=r.substring(r.lastIndexOf(".")+1);if("xform_address"==e||"xform_new_address"==e){var a=t.find("[name*='"+n.id+".name']").val();a&&(n.value+=a)}else if(-1<["xform_radio","xform_checkbox","xform_relation_radio","xform_relation_checkbox"].indexOf(e)){for(var i=t.find("input[name*='"+n.id+"']:checked"),o=0;o<i.length;o++)n.value+=$(i[o]).closest("label").text().replace(/\n/g,"")+";";0<n.value.length&&(n.value=n.value.substring(0,n.value.length-1))}else if(-1<["xform_select","xform_relation_select"].indexOf(e)){var s=t.find("select[name*='"+n.id+"'] option:selected");n.value=s.text()}else{var l=t.find("[name*='"+n.id+"']");0<l.length&&(n.value+=l.val())}return n}}function DocList_GetDetailsTableXformflag(e,t,l){if(null==e?e=DocListFunc_GetParentByTagName("TABLE"):"string"==typeof e&&(e=document.getElementById(e)),null==t){var n=$(e).find("[type='templateRow']");0<n.length&&(t=n[0])}var u=[];if(t){var c=["xform_relation_attachment","divcontrol","xform_validator"];$(t).find("xformflag").each(function(){var e=$(this).attr("flagtype");if(!(-1<jQuery.inArray(e,c))){if(l){var t="address"==$(this).attr("_xform_type"),n=$(this).find("input[type!='hidden'],textarea,select");if(0==n.length)return;for(var r=!1,a=0;a<n.length;a++){var i=n[a];if($(i).attr("name"))if(t){if("true"==$(i).attr("_edit")){r=!0;break}}else if("none"!=$(i).css("display")&&(null==$(i).attr("readOnly")||0==$(i).attr("readOnly"))){r=!0;break}}if(!r)return}if($(this).attr("flagid")){var o={},s=$(this).attr("flagid");s=s.substring(s.lastIndexOf(".")+1),o.fieldId=s,o.fieldType=$(this).attr("flagtype"),u.push(o)}}})}return u}function DocList_importExcel(e,t,n,r,a){null==e?e=DocListFunc_GetParentByTagName("TABLE"):"string"==typeof e&&(e=document.getElementById(e)),r=!r||"1"!=r&&"true"!=r?"false":"true";var i=[],o=DocList_AddRow(e.id);o&&(o.style.display="none");var s=[];if("true"==r){s=DocList_GetDetailsTableXformflag(e,o,!0);for(var l=["xform_chinavalue","xform_calculate","xform_relation_radio","xform_relation_checkbox","xform_relation_select","xform_relation_choose"],u=0;u<s.length;u++){var c=s[u];-1<$.inArray(c.fieldType,l)||i.push(c.fieldId)}}else{if(null!=a)i=a;else{var d=DocList_TableInfo[e.id].fieldNames;for(u=0;u<d.length;u++){var f=DocList_parseProName(t,d[u],r);if(f&&null!=f&&""!=f){var m=$(o).find("[name*='"+f+"']");if(m&&1==m.length){if(m.attr("chinavalue")&&"true"==m.attr("chinavalue"))continue;if(m.attr("calculation")&&"true"==m.attr("calculation"))continue}i.push(f)}}}i=DocList_promiseUnique(i);for(u=0;u<i.length;u++){var p=$(o).find("[name*='"+i[u]+"'][type!='hidden']");p[0]&&p[0].type&&s.push({fieldType:p[0].type,fieldId:i[u]})}}window.setTimeout(function(){DocList_DeleteRow(o)},310),window._paramJsonExcelUpload={modelName:n,itemName:t,field:JSON.stringify(s),propertyName:i,optTBId:e.id,maxLimitedNum:"200",isXform:r};var h=.5*document.documentElement.clientHeight,v=.6*document.documentElement.clientWidth;seajs.use(["lui/dialog"],function(e){e.iframe("/sys/transport/sys_transport_xform/SysTransportImportDetailTable_upload.jsp",Data_GetResourceString("sys-transport:sysTransport.import.dataImport"),null,{width:v,height:h,close:!1})})}function DocList_importSingleData(e,t,n,r,a){var i=new Object;DocList_TableInfo[e];if(a&&null!=a&&a+""=="true"){for(var o in t)for(var s=0;s<n.length;s++)if(-1<n[s].lastIndexOf(o)){var l=$(r).find("[name*='"+o+"']");if(-1==o.indexOf(".name")&&l&&l[0]&&1==l[0].readOnly&&("true"!=l[0].getAttribute("calculation")||"true"!=l[0].getAttribute("autocalculate")))break;if(null!=t[o]&&(i[n[s]]=t[o]),0==n[s].indexOf("_"))continue;break}DocList_AddRow(e,null,i)}else{for(var o in t)for(s=0;s<n.length;s++)if(-1<n[s].lastIndexOf(o)&&n[s].substring(n[s].lastIndexOf(".")+1)==o){t[o]&&null!=t[o]&&(i[n[s]]=t[o]);break}DocList_AddRow(e,null,i)}}function DocList_loopImportData(e,t,n,r,a,i,o){if(r<a){var s=t[r];r++,DocList_importSingleData(e,s,n,i,o),DocList_loopImportData(e,t,n,r,a,i,o)}else"undefined"!=typeof XForm_CalculationDoExecutorAll&&XForm_CalculationDoExecutorAll instanceof Function&&XForm_CalculationDoExecutorAll()}function DocList_loopImportDataByNum(e,t,n,r,a,i,o,s,l){if(o+i<t.length){_uploadNewProgress||1==_uploadNewProgress?DocList_loopImportDataNew(e,t,n,o,o+i,s,l):DocList_loopImportData(e,t,n,o,o+i,s,l);var u=parseInt((o+i)/t.length*100);$(a).css("width",u+"%"),window.setTimeout(function(){r.contentWindow?DocList_loopImportDataByNum(e,t,n,r,a,i,o+=i,s,l):window.setTimeout(function(){DocList_DeleteRow(s),s=null},310)},0)}else _uploadNewProgress||1==_uploadNewProgress?DocList_loopImportDataNew(e,t,n,o,t.length,s,l):DocList_loopImportData(e,t,n,o,t.length,s,l),r&&null!=r&&(r.contentDocument.getElementById("importSuccessed").style.display="",r.contentWindow.importExcelStatus="finishImported"),window.setTimeout(function(){DocList_DeleteRow(s),s=null},310),$(a).css("width","100%")}function DocList_importData(optTBId,contentList,isXform,maxLimitedNum){var jsonData=eval(contentList),tbObj=DocList_TableInfo[optTBId],subIframe;window.frames.dialog_iframe&&window.frames.dialog_iframe.getElementsByTagName("iframe")[0]&&(subIframe=window.frames.dialog_iframe.getElementsByTagName("iframe")[0]);var importType=subIframe.contentWindow.$("input[name='importType']:checked").val();importType&&"update"==importType&&$(tbObj.DOMElement).children().children("[invalidrow!='true']").each(function(){DocList_DeleteRow_ClearLast(this)});var limitImportNum=200;if(maxLimitedNum&&(limitImportNum=maxLimitedNum),jsonData.length>=limitImportNum){if(!confirm("系统检测到导入的文档数据行超过"+limitImportNum+"行，由于明细表性能问题，单次导入最多为"+limitImportNum+"条！你确定需要导入吗？"))return subIframe.contentWindow.importExcelStatus="unUpload",!1}else{var importedNum=tbObj.lastIndex+jsonData.length-1;if(limitImportNum<importedNum&&!confirm(Data_GetResourceString("sys-transport:sysTransport.title.overDetailTableMaxNum")))return subIframe.contentWindow.importExcelStatus="unUpload",!1}var fieldNames=tbObj.fieldNames;if(fieldNames=DocList_promiseUnique(fieldNames),""!=jsonData&&null!=jsonData){var uploadProcess;subIframe&&null!=subIframe&&(uploadProcess=subIframe.contentDocument.getElementById("bar"),subIframe.contentDocument.getElementById("resultTr").style.display="",subIframe.contentDocument.getElementById("progressBar").style.display="",subIframe.contentDocument.getElementById("progress").style.display="");try{var maxImportNum=10,temp=DocList_AddRow(optTBId);temp&&(temp.style.display="none"),DocList_loopImportDataByNum(optTBId,jsonData,fieldNames,subIframe,uploadProcess,maxImportNum,0,temp,isXform),subIframe.contentDocument.getElementById("continueImport").style.display="none"}catch(e){return void(subIframe.contentWindow.importExcelStatus="unUpload")}}}function DocList_Xform_DetailsTable_AddInputPosition(e,t,n){if(null==e)return!1;null==n&&(n=$KMSSValidation(document.forms["${param.formName}"]));var r=document.getElementById(e),a=e+"_position",i="<input id='"+a+"' type='text' style='display:table-cell;width:0px;height:1px;border:0px;' subject='"+Data_GetResourceString("sys-xform:sysForm.detailsTable.tipMessage")+"' validate='"+t+"'/>";$(r).after(i),DocList_Xform_DetailsTable_SetInputValue($("#"+a),e),DocList_Xform_DetailsTable_ValidateListen(a,n,e)}function DocList_Xform_DetailsTable_ValidateListen(e,n,t){var r;if(null!=e&&null!=n){r=null==t?"table[showStatisticRow]":"#"+t;var a=$("#"+e);$(document).on("table-delete-new table-add-new",r,function(e,t){t&&t.table&&(DocList_Xform_DetailsTable_SetInputValue(a,t.table.id),n.validateElement(a[0]))})}}function DocList_Xform_DetailsTable_SetInputValue(e,t){var n=DocList_TableInfo[t];if(n&&0==n.lastIndex-n.firstIndex)return void e.val("");e.val(1)}function DocListFunc_GetParentByTagName(e,t){for(null==t&&(t=Com_Parameter.IE?event.srcElement:Com_GetEventObject().target);null!=t;t=t.parentNode)if(t.tagName==e)return t}function DocListFunc_ReplaceIndex(e,t){return null==e?"":(e=""+e).replace(/!\{index\}/g,t)}function DocListFunc_RefreshIndex(e,t,n){null==n&&(n=t);for(var r=0;r<e.cells.length;r++)if(e.cells[r].isIndex){var a=e.cells[r].innerHTML;a=null==a||""==a?""+n:(a=DocListFunc_ReplaceIndex(a,n)).replace("{1}",n),e.DOMElement.rows[t].cells[r].innerHTML=a}DocListFunc_RefreshFieldIndex(e,t,"INPUT"),DocListFunc_RefreshFieldIndex(e,t,"TEXTAREA"),DocListFunc_RefreshFieldIndex(e,t,"SELECT"),DocListFunc_RefreshFormFieldIndex(e,t,"DIV","id"),DocListFunc_RefreshFormFieldIndex(e,t,"xformflag","flagid"),DocListFunc_RefreshFormFieldIndex(e,t,"xformflag","id"),DocListFunc_RefreshFormFieldIndex(e,t,"DIV","__id"),DocListFunc_RefreshFormFieldIndex(e,t,"DIV","__name")}function DocListFunc_RefreshFieldIndex(e,t,n){function r(e,t,n){if($(e).attr(t)){var r=$(e).attr(t).replace(/\[\d+\]/g,"[!{index}]");r=(r=r.replace(/\.\d+\./g,".!{index}.")).replace(/!\{index\}/g,n),$(e).attr(t,r)}}for(var a=e.DOMElement.rows[t].getElementsByTagName(n),i=0;i<a.length;i++){if(a[i].name){var o=a[i].name.replace(/\[\d+\]/g,"[!{index}]");o=o.replace(/\.\d+\./g,".!{index}.");var s=Com_ArrayGetIndex(e.fieldFormatNames,o);-1<s&&a[i].name!=o&&(o=e.fieldFormatNames[s].replace(/!\{index\}/g,t-e.firstIndex),null!=document.documentMode&&document.documentMode<=7?a[i].outerHTML=a[i].outerHTML.replace("name="+a[i].name,"name="+o):a[i].name=o)}null!=a[i].getAttribute("xform-name")&&(r(a[i],"xform-name",t-e.firstIndex),r(a[i],"data-propertyid",t-e.firstIndex),r(a[i],"data-propertyname",t-e.firstIndex),r(a[i],"callback",t-e.firstIndex))}}function DocListFunc_RefreshFormFieldIndex(e,t,n,r){for(var a=e.DOMElement.rows[t].getElementsByTagName(n),i=0;i<a.length;i++)if($(a[i]).attr(r)){var o=$(a[i]).attr(r).replace(/\[\d+\]/g,"[!{index}]");o=(o=o.replace(/\.\d+\./g,".!{index}.")).replace(/!\{index\}/g,t-e.firstIndex),$(a[i]).attr(r,o)}}function DocListFunc_ArrayGetIndex(e,t){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return n;return-1}function DocListFunc_Init(){var e,t,n,r,a,i,o;for(e=0;e<DocList_Info.length;e++)if(null!=(r=document.getElementById(DocList_Info[e]))&&null==DocList_TableInfo[r.id]){for((i=new Object).DOMElement=r,i.fieldNames=new Array,i.fieldFormatNames=new Array,i.cells=new Array,i.tbdraggable="true"==r.getAttribute("tbdraggable"),t=0;t<r.rows.length;t++)if("1"==(o=(a=r.rows[t]).getAttribute("KMSS_IsReferRow"))||"true"==o){for(i.firstIndex=t,i.lastIndex=t,i.className=a.className,n=0;n<a.cells.length;n++)i.cells[n]=new Object,i.cells[n].innerHTML=a.cells[n].innerHTML,i.cells[n].className=a.cells[n].className,i.cells[n].align=a.cells[n].align,i.cells[n].vAlign=a.cells[n].vAlign,o=a.cells[n].getAttribute("KMSS_IsRowIndex"),i.cells[n].isIndex="1"==o||"true"==o;DocListFunc_AddReferFields(i,a,"INPUT"),DocListFunc_AddReferFields(i,a,"TEXTAREA"),DocListFunc_AddReferFields(i,a,"SELECT"),r.deleteRow(t),Com_SetOuterHTML(a,"");break}for(;t<r.rows.length&&("1"==(o=r.rows[t].getAttribute("KMSS_IsContentRow"))||"true"==o);t++)i.lastIndex++;DocList_TableInfo[r.id]=i,window.doclistdnd&&i.tbdraggable&&window.doclistdnd.build(i.DOMElement,{onDrop:function(e,t){DocListFunc_StoreCheckedProp(e);for(var n=DocList_TableInfo[e.id],r=1,a=n.firstIndex;a<n.lastIndex;a++)DocListFunc_RefreshIndex(n,a,r++);DocListFunc_ReloadCheckedProp(e)}}),DocList_ResetOptCol(i),$(r).trigger($.Event("detaillist-init"),r)}}function DocListFunc_AddReferFields(e,t,n){for(var r=t.getElementsByTagName(n),a=0;a<r.length;a++)if(null!=r[a].name&&""!=r[a].name){e.fieldNames[e.fieldNames.length]=r[a].name;var i=r[a].name.replace(/\[\d+\]/g,"[!{index}]");i=i.replace(/\.\d+\./g,".!{index}."),e.fieldFormatNames[e.fieldFormatNames.length]=i}}function DocList_loopImportDataNew(n,r,a,i,o,s,l){seajs.use(["lui/dialog"],function(e){if(window.progress||(window.progress=e.progress(!1),window.progress.setProgress(0)),1==_uploadProgressflag&&(window.progress=e.progress(!1),_uploadProgressflag=!1,window.progress.setProgress(0)),!(i<o))return"undefined"!=typeof XForm_CalculationDoExecutorAll&&XForm_CalculationDoExecutorAll instanceof Function&&XForm_CalculationDoExecutorAll(),void(i==r.length&&(window.progress.setProgress(i,r.length),window.progress.hide(),_uploadProgressflag=!0));var t=r[i];i++,DocList_importSingleData(n,t,a,s,l),window.progress.setProgress(i,r.length),DocList_loopImportDataNew(n,r,a,i,o,s,l)})}Com_AddEventListener(window,"load",function(){$(document).on("table-copy",function(e,t){var n=$(t).find("[name='DocList_Selected']");n[0]&&DocList_SelectRow(n[0])}),$(document).on("table-delete-new",function(e,t){t&&t.table&&DocList_CheckedSelectAll(t.table)}),$(document).on("table-add-new",function(e,t){t&&t.table&&DocList_CheckedSelectAll(t.table)})}),Com_AddEventListener(window,"load",DocListFunc_Init),Com_RegisterFile("xml.js"),Com_IncludeFile("data.js");var _dojoConfig=window.dojoConfig||{},XMLDATABEANURL=Com_Parameter.ContextPath+"sys/common/dataxml.jsp?s_bean=";function XML_Create(e,t,n){Com_Parameter.XMLDebug&&window.open(e,"_blank");var r={},a={};if(window.XMLHttpRequest?a=new XMLHttpRequest:window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLHTTP")),null==t){if(2e3<e.length){var i=e.indexOf("?"),o=e.substring(0,i),s=e.substring(i+1);a.open("POST",o,!1),XML_Create_CORSHttpRequest(a),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(s)}else a.open("POST",e,!1),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),XML_Create_CORSHttpRequest(a),a.send(null);r=a.responseXML}else if(2e3<e.length){i=e.indexOf("?"),o=e.substring(0,i),s=e.substring(i+1);a.open("POST",o,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),XML_Create_CORSHttpRequest(a),a.onreadystatechange=function(){4==a.readyState&&200==a.status&&t(a.responseXML,n)},a.send(s)}else a.open("POST",e,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),XML_Create_CORSHttpRequest(a),a.onreadystatechange=function(){4==a.readyState&&200==a.status&&t(a.responseXML,n)},a.send(null);return r}function XML_Create_CORSHttpRequest(e){window.dojo4OfflineKK&&(e.withCredentials=!0)}function XML_CreateByContent(e){var t={};if(Com_Parameter.IE)(t=new ActiveXObject("MSXML2.DOMDocument.3.0")).loadXML(e);else{t=document.implementation.createDocument("","",null);var n=(new DOMParser).parseFromString(e,"text/xml"),r=t.importNode(n.documentElement,!0);t.appendChild(r)}return t}function XML_GetAttribute(e,t,n){var r=e.getAttributeNode(t);return null==r?n:r.value}function XML_GetNodesByPath(t,n){if(null!=t||void 0!==t)if(window.XPathEvaluator)try{for(var e,r=new XPathEvaluator,a=r.createNSResolver(null==t.ownerDocument?t.documentElement:t.ownerDocument.documentElement),i=r.evaluate(n,t,a,0,null),o=[];e=i.iterateNext();)o.push(e);return o}catch(e){if(t.querySelectorAll)return n=n.replace(/\//gi," "),t.querySelectorAll(n);throw e}else{if("selectNodes"in t)return t.selectNodes(n);if(t.querySelectorAll)return n=n.replace(/\//gi," "),t.querySelectorAll(n)}}function XML_GetNodesByXpath(t,n){if(null!=t||void 0!==t)if(window.XPathEvaluator)try{for(var e,r=new XPathEvaluator,a=r.createNSResolver(null==t.ownerDocument?t.documentElement:t.ownerDocument.documentElement),i=r.evaluate(n,t,a,0,null),o=[];e=i.iterateNext();)o.push(e);return o}catch(e){if(t.querySelectorAll)return n=(n=n.replace(/\//gi," ")).replace(/\[/gi,":nth-of-type(").replace(/\]/gi,")"),t.querySelectorAll(n);throw e}else{if("selectNodes"in t)return t.selectNodes(n);if(t.querySelectorAll)return n=(n=n.replace(/\//gi," ")).replace(/\[/gi,":nth-of-type(").replace(/\]/gi,")"),t.querySelectorAll(n)}}function XML_GetNodesByAttribute(e,t,n){for(var r=new Array,a=e.firstChild;null!=a;a=a.nextSibling)1==a.nodeType&&XML_GetAttribute(a,t)==n&&(r[r.length]=a);return r}_dojoConfig&&_dojoConfig.serverPrefix&&(XMLDATABEANURL=_dojoConfig.serverPrefix+"/sys/common/dataxml.jsp?s_bean="),document.implementation&&document.implementation.createDocument&&"undefined"!=typeof XMLDocument&&(XMLDocument.prototype.loadXML=function(e){for(var t=this.childNodes,n=t.length-1;0<=n;n--)this.removeChild(t[n]);var r=(new DOMParser).parseFromString(e,"text/xml"),a=this.importNode(r.documentElement,!0);this.appendChild(a)});var Zepto=function(){function l(e){return null==e?String(e):G[X.call(e)]||"object"}function o(e){return"function"==l(e)}function i(e){return null!=e&&e==e.window}function s(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(e){return"object"==l(e)}function u(e){return r(e)&&!i(e)&&Object.getPrototypeOf(e)==Object.prototype}function c(e){return"number"==typeof e.length}function d(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function n(e){return e in t?t[e]:t[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function f(e,t){return"number"!=typeof t||P[d(e)]?t:t+"px"}function a(e){return"children"in e?L.call(e.children):y.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function m(e,t){return null==t?y(e):y(e).filter(t)}function p(e,t,n,r){return o(t)?t.call(e,n,r):t}function h(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function v(e,t){var n=e.className||"",r=n&&n.baseVal!==g;return t===g?r?n.baseVal:n:void(r?n.baseVal=t:e.className=t)}function _(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?y.parseJSON(t):t):t}catch(e){return t}}var g,x,y,w,D,C,b=[],L=b.slice,I=b.filter,A=window.document,S={},t={},P={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},T=/^\s*<(\w+|!)[^>]*>/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,F=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,N=/^(?:body|html)$/i,O=/([A-Z])/g,R=["val","css","html","text","data","width","height","offset"],e=A.createElement("table"),M=A.createElement("tr"),j={tr:A.createElement("tbody"),tbody:e,thead:e,tfoot:e,td:M,th:M,"*":A.createElement("div")},$=/complete|loaded|interactive/,B=/^[\w-]*$/,G={},X=G.toString,k={},H=A.createElement("div"),q={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},U=Array.isArray||function(e){return e instanceof Array};return k.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,a=e.parentNode,i=!a;return i&&(a=H).appendChild(e),r=~k.qsa(a,t).indexOf(e),i&&H.removeChild(e),r},D=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},C=function(n){return I.call(n,function(e,t){return n.indexOf(e)==t})},k.fragment=function(e,t,n){var r,a,i;return E.test(e)&&(r=y(A.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(F,"<$1></$2>")),t===g&&(t=T.test(e)&&RegExp.$1),t in j||(t="*"),(i=j[t]).innerHTML=""+e,r=y.each(L.call(i.childNodes),function(){i.removeChild(this)})),u(n)&&(a=y(r),y.each(n,function(e,t){-1<R.indexOf(e)?a[e](t):a.attr(e,t)})),r},k.Z=function(e,t){return(e=e||[]).__proto__=y.fn,e.selector=t||"",e},k.isZ=function(e){return e instanceof k.Z},k.init=function(e,t){var n;if(!e)return k.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&T.test(e))n=k.fragment(e,RegExp.$1,t),e=null;else{if(t!==g)return y(t).find(e);n=k.qsa(A,e)}else{if(o(e))return y(A).ready(e);if(k.isZ(e))return e;if(U(e))n=function(e){return I.call(e,function(e){return null!=e})}(e);else if(r(e))n=[e],e=null;else if(T.test(e))n=k.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==g)return y(t).find(e);n=k.qsa(A,e)}}return k.Z(n,e)},(y=function(e,t){return k.init(e,t)}).extend=function(t){var n,e=L.call(arguments,1);return"boolean"==typeof t&&(n=t,t=e.shift()),e.forEach(function(e){!function e(t,n,r){for(x in n)r&&(u(n[x])||U(n[x]))?(u(n[x])&&!u(t[x])&&(t[x]={}),U(n[x])&&!U(t[x])&&(t[x]=[]),e(t[x],n[x],r)):n[x]!==g&&(t[x]=n[x])}(t,e,n)}),t},k.qsa=function(e,t){var n,r="#"==t[0],a=!r&&"."==t[0],i=r||a?t.slice(1):t,o=B.test(i);return s(e)&&o&&r?(n=e.getElementById(i))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:L.call(o&&!r?a?e.getElementsByClassName(i):e.getElementsByTagName(t):e.querySelectorAll(t))},y.contains=A.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t&&t.parentNode;)if(t===e)return!0;return!1},y.type=l,y.isFunction=o,y.isWindow=i,y.isArray=U,y.isPlainObject=u,y.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},y.inArray=function(e,t,n){return b.indexOf.call(t,e,n)},y.camelCase=D,y.trim=function(e){return null==e?"":String.prototype.trim.call(e)},y.uuid=0,y.support={},y.expr={},y.map=function(e,t){var n,r,a,i=[];if(c(e))for(r=0;r<e.length;r++)null!=(n=t(e[r],r))&&i.push(n);else for(a in e)null!=(n=t(e[a],a))&&i.push(n);return function(e){return 0<e.length?y.fn.concat.apply([],e):e}(i)},y.each=function(e,t){var n,r;if(c(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},y.grep=function(e,t){return I.call(e,t)},window.JSON&&(y.parseJSON=JSON.parse),y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()}),y.fn={forEach:b.forEach,reduce:b.reduce,push:b.push,sort:b.sort,indexOf:b.indexOf,concat:b.concat,map:function(n){return y(y.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return y(L.apply(this,arguments))},ready:function(e){return $.test(A.readyState)&&A.body?e(y):A.addEventListener("DOMContentLoaded",function(){e(y)},!1),this},get:function(e){return e===g?L.call(this):this[0<=e?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(n){return b.every.call(this,function(e,t){return!1!==n.call(e,t,e)}),this},filter:function(t){return o(t)?this.not(this.not(t)):y(I.call(this,function(e){return k.matches(e,t)}))},add:function(e,t){return y(C(this.concat(y(e,t))))},is:function(e){return 0<this.length&&k.matches(this[0],e)},not:function(t){var n=[];if(o(t)&&t.call!==g)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):c(t)&&o(t.item)?L.call(t):y(t);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return y(n)},has:function(e){return this.filter(function(){return r(e)?y.contains(this,e):y(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!r(e)?e:y(e)},last:function(){var e=this[this.length-1];return e&&!r(e)?e:y(e)},find:function(e){var n=this;return e?"object"==typeof e?y(e).filter(function(){var t=this;return b.some.call(n,function(e){return y.contains(e,t)})}):1==this.length?y(k.qsa(this[0],e)):this.map(function(){return k.qsa(this,e)}):y()},closest:function(e,t){var n=this[0],r=!1;for("object"==typeof e&&(r=y(e));n&&!(r?0<=r.indexOf(n):k.matches(n,e));)n=n!==t&&!s(n)&&n.parentNode;return y(n)},parents:function(e){for(var t=[],n=this;0<n.length;)n=y.map(n,function(e){return(e=e.parentNode)&&!s(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return m(t,e)},parent:function(e){return m(C(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return a(this)}),e)},contents:function(){return this.map(function(){return L.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return I.call(a(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return y.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=function(e){var t,n;return S[e]||(t=A.createElement(e),A.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),S[e]=n),S[e]}(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(t){var n=o(t);if(this[0]&&!n)var r=y(t).get(0),a=r.parentNode||1<this.length;return this.each(function(e){y(this).wrapAll(n?t.call(this,e):a?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){y(this[0]).before(e=y(e));for(var t;(t=e.children()).length;)e=t.first();y(e).append(this)}return this},wrapInner:function(a){var i=o(a);return this.each(function(e){var t=y(this),n=t.contents(),r=i?a.call(this,e):a;n.length?n.wrapAll(r):t.append(r)})},unwrap:function(){return this.parent().each(function(){y(this).replaceWith(y(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=y(this);(t===g?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(e){return y(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return y(this.pluck("nextElementSibling")).filter(e||"*")},html:function(n){return 0 in arguments?this.each(function(e){var t=this.innerHTML;y(this).empty().append(p(this,n,e,t))}):0 in this?this[0].innerHTML:null},text:function(n){return 0 in arguments?this.each(function(e){var t=p(this,n,e,this.textContent);this.textContent=null==t?"":""+t}):0 in this?this[0].textContent:null},attr:function(t,n){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(r(t))for(x in t)h(this,x,t[x]);else h(this,t,p(this,n,e,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(e=this[0].getAttribute(t))&&t in this[0]?this[0][t]:e:g},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){h(this,e)},this)})},prop:function(t,n){return t=q[t]||t,1 in arguments?this.each(function(e){this[t]=p(this,n,e,this[t])}):this[0]&&this[0][t]},data:function(e,t){var n="data-"+e.replace(O,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?_(r):g},val:function(t){return 0 in arguments?this.each(function(e){this.value=p(this,t,e,this.value)}):this[0]&&(this[0].multiple?y(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(i){if(i)return this.each(function(e){var t=y(this),n=p(this,i,e,t.offset()),r=t.offsetParent().offset(),a={top:n.top-r.top,left:n.left-r.left};"static"==t.css("position")&&(a.position="relative"),t.css(a)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,t){if(arguments.length<2){var n,r=this[0];if(!r)return;if(n=getComputedStyle(r,""),"string"==typeof e)return r.style[D(e)]||n.getPropertyValue(e);if(U(e)){var a={};return y.each(e,function(e,t){a[t]=r.style[D(t)]||n.getPropertyValue(t)}),a}}var i="";if("string"==l(e))t||0===t?i=d(e)+":"+f(e,t):this.each(function(){this.style.removeProperty(d(e))});else for(x in e)e[x]||0===e[x]?i+=d(x)+":"+f(x,e[x])+";":this.each(function(){this.style.removeProperty(d(x))});return this.each(function(){this.style.cssText+=";"+i})},index:function(e){return e?this.indexOf(y(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&b.some.call(this,function(e){return this.test(v(e))},n(e))},addClass:function(n){return n?this.each(function(e){if("className"in this){w=[];var t=v(this);p(this,n,e,t).split(/\s+/g).forEach(function(e){y(this).hasClass(e)||w.push(e)},this),w.length&&v(this,t+(t?" ":"")+w.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===g)return v(this,"");w=v(this),p(this,t,e,w).split(/\s+/g).forEach(function(e){w=w.replace(n(e)," ")}),v(this,w.trim())}})},toggleClass:function(n,r){return n?this.each(function(e){var t=y(this);p(this,n,e,v(this)).split(/\s+/g).forEach(function(e){(r===g?!t.hasClass(e):r)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===g?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===g?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=N.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(y(e).css("margin-top"))||0,n.left-=parseFloat(y(e).css("margin-left"))||0,r.top+=parseFloat(y(t[0]).css("border-top-width"))||0,r.left+=parseFloat(y(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||A.body;e&&!N.test(e.nodeName)&&"static"==y(e).css("position");)e=e.offsetParent;return e})}},y.fn.detach=y.fn.remove,["width","height"].forEach(function(r){var a=r.replace(/./,function(e){return e[0].toUpperCase()});y.fn[r]=function(t){var e,n=this[0];return t===g?i(n)?n["inner"+a]:s(n)?n.documentElement["scroll"+a]:(e=this.offset())&&e[r]:this.each(function(e){(n=y(this)).css(r,p(this,t,e,n[r]()))})}}),["after","prepend","before","append"].forEach(function(t,o){var s=o%2;y.fn[t]=function(){var t,r,a=y.map(arguments,function(e){return"object"==(t=l(e))||"array"==t||null==e?e:k.fragment(e)}),i=1<this.length;return a.length<1?this:this.each(function(e,t){r=s?t:t.parentNode,t=0==o?t.nextSibling:1==o?t.firstChild:2==o?t:null;var n=y.contains(A.documentElement,r);a.forEach(function(e){if(i)e=e.cloneNode(!0);else if(!r)return y(e).remove();r.insertBefore(e,t),n&&function e(t,n){n(t);for(var r=0,a=t.childNodes.length;r<a;r++)e(t.childNodes[r],n)}(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},y.fn[s?t+"To":"insert"+(o?"Before":"After")]=function(e){return y(e)[t](this),this}}),k.Z.prototype=y.fn,k.uniq=C,k.deserializeValue=_,y.zepto=k,y}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(c){function d(e){return e._zid||(e._zid=t++)}function o(e,t,n,r){if((t=f(t)).ns)var a=function(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}(t.ns);return(D[d(e)]||[]).filter(function(e){return!(!e||t.e&&e.e!=t.e||t.ns&&!a.test(e.ns)||n&&d(e.fn)!==d(n)||r&&e.sel!=r)})}function f(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function m(e,t){return e.del&&!n&&e.e in r||!!t}function p(e){return C[e]||n&&r[e]||e}function u(a,e,t,i,o,s,l){var n=d(a),u=D[n]||(D[n]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return c(document).ready(t);var n=f(e);n.fn=t,n.sel=o,n.e in C&&(t=function(e){var t=e.relatedTarget;return!t||t!==this&&!c.contains(this,t)?n.fn.apply(this,arguments):void 0});var r=(n.del=s)||t;n.proxy=function(e){if(!(e=v(e)).isImmediatePropagationStopped()){e.data=i;var t=r.apply(a,e._args==x?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},n.i=u.length,u.push(n),"addEventListener"in a&&a.addEventListener(p(n.e),n.proxy,m(n,l))})}function h(t,e,n,r,a){var i=d(t);(e||"").split(/\s/).forEach(function(e){o(t,e,n,r).forEach(function(e){delete D[i][e.i],"removeEventListener"in t&&t.removeEventListener(p(e.e),e.proxy,m(e,a))})})}function v(r,a){return!a&&r.isDefaultPrevented||(a=a||r,c.each(e,function(e,t){var n=a[e];r[e]=function(){return this[t]=s,n&&n.apply(a,arguments)},r[t]=b}),(a.defaultPrevented!==x?a.defaultPrevented:"returnValue"in a?!1===a.returnValue:a.getPreventDefault&&a.getPreventDefault())&&(r.isDefaultPrevented=s)),r}function _(e){var t,n={originalEvent:e};for(t in e)a.test(t)||e[t]===x||(n[t]=e[t]);return v(n,e)}function g(e){return"string"==typeof e}var x,t=1,y=Array.prototype.slice,w=c.isFunction,D={},i={},n="onfocusin"in window,r={focus:"focusin",blur:"focusout"},C={mouseenter:"mouseover",mouseleave:"mouseout"};i.click=i.mousedown=i.mouseup=i.mousemove="MouseEvents",c.event={add:u,remove:h},c.proxy=function(e,t){var n=2 in arguments&&y.call(arguments,2);if(w(e)){function r(){return e.apply(t,n?n.concat(y.call(arguments)):arguments)}return r._zid=d(e),r}if(g(t))return n?(n.unshift(e[t],e),c.proxy.apply(null,n)):c.proxy(e[t],e);throw new TypeError("expected function")},c.fn.bind=function(e,t,n){return this.on(e,t,n)},c.fn.unbind=function(e,t){return this.off(e,t)},c.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var s=function(){return!0},b=function(){return!1},a=/^([A-Z]|returnValue$|layer[XY]$)/,e={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};c.fn.delegate=function(e,t,n){return this.on(t,e,n)},c.fn.undelegate=function(e,t,n){return this.off(t,e,n)},c.fn.live=function(e,t){return c(document.body).delegate(this.selector,e,t),this},c.fn.die=function(e,t){return c(document.body).undelegate(this.selector,e,t),this},c.fn.on=function(t,a,n,i,o){var s,l,r=this;return t&&!g(t)?(c.each(t,function(e,t){r.on(e,a,n,t,o)}),r):(g(a)||w(i)||!1===i||(i=n,n=a,a=x),!w(n)&&!1!==n||(i=n,n=x),!1===i&&(i=b),r.each(function(e,r){o&&(s=function(e){return h(r,e.type,i),i.apply(this,arguments)}),a&&(l=function(e){var t,n=c(e.target).closest(a,r).get(0);return n&&n!==r?(t=c.extend(_(e),{currentTarget:n,liveFired:r}),(s||i).apply(n,[t].concat(y.call(arguments,1)))):void 0}),u(r,t,i,n,a,l||s)}))},c.fn.off=function(e,n,t){var r=this;return e&&!g(e)?(c.each(e,function(e,t){r.off(e,n,t)}),r):(g(n)||w(t)||!1===t||(t=n,n=x),!1===t&&(t=b),r.each(function(){h(this,e,t,n)}))},c.fn.trigger=function(e,t){return(e=g(e)||c.isPlainObject(e)?c.Event(e):v(e))._args=t,this.each(function(){e.type in r&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):c(this).triggerHandler(e,t)})},c.fn.triggerHandler=function(n,r){var a,i;return this.each(function(e,t){(a=_(g(n)?c.Event(n):n))._args=r,a.target=t,c.each(o(t,n.type||n),function(e,t){return i=t.proxy(a),!a.isImmediatePropagationStopped()&&void 0})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){c.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),c.Event=function(e,t){g(e)||(e=(t=e).type);var n=document.createEvent(i[e]||"Events"),r=!0;if(t)for(var a in t)"bubbles"==a?r=!!t[a]:n[a]=t[a];return n.initEvent(e,r,!0),v(n)}}(Zepto),function(Iv){function Kv(e,t,n,r){return e.global?function(e,t,n){var r=Iv.Event(t);return Iv(e).trigger(r,n),!r.isDefaultPrevented()}(t||$v,n,r):void 0}function Nv(e,t){var n=t.context;return!1!==t.beforeSend.call(n,e,t)&&!1!==Kv(t,n,"ajaxBeforeSend",[e,t])&&void Kv(t,n,"ajaxSend",[e,t])}function Ov(e,t,n,r){var a=n.context,i="success";n.success.call(a,e,i,t),r&&r.resolveWith(a,[e,i,t]),Kv(n,a,"ajaxSuccess",[t,n,e]),Qv(i,t,n)}function Pv(e,t,n,r,a){var i=r.context;r.error.call(i,n,t,e),a&&a.rejectWith(i,[n,t,e]),Kv(r,i,"ajaxError",[n,r,e||t]),Qv(t,n,r)}function Qv(e,t,n){var r=n.context;n.complete.call(r,t,e),Kv(n,r,"ajaxComplete",[t,n]),function(e){e.global&&!--Iv.active&&Kv(e,null,"ajaxStop")}(n)}function Rv(){}function Tv(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function Vv(e,t,n,r){return Iv.isFunction(t)&&(r=n,n=t,t=void 0),Iv.isFunction(n)||(r=n,n=void 0),{url:e,data:t,success:n,dataType:r}}var Xv,Yv,Zv=0,$v=window.document,_v=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,aw=/^(?:text|application)\/javascript/i,bw=/^(?:text|application)\/xml/i,cw="application/json",dw="text/html",ew=/^\s*$/,fw=$v.createElement("a");fw.href=window.location.href,Iv.active=0,Iv.ajaxJSONP=function(n,r){if(!("type"in n))return Iv.ajax(n);function e(e){Iv(s).triggerHandler("error",e||"abort")}var a,i,t=n.jsonpCallback,o=(Iv.isFunction(t)?t():t)||"jsonp"+ ++Zv,s=$v.createElement("script"),l=window[o],u={abort:e};return r&&r.promise(u),Iv(s).on("load error",function(e,t){clearTimeout(i),Iv(s).off().remove(),"error"!=e.type&&a?Ov(a[0],u,n,r):Pv(null,t||"error",u,n,r),window[o]=l,a&&Iv.isFunction(l)&&l(a[0]),l=a=void 0}),!1===Nv(u,n)?e("abort"):(window[o]=function(){a=arguments},s.src=n.url.replace(/\?(.+)=\?/,"?$1="+o),$v.head.appendChild(s),0<n.timeout&&(i=setTimeout(function(){e("timeout")},n.timeout))),u},Iv.ajaxSettings={type:"GET",beforeSend:Rv,success:Rv,error:Rv,complete:Rv,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:cw,xml:"application/xml, text/xml",html:dw,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},Iv.ajax=function(mx){var nx,ox=Iv.extend({},mx||{}),px=Iv.Deferred&&Iv.Deferred();for(Xv in Iv.ajaxSettings)void 0===ox[Xv]&&(ox[Xv]=Iv.ajaxSettings[Xv]);(function(e){e.global&&0==Iv.active++&&Kv(e,null,"ajaxStart")})(ox),ox.crossDomain||((nx=$v.createElement("a")).href=ox.url,nx.href=nx.href,ox.crossDomain=fw.protocol+"//"+fw.host!=nx.protocol+"//"+nx.host),ox.url||(ox.url=window.location.toString()),function(e){e.processData&&e.data&&"string"!=Iv.type(e.data)&&(e.data=Iv.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=Tv(e.url,e.data),e.data=void 0)}(ox);var qx=ox.dataType,rx=/\?.+=\?/.test(ox.url);if(rx&&(qx="jsonp"),!1!==ox.cache&&(mx&&!0===mx.cache||"script"!=qx&&"jsonp"!=qx)||(ox.url=Tv(ox.url,"_="+Date.now())),"jsonp"==qx)return rx||(ox.url=Tv(ox.url,ox.jsonp?ox.jsonp+"=?":!1===ox.jsonp?"":"callback=?")),Iv.ajaxJSONP(ox,px);function vx(e,t){ux[e.toLowerCase()]=[e,t]}var sx,tx=ox.accepts[qx],ux={},wx=/^([\w-]+:)\/\//.test(ox.url)?RegExp.$1:window.location.protocol,xx=ox.xhr(),yx=xx.setRequestHeader;if(px&&px.promise(xx),ox.crossDomain||vx("X-Requested-With","XMLHttpRequest"),vx("Accept",tx||"*/*"),(tx=ox.mimeType||tx)&&(-1<tx.indexOf(",")&&(tx=tx.split(",",2)[0]),xx.overrideMimeType&&xx.overrideMimeType(tx)),(ox.contentType||!1!==ox.contentType&&ox.data&&"GET"!=ox.type.toUpperCase())&&vx("Content-Type",ox.contentType||"application/x-www-form-urlencoded"),ox.headers)for(Yv in ox.headers)vx(Yv,ox.headers[Yv]);if(xx.setRequestHeader=vx,!(xx.onreadystatechange=function(){if(4==xx.readyState){xx.onreadystatechange=Rv,clearTimeout(sx);var Cx,Dx=!1;if(200<=xx.status&&xx.status<300||304==xx.status||0==xx.status&&"file:"==wx){qx=qx||function(e){return(e=e&&e.split(";",2)[0])&&(e==dw?"html":e==cw?"json":aw.test(e)?"script":bw.test(e)&&"xml")||"text"}(ox.mimeType||xx.getResponseHeader("content-type")),Cx=xx.responseText;try{"script"==qx?eval(Cx):"xml"==qx?Cx=xx.responseXML:"json"==qx&&(Cx=ew.test(Cx)?null:Iv.parseJSON(Cx))}catch(e){Dx=e}Dx?Pv(Dx,"parsererror",xx,ox,px):Ov(Cx,xx,ox,px)}else Pv(xx.statusText||null,xx.status?"error":"abort",xx,ox,px)}})===Nv(xx,ox))return xx.abort(),Pv(null,"abort",xx,ox,px),xx;if(ox.xhrFields)for(Yv in ox.xhrFields)xx[Yv]=ox.xhrFields[Yv];var zx=!("async"in ox)||ox.async;for(Yv in xx.open(ox.type,ox.url,zx,ox.username,ox.password),ux)yx.apply(xx,ux[Yv]);return 0<ox.timeout&&(sx=setTimeout(function(){xx.onreadystatechange=Rv,xx.abort(),Pv(null,"timeout",xx,ox,px)},ox.timeout)),xx.send(ox.data?ox.data:null),xx},Iv.get=function(){return Iv.ajax(Vv.apply(null,arguments))},Iv.post=function(){var e=Vv.apply(null,arguments);return e.type="POST",Iv.ajax(e)},Iv.getJSON=function(){var e=Vv.apply(null,arguments);return e.dataType="json",Iv.ajax(e)},Iv.fn.load=function(e,t,n){if(!this.length)return this;var r,a=this,i=e.split(/\s/),o=Vv(e,t,n),s=o.success;return 1<i.length&&(o.url=i[0],r=i[1]),o.success=function(e){a.html(r?Iv("<div>").html(e.replace(_v,"")).find(r):e),s&&s.apply(a,arguments)},Iv.ajax(o),this};var gw=encodeURIComponent;Iv.param=function(e,t){var n=[];return n.add=function(e,t){Iv.isFunction(t)&&(t=t()),null==t&&(t=""),this.push(gw(e)+"="+gw(t))},function n(r,e,a,i){var o,s=Iv.isArray(e),l=Iv.isPlainObject(e);Iv.each(e,function(e,t){o=Iv.type(t),i&&(e=a?i:i+"["+(l||"object"==o||"array"==o?e:"")+"]"),!i&&s?r.add(t.name,t.value):"array"==o||!a&&"object"==o?n(r,t,a,e):r.add(e,t)})}(n,e,t),n.join("&").replace(/%20/g,"+")}}(Zepto),function(i){i.fn.serializeArray=function(){var n,r,t=[],a=function(e){return e.forEach?e.forEach(a):void t.push({name:n,value:e})};return this[0]&&i.each(this[0].elements,function(e,t){r=t.type,(n=t.name)&&"fieldset"!=t.nodeName.toLowerCase()&&!t.disabled&&"submit"!=r&&"reset"!=r&&"button"!=r&&"file"!=r&&("radio"!=r&&"checkbox"!=r||t.checked)&&a(i(t).val())}),t},i.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},i.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var t=i.Event("submit");this.eq(0).trigger(t),t.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(n){"__proto__"in{}||n.extend(n.zepto,{Z:function(e,t){return e=e||[],n.extend(e,n.fn),e.selector=t||"",e.__Z=!0,e},isZ:function(e){return"array"===n.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(e){return null}}}}(Zepto);